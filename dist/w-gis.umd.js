/*!
 * w-gis v1.0.55
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(l,d){"object"==typeof exports&&"undefined"!=typeof module?d(exports,require("@turf/turf")):"function"==typeof define&&define.amd?define(["exports","@turf/turf"],d):d((l="undefined"!=typeof globalThis?globalThis:l||self)["w-gis"]={},l["@turf/turf"])}(this,(function(l,d){"use strict";function b(l){var d=Object.create(null);return l&&Object.keys(l).forEach((function(b){if("default"!==b){var c=Object.getOwnPropertyDescriptor(l,b);Object.defineProperty(d,b,c.get?c:{enumerable:!0,get:function(){return l[b]}})}})),d.default=l,Object.freeze(d)}function c(l,d){return d.forEach((function(d){d&&"string"!=typeof d&&!Array.isArray(d)&&Object.keys(d).forEach((function(b){if("default"!==b&&!(b in l)){var c=Object.getOwnPropertyDescriptor(d,b);Object.defineProperty(l,b,c.get?c:{enumerable:!0,get:function(){return d[b]}})}}))})),Object.freeze(l)}var u=b(d),Z=Array.isArray,t="object"==typeof global&&global&&global.Object===Object&&global,m="object"==typeof self&&self&&self.Object===Object&&self,n=t||m||Function("return this")(),i=n.Symbol,a=Object.prototype,X=a.hasOwnProperty,s=a.toString,G=i?i.toStringTag:void 0;var W=Object.prototype.toString;var h="[object Null]",e="[object Undefined]",o=i?i.toStringTag:void 0;function p(l){return null==l?void 0===l?e:h:o&&o in Object(l)?function(l){var d=X.call(l,G),b=l[G];try{l[G]=void 0;var c=!0}catch(l){}var u=s.call(l);return c&&(d?l[G]=b:delete l[G]),u}(l):function(l){return W.call(l)}(l)}function y(l){return null!=l&&"object"==typeof l}var V="[object Symbol]";function R(l){return"symbol"==typeof l||y(l)&&p(l)==V}var L=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/;function r(l,d){if(Z(l))return!1;var b=typeof l;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=l&&!R(l))||(K.test(l)||!L.test(l)||null!=d&&l in Object(d))}function x(l){var d=typeof l;return null!=l&&("object"==d||"function"==d)}var S="[object AsyncFunction]",H="[object Function]",Y="[object GeneratorFunction]",g="[object Proxy]";function A(l){if(!x(l))return!1;var d=p(l);return d==H||d==Y||d==S||d==g}var C,I=n["__core-js_shared__"],J=(C=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";var F=Function.prototype.toString;function B(l){if(null!=l){try{return F.call(l)}catch(l){}try{return l+""}catch(l){}}return""}var v=/^\[object .+?Constructor\]$/,M=Function.prototype,z=Object.prototype,T=M.toString,k=z.hasOwnProperty,w=RegExp("^"+T.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function N(l){return!(!x(l)||(d=l,J&&J in d))&&(A(l)?w:v).test(B(l));var d}function f(l,d){var b=function(l,d){return null==l?void 0:l[d]}(l,d);return N(b)?b:void 0}var P=f(Object,"create");var U=Object.prototype.hasOwnProperty;var Q=Object.prototype.hasOwnProperty;function E(l){var d=-1,b=null==l?0:l.length;for(this.clear();++d<b;){var c=l[d];this.set(c[0],c[1])}}function j(l,d){return l===d||l!=l&&d!=d}function D(l,d){for(var b=l.length;b--;)if(j(l[b][0],d))return b;return-1}E.prototype.clear=function(){this.__data__=P?P(null):{},this.size=0},E.prototype.delete=function(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d},E.prototype.get=function(l){var d=this.__data__;if(P){var b=d[l];return"__lodash_hash_undefined__"===b?void 0:b}return U.call(d,l)?d[l]:void 0},E.prototype.has=function(l){var d=this.__data__;return P?void 0!==d[l]:Q.call(d,l)},E.prototype.set=function(l,d){var b=this.__data__;return this.size+=this.has(l)?0:1,b[l]=P&&void 0===d?"__lodash_hash_undefined__":d,this};var O=Array.prototype.splice;function _(l){var d=-1,b=null==l?0:l.length;for(this.clear();++d<b;){var c=l[d];this.set(c[0],c[1])}}_.prototype.clear=function(){this.__data__=[],this.size=0},_.prototype.delete=function(l){var d=this.__data__,b=D(d,l);return!(b<0)&&(b==d.length-1?d.pop():O.call(d,b,1),--this.size,!0)},_.prototype.get=function(l){var d=this.__data__,b=D(d,l);return b<0?void 0:d[b][1]},_.prototype.has=function(l){return D(this.__data__,l)>-1},_.prototype.set=function(l,d){var b=this.__data__,c=D(b,l);return c<0?(++this.size,b.push([l,d])):b[c][1]=d,this};var q=f(n,"Map");function $(l,d){var b,c,u=l.__data__;return("string"==(c=typeof(b=d))||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?u["string"==typeof d?"string":"hash"]:u.map}function ll(l){var d=-1,b=null==l?0:l.length;for(this.clear();++d<b;){var c=l[d];this.set(c[0],c[1])}}ll.prototype.clear=function(){this.size=0,this.__data__={hash:new E,map:new(q||_),string:new E}},ll.prototype.delete=function(l){var d=$(this,l).delete(l);return this.size-=d?1:0,d},ll.prototype.get=function(l){return $(this,l).get(l)},ll.prototype.has=function(l){return $(this,l).has(l)},ll.prototype.set=function(l,d){var b=$(this,l),c=b.size;return b.set(l,d),this.size+=b.size==c?0:1,this};var dl="Expected a function";function bl(l,d){if("function"!=typeof l||null!=d&&"function"!=typeof d)throw new TypeError(dl);var b=function(){var c=arguments,u=d?d.apply(this,c):c[0],Z=b.cache;if(Z.has(u))return Z.get(u);var t=l.apply(this,c);return b.cache=Z.set(u,t)||Z,t};return b.cache=new(bl.Cache||ll),b}bl.Cache=ll;var cl,ul,Zl,tl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ml=/\\(\\)?/g,nl=(cl=function(l){var d=[];return 46===l.charCodeAt(0)&&d.push(""),l.replace(tl,(function(l,b,c,u){d.push(c?u.replace(ml,"$1"):b||l)})),d},ul=bl(cl,(function(l){return 500===Zl.size&&Zl.clear(),l})),Zl=ul.cache,ul),il=nl;function al(l,d){for(var b=-1,c=null==l?0:l.length,u=Array(c);++b<c;)u[b]=d(l[b],b,l);return u}var Xl=1/0,sl=i?i.prototype:void 0,Gl=sl?sl.toString:void 0;function Wl(l){if("string"==typeof l)return l;if(Z(l))return al(l,Wl)+"";if(R(l))return Gl?Gl.call(l):"";var d=l+"";return"0"==d&&1/l==-Xl?"-0":d}function hl(l){return null==l?"":Wl(l)}function el(l,d){return Z(l)?l:r(l,d)?[l]:il(hl(l))}var ol=1/0;function pl(l){if("string"==typeof l||R(l))return l;var d=l+"";return"0"==d&&1/l==-ol?"-0":d}function yl(l,d){for(var b=0,c=(d=el(d,l)).length;null!=l&&b<c;)l=l[pl(d[b++])];return b&&b==c?l:void 0}function Vl(l,d,b){var c=null==l?void 0:yl(l,d);return void 0===c?b:c}function Rl(l){return"[object Array]"===Object.prototype.toString.call(l)}function Ll(l){return"[object Object]"===Object.prototype.toString.call(l)}function Kl(l){return"[object String]"===Object.prototype.toString.call(l)}function rl(l){return l!=l}function xl(l){return!!function(l){return"[object Undefined]"===Object.prototype.toString.call(l)}(l)||(!!function(l){return"[object Null]"===Object.prototype.toString.call(l)}(l)||(!!function(l){if(Ll(l)){for(let d in l)return!1;return!0}return!1}(l)||(!!function(l){return!(!Kl(l)||""!==l)}(l)||(!!function(l){return!!Rl(l)&&0===l.length}(l)||!!rl(l)))))}function Sl(l){return!!Rl(l)&&(0!==l.length&&(1!==l.length||!xl(l[0])))}function Hl(l){return!(!Kl(l)||""===l)}function Yl(){return"undefined"!=typeof window&&void 0!==window.document}var gl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Al(l){if(l.__esModule)return l;var d=l.default;if("function"==typeof d){var b=function l(){if(this instanceof l){var b=[null];return b.push.apply(b,arguments),new(Function.bind.apply(d,b))}return d.apply(this,arguments)};b.prototype=d.prototype}else b={};return Object.defineProperty(b,"__esModule",{value:!0}),Object.keys(l).forEach((function(d){var c=Object.getOwnPropertyDescriptor(l,d);Object.defineProperty(b,d,c.get?c:{enumerable:!0,get:function(){return l[d]}})})),b}var Cl={},Il={get exports(){return Cl},set exports(l){Cl=l}};function Jl(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fl,Bl={},vl={get exports(){return Bl},set exports(l){Bl=l}},Ml=Object.freeze({__proto__:null,default:{}}),zl=Al(Ml);function Tl(){return Fl||(Fl=1,function(l,d){var b;l.exports=(b=b||function(l,d){var b;if("undefined"!=typeof window&&window.crypto&&(b=window.crypto),"undefined"!=typeof self&&self.crypto&&(b=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(b=globalThis.crypto),!b&&"undefined"!=typeof window&&window.msCrypto&&(b=window.msCrypto),!b&&void 0!==gl&&gl.crypto&&(b=gl.crypto),!b)try{b=zl}catch(l){}var c=function(){if(b){if("function"==typeof b.getRandomValues)try{return b.getRandomValues(new Uint32Array(1))[0]}catch(l){}if("function"==typeof b.randomBytes)try{return b.randomBytes(4).readInt32LE()}catch(l){}}throw new Error("Native crypto module could not be used to get secure random number.")},u=Object.create||function(){function l(){}return function(d){var b;return l.prototype=d,b=new l,l.prototype=null,b}}(),Z={},t=Z.lib={},m=t.Base={extend:function(l){var d=u(this);return l&&d.mixIn(l),d.hasOwnProperty("init")&&this.init!==d.init||(d.init=function(){d.$super.init.apply(this,arguments)}),d.init.prototype=d,d.$super=this,d},create:function(){var l=this.extend();return l.init.apply(l,arguments),l},init:function(){},mixIn:function(l){for(var d in l)l.hasOwnProperty(d)&&(this[d]=l[d]);l.hasOwnProperty("toString")&&(this.toString=l.toString)},clone:function(){return this.init.prototype.extend(this)}},n=t.WordArray=m.extend({init:function(l,b){l=this.words=l||[],this.sigBytes=b!=d?b:4*l.length},toString:function(l){return(l||a).stringify(this)},concat:function(l){var d=this.words,b=l.words,c=this.sigBytes,u=l.sigBytes;if(this.clamp(),c%4)for(var Z=0;Z<u;Z++){var t=b[Z>>>2]>>>24-Z%4*8&255;d[c+Z>>>2]|=t<<24-(c+Z)%4*8}else for(var m=0;m<u;m+=4)d[c+m>>>2]=b[m>>>2];return this.sigBytes+=u,this},clamp:function(){var d=this.words,b=this.sigBytes;d[b>>>2]&=4294967295<<32-b%4*8,d.length=l.ceil(b/4)},clone:function(){var l=m.clone.call(this);return l.words=this.words.slice(0),l},random:function(l){for(var d=[],b=0;b<l;b+=4)d.push(c());return new n.init(d,l)}}),i=Z.enc={},a=i.Hex={stringify:function(l){for(var d=l.words,b=l.sigBytes,c=[],u=0;u<b;u++){var Z=d[u>>>2]>>>24-u%4*8&255;c.push((Z>>>4).toString(16)),c.push((15&Z).toString(16))}return c.join("")},parse:function(l){for(var d=l.length,b=[],c=0;c<d;c+=2)b[c>>>3]|=parseInt(l.substr(c,2),16)<<24-c%8*4;return new n.init(b,d/2)}},X=i.Latin1={stringify:function(l){for(var d=l.words,b=l.sigBytes,c=[],u=0;u<b;u++){var Z=d[u>>>2]>>>24-u%4*8&255;c.push(String.fromCharCode(Z))}return c.join("")},parse:function(l){for(var d=l.length,b=[],c=0;c<d;c++)b[c>>>2]|=(255&l.charCodeAt(c))<<24-c%4*8;return new n.init(b,d)}},s=i.Utf8={stringify:function(l){try{return decodeURIComponent(escape(X.stringify(l)))}catch(l){throw new Error("Malformed UTF-8 data")}},parse:function(l){return X.parse(unescape(encodeURIComponent(l)))}},G=t.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new n.init,this._nDataBytes=0},_append:function(l){"string"==typeof l&&(l=s.parse(l)),this._data.concat(l),this._nDataBytes+=l.sigBytes},_process:function(d){var b,c=this._data,u=c.words,Z=c.sigBytes,t=this.blockSize,m=Z/(4*t),i=(m=d?l.ceil(m):l.max((0|m)-this._minBufferSize,0))*t,a=l.min(4*i,Z);if(i){for(var X=0;X<i;X+=t)this._doProcessBlock(u,X);b=u.splice(0,i),c.sigBytes-=a}return new n.init(b,a)},clone:function(){var l=m.clone.call(this);return l._data=this._data.clone(),l},_minBufferSize:0});t.Hasher=G.extend({cfg:m.extend(),init:function(l){this.cfg=this.cfg.extend(l),this.reset()},reset:function(){G.reset.call(this),this._doReset()},update:function(l){return this._append(l),this._process(),this},finalize:function(l){return l&&this._append(l),this._doFinalize()},blockSize:16,_createHelper:function(l){return function(d,b){return new l.init(b).finalize(d)}},_createHmacHelper:function(l){return function(d,b){return new W.HMAC.init(l,b).finalize(d)}}});var W=Z.algo={};return Z}(Math),b)}(vl)),Bl}!function(l,d){l.exports=Tl().enc.Utf8}(Il);var kl=Cl,wl={};!function(l,d){var b;l.exports=(b=Tl(),function(){var l=b,d=l.lib.WordArray;function c(l,b,c){for(var u=[],Z=0,t=0;t<b;t++)if(t%4){var m=c[l.charCodeAt(t-1)]<<t%4*2|c[l.charCodeAt(t)]>>>6-t%4*2;u[Z>>>2]|=m<<24-Z%4*8,Z++}return d.create(u,Z)}l.enc.Base64={stringify:function(l){var d=l.words,b=l.sigBytes,c=this._map;l.clamp();for(var u=[],Z=0;Z<b;Z+=3)for(var t=(d[Z>>>2]>>>24-Z%4*8&255)<<16|(d[Z+1>>>2]>>>24-(Z+1)%4*8&255)<<8|d[Z+2>>>2]>>>24-(Z+2)%4*8&255,m=0;m<4&&Z+.75*m<b;m++)u.push(c.charAt(t>>>6*(3-m)&63));var n=c.charAt(64);if(n)for(;u.length%4;)u.push(n);return u.join("")},parse:function(l){var d=l.length,b=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var Z=0;Z<b.length;Z++)u[b.charCodeAt(Z)]=Z}var t=b.charAt(64);if(t){var m=l.indexOf(t);-1!==m&&(d=m)}return c(l,d,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),b.enc.Base64)}({get exports(){return wl},set exports(l){wl=l}});var Nl=wl;function fl(l){let d=!1;if(Hl(l))d=!isNaN(Number(l));else if(function(l){return"[object Number]"===Object.prototype.toString.call(l)}(l)){if(rl(l))return!1;d=!0}return d}function Pl(l,d){return!!Ll(l)&&(!(!Hl(d)&&!fl(d))&&d in l)}function Ul(){return"undefined"!=typeof self?self:Yl()?window:"undefined"!=typeof global?global:null}let Ql=function(){if(!Yl())return null;let l=Ul();if(Pl(l,"turf"))return l.turf;let d=l.document.createElement("script");return d.innerHTML=function(l){return Hl(l)?Nl.parse(l).toString(kl):""}("IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGUpOmUoKHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikudHVyZj17fSl9KHRoaXMsKGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT02MzcxMDA4Ljgsbj17Y2VudGltZXRlcnM6NjM3MTAwODgwLGNlbnRpbWV0cmVzOjYzNzEwMDg4MCxkZWdyZWVzOjU3LjIyODkxMzU0MTQzMjc0LGZlZXQ6MjA5MDIyNjAuNTExMzkyLGluY2hlczozOS4zNyplLGtpbG9tZXRlcnM6NjM3MS4wMDg4LGtpbG9tZXRyZXM6NjM3MS4wMDg4LG1ldGVyczplLG1ldHJlczplLG1pbGVzOjM5NTguNzYxMzMzODEwNTQ2LG1pbGxpbWV0ZXJzOjYzNzEwMDg4MDAsbWlsbGltZXRyZXM6NjM3MTAwODgwMCxuYXV0aWNhbG1pbGVzOmUvMTg1MixyYWRpYW5zOjEseWFyZHM6Njk2NzMzNS4yMjM2Nzk5OTl9LHI9e2NlbnRpbWV0ZXJzOjEwMCxjZW50aW1ldHJlczoxMDAsZGVncmVlczoxLzExMTMyNSxmZWV0OjMuMjgwODQsaW5jaGVzOjM5LjM3LGtpbG9tZXRlcnM6LjAwMSxraWxvbWV0cmVzOi4wMDEsbWV0ZXJzOjEsbWV0cmVzOjEsbWlsZXM6MS8xNjA5LjM0NCxtaWxsaW1ldGVyczoxZTMsbWlsbGltZXRyZXM6MWUzLG5hdXRpY2FsbWlsZXM6MS8xODUyLHJhZGlhbnM6MS9lLHlhcmRzOjEuMDkzNjEzM30saT17YWNyZXM6MjQ3MTA1ZS05LGNlbnRpbWV0ZXJzOjFlNCxjZW50aW1ldHJlczoxZTQsZmVldDoxMC43NjM5MTA0MTcsaGVjdGFyZXM6MWUtNCxpbmNoZXM6MTU1MC4wMDMxMDAwMDYsa2lsb21ldGVyczoxZS02LGtpbG9tZXRyZXM6MWUtNixtZXRlcnM6MSxtZXRyZXM6MSxtaWxlczozODZlLTksbWlsbGltZXRlcnM6MWU2LG1pbGxpbWV0cmVzOjFlNix5YXJkczoxLjE5NTk5MDA0Nn07ZnVuY3Rpb24gbyh0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPXt0eXBlOiJGZWF0dXJlIn07cmV0dXJuKDA9PT1uLmlkfHxuLmlkKSYmKHIuaWQ9bi5pZCksbi5iYm94JiYoci5iYm94PW4uYmJveCksci5wcm9wZXJ0aWVzPWV8fHt9LHIuZ2VvbWV0cnk9dCxyfWZ1bmN0aW9uIHModCxlLG4pe3N3aXRjaCh0KXtjYXNlIlBvaW50IjpyZXR1cm4gYShlKS5nZW9tZXRyeTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBoKGUpLmdlb21ldHJ5O2Nhc2UiUG9seWdvbiI6cmV0dXJuIGwoZSkuZ2VvbWV0cnk7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gZChlKS5nZW9tZXRyeTtjYXNlIk11bHRpTGluZVN0cmluZyI6cmV0dXJuIGcoZSkuZ2VvbWV0cnk7Y2FzZSJNdWx0aVBvbHlnb24iOnJldHVybiB5KGUpLmdlb21ldHJ5O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKHQrIiBpcyBpbnZhbGlkIil9fWZ1bmN0aW9uIGEodCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSwhdCl0aHJvdyBuZXcgRXJyb3IoImNvb3JkaW5hdGVzIGlzIHJlcXVpcmVkIik7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGFuIEFycmF5Iik7aWYodC5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoImNvb3JkaW5hdGVzIG11c3QgYmUgYXQgbGVhc3QgMiBudW1iZXJzIGxvbmciKTtpZighQyh0WzBdKXx8IUModFsxXSkpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IGNvbnRhaW4gbnVtYmVycyIpO3JldHVybiBvKHt0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6dH0sZSxuKX1mdW5jdGlvbiB1KHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLGYodC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBhKHQsZSl9KSksbil9ZnVuY3Rpb24gbCh0LGUsbil7dm9pZCAwPT09biYmKG49e30pO2Zvcih2YXIgcj0wLGk9dDtyPGkubGVuZ3RoO3IrKyl7dmFyIHM9aVtyXTtpZihzLmxlbmd0aDw0KXRocm93IG5ldyBFcnJvcigiRWFjaCBMaW5lYXJSaW5nIG9mIGEgUG9seWdvbiBtdXN0IGhhdmUgNCBvciBtb3JlIFBvc2l0aW9ucy4iKTtmb3IodmFyIGE9MDthPHNbcy5sZW5ndGgtMV0ubGVuZ3RoO2ErKylpZihzW3MubGVuZ3RoLTFdW2FdIT09c1swXVthXSl0aHJvdyBuZXcgRXJyb3IoIkZpcnN0IGFuZCBsYXN0IFBvc2l0aW9uIGFyZSBub3QgZXF1aXZhbGVudC4iKX1yZXR1cm4gbyh7dHlwZToiUG9seWdvbiIsY29vcmRpbmF0ZXM6dH0sZSxuKX1mdW5jdGlvbiBjKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLGYodC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBsKHQsZSl9KSksbil9ZnVuY3Rpb24gaCh0LGUsbil7aWYodm9pZCAwPT09biYmKG49e30pLHQubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGFuIGFycmF5IG9mIHR3byBvciBtb3JlIHBvc2l0aW9ucyIpO3JldHVybiBvKHt0eXBlOiJMaW5lU3RyaW5nIixjb29yZGluYXRlczp0fSxlLG4pfWZ1bmN0aW9uIHAodCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj17fSksZih0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGgodCxlKX0pKSxuKX1mdW5jdGlvbiBmKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXt0eXBlOiJGZWF0dXJlQ29sbGVjdGlvbiJ9O3JldHVybiBlLmlkJiYobi5pZD1lLmlkKSxlLmJib3gmJihuLmJib3g9ZS5iYm94KSxuLmZlYXR1cmVzPXQsbn1mdW5jdGlvbiBnKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLG8oe3R5cGU6Ik11bHRpTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6dH0sZSxuKX1mdW5jdGlvbiBkKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLG8oe3R5cGU6Ik11bHRpUG9pbnQiLGNvb3JkaW5hdGVzOnR9LGUsbil9ZnVuY3Rpb24geSh0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9KSxvKHt0eXBlOiJNdWx0aVBvbHlnb24iLGNvb3JkaW5hdGVzOnR9LGUsbil9ZnVuY3Rpb24gdih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9KSxvKHt0eXBlOiJHZW9tZXRyeUNvbGxlY3Rpb24iLGdlb21ldHJpZXM6dH0sZSxuKX1mdW5jdGlvbiBfKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9MCksZSYmIShlPj0wKSl0aHJvdyBuZXcgRXJyb3IoInByZWNpc2lvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7dmFyIG49TWF0aC5wb3coMTAsZXx8MCk7cmV0dXJuIE1hdGgucm91bmQodCpuKS9ufWZ1bmN0aW9uIG0odCxlKXt2b2lkIDA9PT1lJiYoZT0ia2lsb21ldGVycyIpO3ZhciByPW5bZV07aWYoIXIpdGhyb3cgbmV3IEVycm9yKGUrIiB1bml0cyBpcyBpbnZhbGlkIik7cmV0dXJuIHQqcn1mdW5jdGlvbiB4KHQsZSl7dm9pZCAwPT09ZSYmKGU9ImtpbG9tZXRlcnMiKTt2YXIgcj1uW2VdO2lmKCFyKXRocm93IG5ldyBFcnJvcihlKyIgdW5pdHMgaXMgaW52YWxpZCIpO3JldHVybiB0L3J9ZnVuY3Rpb24gRSh0LGUpe3JldHVybiB3KHgodCxlKSl9ZnVuY3Rpb24gYih0KXt2YXIgZT10JTM2MDtyZXR1cm4gZTwwJiYoZSs9MzYwKSxlfWZ1bmN0aW9uIHcodCl7cmV0dXJuIDE4MCoodCUoMipNYXRoLlBJKSkvTWF0aC5QSX1mdW5jdGlvbiBJKHQpe3JldHVybiB0JTM2MCpNYXRoLlBJLzE4MH1mdW5jdGlvbiBOKHQsZSxuKXtpZih2b2lkIDA9PT1lJiYoZT0ia2lsb21ldGVycyIpLHZvaWQgMD09PW4mJihuPSJraWxvbWV0ZXJzIiksISh0Pj0wKSl0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7cmV0dXJuIG0oeCh0LGUpLG4pfWZ1bmN0aW9uIFModCxlLG4pe2lmKHZvaWQgMD09PWUmJihlPSJtZXRlcnMiKSx2b2lkIDA9PT1uJiYobj0ia2lsb21ldGVycyIpLCEodD49MCkpdGhyb3cgbmV3IEVycm9yKCJhcmVhIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIiKTt2YXIgcj1pW2VdO2lmKCFyKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBvcmlnaW5hbCB1bml0cyIpO3ZhciBvPWlbbl07aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGZpbmFsIHVuaXRzIik7cmV0dXJuIHQvcipvfWZ1bmN0aW9uIEModCl7cmV0dXJuIWlzTmFOKHQpJiZudWxsIT09dCYmIUFycmF5LmlzQXJyYXkodCl9ZnVuY3Rpb24gUCh0KXtyZXR1cm4hIXQmJnQuY29uc3RydWN0b3I9PT1PYmplY3R9ZnVuY3Rpb24gTSh0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImJib3ggaXMgcmVxdWlyZWQiKTtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoImJib3ggbXVzdCBiZSBhbiBBcnJheSIpO2lmKDQhPT10Lmxlbmd0aCYmNiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYmJveCBtdXN0IGJlIGFuIEFycmF5IG9mIDQgb3IgNiBudW1iZXJzIik7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighQyh0KSl0aHJvdyBuZXcgRXJyb3IoImJib3ggbXVzdCBvbmx5IGNvbnRhaW4gbnVtYmVycyIpfSkpfWZ1bmN0aW9uIEwodCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJpZCBpcyByZXF1aXJlZCIpO2lmKC0xPT09WyJzdHJpbmciLCJudW1iZXIiXS5pbmRleE9mKHR5cGVvZiB0KSl0aHJvdyBuZXcgRXJyb3IoImlkIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmciKX12YXIgTz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxlYXJ0aFJhZGl1czplLGZhY3RvcnM6bix1bml0c0ZhY3RvcnM6cixhcmVhRmFjdG9yczppLGZlYXR1cmU6byxnZW9tZXRyeTpzLHBvaW50OmEscG9pbnRzOnUscG9seWdvbjpsLHBvbHlnb25zOmMsbGluZVN0cmluZzpoLGxpbmVTdHJpbmdzOnAsZmVhdHVyZUNvbGxlY3Rpb246ZixtdWx0aUxpbmVTdHJpbmc6ZyxtdWx0aVBvaW50OmQsbXVsdGlQb2x5Z29uOnksZ2VvbWV0cnlDb2xsZWN0aW9uOnYscm91bmQ6XyxyYWRpYW5zVG9MZW5ndGg6bSxsZW5ndGhUb1JhZGlhbnM6eCxsZW5ndGhUb0RlZ3JlZXM6RSxiZWFyaW5nVG9BemltdXRoOmIscmFkaWFuc1RvRGVncmVlczp3LGRlZ3JlZXNUb1JhZGlhbnM6SSxjb252ZXJ0TGVuZ3RoOk4sY29udmVydEFyZWE6Uyxpc051bWJlcjpDLGlzT2JqZWN0OlAsdmFsaWRhdGVCQm94Ok0sdmFsaWRhdGVJZDpMfSk7ZnVuY3Rpb24gUih0LGUsbil7aWYobnVsbCE9PXQpZm9yKHZhciByLGksbyxzLGEsdSxsLGMsaD0wLHA9MCxmPXQudHlwZSxnPSJGZWF0dXJlQ29sbGVjdGlvbiI9PT1mLGQ9IkZlYXR1cmUiPT09Zix5PWc/dC5mZWF0dXJlcy5sZW5ndGg6MSx2PTA7djx5O3YrKyl7YT0oYz0hIShsPWc/dC5mZWF0dXJlc1t2XS5nZW9tZXRyeTpkP3QuZ2VvbWV0cnk6dCkmJiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09bC50eXBlKT9sLmdlb21ldHJpZXMubGVuZ3RoOjE7Zm9yKHZhciBfPTA7XzxhO18rKyl7dmFyIG09MCx4PTA7aWYobnVsbCE9PShzPWM/bC5nZW9tZXRyaWVzW19dOmwpKXt1PXMuY29vcmRpbmF0ZXM7dmFyIEU9cy50eXBlO3N3aXRjaChoPSFufHwiUG9seWdvbiIhPT1FJiYiTXVsdGlQb2x5Z29uIiE9PUU/MDoxLEUpe2Nhc2UgbnVsbDpicmVhaztjYXNlIlBvaW50IjppZighMT09PWUodSxwLHYsbSx4KSlyZXR1cm4hMTtwKyssbSsrO2JyZWFrO2Nhc2UiTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvaW50Ijpmb3Iocj0wO3I8dS5sZW5ndGg7cisrKXtpZighMT09PWUodVtyXSxwLHYsbSx4KSlyZXR1cm4hMTtwKyssIk11bHRpUG9pbnQiPT09RSYmbSsrfSJMaW5lU3RyaW5nIj09PUUmJm0rKzticmVhaztjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpmb3Iocj0wO3I8dS5sZW5ndGg7cisrKXtmb3IoaT0wO2k8dVtyXS5sZW5ndGgtaDtpKyspe2lmKCExPT09ZSh1W3JdW2ldLHAsdixtLHgpKXJldHVybiExO3ArK30iTXVsdGlMaW5lU3RyaW5nIj09PUUmJm0rKywiUG9seWdvbiI9PT1FJiZ4Kyt9IlBvbHlnb24iPT09RSYmbSsrO2JyZWFrO2Nhc2UiTXVsdGlQb2x5Z29uIjpmb3Iocj0wO3I8dS5sZW5ndGg7cisrKXtmb3IoeD0wLGk9MDtpPHVbcl0ubGVuZ3RoO2krKyl7Zm9yKG89MDtvPHVbcl1baV0ubGVuZ3RoLWg7bysrKXtpZighMT09PWUodVtyXVtpXVtvXSxwLHYsbSx4KSlyZXR1cm4hMTtwKyt9eCsrfW0rK31icmVhaztjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6Zm9yKHI9MDtyPHMuZ2VvbWV0cmllcy5sZW5ndGg7cisrKWlmKCExPT09UihzLmdlb21ldHJpZXNbcl0sZSxuKSlyZXR1cm4hMTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBHZW9tZXRyeSBUeXBlIil9fX19fWZ1bmN0aW9uIFQodCxlLG4scil7dmFyIGk9bjtyZXR1cm4gUih0LChmdW5jdGlvbih0LHIsbyxzLGEpe2k9MD09PXImJnZvaWQgMD09PW4/dDplKGksdCxyLG8scyxhKX0pLHIpLGl9ZnVuY3Rpb24gQSh0LGUpe3ZhciBuO3N3aXRjaCh0LnR5cGUpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOmZvcihuPTA7bjx0LmZlYXR1cmVzLmxlbmd0aCYmITEhPT1lKHQuZmVhdHVyZXNbbl0ucHJvcGVydGllcyxuKTtuKyspO2JyZWFrO2Nhc2UiRmVhdHVyZSI6ZSh0LnByb3BlcnRpZXMsMCl9fWZ1bmN0aW9uIEQodCxlLG4pe3ZhciByPW47cmV0dXJuIEEodCwoZnVuY3Rpb24odCxpKXtyPTA9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSl9KSkscn1mdW5jdGlvbiBGKHQsZSl7aWYoIkZlYXR1cmUiPT09dC50eXBlKWUodCwwKTtlbHNlIGlmKCJGZWF0dXJlQ29sbGVjdGlvbiI9PT10LnR5cGUpZm9yKHZhciBuPTA7bjx0LmZlYXR1cmVzLmxlbmd0aCYmITEhPT1lKHQuZmVhdHVyZXNbbl0sbik7bisrKTt9ZnVuY3Rpb24gayh0LGUsbil7dmFyIHI9bjtyZXR1cm4gRih0LChmdW5jdGlvbih0LGkpe3I9MD09PWkmJnZvaWQgMD09PW4/dDplKHIsdCxpKX0pKSxyfWZ1bmN0aW9uIEcodCl7dmFyIGU9W107cmV0dXJuIFIodCwoZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSkpLGV9ZnVuY3Rpb24gcSh0LGUpe3ZhciBuLHIsaSxvLHMsYSx1LGwsYyxoLHA9MCxmPSJGZWF0dXJlQ29sbGVjdGlvbiI9PT10LnR5cGUsZz0iRmVhdHVyZSI9PT10LnR5cGUsZD1mP3QuZmVhdHVyZXMubGVuZ3RoOjE7Zm9yKG49MDtuPGQ7bisrKXtmb3IoYT1mP3QuZmVhdHVyZXNbbl0uZ2VvbWV0cnk6Zz90Lmdlb21ldHJ5OnQsbD1mP3QuZmVhdHVyZXNbbl0ucHJvcGVydGllczpnP3QucHJvcGVydGllczp7fSxjPWY/dC5mZWF0dXJlc1tuXS5iYm94Omc/dC5iYm94OnZvaWQgMCxoPWY/dC5mZWF0dXJlc1tuXS5pZDpnP3QuaWQ6dm9pZCAwLHM9KHU9ISFhJiYiR2VvbWV0cnlDb2xsZWN0aW9uIj09PWEudHlwZSk/YS5nZW9tZXRyaWVzLmxlbmd0aDoxLGk9MDtpPHM7aSsrKWlmKG51bGwhPT0obz11P2EuZ2VvbWV0cmllc1tpXTphKSlzd2l0Y2goby50eXBlKXtjYXNlIlBvaW50IjpjYXNlIkxpbmVTdHJpbmciOmNhc2UiTXVsdGlQb2ludCI6Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvbHlnb24iOmlmKCExPT09ZShvLHAsbCxjLGgpKXJldHVybiExO2JyZWFrO2Nhc2UiR2VvbWV0cnlDb2xsZWN0aW9uIjpmb3Iocj0wO3I8by5nZW9tZXRyaWVzLmxlbmd0aDtyKyspaWYoITE9PT1lKG8uZ2VvbWV0cmllc1tyXSxwLGwsYyxoKSlyZXR1cm4hMTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biBHZW9tZXRyeSBUeXBlIil9ZWxzZSBpZighMT09PWUobnVsbCxwLGwsYyxoKSlyZXR1cm4hMTtwKyt9fWZ1bmN0aW9uIEIodCxlLG4pe3ZhciByPW47cmV0dXJuIHEodCwoZnVuY3Rpb24odCxpLG8scyxhKXtyPTA9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSxvLHMsYSl9KSkscn1mdW5jdGlvbiB6KHQsZSl7cSh0LChmdW5jdGlvbih0LG4scixpLHMpe3ZhciBhLHU9bnVsbD09PXQ/bnVsbDp0LnR5cGU7c3dpdGNoKHUpe2Nhc2UgbnVsbDpjYXNlIlBvaW50IjpjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6cmV0dXJuITEhPT1lKG8odCxyLHtiYm94OmksaWQ6c30pLG4sMCkmJnZvaWQgMH1zd2l0Y2godSl7Y2FzZSJNdWx0aVBvaW50IjphPSJQb2ludCI7YnJlYWs7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOmE9IkxpbmVTdHJpbmciO2JyZWFrO2Nhc2UiTXVsdGlQb2x5Z29uIjphPSJQb2x5Z29uIn1mb3IodmFyIGw9MDtsPHQuY29vcmRpbmF0ZXMubGVuZ3RoO2wrKyl7dmFyIGM9dC5jb29yZGluYXRlc1tsXTtpZighMT09PWUobyh7dHlwZTphLGNvb3JkaW5hdGVzOmN9LHIpLG4sbCkpcmV0dXJuITF9fSkpfWZ1bmN0aW9uIGoodCxlLG4pe3ZhciByPW47cmV0dXJuIHoodCwoZnVuY3Rpb24odCxpLG8pe3I9MD09PWkmJjA9PT1vJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSxvKX0pKSxyfWZ1bmN0aW9uIFUodCxlKXt6KHQsKGZ1bmN0aW9uKHQsbixyKXt2YXIgaT0wO2lmKHQuZ2VvbWV0cnkpe3ZhciBvPXQuZ2VvbWV0cnkudHlwZTtpZigiUG9pbnQiIT09byYmIk11bHRpUG9pbnQiIT09byl7dmFyIHMsYT0wLHU9MCxsPTA7cmV0dXJuITEhPT1SKHQsKGZ1bmN0aW9uKG8sYyxwLGYsZyl7aWYodm9pZCAwPT09c3x8bj5hfHxmPnV8fGc+bClyZXR1cm4gcz1vLGE9bix1PWYsbD1nLHZvaWQoaT0wKTt2YXIgZD1oKFtzLG9dLHQucHJvcGVydGllcyk7aWYoITE9PT1lKGQsbixyLGcsaSkpcmV0dXJuITE7aSsrLHM9b30pKSYmdm9pZCAwfX19KSl9ZnVuY3Rpb24gVih0LGUsbil7dmFyIHI9bixpPSExO3JldHVybiBVKHQsKGZ1bmN0aW9uKHQsbyxzLGEsdSl7cj0hMT09PWkmJnZvaWQgMD09PW4/dDplKHIsdCxvLHMsYSx1KSxpPSEwfSkpLHJ9ZnVuY3Rpb24gWCh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO3oodCwoZnVuY3Rpb24odCxuLHIpe2lmKG51bGwhPT10Lmdlb21ldHJ5KXt2YXIgaT10Lmdlb21ldHJ5LnR5cGUsbz10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzO3N3aXRjaChpKXtjYXNlIkxpbmVTdHJpbmciOmlmKCExPT09ZSh0LG4sciwwLDApKXJldHVybiExO2JyZWFrO2Nhc2UiUG9seWdvbiI6Zm9yKHZhciBzPTA7czxvLmxlbmd0aDtzKyspaWYoITE9PT1lKGgob1tzXSx0LnByb3BlcnRpZXMpLG4scixzKSlyZXR1cm4hMX19fSkpfWZ1bmN0aW9uIFkodCxlLG4pe3ZhciByPW47cmV0dXJuIFgodCwoZnVuY3Rpb24odCxpLG8scyl7cj0wPT09aSYmdm9pZCAwPT09bj90OmUocix0LGksbyxzKX0pKSxyfWZ1bmN0aW9uIEgodCxlKXtpZighUChlPWV8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuLHI9ZS5mZWF0dXJlSW5kZXh8fDAsaT1lLm11bHRpRmVhdHVyZUluZGV4fHwwLG89ZS5nZW9tZXRyeUluZGV4fHwwLHM9ZS5zZWdtZW50SW5kZXh8fDAsYT1lLnByb3BlcnRpZXM7c3dpdGNoKHQudHlwZSl7Y2FzZSJGZWF0dXJlQ29sbGVjdGlvbiI6cjwwJiYocj10LmZlYXR1cmVzLmxlbmd0aCtyKSxhPWF8fHQuZmVhdHVyZXNbcl0ucHJvcGVydGllcyxuPXQuZmVhdHVyZXNbcl0uZ2VvbWV0cnk7YnJlYWs7Y2FzZSJGZWF0dXJlIjphPWF8fHQucHJvcGVydGllcyxuPXQuZ2VvbWV0cnk7YnJlYWs7Y2FzZSJQb2ludCI6Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gbnVsbDtjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6Y2FzZSJNdWx0aUxpbmVTdHJpbmciOmNhc2UiTXVsdGlQb2x5Z29uIjpuPXQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgaW52YWxpZCIpfWlmKG51bGw9PT1uKXJldHVybiBudWxsO3ZhciB1PW4uY29vcmRpbmF0ZXM7c3dpdGNoKG4udHlwZSl7Y2FzZSJQb2ludCI6Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gbnVsbDtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBzPDAmJihzPXUubGVuZ3RoK3MtMSksaChbdVtzXSx1W3MrMV1dLGEsZSk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gbzwwJiYobz11Lmxlbmd0aCtvKSxzPDAmJihzPXVbb10ubGVuZ3RoK3MtMSksaChbdVtvXVtzXSx1W29dW3MrMV1dLGEsZSk7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiBpPDAmJihpPXUubGVuZ3RoK2kpLHM8MCYmKHM9dVtpXS5sZW5ndGgrcy0xKSxoKFt1W2ldW3NdLHVbaV1bcysxXV0sYSxlKTtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGk8MCYmKGk9dS5sZW5ndGgraSksbzwwJiYobz11W2ldLmxlbmd0aCtvKSxzPDAmJihzPXVbaV1bb10ubGVuZ3RoLXMtMSksaChbdVtpXVtvXVtzXSx1W2ldW29dW3MrMV1dLGEsZSl9dGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIGludmFsaWQiKX1mdW5jdGlvbiBXKHQsZSl7aWYoIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbixyPWUuZmVhdHVyZUluZGV4fHwwLGk9ZS5tdWx0aUZlYXR1cmVJbmRleHx8MCxvPWUuZ2VvbWV0cnlJbmRleHx8MCxzPWUuY29vcmRJbmRleHx8MCx1PWUucHJvcGVydGllcztzd2l0Y2godC50eXBlKXtjYXNlIkZlYXR1cmVDb2xsZWN0aW9uIjpyPDAmJihyPXQuZmVhdHVyZXMubGVuZ3RoK3IpLHU9dXx8dC5mZWF0dXJlc1tyXS5wcm9wZXJ0aWVzLG49dC5mZWF0dXJlc1tyXS5nZW9tZXRyeTticmVhaztjYXNlIkZlYXR1cmUiOnU9dXx8dC5wcm9wZXJ0aWVzLG49dC5nZW9tZXRyeTticmVhaztjYXNlIlBvaW50IjpjYXNlIk11bHRpUG9pbnQiOnJldHVybiBudWxsO2Nhc2UiTGluZVN0cmluZyI6Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvbHlnb24iOm49dDticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyBpbnZhbGlkIil9aWYobnVsbD09PW4pcmV0dXJuIG51bGw7dmFyIGw9bi5jb29yZGluYXRlcztzd2l0Y2gobi50eXBlKXtjYXNlIlBvaW50IjpyZXR1cm4gYShsLHUsZSk7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gaTwwJiYoaT1sLmxlbmd0aCtpKSxhKGxbaV0sdSxlKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBzPDAmJihzPWwubGVuZ3RoK3MpLGEobFtzXSx1LGUpO2Nhc2UiUG9seWdvbiI6cmV0dXJuIG88MCYmKG89bC5sZW5ndGgrbyksczwwJiYocz1sW29dLmxlbmd0aCtzKSxhKGxbb11bc10sdSxlKTtjYXNlIk11bHRpTGluZVN0cmluZyI6cmV0dXJuIGk8MCYmKGk9bC5sZW5ndGgraSksczwwJiYocz1sW2ldLmxlbmd0aCtzKSxhKGxbaV1bc10sdSxlKTtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGk8MCYmKGk9bC5sZW5ndGgraSksbzwwJiYobz1sW2ldLmxlbmd0aCtvKSxzPDAmJihzPWxbaV1bb10ubGVuZ3RoLXMpLGEobFtpXVtvXVtzXSx1LGUpfXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyBpbnZhbGlkIil9dmFyIEo9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsY29vcmRBbGw6Ryxjb29yZEVhY2g6Uixjb29yZFJlZHVjZTpULGZlYXR1cmVFYWNoOkYsZmVhdHVyZVJlZHVjZTprLGZpbmRQb2ludDpXLGZpbmRTZWdtZW50OkgsZmxhdHRlbkVhY2g6eixmbGF0dGVuUmVkdWNlOmosZ2VvbUVhY2g6cSxnZW9tUmVkdWNlOkIsbGluZUVhY2g6WCxsaW5lUmVkdWNlOlkscHJvcEVhY2g6QSxwcm9wUmVkdWNlOkQsc2VnbWVudEVhY2g6VSxzZWdtZW50UmVkdWNlOlZ9KTtmdW5jdGlvbiBaKHQpe3ZhciBlPVsxLzAsMS8wLC0xLzAsLTEvMF07cmV0dXJuIFIodCwoZnVuY3Rpb24odCl7ZVswXT50WzBdJiYoZVswXT10WzBdKSxlWzFdPnRbMV0mJihlWzFdPXRbMV0pLGVbMl08dFswXSYmKGVbMl09dFswXSksZVszXTx0WzFdJiYoZVszXT10WzFdKX0pKSxlfWZ1bmN0aW9uIEsodCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJjb29yZCBpcyByZXF1aXJlZCIpO2lmKCFBcnJheS5pc0FycmF5KHQpKXtpZigiRmVhdHVyZSI9PT10LnR5cGUmJm51bGwhPT10Lmdlb21ldHJ5JiYiUG9pbnQiPT09dC5nZW9tZXRyeS50eXBlKXJldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzO2lmKCJQb2ludCI9PT10LnR5cGUpcmV0dXJuIHQuY29vcmRpbmF0ZXN9aWYoQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+PTImJiFBcnJheS5pc0FycmF5KHRbMF0pJiYhQXJyYXkuaXNBcnJheSh0WzFdKSlyZXR1cm4gdDt0aHJvdyBuZXcgRXJyb3IoImNvb3JkIG11c3QgYmUgR2VvSlNPTiBQb2ludCBvciBhbiBBcnJheSBvZiBudW1iZXJzIil9ZnVuY3Rpb24gUSh0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKCJGZWF0dXJlIj09PXQudHlwZSl7aWYobnVsbCE9PXQuZ2VvbWV0cnkpcmV0dXJuIHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXN9ZWxzZSBpZih0LmNvb3JkaW5hdGVzKXJldHVybiB0LmNvb3JkaW5hdGVzO3Rocm93IG5ldyBFcnJvcigiY29vcmRzIG11c3QgYmUgR2VvSlNPTiBGZWF0dXJlLCBHZW9tZXRyeSBPYmplY3Qgb3IgYW4gQXJyYXkiKX1mdW5jdGlvbiAkKHQpe2lmKHQubGVuZ3RoPjEmJkModFswXSkmJkModFsxXSkpcmV0dXJuITA7aWYoQXJyYXkuaXNBcnJheSh0WzBdKSYmdFswXS5sZW5ndGgpcmV0dXJuICQodFswXSk7dGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IG9ubHkgY29udGFpbiBudW1iZXJzIil9ZnVuY3Rpb24gdHQodCxlLG4pe2lmKCFlfHwhbil0aHJvdyBuZXcgRXJyb3IoInR5cGUgYW5kIG5hbWUgcmVxdWlyZWQiKTtpZighdHx8dC50eXBlIT09ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdG8gIituKyI6IG11c3QgYmUgYSAiK2UrIiwgZ2l2ZW4gIit0LnR5cGUpfWZ1bmN0aW9uIGV0KHQsZSxuKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIk5vIGZlYXR1cmUgcGFzc2VkIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCIuZmVhdHVyZU9mKCkgcmVxdWlyZXMgYSBuYW1lIik7aWYoIXR8fCJGZWF0dXJlIiE9PXQudHlwZXx8IXQuZ2VvbWV0cnkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHRvICIrbisiLCBGZWF0dXJlIHdpdGggZ2VvbWV0cnkgcmVxdWlyZWQiKTtpZighdC5nZW9tZXRyeXx8dC5nZW9tZXRyeS50eXBlIT09ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdG8gIituKyI6IG11c3QgYmUgYSAiK2UrIiwgZ2l2ZW4gIit0Lmdlb21ldHJ5LnR5cGUpfWZ1bmN0aW9uIG50KHQsZSxuKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoIk5vIGZlYXR1cmVDb2xsZWN0aW9uIHBhc3NlZCIpO2lmKCFuKXRocm93IG5ldyBFcnJvcigiLmNvbGxlY3Rpb25PZigpIHJlcXVpcmVzIGEgbmFtZSIpO2lmKCF0fHwiRmVhdHVyZUNvbGxlY3Rpb24iIT09dC50eXBlKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBpbnB1dCB0byAiK24rIiwgRmVhdHVyZUNvbGxlY3Rpb24gcmVxdWlyZWQiKTtmb3IodmFyIHI9MCxpPXQuZmVhdHVyZXM7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07aWYoIW98fCJGZWF0dXJlIiE9PW8udHlwZXx8IW8uZ2VvbWV0cnkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHRvICIrbisiLCBGZWF0dXJlIHdpdGggZ2VvbWV0cnkgcmVxdWlyZWQiKTtpZighby5nZW9tZXRyeXx8by5nZW9tZXRyeS50eXBlIT09ZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgaW5wdXQgdG8gIituKyI6IG11c3QgYmUgYSAiK2UrIiwgZ2l2ZW4gIitvLmdlb21ldHJ5LnR5cGUpfX1mdW5jdGlvbiBydCh0KXtyZXR1cm4iRmVhdHVyZSI9PT10LnR5cGU/dC5nZW9tZXRyeTp0fWZ1bmN0aW9uIGl0KHQsZSl7cmV0dXJuIkZlYXR1cmVDb2xsZWN0aW9uIj09PXQudHlwZT8iRmVhdHVyZUNvbGxlY3Rpb24iOiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09dC50eXBlPyJHZW9tZXRyeUNvbGxlY3Rpb24iOiJGZWF0dXJlIj09PXQudHlwZSYmbnVsbCE9PXQuZ2VvbWV0cnk/dC5nZW9tZXRyeS50eXBlOnQudHlwZX1aLmRlZmF1bHQ9Wjt2YXIgb3Q9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZ2V0Q29vcmQ6SyxnZXRDb29yZHM6USxjb250YWluc051bWJlcjokLGdlb2pzb25UeXBlOnR0LGZlYXR1cmVPZjpldCxjb2xsZWN0aW9uT2Y6bnQsZ2V0R2VvbTpydCxnZXRUeXBlOml0fSksc3Q9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxhdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHV0PU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7Ci8qCiAgICBvYmplY3QtYXNzaWduCiAgICAoYykgU2luZHJlIFNvcmh1cwogICAgQGxpY2Vuc2UgTUlUCiAgICAqL2Z1bmN0aW9uIGx0KHQpe2lmKG51bGw9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQiKTtyZXR1cm4gT2JqZWN0KHQpfXZhciBjdD1mdW5jdGlvbigpe3RyeXtpZighT2JqZWN0LmFzc2lnbilyZXR1cm4hMTt2YXIgdD1uZXcgU3RyaW5nKCJhYmMiKTtpZih0WzVdPSJkZSIsIjUiPT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModClbMF0pcmV0dXJuITE7Zm9yKHZhciBlPXt9LG49MDtuPDEwO24rKyllWyJfIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4pXT1uO2lmKCIwMTIzNDU2Nzg5IiE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSkuam9pbigiIikpcmV0dXJuITE7dmFyIHI9e307cmV0dXJuImFiY2RlZmdoaWprbG1ub3BxcnN0Ii5zcGxpdCgiIikuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT10fSkpLCJhYmNkZWZnaGlqa2xtbm9wcXJzdCI9PT1PYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LHIpKS5qb2luKCIiKX1jYXRjaCh0KXtyZXR1cm4hMX19KCk/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyLGk9bHQodCksbz0xO288YXJndW1lbnRzLmxlbmd0aDtvKyspe2Zvcih2YXIgcyBpbiBuPU9iamVjdChhcmd1bWVudHNbb10pKWF0LmNhbGwobixzKSYmKGlbc109bltzXSk7aWYoc3Qpe3I9c3Qobik7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspdXQuY2FsbChuLHJbYV0pJiYoaVtyW2FdXT1uW3JbYV1dKX19cmV0dXJuIGl9LGh0PXtzdWNjZXNzQ2FsbGJhY2s6bnVsbCx2ZXJib3NlOiExfSxwdD17fTsKLyoqCiAgICAgKiBAbGljZW5zZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UuCiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTUsIDIwMTUgUm9ubnkgTG9yZW56IDxyb25ueUB0YmkudW5pdmllLmFjLmF0PgogICAgICogdi4gMS4yLjAKICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9SYXVtWmVpdC9NYXJjaGluZ1NxdWFyZXMuanMKICAgICAqCiAgICAgKiBNYXJjaGluZ1NxdWFyZXNKUyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICAgKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgICAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAgKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgogICAgICoKICAgICAqIE1hcmNoaW5nU3F1YXJlc0pTIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICAgKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCiAgICAgKgogICAgICogQXMgYWRkaXRpb25hbCBwZXJtaXNzaW9uIHVuZGVyIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9uIDMKICAgICAqIHNlY3Rpb24gNywgdGhpcmQtcGFydHkgcHJvamVjdHMgKHBlcnNvbmFsIG9yIGNvbW1lcmNpYWwpIG1heSBkaXN0cmlidXRlLAogICAgICogaW5jbHVkZSwgb3IgbGluayBhZ2FpbnN0IFVOTU9ESUZJRUQgVkVSU0lPTlMgb2YgTWFyY2hpbmdTcXVhcmVzSlMgd2l0aG91dCB0aGUKICAgICAqIHJlcXVpcmVtZW50IHRoYXQgc2FpZCB0aGlyZC1wYXJ0eSBwcm9qZWN0IGZvciB0aGF0IHJlYXNvbiBhbG9uZSBiZWNvbWVzCiAgICAgKiBzdWJqZWN0IHRvIGFueSByZXF1aXJlbWVudCBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMy4KICAgICAqIEFueSBtb2RpZmljYXRpb25zIHRvIE1hcmNoaW5nU3F1YXJlc0pTLCBob3dldmVyLCBtdXN0IGJlIHNoYXJlZCB3aXRoIHRoZSBwdWJsaWMKICAgICAqIGFuZCBtYWRlIGF2YWlsYWJsZS4KICAgICAqCiAgICAgKiBJbiBzdW1tYXJ5IHRoaXM6CiAgICAgKiAtIGFsbG93cyB5b3UgdG8gdXNlIE1hcmNoaW5nU3F1YXJlc0pTIGF0IG5vIGNvc3QKICAgICAqIC0gYWxsb3dzIHlvdSB0byB1c2UgTWFyY2hpbmdTcXVhcmVzSlMgZm9yIGJvdGggcGVyc29uYWwgYW5kIGNvbW1lcmNpYWwgcHVycG9zZXMKICAgICAqIC0gYWxsb3dzIHlvdSB0byBkaXN0cmlidXRlIFVOTU9ESUZJRUQgVkVSU0lPTlMgb2YgTWFyY2hpbmdTcXVhcmVzSlMgdW5kZXIgYW55CiAgICAgKiAgIGxpY2Vuc2UgYXMgbG9uZyBhcyB0aGlzIGxpY2Vuc2Ugbm90aWNlIGlzIGluY2x1ZGVkCiAgICAgKiAtIGVuYWJsZXMgeW91IHRvIGtlZXAgdGhlIHNvdXJjZSBjb2RlIG9mIHlvdXIgcHJvZ3JhbSB0aGF0IHVzZXMgTWFyY2hpbmdTcXVhcmVzSlMKICAgICAqICAgdW5kaXNjbG9zZWQKICAgICAqIC0gZm9yY2VzIHlvdSB0byBzaGFyZSBhbnkgbW9kaWZpY2F0aW9ucyB5b3UgaGF2ZSBtYWRlIHRvIE1hcmNoaW5nU3F1YXJlc0pTLAogICAgICogICBlLmcuIGJ1Zy1maXhlcwogICAgICoKICAgICAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgICogYWxvbmcgd2l0aCBNYXJjaGluZ1NxdWFyZXNKUy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KICAgICAqL2Z1bmN0aW9uIGZ0KHQsZSxuKXtuPW58fHt9O2Zvcih2YXIgcj1PYmplY3Qua2V5cyhodCksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldLHM9bltvXTtzPW51bGwhPXM/czpodFtvXSxwdFtvXT1zfXB0LnZlcmJvc2UmJmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29Db250b3VyczogY29tcHV0aW5nIGlzb2NvbnRvdXIgZm9yICIrZSk7dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj0wLHI9MWUtNztyZXR1cm4gdC5jZWxscy5mb3JFYWNoKChmdW5jdGlvbihpLG8pe2kuZm9yRWFjaCgoZnVuY3Rpb24oaSxzKXtpZih2b2lkIDAhPT1pJiYoNSE9PShmPWkpLmN2YWwmJjEwIT09Zi5jdmFsKSYmIWR0KGkpKXt2YXIgYT1mdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvPXQubGVuZ3RoLHM9W10sYT1bMCwwLDEsMSwwLDAsMCwwLC0xLDAsMSwxLC0xLDAsLTEsMF0sdT1bMCwtMSwwLDAsMSwxLDEsMSwwLC0xLDAsMCwwLC0xLDAsMF0sbD1bIm5vbmUiLCJsZWZ0IiwiYm90dG9tIiwibGVmdCIsInJpZ2h0Iiwibm9uZSIsImJvdHRvbSIsImxlZnQiLCJ0b3AiLCJ0b3AiLCJub25lIiwidG9wIiwicmlnaHQiLCJyaWdodCIsImJvdHRvbSIsIm5vbmUiXSxjPVsibm9uZSIsImJvdHRvbSIsInJpZ2h0IiwicmlnaHQiLCJ0b3AiLCJ0b3AiLCJ0b3AiLCJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiLCJyaWdodCIsImxlZnQiLCJib3R0b20iLCJsZWZ0Iiwibm9uZSJdLGg9dFtlXVtuXSxwPWguY3ZhbCxmPWxbcF0sZz12dChoLGYpO3MucHVzaChbbitnWzBdLGUrZ1sxXV0pLGY9Y1twXSxnPXZ0KGgsZikscy5wdXNoKFtuK2dbMF0sZStnWzFdXSkseXQoaCk7dmFyIGQ9bithW3BdLHk9ZSt1W3BdLHY9cDtmb3IoO2Q+PTAmJnk+PTAmJnk8byYmKGQhPW58fHkhPWUpJiZ2b2lkIDAhPT0oaD10W3ldW2RdKTspe2lmKDA9PT0ocD1oLmN2YWwpfHwxNT09PXApcmV0dXJue3BhdGg6cyxpbmZvOiJtZXJnZWFibGUifTtmPWNbcF0scj1hW3BdLGk9dVtwXSw1IT09cCYmMTAhPT1wfHwoNT09PXA/aC5mbGlwcGVkPy0xPT09dVt2XT8oZj0ibGVmdCIscj0tMSxpPTApOihmPSJyaWdodCIscj0xLGk9MCk6LTE9PT1hW3ZdJiYoZj0iYm90dG9tIixyPTAsaT0tMSk6MTA9PT1wJiYoaC5mbGlwcGVkPy0xPT09YVt2XT8oZj0idG9wIixyPTAsaT0xKTooZj0iYm90dG9tIixyPTAsaT0tMSk6MT09PXVbdl0mJihmPSJsZWZ0IixyPS0xLGk9MCkpKSxnPXZ0KGgsZikscy5wdXNoKFtkK2dbMF0seStnWzFdXSkseXQoaCksZCs9cix5Kz1pLHY9cH1yZXR1cm57cGF0aDpzLGluZm86ImNsb3NlZCJ9fSh0LmNlbGxzLG8scyksdT0hMTtpZigibWVyZ2VhYmxlIj09PWEuaW5mbylmb3IodmFyIGw9YS5wYXRoW2EucGF0aC5sZW5ndGgtMV1bMF0sYz1hLnBhdGhbYS5wYXRoLmxlbmd0aC0xXVsxXSxoPW4tMTtoPj0wO2gtLSlpZihNYXRoLmFicyhlW2hdWzBdWzBdLWwpPD1yJiZNYXRoLmFicyhlW2hdWzBdWzFdLWMpPD1yKXtmb3IodmFyIHA9YS5wYXRoLmxlbmd0aC0yO3A+PTA7LS1wKWVbaF0udW5zaGlmdChhLnBhdGhbcF0pO3U9ITA7YnJlYWt9dXx8KGVbbisrXT1hLnBhdGgpfXZhciBmfSkpfSkpLGV9KGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoLTEscj10WzBdLmxlbmd0aC0xLGk9e3Jvd3M6bixjb2xzOnIsY2VsbHM6W119LG89MDtvPG47KytvKXtpLmNlbGxzW29dPVtdO2Zvcih2YXIgcz0wO3M8cjsrK3Mpe3ZhciBhPTAsdT10W28rMV1bc10sbD10W28rMV1bcysxXSxjPXRbb11bcysxXSxoPXRbb11bc107aWYoIShpc05hTih1KXx8aXNOYU4obCl8fGlzTmFOKGMpfHxpc05hTihoKSkpe2F8PXU+PWU/ODowLGF8PWw+PWU/NDowLGF8PWM+PWU/MjowO3ZhciBwLGYsZyxkLHk9ITE7aWYoNT09PShhfD1oPj1lPzE6MCl8fDEwPT09YSl7dmFyIHY9KHUrbCtjK2gpLzQ7NT09PWEmJnY8ZT8oYT0xMCx5PSEwKToxMD09PWEmJnY8ZSYmKGE9NSx5PSEwKX1pZigwIT09YSYmMTUhPT1hKXA9Zj1nPWQ9LjUsMT09PWE/KGc9MS1ndChlLHUsaCksZj0xLWd0KGUsYyxoKSk6Mj09PWE/KGY9Z3QoZSxoLGMpLGQ9MS1ndChlLGwsYykpOjM9PT1hPyhnPTEtZ3QoZSx1LGgpLGQ9MS1ndChlLGwsYykpOjQ9PT1hPyhwPWd0KGUsdSxsKSxkPWd0KGUsYyxsKSk6NT09PWE/KHA9Z3QoZSx1LGwpLGQ9Z3QoZSxjLGwpLGY9MS1ndChlLGMsaCksZz0xLWd0KGUsdSxoKSk6Nj09PWE/KGY9Z3QoZSxoLGMpLHA9Z3QoZSx1LGwpKTo3PT09YT8oZz0xLWd0KGUsdSxoKSxwPWd0KGUsdSxsKSk6OD09PWE/KGc9Z3QoZSxoLHUpLHA9MS1ndChlLGwsdSkpOjk9PT1hPyhmPTEtZ3QoZSxjLGgpLHA9MS1ndChlLGwsdSkpOjEwPT09YT8ocD0xLWd0KGUsbCx1KSxkPTEtZ3QoZSxsLGMpLGY9Z3QoZSxoLGMpLGc9Z3QoZSxoLHUpKToxMT09PWE/KHA9MS1ndChlLGwsdSksZD0xLWd0KGUsbCxjKSk6MTI9PT1hPyhnPWd0KGUsaCx1KSxkPWd0KGUsYyxsKSk6MTM9PT1hPyhmPTEtZ3QoZSxjLGgpLGQ9Z3QoZSxjLGwpKToxND09PWE/KGc9Z3QoZSxoLHUpLGY9Z3QoZSxoLGMpKTpjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQ29udG91cnM6IElsbGVnYWwgY3ZhbCBkZXRlY3RlZDogIithKSxpLmNlbGxzW29dW3NdPXtjdmFsOmEsZmxpcHBlZDp5LHRvcDpwLHJpZ2h0OmQsYm90dG9tOmYsbGVmdDpnfX19fXJldHVybiBpfSh0LGUpKTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgcHQuc3VjY2Vzc0NhbGxiYWNrJiZwdC5zdWNjZXNzQ2FsbGJhY2soYSksYX1mdW5jdGlvbiBndCh0LGUsbil7cmV0dXJuKHQtZSkvKG4tZSl9ZnVuY3Rpb24gZHQodCl7cmV0dXJuIDA9PT10LmN2YWx8fDE1PT09dC5jdmFsfWZ1bmN0aW9uIHl0KHQpe2R0KHQpfHw1PT09dC5jdmFsfHwxMD09PXQuY3ZhbHx8KHQuY3ZhbD0xNSl9ZnVuY3Rpb24gdnQodCxlKXtyZXR1cm4idG9wIj09PWU/W3QudG9wLDFdOiJib3R0b20iPT09ZT9bdC5ib3R0b20sMF06InJpZ2h0Ij09PWU/WzEsdC5yaWdodF06ImxlZnQiPT09ZT9bMCx0LmxlZnRdOnZvaWQgMH1mdW5jdGlvbiBfdCh0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS56UHJvcGVydHl8fCJlbGV2YXRpb24iLHI9ZS5mbGlwLGk9ZS5mbGFncztudCh0LCJQb2ludCIsImlucHV0IG11c3QgY29udGFpbiBQb2ludHMiKTtmb3IodmFyIG89ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXt2YXIgZT1RKHQpWzFdO25bZV18fChuW2VdPVtdKSxuW2VdLnB1c2godCl9KSksT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gblt0XS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBRKHQpWzBdLVEoZSlbMF19KSl9KSkuc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZT9RKHRbMF0pWzFdLVEoblswXSlbMV06UShuWzBdKVsxXS1RKHRbMF0pWzFdfSkpfSh0LHIpLHM9W10sYT0wO2E8by5sZW5ndGg7YSsrKXtmb3IodmFyIHU9b1thXSxsPVtdLGM9MDtjPHUubGVuZ3RoO2MrKyl7dmFyIGg9dVtjXTtoLnByb3BlcnRpZXNbbl0/bC5wdXNoKGgucHJvcGVydGllc1tuXSk6bC5wdXNoKDApLCEwPT09aSYmKGgucHJvcGVydGllcy5tYXRyaXhQb3NpdGlvbj1bYSxjXSl9cy5wdXNoKGwpfXJldHVybiBzfXZhciBtdD1FdCx4dD1FdDtmdW5jdGlvbiBFdCh0LGUsbixyLGkpe2J0KHQsZSxufHwwLHJ8fHQubGVuZ3RoLTEsaXx8SXQpfWZ1bmN0aW9uIGJ0KHQsZSxuLHIsaSl7Zm9yKDtyPm47KXtpZihyLW4+NjAwKXt2YXIgbz1yLW4rMSxzPWUtbisxLGE9TWF0aC5sb2cobyksdT0uNSpNYXRoLmV4cCgyKmEvMyksbD0uNSpNYXRoLnNxcnQoYSp1KihvLXUpL28pKihzLW8vMjwwPy0xOjEpO2J0KHQsZSxNYXRoLm1heChuLE1hdGguZmxvb3IoZS1zKnUvbytsKSksTWF0aC5taW4ocixNYXRoLmZsb29yKGUrKG8tcykqdS9vK2wpKSxpKX12YXIgYz10W2VdLGg9bixwPXI7Zm9yKHd0KHQsbixlKSxpKHRbcl0sYyk+MCYmd3QodCxuLHIpO2g8cDspe2Zvcih3dCh0LGgscCksaCsrLHAtLTtpKHRbaF0sYyk8MDspaCsrO2Zvcig7aSh0W3BdLGMpPjA7KXAtLX0wPT09aSh0W25dLGMpP3d0KHQsbixwKTp3dCh0LCsrcCxyKSxwPD1lJiYobj1wKzEpLGU8PXAmJihyPXAtMSl9fWZ1bmN0aW9uIHd0KHQsZSxuKXt2YXIgcj10W2VdO3RbZV09dFtuXSx0W25dPXJ9ZnVuY3Rpb24gSXQodCxlKXtyZXR1cm4gdDxlPy0xOnQ+ZT8xOjB9bXQuZGVmYXVsdD14dDt2YXIgTnQ9Q3QsU3Q9Q3Q7ZnVuY3Rpb24gQ3QodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBDdCkpcmV0dXJuIG5ldyBDdCh0LGUpO3RoaXMuX21heEVudHJpZXM9TWF0aC5tYXgoNCx0fHw5KSx0aGlzLl9taW5FbnRyaWVzPU1hdGgubWF4KDIsTWF0aC5jZWlsKC40KnRoaXMuX21heEVudHJpZXMpKSxlJiZ0aGlzLl9pbml0Rm9ybWF0KGUpLHRoaXMuY2xlYXIoKX1mdW5jdGlvbiBQdCh0LGUsbil7aWYoIW4pcmV0dXJuIGUuaW5kZXhPZih0KTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihuKHQsZVtyXSkpcmV0dXJuIHI7cmV0dXJuLTF9ZnVuY3Rpb24gTXQodCxlKXtMdCh0LDAsdC5jaGlsZHJlbi5sZW5ndGgsZSx0KX1mdW5jdGlvbiBMdCh0LGUsbixyLGkpe2l8fChpPUd0KG51bGwpKSxpLm1pblg9MS8wLGkubWluWT0xLzAsaS5tYXhYPS0xLzAsaS5tYXhZPS0xLzA7Zm9yKHZhciBvLHM9ZTtzPG47cysrKW89dC5jaGlsZHJlbltzXSxPdChpLHQubGVhZj9yKG8pOm8pO3JldHVybiBpfWZ1bmN0aW9uIE90KHQsZSl7cmV0dXJuIHQubWluWD1NYXRoLm1pbih0Lm1pblgsZS5taW5YKSx0Lm1pblk9TWF0aC5taW4odC5taW5ZLGUubWluWSksdC5tYXhYPU1hdGgubWF4KHQubWF4WCxlLm1heFgpLHQubWF4WT1NYXRoLm1heCh0Lm1heFksZS5tYXhZKSx0fWZ1bmN0aW9uIFJ0KHQsZSl7cmV0dXJuIHQubWluWC1lLm1pblh9ZnVuY3Rpb24gVHQodCxlKXtyZXR1cm4gdC5taW5ZLWUubWluWX1mdW5jdGlvbiBBdCh0KXtyZXR1cm4odC5tYXhYLXQubWluWCkqKHQubWF4WS10Lm1pblkpfWZ1bmN0aW9uIER0KHQpe3JldHVybiB0Lm1heFgtdC5taW5YKyh0Lm1heFktdC5taW5ZKX1mdW5jdGlvbiBGdCh0LGUpe3JldHVybiB0Lm1pblg8PWUubWluWCYmdC5taW5ZPD1lLm1pblkmJmUubWF4WDw9dC5tYXhYJiZlLm1heFk8PXQubWF4WX1mdW5jdGlvbiBrdCh0LGUpe3JldHVybiBlLm1pblg8PXQubWF4WCYmZS5taW5ZPD10Lm1heFkmJmUubWF4WD49dC5taW5YJiZlLm1heFk+PXQubWluWX1mdW5jdGlvbiBHdCh0KXtyZXR1cm57Y2hpbGRyZW46dCxoZWlnaHQ6MSxsZWFmOiEwLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9fWZ1bmN0aW9uIHF0KHQsZSxuLHIsaSl7Zm9yKHZhciBvLHM9W2Usbl07cy5sZW5ndGg7KShuPXMucG9wKCkpLShlPXMucG9wKCkpPD1yfHwobz1lK01hdGguY2VpbCgobi1lKS9yLzIpKnIsbXQodCxvLGUsbixpKSxzLnB1c2goZSxvLG8sbikpfWZ1bmN0aW9uIEJ0KHQpe3ZhciBlPXtleHBvcnRzOnt9fTtyZXR1cm4gdChlLGUuZXhwb3J0cyksZS5leHBvcnRzfUN0LnByb3RvdHlwZT17YWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbCh0aGlzLmRhdGEsW10pfSxzZWFyY2g6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLG49W10scj10aGlzLnRvQkJveDtpZigha3QodCxlKSlyZXR1cm4gbjtmb3IodmFyIGksbyxzLGEsdT1bXTtlOyl7Zm9yKGk9MCxvPWUuY2hpbGRyZW4ubGVuZ3RoO2k8bztpKyspcz1lLmNoaWxkcmVuW2ldLGt0KHQsYT1lLmxlYWY/cihzKTpzKSYmKGUubGVhZj9uLnB1c2gocyk6RnQodCxhKT90aGlzLl9hbGwocyxuKTp1LnB1c2gocykpO2U9dS5wb3AoKX1yZXR1cm4gbn0sY29sbGlkZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLG49dGhpcy50b0JCb3g7aWYoIWt0KHQsZSkpcmV0dXJuITE7Zm9yKHZhciByLGksbyxzLGE9W107ZTspe2ZvcihyPTAsaT1lLmNoaWxkcmVuLmxlbmd0aDtyPGk7cisrKWlmKG89ZS5jaGlsZHJlbltyXSxrdCh0LHM9ZS5sZWFmP24obyk6bykpe2lmKGUubGVhZnx8RnQodCxzKSlyZXR1cm4hMDthLnB1c2gobyl9ZT1hLnBvcCgpfXJldHVybiExfSxsb2FkOmZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodC5sZW5ndGg8dGhpcy5fbWluRW50cmllcyl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKXRoaXMuaW5zZXJ0KHRbZV0pO3JldHVybiB0aGlzfXZhciByPXRoaXMuX2J1aWxkKHQuc2xpY2UoKSwwLHQubGVuZ3RoLTEsMCk7aWYodGhpcy5kYXRhLmNoaWxkcmVuLmxlbmd0aClpZih0aGlzLmRhdGEuaGVpZ2h0PT09ci5oZWlnaHQpdGhpcy5fc3BsaXRSb290KHRoaXMuZGF0YSxyKTtlbHNle2lmKHRoaXMuZGF0YS5oZWlnaHQ8ci5oZWlnaHQpe3ZhciBpPXRoaXMuZGF0YTt0aGlzLmRhdGE9cixyPWl9dGhpcy5faW5zZXJ0KHIsdGhpcy5kYXRhLmhlaWdodC1yLmhlaWdodC0xLCEwKX1lbHNlIHRoaXMuZGF0YT1yO3JldHVybiB0aGlzfSxpbnNlcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMuX2luc2VydCh0LHRoaXMuZGF0YS5oZWlnaHQtMSksdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhPUd0KFtdKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXtpZighdClyZXR1cm4gdGhpcztmb3IodmFyIG4scixpLG8scz10aGlzLmRhdGEsYT10aGlzLnRvQkJveCh0KSx1PVtdLGw9W107c3x8dS5sZW5ndGg7KXtpZihzfHwocz11LnBvcCgpLHI9dVt1Lmxlbmd0aC0xXSxuPWwucG9wKCksbz0hMCkscy5sZWFmJiYtMSE9PShpPVB0KHQscy5jaGlsZHJlbixlKSkpcmV0dXJuIHMuY2hpbGRyZW4uc3BsaWNlKGksMSksdS5wdXNoKHMpLHRoaXMuX2NvbmRlbnNlKHUpLHRoaXM7b3x8cy5sZWFmfHwhRnQocyxhKT9yPyhuKysscz1yLmNoaWxkcmVuW25dLG89ITEpOnM9bnVsbDoodS5wdXNoKHMpLGwucHVzaChuKSxuPTAscj1zLHM9cy5jaGlsZHJlblswXSl9cmV0dXJuIHRoaXN9LHRvQkJveDpmdW5jdGlvbih0KXtyZXR1cm4gdH0sY29tcGFyZU1pblg6UnQsY29tcGFyZU1pblk6VHQsdG9KU09OOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX0sZnJvbUpTT046ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YT10LHRoaXN9LF9hbGw6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49W107dDspdC5sZWFmP2UucHVzaC5hcHBseShlLHQuY2hpbGRyZW4pOm4ucHVzaC5hcHBseShuLHQuY2hpbGRyZW4pLHQ9bi5wb3AoKTtyZXR1cm4gZX0sX2J1aWxkOmZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpLG89bi1lKzEscz10aGlzLl9tYXhFbnRyaWVzO2lmKG88PXMpcmV0dXJuIE10KGk9R3QodC5zbGljZShlLG4rMSkpLHRoaXMudG9CQm94KSxpO3J8fChyPU1hdGguY2VpbChNYXRoLmxvZyhvKS9NYXRoLmxvZyhzKSkscz1NYXRoLmNlaWwoby9NYXRoLnBvdyhzLHItMSkpKSwoaT1HdChbXSkpLmxlYWY9ITEsaS5oZWlnaHQ9cjt2YXIgYSx1LGwsYyxoPU1hdGguY2VpbChvL3MpLHA9aCpNYXRoLmNlaWwoTWF0aC5zcXJ0KHMpKTtmb3IocXQodCxlLG4scCx0aGlzLmNvbXBhcmVNaW5YKSxhPWU7YTw9bjthKz1wKWZvcihxdCh0LGEsbD1NYXRoLm1pbihhK3AtMSxuKSxoLHRoaXMuY29tcGFyZU1pblkpLHU9YTt1PD1sO3UrPWgpYz1NYXRoLm1pbih1K2gtMSxsKSxpLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQodCx1LGMsci0xKSk7cmV0dXJuIE10KGksdGhpcy50b0JCb3gpLGl9LF9jaG9vc2VTdWJ0cmVlOmZ1bmN0aW9uKHQsZSxuLHIpe2Zvcih2YXIgaSxvLHMsYSx1LGwsYyxoLHAsZjtyLnB1c2goZSksIWUubGVhZiYmci5sZW5ndGgtMSE9PW47KXtmb3IoYz1oPTEvMCxpPTAsbz1lLmNoaWxkcmVuLmxlbmd0aDtpPG87aSsrKXU9QXQocz1lLmNoaWxkcmVuW2ldKSxwPXQsZj1zLChsPShNYXRoLm1heChmLm1heFgscC5tYXhYKS1NYXRoLm1pbihmLm1pblgscC5taW5YKSkqKE1hdGgubWF4KGYubWF4WSxwLm1heFkpLU1hdGgubWluKGYubWluWSxwLm1pblkpKS11KTxoPyhoPWwsYz11PGM/dTpjLGE9cyk6bD09PWgmJnU8YyYmKGM9dSxhPXMpO2U9YXx8ZS5jaGlsZHJlblswXX1yZXR1cm4gZX0sX2luc2VydDpmdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy50b0JCb3gsaT1uP3Q6cih0KSxvPVtdLHM9dGhpcy5fY2hvb3NlU3VidHJlZShpLHRoaXMuZGF0YSxlLG8pO2ZvcihzLmNoaWxkcmVuLnB1c2godCksT3QocyxpKTtlPj0wJiZvW2VdLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzOyl0aGlzLl9zcGxpdChvLGUpLGUtLTt0aGlzLl9hZGp1c3RQYXJlbnRCQm94ZXMoaSxvLGUpfSxfc3BsaXQ6ZnVuY3Rpb24odCxlKXt2YXIgbj10W2VdLHI9bi5jaGlsZHJlbi5sZW5ndGgsaT10aGlzLl9taW5FbnRyaWVzO3RoaXMuX2Nob29zZVNwbGl0QXhpcyhuLGkscik7dmFyIG89dGhpcy5fY2hvb3NlU3BsaXRJbmRleChuLGkscikscz1HdChuLmNoaWxkcmVuLnNwbGljZShvLG4uY2hpbGRyZW4ubGVuZ3RoLW8pKTtzLmhlaWdodD1uLmhlaWdodCxzLmxlYWY9bi5sZWFmLE10KG4sdGhpcy50b0JCb3gpLE10KHMsdGhpcy50b0JCb3gpLGU/dFtlLTFdLmNoaWxkcmVuLnB1c2gocyk6dGhpcy5fc3BsaXRSb290KG4scyl9LF9zcGxpdFJvb3Q6ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGE9R3QoW3QsZV0pLHRoaXMuZGF0YS5oZWlnaHQ9dC5oZWlnaHQrMSx0aGlzLmRhdGEubGVhZj0hMSxNdCh0aGlzLmRhdGEsdGhpcy50b0JCb3gpfSxfY2hvb3NlU3BsaXRJbmRleDpmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvLHMsYSx1LGwsYyxoLHAsZixnLGQseTtmb3IodT1sPTEvMCxyPWU7cjw9bi1lO3IrKylpPUx0KHQsMCxyLHRoaXMudG9CQm94KSxvPUx0KHQscixuLHRoaXMudG9CQm94KSxoPWkscD1vLGY9dm9pZCAwLGc9dm9pZCAwLGQ9dm9pZCAwLHk9dm9pZCAwLGY9TWF0aC5tYXgoaC5taW5YLHAubWluWCksZz1NYXRoLm1heChoLm1pblkscC5taW5ZKSxkPU1hdGgubWluKGgubWF4WCxwLm1heFgpLHk9TWF0aC5taW4oaC5tYXhZLHAubWF4WSkscz1NYXRoLm1heCgwLGQtZikqTWF0aC5tYXgoMCx5LWcpLGE9QXQoaSkrQXQobyksczx1Pyh1PXMsYz1yLGw9YTxsP2E6bCk6cz09PXUmJmE8bCYmKGw9YSxjPXIpO3JldHVybiBjfSxfY2hvb3NlU3BsaXRBeGlzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmxlYWY/dGhpcy5jb21wYXJlTWluWDpSdCxpPXQubGVhZj90aGlzLmNvbXBhcmVNaW5ZOlR0O3RoaXMuX2FsbERpc3RNYXJnaW4odCxlLG4scik8dGhpcy5fYWxsRGlzdE1hcmdpbih0LGUsbixpKSYmdC5jaGlsZHJlbi5zb3J0KHIpfSxfYWxsRGlzdE1hcmdpbjpmdW5jdGlvbih0LGUsbixyKXt0LmNoaWxkcmVuLnNvcnQocik7dmFyIGksbyxzPXRoaXMudG9CQm94LGE9THQodCwwLGUscyksdT1MdCh0LG4tZSxuLHMpLGw9RHQoYSkrRHQodSk7Zm9yKGk9ZTtpPG4tZTtpKyspbz10LmNoaWxkcmVuW2ldLE90KGEsdC5sZWFmP3Mobyk6byksbCs9RHQoYSk7Zm9yKGk9bi1lLTE7aT49ZTtpLS0pbz10LmNoaWxkcmVuW2ldLE90KHUsdC5sZWFmP3Mobyk6byksbCs9RHQodSk7cmV0dXJuIGx9LF9hZGp1c3RQYXJlbnRCQm94ZXM6ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uO3I+PTA7ci0tKU90KGVbcl0sdCl9LF9jb25kZW5zZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj10Lmxlbmd0aC0xO24+PTA7bi0tKTA9PT10W25dLmNoaWxkcmVuLmxlbmd0aD9uPjA/KGU9dFtuLTFdLmNoaWxkcmVuKS5zcGxpY2UoZS5pbmRleE9mKHRbbl0pLDEpOnRoaXMuY2xlYXIoKTpNdCh0W25dLHRoaXMudG9CQm94KX0sX2luaXRGb3JtYXQ6ZnVuY3Rpb24odCl7dmFyIGU9WyJyZXR1cm4gYSIsIiAtIGIiLCI7Il07dGhpcy5jb21wYXJlTWluWD1uZXcgRnVuY3Rpb24oImEiLCJiIixlLmpvaW4odFswXSkpLHRoaXMuY29tcGFyZU1pblk9bmV3IEZ1bmN0aW9uKCJhIiwiYiIsZS5qb2luKHRbMV0pKSx0aGlzLnRvQkJveD1uZXcgRnVuY3Rpb24oImEiLCJyZXR1cm4ge21pblg6IGEiK3RbMF0rIiwgbWluWTogYSIrdFsxXSsiLCBtYXhYOiBhIit0WzJdKyIsIG1heFk6IGEiK3RbM10rIn07Iil9fSxOdC5kZWZhdWx0PVN0O3ZhciB6dD1mdW5jdGlvbih0LGUsbil7dmFyIHI9dCplLGk9anQqdCxvPWktKGktdCkscz10LW8sYT1qdCplLHU9YS0oYS1lKSxsPWUtdSxjPXMqbC0oci1vKnUtcyp1LW8qbCk7aWYobilyZXR1cm4gblswXT1jLG5bMV09cixuO3JldHVybltjLHJdfSxqdD0rKE1hdGgucG93KDIsMjcpKzEpO3ZhciBVdD1mdW5jdGlvbih0LGUpe3ZhciBuPTB8dC5sZW5ndGgscj0wfGUubGVuZ3RoO2lmKDE9PT1uJiYxPT09cilyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj10K2Uscj1uLXQsaT10LShuLXIpKyhlLXIpO2lmKGkpcmV0dXJuW2ksbl07cmV0dXJuW25dfSh0WzBdLGVbMF0pO3ZhciBpLG8scz1uZXcgQXJyYXkobityKSxhPTAsdT0wLGw9MCxjPU1hdGguYWJzLGg9dFt1XSxwPWMoaCksZj1lW2xdLGc9YyhmKTtwPGc/KG89aCwodSs9MSk8biYmKGg9dFt1XSxwPWMoaCkpKToobz1mLChsKz0xKTxyJiYoZj1lW2xdLGc9YyhmKSkpO3U8biYmcDxnfHxsPj1yPyhpPWgsKHUrPTEpPG4mJihoPXRbdV0scD1jKGgpKSk6KGk9ZiwobCs9MSk8ciYmKGY9ZVtsXSxnPWMoZikpKTt2YXIgZCx5LHY9aStvLF89di1pLG09by1fLHg9bSxFPXY7Zm9yKDt1PG4mJmw8cjspcDxnPyhpPWgsKHUrPTEpPG4mJihoPXRbdV0scD1jKGgpKSk6KGk9ZiwobCs9MSk8ciYmKGY9ZVtsXSxnPWMoZikpKSwobT0obz14KS0oXz0odj1pK28pLWkpKSYmKHNbYSsrXT1tKSx4PUUtKChkPUUrdiktKHk9ZC1FKSkrKHYteSksRT1kO2Zvcig7dTxuOykobT0obz14KS0oXz0odj0oaT1oKStvKS1pKSkmJihzW2ErK109bSkseD1FLSgoZD1FK3YpLSh5PWQtRSkpKyh2LXkpLEU9ZCwodSs9MSk8biYmKGg9dFt1XSk7Zm9yKDtsPHI7KShtPShvPXgpLShfPSh2PShpPWYpK28pLWkpKSYmKHNbYSsrXT1tKSx4PUUtKChkPUUrdiktKHk9ZC1FKSkrKHYteSksRT1kLChsKz0xKTxyJiYoZj1lW2xdKTt4JiYoc1thKytdPXgpO0UmJihzW2ErK109RSk7YXx8KHNbYSsrXT0wKTtyZXR1cm4gcy5sZW5ndGg9YSxzfTt2YXIgVnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQrZSxpPXItdCxvPWUtaSxzPXQtKHItaSk7aWYobilyZXR1cm4gblswXT1zK28sblsxXT1yLG47cmV0dXJuW3MrbyxyXX07dmFyIFh0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5sZW5ndGg7aWYoMT09PW4pe3ZhciByPXp0KHRbMF0sZSk7cmV0dXJuIHJbMF0/cjpbclsxXV19dmFyIGk9bmV3IEFycmF5KDIqbiksbz1bLjEsLjFdLHM9Wy4xLC4xXSxhPTA7enQodFswXSxlLG8pLG9bMF0mJihpW2ErK109b1swXSk7Zm9yKHZhciB1PTE7dTxuOysrdSl7enQodFt1XSxlLHMpO3ZhciBsPW9bMV07VnQobCxzWzBdLG8pLG9bMF0mJihpW2ErK109b1swXSk7dmFyIGM9c1sxXSxoPW9bMV0scD1jK2gsZj1oLShwLWMpO29bMV09cCxmJiYoaVthKytdPWYpfW9bMV0mJihpW2ErK109b1sxXSk7MD09PWEmJihpW2ErK109MCk7cmV0dXJuIGkubGVuZ3RoPWEsaX07dmFyIFl0PWZ1bmN0aW9uKHQsZSl7dmFyIG49MHx0Lmxlbmd0aCxyPTB8ZS5sZW5ndGg7aWYoMT09PW4mJjE9PT1yKXJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQrZSxyPW4tdCxpPXQtKG4tcikrKGUtcik7aWYoaSlyZXR1cm5baSxuXTtyZXR1cm5bbl19KHRbMF0sLWVbMF0pO3ZhciBpLG8scz1uZXcgQXJyYXkobityKSxhPTAsdT0wLGw9MCxjPU1hdGguYWJzLGg9dFt1XSxwPWMoaCksZj0tZVtsXSxnPWMoZik7cDxnPyhvPWgsKHUrPTEpPG4mJihoPXRbdV0scD1jKGgpKSk6KG89ZiwobCs9MSk8ciYmKGY9LWVbbF0sZz1jKGYpKSk7dTxuJiZwPGd8fGw+PXI/KGk9aCwodSs9MSk8biYmKGg9dFt1XSxwPWMoaCkpKTooaT1mLChsKz0xKTxyJiYoZj0tZVtsXSxnPWMoZikpKTt2YXIgZCx5LHY9aStvLF89di1pLG09by1fLHg9bSxFPXY7Zm9yKDt1PG4mJmw8cjspcDxnPyhpPWgsKHUrPTEpPG4mJihoPXRbdV0scD1jKGgpKSk6KGk9ZiwobCs9MSk8ciYmKGY9LWVbbF0sZz1jKGYpKSksKG09KG89eCktKF89KHY9aStvKS1pKSkmJihzW2ErK109bSkseD1FLSgoZD1FK3YpLSh5PWQtRSkpKyh2LXkpLEU9ZDtmb3IoO3U8bjspKG09KG89eCktKF89KHY9KGk9aCkrbyktaSkpJiYoc1thKytdPW0pLHg9RS0oKGQ9RSt2KS0oeT1kLUUpKSsodi15KSxFPWQsKHUrPTEpPG4mJihoPXRbdV0pO2Zvcig7bDxyOykobT0obz14KS0oXz0odj0oaT1mKStvKS1pKSkmJihzW2ErK109bSkseD1FLSgoZD1FK3YpLSh5PWQtRSkpKyh2LXkpLEU9ZCwobCs9MSk8ciYmKGY9LWVbbF0pO3gmJihzW2ErK109eCk7RSYmKHNbYSsrXT1FKTthfHwoc1thKytdPTApO3JldHVybiBzLmxlbmd0aD1hLHN9O3ZhciBIdD1CdCgoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkodC5sZW5ndGgtMSkscj0xO3I8dC5sZW5ndGg7KytyKWZvcih2YXIgaT1uW3ItMV09bmV3IEFycmF5KHQubGVuZ3RoLTEpLG89MCxzPTA7bzx0Lmxlbmd0aDsrK28pbyE9PWUmJihpW3MrK109dFtyXVtvXSk7cmV0dXJuIG59ZnVuY3Rpb24gbih0KXtpZigxPT09dC5sZW5ndGgpcmV0dXJuIHRbMF07aWYoMj09PXQubGVuZ3RoKXJldHVyblsic3VtKCIsdFswXSwiLCIsdFsxXSwiKSJdLmpvaW4oIiIpO3ZhciBlPXQubGVuZ3RoPj4xO3JldHVyblsic3VtKCIsbih0LnNsaWNlKDAsZSkpLCIsIixuKHQuc2xpY2UoZSkpLCIpIl0uam9pbigiIil9ZnVuY3Rpb24gcih0KXtpZigyPT09dC5sZW5ndGgpcmV0dXJuW1sic3VtKHByb2QoIix0WzBdWzBdLCIsIix0WzFdWzFdLCIpLHByb2QoLSIsdFswXVsxXSwiLCIsdFsxXVswXSwiKSkiXS5qb2luKCIiKV07Zm9yKHZhciBpPVtdLG89MDtvPHQubGVuZ3RoOysrbylpLnB1c2goWyJzY2FsZSgiLG4ocihlKHQsbykpKSwiLCIsKHM9bywxJnM/Ii0iOiIiKSx0WzBdW29dLCIpIl0uam9pbigiIikpO3JldHVybiBpO3ZhciBzfWZ1bmN0aW9uIGkodCl7Zm9yKHZhciBpPVtdLG89W10scz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7KytuKXtlW25dPW5ldyBBcnJheSh0KTtmb3IodmFyIHI9MDtyPHQ7KytyKWVbbl1bcl09WyJtIixyLCJbIix0LW4tMSwiXSJdLmpvaW4oIiIpfXJldHVybiBlfSh0KSxhPVtdLHU9MDt1PHQ7Kyt1KTA9PSgxJnUpP2kucHVzaC5hcHBseShpLHIoZShzLHUpKSk6by5wdXNoLmFwcGx5KG8scihlKHMsdSkpKSxhLnB1c2goIm0iK3UpO3ZhciBsPW4oaSksYz1uKG8pLGg9Im9yaWVudGF0aW9uIit0KyJFeGFjdCIscD1bImZ1bmN0aW9uICIsaCwiKCIsYS5qb2luKCksIil7dmFyIHA9IixsLCIsbj0iLGMsIixkPXN1YihwLG4pO3JldHVybiBkW2QubGVuZ3RoLTFdO307cmV0dXJuICIsaF0uam9pbigiIik7cmV0dXJuIG5ldyBGdW5jdGlvbigic3VtIiwicHJvZCIsInNjYWxlIiwic3ViIixwKShVdCx6dCxYdCxZdCl9dmFyIG89aSgzKSxzPWkoNCksYT1bZnVuY3Rpb24oKXtyZXR1cm4gMH0sZnVuY3Rpb24oKXtyZXR1cm4gMH0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZVswXS10WzBdfSxmdW5jdGlvbih0LGUsbil7dmFyIHIsaT0odFsxXS1uWzFdKSooZVswXS1uWzBdKSxzPSh0WzBdLW5bMF0pKihlWzFdLW5bMV0pLGE9aS1zO2lmKGk+MCl7aWYoczw9MClyZXR1cm4gYTtyPWkrc31lbHNle2lmKCEoaTwwKSlyZXR1cm4gYTtpZihzPj0wKXJldHVybiBhO3I9LShpK3MpfXZhciB1PTMzMzA2NjkwNzM4NzU0NzE2ZS0zMipyO3JldHVybiBhPj11fHxhPD0tdT9hOm8odCxlLG4pfSxmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10WzBdLXJbMF0sbz1lWzBdLXJbMF0sYT1uWzBdLXJbMF0sdT10WzFdLXJbMV0sbD1lWzFdLXJbMV0sYz1uWzFdLXJbMV0saD10WzJdLXJbMl0scD1lWzJdLXJbMl0sZj1uWzJdLXJbMl0sZz1vKmMsZD1hKmwseT1hKnUsdj1pKmMsXz1pKmwsbT1vKnUseD1oKihnLWQpK3AqKHktdikrZiooXy1tKSxFPTc3NzE1NjExNzIzNzYxMDNlLTMxKigoTWF0aC5hYnMoZykrTWF0aC5hYnMoZCkpKk1hdGguYWJzKGgpKyhNYXRoLmFicyh5KStNYXRoLmFicyh2KSkqTWF0aC5hYnMocCkrKE1hdGguYWJzKF8pK01hdGguYWJzKG0pKSpNYXRoLmFicyhmKSk7cmV0dXJuIHg+RXx8LXg+RT94OnModCxlLG4scil9XTtmdW5jdGlvbiB1KHQpe3ZhciBlPWFbdC5sZW5ndGhdO3JldHVybiBlfHwoZT1hW3QubGVuZ3RoXT1pKHQubGVuZ3RoKSksZS5hcHBseSh2b2lkIDAsdCl9IWZ1bmN0aW9uKCl7Zm9yKDthLmxlbmd0aDw9NTspYS5wdXNoKGkoYS5sZW5ndGgpKTtmb3IodmFyIGU9W10sbj1bInNsb3ciXSxyPTA7cjw9NTsrK3IpZS5wdXNoKCJhIityKSxuLnB1c2goIm8iK3IpO3ZhciBvPVsiZnVuY3Rpb24gZ2V0T3JpZW50YXRpb24oIixlLmpvaW4oKSwiKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOmNhc2UgMTpyZXR1cm4gMDsiXTtmb3Iocj0yO3I8PTU7KytyKW8ucHVzaCgiY2FzZSAiLHIsIjpyZXR1cm4gbyIsciwiKCIsZS5zbGljZSgwLHIpLmpvaW4oKSwiKTsiKTtvLnB1c2goIn12YXIgcz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBpPTA7aTxhcmd1bWVudHMubGVuZ3RoOysraSl7c1tpXT1hcmd1bWVudHNbaV19O3JldHVybiBzbG93KHMpO31yZXR1cm4gZ2V0T3JpZW50YXRpb24iKSxuLnB1c2goby5qb2luKCIiKSk7dmFyIHM9RnVuY3Rpb24uYXBwbHkodm9pZCAwLG4pO2Zvcih0LmV4cG9ydHM9cy5hcHBseSh2b2lkIDAsW3VdLmNvbmNhdChhKSkscj0wO3I8PTU7KytyKXQuZXhwb3J0c1tyXT1hW3JdfSgpfSkpLFd0PWZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoO2lmKGU8Myl7Zm9yKHZhciBuPW5ldyBBcnJheShlKSxyPTA7cjxlOysrciluW3JdPXI7cmV0dXJuIDI9PT1lJiZ0WzBdWzBdPT09dFsxXVswXSYmdFswXVsxXT09PXRbMV1bMV0/WzBdOm59dmFyIGk9bmV3IEFycmF5KGUpO2ZvcihyPTA7cjxlOysrcilpW3JdPXI7aS5zb3J0KChmdW5jdGlvbihlLG4pe3ZhciByPXRbZV1bMF0tdFtuXVswXTtyZXR1cm4gcnx8dFtlXVsxXS10W25dWzFdfSkpO3ZhciBvPVtpWzBdLGlbMV1dLHM9W2lbMF0saVsxXV07Zm9yKHI9MjtyPGU7KytyKXtmb3IodmFyIGE9aVtyXSx1PXRbYV0sbD1vLmxlbmd0aDtsPjEmJkp0KHRbb1tsLTJdXSx0W29bbC0xXV0sdSk8PTA7KWwtPTEsby5wb3AoKTtmb3Ioby5wdXNoKGEpLGw9cy5sZW5ndGg7bD4xJiZKdCh0W3NbbC0yXV0sdFtzW2wtMV1dLHUpPj0wOylsLT0xLHMucG9wKCk7cy5wdXNoKGEpfW49bmV3IEFycmF5KHMubGVuZ3RoK28ubGVuZ3RoLTIpO2Zvcih2YXIgYz0wLGg9KHI9MCxvLmxlbmd0aCk7cjxoOysrciluW2MrK109b1tyXTtmb3IodmFyIHA9cy5sZW5ndGgtMjtwPjA7LS1wKW5bYysrXT1zW3BdO3JldHVybiBufSxKdD1IdFszXTt2YXIgWnQ9UXQsS3Q9UXQ7ZnVuY3Rpb24gUXQodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBRdCkpcmV0dXJuIG5ldyBRdCh0LGUpO2lmKHRoaXMuZGF0YT10fHxbXSx0aGlzLmxlbmd0aD10aGlzLmRhdGEubGVuZ3RoLHRoaXMuY29tcGFyZT1lfHwkdCx0aGlzLmxlbmd0aD4wKWZvcih2YXIgbj0odGhpcy5sZW5ndGg+PjEpLTE7bj49MDtuLS0pdGhpcy5fZG93bihuKX1mdW5jdGlvbiAkdCh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6MH1RdC5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnB1c2godCksdGhpcy5sZW5ndGgrKyx0aGlzLl91cCh0aGlzLmxlbmd0aC0xKX0scG9wOmZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMubGVuZ3RoKXt2YXIgdD10aGlzLmRhdGFbMF07cmV0dXJuIHRoaXMubGVuZ3RoLS0sdGhpcy5sZW5ndGg+MCYmKHRoaXMuZGF0YVswXT10aGlzLmRhdGFbdGhpcy5sZW5ndGhdLHRoaXMuX2Rvd24oMCkpLHRoaXMuZGF0YS5wb3AoKSx0fX0scGVlazpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFbMF19LF91cDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kYXRhLG49dGhpcy5jb21wYXJlLHI9ZVt0XTt0PjA7KXt2YXIgaT10LTE+PjEsbz1lW2ldO2lmKG4ocixvKT49MClicmVhaztlW3RdPW8sdD1pfWVbdF09cn0sX2Rvd246ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZGF0YSxuPXRoaXMuY29tcGFyZSxyPXRoaXMubGVuZ3RoPj4xLGk9ZVt0XTt0PHI7KXt2YXIgbz0xKyh0PDwxKSxzPW8rMSxhPWVbb107aWYoczx0aGlzLmxlbmd0aCYmbihlW3NdLGEpPDAmJihvPXMsYT1lW3NdKSxuKGEsaSk+PTApYnJlYWs7ZVt0XT1hLHQ9b31lW3RdPWl9fSxadC5kZWZhdWx0PUt0O3ZhciB0ZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10WzBdLHI9dFsxXSxpPSExLG89MCxzPWUubGVuZ3RoLTE7bzxlLmxlbmd0aDtzPW8rKyl7dmFyIGE9ZVtvXVswXSx1PWVbb11bMV0sbD1lW3NdWzBdLGM9ZVtzXVsxXTt1PnIhPWM+ciYmbjwobC1hKSooci11KS8oYy11KSthJiYoaT0haSl9cmV0dXJuIGl9LGVlPUh0WzNdLG5lPWllLHJlPWllO2Z1bmN0aW9uIGllKHQsZSxuKXtlPU1hdGgubWF4KDAsdm9pZCAwPT09ZT8yOmUpLG49bnx8MDtmb3IodmFyIHIsaT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXSxuPXRbMF0scj10WzBdLGk9dFswXSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBzPXRbb107c1swXTxlWzBdJiYoZT1zKSxzWzBdPnJbMF0mJihyPXMpLHNbMV08blsxXSYmKG49cyksc1sxXT5pWzFdJiYoaT1zKX12YXIgYT1bZSxuLHIsaV0sdT1hLnNsaWNlKCk7Zm9yKG89MDtvPHQubGVuZ3RoO28rKyl0ZSh0W29dLGEpfHx1LnB1c2godFtvXSk7dmFyIGw9V3QodSksYz1bXTtmb3Iobz0wO288bC5sZW5ndGg7bysrKWMucHVzaCh1W2xbb11dKTtyZXR1cm4gY30odCksbz1OdCgxNixbIlswXSIsIlsxXSIsIlswXSIsIlsxXSJdKS5sb2FkKHQpLHM9W10sYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgdT1pW2FdO28ucmVtb3ZlKHUpLHI9aGUodSxyKSxzLnB1c2gocil9dmFyIGw9TnQoMTYpO2ZvcihhPTA7YTxzLmxlbmd0aDthKyspbC5pbnNlcnQoY2Uoc1thXSkpO2Zvcih2YXIgYz1lKmUsaD1uKm47cy5sZW5ndGg7KXt2YXIgcD1zLnNoaWZ0KCksZj1wLnAsZz1wLm5leHQucCxkPXBlKGYsZyk7aWYoIShkPGgpKXt2YXIgeT1kL2M7KHU9b2UobyxwLnByZXYucCxmLGcscC5uZXh0Lm5leHQucCx5LGwpKSYmTWF0aC5taW4ocGUodSxmKSxwZSh1LGcpKTw9eSYmKHMucHVzaChwKSxzLnB1c2goaGUodSxwKSksby5yZW1vdmUodSksbC5yZW1vdmUocCksbC5pbnNlcnQoY2UocCkpLGwuaW5zZXJ0KGNlKHAubmV4dCkpKX19cD1yO3ZhciB2PVtdO2Rve3YucHVzaChwLnApLHA9cC5uZXh0fXdoaWxlKHAhPT1yKTtyZXR1cm4gdi5wdXNoKHAucCksdn1mdW5jdGlvbiBvZSh0LGUsbixyLGksbyxzKXtmb3IodmFyIGE9bmV3IFp0KG51bGwsc2UpLHU9dC5kYXRhO3U7KXtmb3IodmFyIGw9MDtsPHUuY2hpbGRyZW4ubGVuZ3RoO2wrKyl7dmFyIGM9dS5jaGlsZHJlbltsXSxoPXUubGVhZj9mZShjLG4scik6YWUobixyLGMpO2g+b3x8YS5wdXNoKHtub2RlOmMsZGlzdDpofSl9Zm9yKDthLmxlbmd0aCYmIWEucGVlaygpLm5vZGUuY2hpbGRyZW47KXt2YXIgcD1hLnBvcCgpLGY9cC5ub2RlLGc9ZmUoZixlLG4pLGQ9ZmUoZixyLGkpO2lmKHAuZGlzdDxnJiZwLmRpc3Q8ZCYmbGUobixmLHMpJiZsZShyLGYscykpcmV0dXJuIGZ9KHU9YS5wb3AoKSkmJih1PXUubm9kZSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gc2UodCxlKXtyZXR1cm4gdC5kaXN0LWUuZGlzdH1mdW5jdGlvbiBhZSh0LGUsbil7aWYodWUodCxuKXx8dWUoZSxuKSlyZXR1cm4gMDt2YXIgcj1nZSh0WzBdLHRbMV0sZVswXSxlWzFdLG4ubWluWCxuLm1pblksbi5tYXhYLG4ubWluWSk7aWYoMD09PXIpcmV0dXJuIDA7dmFyIGk9Z2UodFswXSx0WzFdLGVbMF0sZVsxXSxuLm1pblgsbi5taW5ZLG4ubWluWCxuLm1heFkpO2lmKDA9PT1pKXJldHVybiAwO3ZhciBvPWdlKHRbMF0sdFsxXSxlWzBdLGVbMV0sbi5tYXhYLG4ubWluWSxuLm1heFgsbi5tYXhZKTtpZigwPT09bylyZXR1cm4gMDt2YXIgcz1nZSh0WzBdLHRbMV0sZVswXSxlWzFdLG4ubWluWCxuLm1heFksbi5tYXhYLG4ubWF4WSk7cmV0dXJuIDA9PT1zPzA6TWF0aC5taW4ocixpLG8scyl9ZnVuY3Rpb24gdWUodCxlKXtyZXR1cm4gdFswXT49ZS5taW5YJiZ0WzBdPD1lLm1heFgmJnRbMV0+PWUubWluWSYmdFsxXTw9ZS5tYXhZfWZ1bmN0aW9uIGxlKHQsZSxuKXtmb3IodmFyIHIsaSxvLHMsYT1NYXRoLm1pbih0WzBdLGVbMF0pLHU9TWF0aC5taW4odFsxXSxlWzFdKSxsPU1hdGgubWF4KHRbMF0sZVswXSksYz1NYXRoLm1heCh0WzFdLGVbMV0pLGg9bi5zZWFyY2goe21pblg6YSxtaW5ZOnUsbWF4WDpsLG1heFk6Y30pLHA9MDtwPGgubGVuZ3RoO3ArKylpZihyPWhbcF0ucCxpPWhbcF0ubmV4dC5wLG89dCxyIT09KHM9ZSkmJmkhPT1vJiZlZShyLGksbyk+MCE9ZWUocixpLHMpPjAmJmVlKG8scyxyKT4wIT1lZShvLHMsaSk+MClyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBjZSh0KXt2YXIgZT10LnAsbj10Lm5leHQucDtyZXR1cm4gdC5taW5YPU1hdGgubWluKGVbMF0sblswXSksdC5taW5ZPU1hdGgubWluKGVbMV0sblsxXSksdC5tYXhYPU1hdGgubWF4KGVbMF0sblswXSksdC5tYXhZPU1hdGgubWF4KGVbMV0sblsxXSksdH1mdW5jdGlvbiBoZSh0LGUpe3ZhciBuPXtwOnQscHJldjpudWxsLG5leHQ6bnVsbCxtaW5YOjAsbWluWTowLG1heFg6MCxtYXhZOjB9O3JldHVybiBlPyhuLm5leHQ9ZS5uZXh0LG4ucHJldj1lLGUubmV4dC5wcmV2PW4sZS5uZXh0PW4pOihuLnByZXY9bixuLm5leHQ9biksbn1mdW5jdGlvbiBwZSh0LGUpe3ZhciBuPXRbMF0tZVswXSxyPXRbMV0tZVsxXTtyZXR1cm4gbipuK3Iqcn1mdW5jdGlvbiBmZSh0LGUsbil7dmFyIHI9ZVswXSxpPWVbMV0sbz1uWzBdLXIscz1uWzFdLWk7aWYoMCE9PW98fDAhPT1zKXt2YXIgYT0oKHRbMF0tcikqbysodFsxXS1pKSpzKS8obypvK3Mqcyk7YT4xPyhyPW5bMF0saT1uWzFdKTphPjAmJihyKz1vKmEsaSs9cyphKX1yZXR1cm4obz10WzBdLXIpKm8rKHM9dFsxXS1pKSpzfWZ1bmN0aW9uIGdlKHQsZSxuLHIsaSxvLHMsYSl7dmFyIHUsbCxjLGgscD1uLXQsZj1yLWUsZz1zLWksZD1hLW8seT10LWksdj1lLW8sXz1wKnArZipmLG09cCpnK2YqZCx4PWcqZytkKmQsRT1wKnkrZip2LGI9Zyp5K2Qqdix3PV8qeC1tKm0sST13LE49dzswPT09dz8obD0wLEk9MSxoPWIsTj14KTooaD1fKmItbSpFLChsPW0qYi14KkUpPDA/KGw9MCxoPWIsTj14KTpsPkkmJihsPUksaD1iK20sTj14KSksaDwwPyhoPTAsLUU8MD9sPTA6LUU+Xz9sPUk6KGw9LUUsST1fKSk6aD5OJiYoaD1OLC1FK208MD9sPTA6LUUrbT5fP2w9SToobD0tRSttLEk9XykpO3ZhciBTPSgxLShjPTA9PT1oPzA6aC9OKSkqaStjKnMtKCgxLSh1PTA9PT1sPzA6bC9JKSkqdCt1Km4pLEM9KDEtYykqbytjKmEtKCgxLXUpKmUrdSpyKTtyZXR1cm4gUypTK0MqQ31mdW5jdGlvbiBkZSh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KSxlLmNvbmNhdml0eT1lLmNvbmNhdml0eXx8MS8wO3ZhciBuPVtdO2lmKFIodCwoZnVuY3Rpb24odCl7bi5wdXNoKFt0WzBdLHRbMV1dKX0pKSwhbi5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHI9bmUobixlLmNvbmNhdml0eSk7cmV0dXJuIHIubGVuZ3RoPjM/bChbcl0pOm51bGx9ZnVuY3Rpb24geWUodCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSwhdCl0aHJvdyBuZXcgRXJyb3IoInBvaW50IGlzIHJlcXVpcmVkIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJwb2x5Z29uIGlzIHJlcXVpcmVkIik7dmFyIHI9Syh0KSxpPXJ0KGUpLG89aS50eXBlLHM9ZS5iYm94LGE9aS5jb29yZGluYXRlcztpZihzJiYhMT09PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGVbMF08PXRbMF0mJmVbMV08PXRbMV0mJmVbMl0+PXRbMF0mJmVbM10+PXRbMV19KHIscykpcmV0dXJuITE7IlBvbHlnb24iPT09byYmKGE9W2FdKTtmb3IodmFyIHU9ITEsbD0wO2w8YS5sZW5ndGgmJiF1O2wrKylpZih2ZShyLGFbbF1bMF0sbi5pZ25vcmVCb3VuZGFyeSkpe2Zvcih2YXIgYz0hMSxoPTE7aDxhW2xdLmxlbmd0aCYmIWM7KXZlKHIsYVtsXVtoXSwhbi5pZ25vcmVCb3VuZGFyeSkmJihjPSEwKSxoKys7Y3x8KHU9ITApfXJldHVybiB1fWZ1bmN0aW9uIHZlKHQsZSxuKXt2YXIgcj0hMTtlWzBdWzBdPT09ZVtlLmxlbmd0aC0xXVswXSYmZVswXVsxXT09PWVbZS5sZW5ndGgtMV1bMV0mJihlPWUuc2xpY2UoMCxlLmxlbmd0aC0xKSk7Zm9yKHZhciBpPTAsbz1lLmxlbmd0aC0xO2k8ZS5sZW5ndGg7bz1pKyspe3ZhciBzPWVbaV1bMF0sYT1lW2ldWzFdLHU9ZVtvXVswXSxsPWVbb11bMV07aWYodFsxXSoocy11KSthKih1LXRbMF0pK2wqKHRbMF0tcyk9PTAmJihzLXRbMF0pKih1LXRbMF0pPD0wJiYoYS10WzFdKSoobC10WzFdKTw9MClyZXR1cm4hbjthPnRbMV0hPWw+dFsxXSYmdFswXTwodS1zKSoodFsxXS1hKS8obC1hKStzJiYocj0hcil9cmV0dXJuIHJ9ZnVuY3Rpb24gX2UodCxlKXt2YXIgbj1bXTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXt2YXIgcj0hMTtpZigiUG9pbnQiPT09dC5nZW9tZXRyeS50eXBlKXEoZSwoZnVuY3Rpb24oZSl7eWUodCxlKSYmKHI9ITApfSkpLHImJm4ucHVzaCh0KTtlbHNle2lmKCJNdWx0aVBvaW50IiE9PXQuZ2VvbWV0cnkudHlwZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGdlb21ldHJ5IG11c3QgYmUgYSBQb2ludCBvciBNdWx0aVBvaW50Iik7dmFyIGk9W107cShlLChmdW5jdGlvbihlKXtSKHQsKGZ1bmN0aW9uKHQpe3llKHQsZSkmJihyPSEwLGkucHVzaCh0KSl9KSl9KSksciYmbi5wdXNoKGQoaSkpfX0pKSxmKG4pfWZ1bmN0aW9uIG1lKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9Syh0KSxpPUsoZSksbz1JKGlbMV0tclsxXSkscz1JKGlbMF0tclswXSksYT1JKHJbMV0pLHU9SShpWzFdKSxsPU1hdGgucG93KE1hdGguc2luKG8vMiksMikrTWF0aC5wb3coTWF0aC5zaW4ocy8yKSwyKSpNYXRoLmNvcyhhKSpNYXRoLmNvcyh1KTtyZXR1cm4gbSgyKk1hdGguYXRhbjIoTWF0aC5zcXJ0KGwpLE1hdGguc3FydCgxLWwpKSxuLnVuaXRzKX1mdW5jdGlvbiB4ZSh0LGUpe3ZhciBuPSExO3JldHVybiBmKGZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoPDMpcmV0dXJuW107dC5zb3J0KGJlKTt2YXIgZSxuLHIsaSxvLHMsYT10Lmxlbmd0aC0xLHU9dFthXS54LGw9dFswXS54LGM9dFthXS55LGg9YyxwPTFlLTEyO2Zvcig7YS0tOyl0W2FdLnk8YyYmKGM9dFthXS55KSx0W2FdLnk+aCYmKGg9dFthXS55KTt2YXIgZixnPWwtdSxkPWgtYyx5PWc+ZD9nOmQsdj0uNSoobCt1KSxfPS41KihoK2MpLG09W25ldyBFZSh7X19zZW50aW5lbDohMCx4OnYtMjAqeSx5Ol8teX0se19fc2VudGluZWw6ITAseDp2LHk6XysyMCp5fSx7X19zZW50aW5lbDohMCx4OnYrMjAqeSx5Ol8teX0pXSx4PVtdLEU9W107YT10Lmxlbmd0aDtmb3IoO2EtLTspe2ZvcihFLmxlbmd0aD0wLGY9bS5sZW5ndGg7Zi0tOykoZz10W2FdLngtbVtmXS54KT4wJiZnKmc+bVtmXS5yPyh4LnB1c2gobVtmXSksbS5zcGxpY2UoZiwxKSk6ZypnKyhkPXRbYV0ueS1tW2ZdLnkpKmQ+bVtmXS5yfHwoRS5wdXNoKG1bZl0uYSxtW2ZdLmIsbVtmXS5iLG1bZl0uYyxtW2ZdLmMsbVtmXS5hKSxtLnNwbGljZShmLDEpKTtmb3Iod2UoRSksZj1FLmxlbmd0aDtmOyluPUVbLS1mXSxlPUVbLS1mXSxyPXRbYV0saT1uLngtZS54LG89bi55LWUueSxzPTIqKGkqKHIueS1uLnkpLW8qKHIueC1uLngpKSxNYXRoLmFicyhzKT5wJiZtLnB1c2gobmV3IEVlKGUsbixyKSl9QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoeCxtKSxhPXgubGVuZ3RoO2Zvcig7YS0tOykoeFthXS5hLl9fc2VudGluZWx8fHhbYV0uYi5fX3NlbnRpbmVsfHx4W2FdLmMuX19zZW50aW5lbCkmJnguc3BsaWNlKGEsMSk7cmV0dXJuIHh9KHQuZmVhdHVyZXMubWFwKChmdW5jdGlvbih0KXt2YXIgcj17eDp0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLHk6dC5nZW9tZXRyeS5jb29yZGluYXRlc1sxXX07cmV0dXJuIGU/ci56PXQucHJvcGVydGllc1tlXTozPT09dC5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGgmJihuPSEwLHIuej10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzJdKSxyfSkpKS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPVt0LmEueCx0LmEueV0scj1bdC5iLngsdC5iLnldLGk9W3QuYy54LHQuYy55XSxvPXt9O3JldHVybiBuPyhlLnB1c2godC5hLnopLHIucHVzaCh0LmIueiksaS5wdXNoKHQuYy56KSk6bz17YTp0LmEueixiOnQuYi56LGM6dC5jLnp9LGwoW1tlLHIsaSxlXV0sbyl9KSkpfW5lLmRlZmF1bHQ9cmU7dmFyIEVlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmE9dCx0aGlzLmI9ZSx0aGlzLmM9bjt2YXIgcixpLG89ZS54LXQueCxzPWUueS10LnksYT1uLngtdC54LHU9bi55LXQueSxsPW8qKHQueCtlLngpK3MqKHQueStlLnkpLGM9YSoodC54K24ueCkrdSoodC55K24ueSksaD0yKihvKihuLnktZS55KS1zKihuLngtZS54KSk7dGhpcy54PSh1KmwtcypjKS9oLHRoaXMueT0obypjLWEqbCkvaCxyPXRoaXMueC10LngsaT10aGlzLnktdC55LHRoaXMucj1yKnIraSppfTtmdW5jdGlvbiBiZSh0LGUpe3JldHVybiBlLngtdC54fWZ1bmN0aW9uIHdlKHQpe3ZhciBlLG4scixpLG8scz10Lmxlbmd0aDt0OmZvcig7czspZm9yKG49dFstLXNdLGU9dFstLXNdLHI9cztyOylpZihvPXRbLS1yXSxlPT09KGk9dFstLXJdKSYmbj09PW98fGU9PT1vJiZuPT09aSl7dC5zcGxpY2UocywyKSx0LnNwbGljZShyLDIpLHMtPTI7Y29udGludWUgdH19ZnVuY3Rpb24gSWUodCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7c3dpdGNoKHQudHlwZSl7Y2FzZSJGZWF0dXJlIjpyZXR1cm4gTmUodCk7Y2FzZSJGZWF0dXJlQ29sbGVjdGlvbiI6cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt0eXBlOiJGZWF0dXJlQ29sbGVjdGlvbiJ9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtzd2l0Y2gobil7Y2FzZSJ0eXBlIjpjYXNlImZlYXR1cmVzIjpyZXR1cm47ZGVmYXVsdDplW25dPXRbbl19fSkpLGUuZmVhdHVyZXM9dC5mZWF0dXJlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBOZSh0KX0pKSxlfSh0KTtjYXNlIlBvaW50IjpjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6Y2FzZSJNdWx0aVBvaW50IjpjYXNlIk11bHRpTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvbHlnb24iOmNhc2UiR2VvbWV0cnlDb2xsZWN0aW9uIjpyZXR1cm4gQ2UodCk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoInVua25vd24gR2VvSlNPTiB0eXBlIil9fWZ1bmN0aW9uIE5lKHQpe3ZhciBlPXt0eXBlOiJGZWF0dXJlIn07cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3N3aXRjaChuKXtjYXNlInR5cGUiOmNhc2UicHJvcGVydGllcyI6Y2FzZSJnZW9tZXRyeSI6cmV0dXJuO2RlZmF1bHQ6ZVtuXT10W25dfX0pKSxlLnByb3BlcnRpZXM9U2UodC5wcm9wZXJ0aWVzKSxlLmdlb21ldHJ5PUNlKHQuZ2VvbWV0cnkpLGV9ZnVuY3Rpb24gU2UodCl7dmFyIGU9e307cmV0dXJuIHQ/KE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPXRbbl07Im9iamVjdCI9PXR5cGVvZiByP251bGw9PT1yP2Vbbl09bnVsbDpBcnJheS5pc0FycmF5KHIpP2Vbbl09ci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpOmVbbl09U2Uocik6ZVtuXT1yfSkpLGUpOmV9ZnVuY3Rpb24gQ2UodCl7dmFyIGU9e3R5cGU6dC50eXBlfTtyZXR1cm4gdC5iYm94JiYoZS5iYm94PXQuYmJveCksIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT10LnR5cGU/KGUuZ2VvbWV0cmllcz10Lmdlb21ldHJpZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gQ2UodCl9KSksZSk6KGUuY29vcmRpbmF0ZXM9UGUodC5jb29yZGluYXRlcyksZSl9ZnVuY3Rpb24gUGUodCl7dmFyIGU9dDtyZXR1cm4ib2JqZWN0IiE9dHlwZW9mIGVbMF0/ZS5zbGljZSgpOmUubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gUGUodCl9KSl9ZnVuY3Rpb24gTWUodCxlKXtpZih2b2lkIDA9PT1lJiYoZT17fSksIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbj1lLm11dGF0ZTtpZigiRmVhdHVyZUNvbGxlY3Rpb24iIT09aXQodCkpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIG11c3QgYmUgYSBGZWF0dXJlQ29sbGVjdGlvbiIpO2lmKCF0LmZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgZW1wdHkiKTshMSE9PW4mJnZvaWQgMCE9PW58fCh0PUllKHQpKTt2YXIgcj1bXSxpPVkodCwoZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbih0LGUpe3ZhciBuLHI9dC5nZW9tZXRyeS5jb29yZGluYXRlcyxpPWUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsbz1MZShyWzBdKSxzPUxlKHJbci5sZW5ndGgtMV0pLGE9TGUoaVswXSksdT1MZShpW2kubGVuZ3RoLTFdKTtpZihvPT09dSluPWkuY29uY2F0KHIuc2xpY2UoMSkpO2Vsc2UgaWYoYT09PXMpbj1yLmNvbmNhdChpLnNsaWNlKDEpKTtlbHNlIGlmKG89PT1hKW49ci5zbGljZSgxKS5yZXZlcnNlKCkuY29uY2F0KGkpO2Vsc2V7aWYocyE9PXUpcmV0dXJuIG51bGw7bj1yLmNvbmNhdChpLnJldmVyc2UoKS5zbGljZSgxKSl9cmV0dXJuIGgobil9KHQsZSk7cmV0dXJuIG58fChyLnB1c2godCksZSl9KSk7cmV0dXJuIGkmJnIucHVzaChpKSxyLmxlbmd0aD8xPT09ci5sZW5ndGg/clswXTpnKHIubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb29yZGluYXRlc30pKSk6bnVsbH1mdW5jdGlvbiBMZSh0KXtyZXR1cm4gdFswXS50b1N0cmluZygpKyIsIit0WzFdLnRvU3RyaW5nKCl9ZnVuY3Rpb24gT2UodCl7cmV0dXJuIHR9ZnVuY3Rpb24gUmUodCxlKXt2YXIgbj1mdW5jdGlvbih0KXtpZihudWxsPT10KXJldHVybiBPZTt2YXIgZSxuLHI9dC5zY2FsZVswXSxpPXQuc2NhbGVbMV0sbz10LnRyYW5zbGF0ZVswXSxzPXQudHJhbnNsYXRlWzFdO3JldHVybiBmdW5jdGlvbih0LGEpe2F8fChlPW49MCk7dmFyIHU9MixsPXQubGVuZ3RoLGM9bmV3IEFycmF5KGwpO2ZvcihjWzBdPShlKz10WzBdKSpyK28sY1sxXT0obis9dFsxXSkqaStzO3U8bDspY1t1XT10W3VdLCsrdTtyZXR1cm4gY319KHQudHJhbnNmb3JtKSxyPXQuYXJjcztmdW5jdGlvbiBpKHQsZSl7ZS5sZW5ndGgmJmUucG9wKCk7Zm9yKHZhciBpPXJbdDwwP350OnRdLG89MCxzPWkubGVuZ3RoO288czsrK28pZS5wdXNoKG4oaVtvXSxvKSk7dDwwJiZmdW5jdGlvbih0LGUpe2Zvcih2YXIgbixyPXQubGVuZ3RoLGk9ci1lO2k8LS1yOyluPXRbaV0sdFtpKytdPXRbcl0sdFtyXT1ufShlLHMpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIG4odCl9ZnVuY3Rpb24gcyh0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5sZW5ndGg7bjxyOysrbilpKHRbbl0sZSk7cmV0dXJuIGUubGVuZ3RoPDImJmUucHVzaChlWzBdKSxlfWZ1bmN0aW9uIGEodCl7Zm9yKHZhciBlPXModCk7ZS5sZW5ndGg8NDspZS5wdXNoKGVbMF0pO3JldHVybiBlfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQubWFwKGEpfXJldHVybiBmdW5jdGlvbiB0KGUpe3ZhciBuLHI9ZS50eXBlO3N3aXRjaChyKXtjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6cmV0dXJue3R5cGU6cixnZW9tZXRyaWVzOmUuZ2VvbWV0cmllcy5tYXAodCl9O2Nhc2UiUG9pbnQiOm49byhlLmNvb3JkaW5hdGVzKTticmVhaztjYXNlIk11bHRpUG9pbnQiOm49ZS5jb29yZGluYXRlcy5tYXAobyk7YnJlYWs7Y2FzZSJMaW5lU3RyaW5nIjpuPXMoZS5hcmNzKTticmVhaztjYXNlIk11bHRpTGluZVN0cmluZyI6bj1lLmFyY3MubWFwKHMpO2JyZWFrO2Nhc2UiUG9seWdvbiI6bj11KGUuYXJjcyk7YnJlYWs7Y2FzZSJNdWx0aVBvbHlnb24iOm49ZS5hcmNzLm1hcCh1KTticmVhaztkZWZhdWx0OnJldHVybiBudWxsfXJldHVybnt0eXBlOnIsY29vcmRpbmF0ZXM6bn19KGUpfWZ1bmN0aW9uIFRlKHQsZSl7dmFyIG49e30scj17fSxpPXt9LG89W10scz0tMTtmdW5jdGlvbiBhKHQsZSl7Zm9yKHZhciByIGluIHQpe3ZhciBpPXRbcl07ZGVsZXRlIGVbaS5zdGFydF0sZGVsZXRlIGkuc3RhcnQsZGVsZXRlIGkuZW5kLGkuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0PDA/fnQ6dF09MX0pKSxvLnB1c2goaSl9fXJldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKG4scil7dmFyIGksbz10LmFyY3NbbjwwP35uOm5dO28ubGVuZ3RoPDMmJiFvWzFdWzBdJiYhb1sxXVsxXSYmKGk9ZVsrK3NdLGVbc109bixlW3JdPWkpfSkpLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG4sbyxzPWZ1bmN0aW9uKGUpe3ZhciBuLHI9dC5hcmNzW2U8MD9+ZTplXSxpPXJbMF07dC50cmFuc2Zvcm0/KG49WzAsMF0sci5mb3JFYWNoKChmdW5jdGlvbih0KXtuWzBdKz10WzBdLG5bMV0rPXRbMV19KSkpOm49cltyLmxlbmd0aC0xXTtyZXR1cm4gZTwwP1tuLGldOltpLG5dfShlKSxhPXNbMF0sdT1zWzFdO2lmKG49aVthXSlpZihkZWxldGUgaVtuLmVuZF0sbi5wdXNoKGUpLG4uZW5kPXUsbz1yW3VdKXtkZWxldGUgcltvLnN0YXJ0XTt2YXIgbD1vPT09bj9uOm4uY29uY2F0KG8pO3JbbC5zdGFydD1uLnN0YXJ0XT1pW2wuZW5kPW8uZW5kXT1sfWVsc2UgcltuLnN0YXJ0XT1pW24uZW5kXT1uO2Vsc2UgaWYobj1yW3VdKWlmKGRlbGV0ZSByW24uc3RhcnRdLG4udW5zaGlmdChlKSxuLnN0YXJ0PWEsbz1pW2FdKXtkZWxldGUgaVtvLmVuZF07dmFyIGM9bz09PW4/bjpvLmNvbmNhdChuKTtyW2Muc3RhcnQ9by5zdGFydF09aVtjLmVuZD1uLmVuZF09Y31lbHNlIHJbbi5zdGFydF09aVtuLmVuZF09bjtlbHNlIHJbKG49W2VdKS5zdGFydD1hXT1pW24uZW5kPXVdPW59KSksYShpLHIpLGEocixpKSxlLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdDwwP350OnRdfHxvLnB1c2goW3RdKX0pKSxvfWZ1bmN0aW9uIEFlKHQsZSl7dmFyIG49e30scj1bXSxpPVtdO2Z1bmN0aW9uIG8odCl7dC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpeyhuW2U9ZTwwP35lOmVdfHwobltlXT1bXSkpLnB1c2godCl9KSl9KSksci5wdXNoKHQpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPS0xLHI9dC5sZW5ndGgsaT10W3ItMV0sbz0wOysrbjxyOyllPWksaT10W25dLG8rPWVbMF0qaVsxXS1lWzFdKmlbMF07cmV0dXJuIE1hdGguYWJzKG8pfShSZSh0LHt0eXBlOiJQb2x5Z29uIixhcmNzOltlXX0pLmNvb3JkaW5hdGVzWzBdKX1yZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbiB0KGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiR2VvbWV0cnlDb2xsZWN0aW9uIjplLmdlb21ldHJpZXMuZm9yRWFjaCh0KTticmVhaztjYXNlIlBvbHlnb24iOm8oZS5hcmNzKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6ZS5hcmNzLmZvckVhY2gobyl9fSkpLHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoIXQuXyl7dmFyIGU9W10scj1bdF07Zm9yKHQuXz0xLGkucHVzaChlKTt0PXIucG9wKCk7KWUucHVzaCh0KSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0PDA/fnQ6dF0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5ffHwodC5fPTEsci5wdXNoKHQpKX0pKX0pKX0pKX19KSksci5mb3JFYWNoKChmdW5jdGlvbih0KXtkZWxldGUgdC5ffSkpLHt0eXBlOiJNdWx0aVBvbHlnb24iLGFyY3M6aS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByLGk9W107aWYoZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0PDA/fnQ6dF0ubGVuZ3RoPDImJmkucHVzaCh0KX0pKX0pKX0pKSwocj0oaT1UZSh0LGkpKS5sZW5ndGgpPjEpZm9yKHZhciBvLGEsdT0xLGw9cyhpWzBdKTt1PHI7Kyt1KShvPXMoaVt1XSkpPmwmJihhPWlbMF0saVswXT1pW3VdLGlbdV09YSxsPW8pO3JldHVybiBpfSkpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoPjB9KSl9fXZhciBEZT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIEZlKHQsZSxuLHIsaSxvKXszPT09YXJndW1lbnRzLmxlbmd0aCYmKHI9bz1BcnJheSxpPW51bGwpO2Zvcih2YXIgcz1uZXcgcih0PTE8PE1hdGgubWF4KDQsTWF0aC5jZWlsKE1hdGgubG9nKHQpL01hdGguTE4yKSkpLGE9bmV3IG8odCksdT10LTEsbD0wO2w8dDsrK2wpc1tsXT1pO2Z1bmN0aW9uIGMocixvKXtmb3IodmFyIGw9ZShyKSZ1LGM9c1tsXSxoPTA7YyE9aTspe2lmKG4oYyxyKSlyZXR1cm4gYVtsXT1vO2lmKCsraD49dCl0aHJvdyBuZXcgRXJyb3IoImZ1bGwgaGFzaG1hcCIpO2M9c1tsPWwrMSZ1XX1yZXR1cm4gc1tsXT1yLGFbbF09byxvfWZ1bmN0aW9uIGgocixvKXtmb3IodmFyIGw9ZShyKSZ1LGM9c1tsXSxoPTA7YyE9aTspe2lmKG4oYyxyKSlyZXR1cm4gYVtsXTtpZigrK2g+PXQpdGhyb3cgbmV3IEVycm9yKCJmdWxsIGhhc2htYXAiKTtjPXNbbD1sKzEmdV19cmV0dXJuIHNbbF09cixhW2xdPW8sb31mdW5jdGlvbiBwKHIsbyl7Zm9yKHZhciBsPWUocikmdSxjPXNbbF0saD0wO2MhPWk7KXtpZihuKGMscikpcmV0dXJuIGFbbF07aWYoKytoPj10KWJyZWFrO2M9c1tsPWwrMSZ1XX1yZXR1cm4gb31mdW5jdGlvbiBmKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXMubGVuZ3RoO2U8bjsrK2Upe3ZhciByPXNbZV07ciE9aSYmdC5wdXNoKHIpfXJldHVybiB0fXJldHVybntzZXQ6YyxtYXliZVNldDpoLGdldDpwLGtleXM6Zn19ZnVuY3Rpb24ga2UodCxlKXtyZXR1cm4gdFswXT09PWVbMF0mJnRbMV09PT1lWzFdfXZhciBHZT1uZXcgQXJyYXlCdWZmZXIoMTYpLHFlPW5ldyBGbG9hdDY0QXJyYXkoR2UpLEJlPW5ldyBVaW50MzJBcnJheShHZSk7ZnVuY3Rpb24gemUodCl7cWVbMF09dFswXSxxZVsxXT10WzFdO3ZhciBlPUJlWzBdXkJlWzFdO3JldHVybiAyMTQ3NDgzNjQ3JihlPWU8PDVeZT4+N15CZVsyXV5CZVszXSl9ZnVuY3Rpb24gamUodCl7dmFyIGUsbixyLGksbz10LmNvb3JkaW5hdGVzLHM9dC5saW5lcyxhPXQucmluZ3MsdT1mdW5jdGlvbigpe2Zvcih2YXIgdD1GZSgxLjQqby5sZW5ndGgsRSxiLEludDMyQXJyYXksLTEsSW50MzJBcnJheSksZT1uZXcgSW50MzJBcnJheShvLmxlbmd0aCksbj0wLHI9by5sZW5ndGg7bjxyOysrbillW25dPXQubWF5YmVTZXQobixuKTtyZXR1cm4gZX0oKSxsPW5ldyBJbnQzMkFycmF5KG8ubGVuZ3RoKSxjPW5ldyBJbnQzMkFycmF5KG8ubGVuZ3RoKSxoPW5ldyBJbnQzMkFycmF5KG8ubGVuZ3RoKSxwPW5ldyBJbnQ4QXJyYXkoby5sZW5ndGgpLGY9MDtmb3IoZT0wLG49by5sZW5ndGg7ZTxuOysrZSlsW2VdPWNbZV09aFtlXT0tMTtmb3IoZT0wLG49cy5sZW5ndGg7ZTxuOysrZSl7dmFyIGc9c1tlXSxkPWdbMF0seT1nWzFdO2ZvcihyPXVbZF0saT11WysrZF0sKytmLHBbcl09MTsrK2Q8PXk7KXgoZSxyLHI9aSxpPXVbZF0pOysrZixwW2ldPTF9Zm9yKGU9MCxuPW8ubGVuZ3RoO2U8bjsrK2UpbFtlXT0tMTtmb3IoZT0wLG49YS5sZW5ndGg7ZTxuOysrZSl7dmFyIHY9YVtlXSxfPXZbMF0rMSxtPXZbMV07Zm9yKHgoZSx1W20tMV0scj11W18tMV0saT11W19dKTsrK188PW07KXgoZSxyLHI9aSxpPXVbX10pfWZ1bmN0aW9uIHgodCxlLG4scil7aWYobFtuXSE9PXQpe2xbbl09dDt2YXIgaT1jW25dO2lmKGk+PTApe3ZhciBvPWhbbl07aT09PWUmJm89PT1yfHxpPT09ciYmbz09PWV8fCgrK2YscFtuXT0xKX1lbHNlIGNbbl09ZSxoW25dPXJ9fWZ1bmN0aW9uIEUodCl7cmV0dXJuIHplKG9bdF0pfWZ1bmN0aW9uIGIodCxlKXtyZXR1cm4ga2Uob1t0XSxvW2VdKX1sPWM9aD1udWxsO3ZhciB3LEk9ZnVuY3Rpb24odCxlLG4scixpKXszPT09YXJndW1lbnRzLmxlbmd0aCYmKHI9QXJyYXksaT1udWxsKTtmb3IodmFyIG89bmV3IHIodD0xPDxNYXRoLm1heCg0LE1hdGguY2VpbChNYXRoLmxvZyh0KS9NYXRoLkxOMikpKSxzPXQtMSxhPTA7YTx0OysrYSlvW2FdPWk7ZnVuY3Rpb24gdShyKXtmb3IodmFyIGE9ZShyKSZzLHU9b1thXSxsPTA7dSE9aTspe2lmKG4odSxyKSlyZXR1cm4hMDtpZigrK2w+PXQpdGhyb3cgbmV3IEVycm9yKCJmdWxsIGhhc2hzZXQiKTt1PW9bYT1hKzEmc119cmV0dXJuIG9bYV09ciwhMH1mdW5jdGlvbiBsKHIpe2Zvcih2YXIgYT1lKHIpJnMsdT1vW2FdLGw9MDt1IT1pOyl7aWYobih1LHIpKXJldHVybiEwO2lmKCsrbD49dClicmVhazt1PW9bYT1hKzEmc119cmV0dXJuITF9ZnVuY3Rpb24gYygpe2Zvcih2YXIgdD1bXSxlPTAsbj1vLmxlbmd0aDtlPG47KytlKXt2YXIgcj1vW2VdO3IhPWkmJnQucHVzaChyKX1yZXR1cm4gdH1yZXR1cm57YWRkOnUsaGFzOmwsdmFsdWVzOmN9fSgxLjQqZix6ZSxrZSk7Zm9yKGU9MCxuPW8ubGVuZ3RoO2U8bjsrK2UpcFt3PXVbZV1dJiZJLmFkZChvW3ddKTtyZXR1cm4gSX1mdW5jdGlvbiBVZSh0LGUsbixyKXtWZSh0LGUsbiksVmUodCxlLGUrciksVmUodCxlK3Isbil9ZnVuY3Rpb24gVmUodCxlLG4pe2Zvcih2YXIgcixpPWUrKG4tLS1lPj4xKTtlPGk7KytlLC0tbilyPXRbZV0sdFtlXT10W25dLHRbbl09cn1mdW5jdGlvbiBYZSh0KXt2YXIgZSxuLHI9e307Zm9yKGUgaW4gdClyW2VdPW51bGw9PShuPXRbZV0pP3t0eXBlOm51bGx9OigiRmVhdHVyZUNvbGxlY3Rpb24iPT09bi50eXBlP1llOiJGZWF0dXJlIj09PW4udHlwZT9IZTpXZSkobik7cmV0dXJuIHJ9ZnVuY3Rpb24gWWUodCl7dmFyIGU9e3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczp0LmZlYXR1cmVzLm1hcChIZSl9O3JldHVybiBudWxsIT10LmJib3gmJihlLmJib3g9dC5iYm94KSxlfWZ1bmN0aW9uIEhlKHQpe3ZhciBlLG49V2UodC5nZW9tZXRyeSk7Zm9yKGUgaW4gbnVsbCE9dC5pZCYmKG4uaWQ9dC5pZCksbnVsbCE9dC5iYm94JiYobi5iYm94PXQuYmJveCksdC5wcm9wZXJ0aWVzKXtuLnByb3BlcnRpZXM9dC5wcm9wZXJ0aWVzO2JyZWFrfXJldHVybiBufWZ1bmN0aW9uIFdlKHQpe2lmKG51bGw9PXQpcmV0dXJue3R5cGU6bnVsbH07dmFyIGU9Ikdlb21ldHJ5Q29sbGVjdGlvbiI9PT10LnR5cGU/e3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczp0Lmdlb21ldHJpZXMubWFwKFdlKX06IlBvaW50Ij09PXQudHlwZXx8Ik11bHRpUG9pbnQiPT09dC50eXBlP3t0eXBlOnQudHlwZSxjb29yZGluYXRlczp0LmNvb3JkaW5hdGVzfTp7dHlwZTp0LnR5cGUsYXJjczp0LmNvb3JkaW5hdGVzfTtyZXR1cm4gbnVsbCE9dC5iYm94JiYoZS5iYm94PXQuYmJveCksZX1mdW5jdGlvbiBKZSh0LGUpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBlPTEvMCxuPTEvMCxyPS0xLzAsaT0tMS8wO2Z1bmN0aW9uIG8odCl7bnVsbCE9dCYmRGUuY2FsbChzLHQudHlwZSkmJnNbdC50eXBlXSh0KX12YXIgcz17R2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQpe3QuZ2VvbWV0cmllcy5mb3JFYWNoKG8pfSxQb2ludDpmdW5jdGlvbih0KXthKHQuY29vcmRpbmF0ZXMpfSxNdWx0aVBvaW50OmZ1bmN0aW9uKHQpe3QuY29vcmRpbmF0ZXMuZm9yRWFjaChhKX0sTGluZVN0cmluZzpmdW5jdGlvbih0KXt1KHQuYXJjcyl9LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbih0KXt0LmFyY3MuZm9yRWFjaCh1KX0sUG9seWdvbjpmdW5jdGlvbih0KXt0LmFyY3MuZm9yRWFjaCh1KX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKHQpe3QuYXJjcy5mb3JFYWNoKGwpfX07ZnVuY3Rpb24gYSh0KXt2YXIgbz10WzBdLHM9dFsxXTtvPGUmJihlPW8pLG8+ciYmKHI9byksczxuJiYobj1zKSxzPmkmJihpPXMpfWZ1bmN0aW9uIHUodCl7dC5mb3JFYWNoKGEpfWZ1bmN0aW9uIGwodCl7dC5mb3JFYWNoKHUpfWZvcih2YXIgYyBpbiB0KW8odFtjXSk7cmV0dXJuIHI+PWUmJmk+PW4/W2UsbixyLGldOnZvaWQgMH0odD1YZSh0KSkscj1lPjAmJm4mJmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lWzBdLGk9ZVsxXSxvPWVbMl0scz1lWzNdLGE9by1yPyhuLTEpLyhvLXIpOjEsdT1zLWk/KG4tMSkvKHMtaSk6MTtmdW5jdGlvbiBsKHQpe3JldHVybltNYXRoLnJvdW5kKCh0WzBdLXIpKmEpLE1hdGgucm91bmQoKHRbMV0taSkqdSldfWZ1bmN0aW9uIGModCxlKXtmb3IodmFyIG4sbyxzLGwsYyxoPS0xLHA9MCxmPXQubGVuZ3RoLGc9bmV3IEFycmF5KGYpOysraDxmOyluPXRbaF0sbD1NYXRoLnJvdW5kKChuWzBdLXIpKmEpLGM9TWF0aC5yb3VuZCgoblsxXS1pKSp1KSxsPT09byYmYz09PXN8fChnW3ArK109W289bCxzPWNdKTtmb3IoZy5sZW5ndGg9cDtwPGU7KXA9Zy5wdXNoKFtnWzBdWzBdLGdbMF1bMV1dKTtyZXR1cm4gZ31mdW5jdGlvbiBoKHQpe3JldHVybiBjKHQsMil9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gYyh0LDQpfWZ1bmN0aW9uIGYodCl7cmV0dXJuIHQubWFwKHApfWZ1bmN0aW9uIGcodCl7bnVsbCE9dCYmRGUuY2FsbChkLHQudHlwZSkmJmRbdC50eXBlXSh0KX12YXIgZD17R2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQpe3QuZ2VvbWV0cmllcy5mb3JFYWNoKGcpfSxQb2ludDpmdW5jdGlvbih0KXt0LmNvb3JkaW5hdGVzPWwodC5jb29yZGluYXRlcyl9LE11bHRpUG9pbnQ6ZnVuY3Rpb24odCl7dC5jb29yZGluYXRlcz10LmNvb3JkaW5hdGVzLm1hcChsKX0sTGluZVN0cmluZzpmdW5jdGlvbih0KXt0LmFyY3M9aCh0LmFyY3MpfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24odCl7dC5hcmNzPXQuYXJjcy5tYXAoaCl9LFBvbHlnb246ZnVuY3Rpb24odCl7dC5hcmNzPWYodC5hcmNzKX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKHQpe3QuYXJjcz10LmFyY3MubWFwKGYpfX07Zm9yKHZhciB5IGluIHQpZyh0W3ldKTtyZXR1cm57c2NhbGU6WzEvYSwxL3VdLHRyYW5zbGF0ZTpbcixpXX19KHQsbixlKSxpPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG89dC5jb29yZGluYXRlcyxzPXQubGluZXMsYT10LnJpbmdzLHU9cy5sZW5ndGgrYS5sZW5ndGg7Zm9yKGRlbGV0ZSB0LmxpbmVzLGRlbGV0ZSB0LnJpbmdzLHI9MCxpPXMubGVuZ3RoO3I8aTsrK3IpZm9yKGU9c1tyXTtlPWUubmV4dDspKyt1O2ZvcihyPTAsaT1hLmxlbmd0aDtyPGk7KytyKWZvcihuPWFbcl07bj1uLm5leHQ7KSsrdTt2YXIgbD1GZSgyKnUqMS40LHplLGtlKSxjPXQuYXJjcz1bXTtmb3Iocj0wLGk9cy5sZW5ndGg7cjxpOysrcil7ZT1zW3JdO2Rve2goZSl9d2hpbGUoZT1lLm5leHQpfWZvcihyPTAsaT1hLmxlbmd0aDtyPGk7KytyKWlmKChuPWFbcl0pLm5leHQpZG97aChuKX13aGlsZShuPW4ubmV4dCk7ZWxzZSBwKG4pO2Z1bmN0aW9uIGgodCl7dmFyIGUsbixyLGkscyxhLHUsaDtpZihyPWwuZ2V0KGU9b1t0WzBdXSkpZm9yKHU9MCxoPXIubGVuZ3RoO3U8aDsrK3UpaWYoZihpPXJbdV0sdCkpcmV0dXJuIHRbMF09aVswXSx2b2lkKHRbMV09aVsxXSk7aWYocz1sLmdldChuPW9bdFsxXV0pKWZvcih1PTAsaD1zLmxlbmd0aDt1PGg7Kyt1KWlmKGcoYT1zW3VdLHQpKXJldHVybiB0WzFdPWFbMF0sdm9pZCh0WzBdPWFbMV0pO3I/ci5wdXNoKHQpOmwuc2V0KGUsW3RdKSxzP3MucHVzaCh0KTpsLnNldChuLFt0XSksYy5wdXNoKHQpfWZ1bmN0aW9uIHAodCl7dmFyIGUsbixyLGkscztpZihuPWwuZ2V0KG9bdFswXV0pKWZvcihpPTAscz1uLmxlbmd0aDtpPHM7KytpKXtpZihkKHI9bltpXSx0KSlyZXR1cm4gdFswXT1yWzBdLHZvaWQodFsxXT1yWzFdKTtpZih5KHIsdCkpcmV0dXJuIHRbMF09clsxXSx2b2lkKHRbMV09clswXSl9aWYobj1sLmdldChlPW9bdFswXSt2KHQpXSkpZm9yKGk9MCxzPW4ubGVuZ3RoO2k8czsrK2kpe2lmKGQocj1uW2ldLHQpKXJldHVybiB0WzBdPXJbMF0sdm9pZCh0WzFdPXJbMV0pO2lmKHkocix0KSlyZXR1cm4gdFswXT1yWzFdLHZvaWQodFsxXT1yWzBdKX1uP24ucHVzaCh0KTpsLnNldChlLFt0XSksYy5wdXNoKHQpfWZ1bmN0aW9uIGYodCxlKXt2YXIgbj10WzBdLHI9ZVswXSxpPXRbMV07aWYobi1pIT1yLWVbMV0pcmV0dXJuITE7Zm9yKDtuPD1pOysrbiwrK3IpaWYoIWtlKG9bbl0sb1tyXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZyh0LGUpe3ZhciBuPXRbMF0scj1lWzBdLGk9dFsxXSxzPWVbMV07aWYobi1pIT1yLXMpcmV0dXJuITE7Zm9yKDtuPD1pOysrbiwtLXMpaWYoIWtlKG9bbl0sb1tzXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZCh0LGUpe3ZhciBuPXRbMF0scj1lWzBdLGk9dFsxXS1uO2lmKGkhPT1lWzFdLXIpcmV0dXJuITE7Zm9yKHZhciBzPXYodCksYT12KGUpLHU9MDt1PGk7Kyt1KWlmKCFrZShvW24rKHUrcyklaV0sb1tyKyh1K2EpJWldKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB5KHQsZSl7dmFyIG49dFswXSxyPWVbMF0saT10WzFdLHM9ZVsxXSxhPWktbjtpZihhIT09cy1yKXJldHVybiExO2Zvcih2YXIgdT12KHQpLGw9YS12KGUpLGM9MDtjPGE7KytjKWlmKCFrZShvW24rKGMrdSklYV0sb1tzLShjK2wpJWFdKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB2KHQpe2Zvcih2YXIgZT10WzBdLG49dFsxXSxyPWUsaT1yLHM9b1tyXTsrK3I8bjspe3ZhciBhPW9bcl07KGFbMF08c1swXXx8YVswXT09PXNbMF0mJmFbMV08c1sxXSkmJihpPXIscz1hKX1yZXR1cm4gaS1lfXJldHVybiB0fShmdW5jdGlvbih0KXt2YXIgZSxuLHIsaT1qZSh0KSxvPXQuY29vcmRpbmF0ZXMscz10LmxpbmVzLGE9dC5yaW5ncztmb3Iobj0wLHI9cy5sZW5ndGg7bjxyOysrbilmb3IodmFyIHU9c1tuXSxsPXVbMF0sYz11WzFdOysrbDxjOylpLmhhcyhvW2xdKSYmKGU9ezA6bCwxOnVbMV19LHVbMV09bCx1PXUubmV4dD1lKTtmb3Iobj0wLHI9YS5sZW5ndGg7bjxyOysrbilmb3IodmFyIGg9YVtuXSxwPWhbMF0sZj1wLGc9aFsxXSxkPWkuaGFzKG9bcF0pOysrZjxnOylpLmhhcyhvW2ZdKSYmKGQ/KGU9ezA6ZiwxOmhbMV19LGhbMV09ZixoPWgubmV4dD1lKTooVWUobyxwLGcsZy1mKSxvW2ddPW9bcF0sZD0hMCxmPXApKTtyZXR1cm4gdH0oZnVuY3Rpb24odCl7dmFyIGU9LTEsbj1bXSxyPVtdLGk9W107ZnVuY3Rpb24gbyh0KXt0JiZEZS5jYWxsKHMsdC50eXBlKSYmc1t0LnR5cGVdKHQpfXZhciBzPXtHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24odCl7dC5nZW9tZXRyaWVzLmZvckVhY2gobyl9LExpbmVTdHJpbmc6ZnVuY3Rpb24odCl7dC5hcmNzPWEodC5hcmNzKX0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKHQpe3QuYXJjcz10LmFyY3MubWFwKGEpfSxQb2x5Z29uOmZ1bmN0aW9uKHQpe3QuYXJjcz10LmFyY3MubWFwKHUpfSxNdWx0aVBvbHlnb246ZnVuY3Rpb24odCl7dC5hcmNzPXQuYXJjcy5tYXAobCl9fTtmdW5jdGlvbiBhKHQpe2Zvcih2YXIgcj0wLG89dC5sZW5ndGg7cjxvOysrcilpWysrZV09dFtyXTt2YXIgcz17MDplLW8rMSwxOmV9O3JldHVybiBuLnB1c2gocyksc31mdW5jdGlvbiB1KHQpe2Zvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvOysrbilpWysrZV09dFtuXTt2YXIgcz17MDplLW8rMSwxOmV9O3JldHVybiByLnB1c2gocyksc31mdW5jdGlvbiBsKHQpe3JldHVybiB0Lm1hcCh1KX1mb3IodmFyIGMgaW4gdClvKHRbY10pO3JldHVybnt0eXBlOiJUb3BvbG9neSIsY29vcmRpbmF0ZXM6aSxsaW5lczpuLHJpbmdzOnIsb2JqZWN0czp0fX0odCkpKSxvPWkuY29vcmRpbmF0ZXMscz1GZSgxLjQqaS5hcmNzLmxlbmd0aCxaZSxLZSk7ZnVuY3Rpb24gYSh0KXt0JiZEZS5jYWxsKHUsdC50eXBlKSYmdVt0LnR5cGVdKHQpfXQ9aS5vYmplY3RzLGkuYmJveD1uLGkuYXJjcz1pLmFyY3MubWFwKChmdW5jdGlvbih0LGUpe3JldHVybiBzLnNldCh0LGUpLG8uc2xpY2UodFswXSx0WzFdKzEpfSkpLGRlbGV0ZSBpLmNvb3JkaW5hdGVzLG89bnVsbDt2YXIgdT17R2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQpe3QuZ2VvbWV0cmllcy5mb3JFYWNoKGEpfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKHQpe3QuYXJjcz1sKHQuYXJjcyl9LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbih0KXt0LmFyY3M9dC5hcmNzLm1hcChsKX0sUG9seWdvbjpmdW5jdGlvbih0KXt0LmFyY3M9dC5hcmNzLm1hcChsKX0sTXVsdGlQb2x5Z29uOmZ1bmN0aW9uKHQpe3QuYXJjcz10LmFyY3MubWFwKGMpfX07ZnVuY3Rpb24gbCh0KXt2YXIgZT1bXTtkb3t2YXIgbj1zLmdldCh0KTtlLnB1c2godFswXTx0WzFdP246fm4pfXdoaWxlKHQ9dC5uZXh0KTtyZXR1cm4gZX1mdW5jdGlvbiBjKHQpe3JldHVybiB0Lm1hcChsKX1mb3IodmFyIGggaW4gdClhKHRbaF0pO3JldHVybiByJiYoaS50cmFuc2Zvcm09cixpLmFyY3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPS0xLG49dC5sZW5ndGg7KytlPG47KXtmb3IodmFyIHIsaSxvPXRbZV0scz0wLGE9MSx1PW8ubGVuZ3RoLGw9b1swXSxjPWxbMF0saD1sWzFdOysrczx1OylyPShsPW9bc10pWzBdLGk9bFsxXSxyPT09YyYmaT09PWh8fChvW2ErK109W3ItYyxpLWhdLGM9cixoPWkpOzE9PT1hJiYob1thKytdPVswLDBdKSxvLmxlbmd0aD1hfXJldHVybiB0fShpLmFyY3MpKSxpfWZ1bmN0aW9uIFplKHQpe3ZhciBlLG49dFswXSxyPXRbMV07cmV0dXJuIHI8biYmKGU9bixuPXIscj1lKSxuKzMxKnJ9ZnVuY3Rpb24gS2UodCxlKXt2YXIgbixyPXRbMF0saT10WzFdLG89ZVswXSxzPWVbMV07cmV0dXJuIGk8ciYmKG49cixyPWksaT1uKSxzPG8mJihuPW8sbz1zLHM9bikscj09PW8mJmk9PT1zfWZ1bmN0aW9uIFFlKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9e30pLCJGZWF0dXJlQ29sbGVjdGlvbiIhPT1pdCh0KSl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gbXVzdCBiZSBhIEZlYXR1cmVDb2xsZWN0aW9uIik7aWYoIXQuZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyBlbXB0eSIpOyExIT09ZS5tdXRhdGUmJnZvaWQgMCE9PWUubXV0YXRlfHwodD1JZSh0KSk7dmFyIG49W107eih0LChmdW5jdGlvbih0KXtuLnB1c2godC5nZW9tZXRyeSl9KSk7dmFyIHI9SmUoe2dlb21zOnYobikuZ2VvbWV0cnl9KTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIFJlKHQsQWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0ocixyLm9iamVjdHMuZ2VvbXMuZ2VvbWV0cmllcyl9ZnVuY3Rpb24gJGUodCxlKXtpZih2b2lkIDA9PT1lJiYoZT17fSksIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbj1lLm11dGF0ZTtpZigiRmVhdHVyZUNvbGxlY3Rpb24iIT09aXQodCkpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIG11c3QgYmUgYSBGZWF0dXJlQ29sbGVjdGlvbiIpO2lmKCF0LmZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgZW1wdHkiKTshMSE9PW4mJnZvaWQgMCE9PW58fCh0PUllKHQpKTt2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT17fTt6KHQsKGZ1bmN0aW9uKHQpe2VbdC5nZW9tZXRyeS50eXBlXT0hMH0pKTt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZigxPT09bi5sZW5ndGgpcmV0dXJuIG5bMF07cmV0dXJuIG51bGx9KHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBtdXN0IGJlIGhvbW9nZW5vdXMiKTt2YXIgaT10O3N3aXRjaChyKXtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBNZShpLGUpO2Nhc2UiUG9seWdvbiI6cmV0dXJuIFFlKGksZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IocisiIGlzIG5vdCBzdXBwb3J0ZWQiKX19ZnVuY3Rpb24gdG4odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49Im9iamVjdCI9PXR5cGVvZiBlP2UubXV0YXRlOmU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7dmFyIHI9aXQodCksaT1bXTtzd2l0Y2gocil7Y2FzZSJMaW5lU3RyaW5nIjppPWVuKHQpO2JyZWFrO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIlBvbHlnb24iOlEodCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5wdXNoKGVuKHQpKX0pKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6USh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1bXTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2UucHVzaChlbih0KSl9KSksaS5wdXNoKGUpfSkpO2JyZWFrO2Nhc2UiUG9pbnQiOnJldHVybiB0O2Nhc2UiTXVsdGlQb2ludCI6dmFyIHM9e307USh0KS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LmpvaW4oIi0iKTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxlKXx8KGkucHVzaCh0KSxzW2VdPSEwKX0pKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihyKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfXJldHVybiB0LmNvb3JkaW5hdGVzPyEwPT09bj8odC5jb29yZGluYXRlcz1pLHQpOnt0eXBlOnIsY29vcmRpbmF0ZXM6aX06ITA9PT1uPyh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzPWksdCk6byh7dHlwZTpyLGNvb3JkaW5hdGVzOml9LHQucHJvcGVydGllcyx7YmJveDp0LmJib3gsaWQ6dC5pZH0pfWZ1bmN0aW9uIGVuKHQpe3ZhciBlPVEodCk7aWYoMj09PWUubGVuZ3RoJiYhbm4oZVswXSxlWzFdKSlyZXR1cm4gZTt2YXIgbj1bXSxyPWUubGVuZ3RoLTEsaT1uLmxlbmd0aDtuLnB1c2goZVswXSk7Zm9yKHZhciBvPTE7bzxyO28rKyl7dmFyIHM9bltuLmxlbmd0aC0xXTtlW29dWzBdPT09c1swXSYmZVtvXVsxXT09PXNbMV18fChuLnB1c2goZVtvXSksKGk9bi5sZW5ndGgpPjImJnJuKG5baS0zXSxuW2ktMV0sbltpLTJdKSYmbi5zcGxpY2Uobi5sZW5ndGgtMiwxKSl9aWYobi5wdXNoKGVbZS5sZW5ndGgtMV0pLGk9bi5sZW5ndGgsbm4oZVswXSxlW2UubGVuZ3RoLTFdKSYmaTw0KXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBwb2x5Z29uIik7cmV0dXJuIHJuKG5baS0zXSxuW2ktMV0sbltpLTJdKSYmbi5zcGxpY2Uobi5sZW5ndGgtMiwxKSxufWZ1bmN0aW9uIG5uKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX1mdW5jdGlvbiBybih0LGUsbil7dmFyIHI9blswXSxpPW5bMV0sbz10WzBdLHM9dFsxXSxhPWVbMF0sdT1lWzFdLGw9YS1vLGM9dS1zO3JldHVybiAwPT09KHItbykqYy0oaS1zKSpsJiYoTWF0aC5hYnMobCk+PU1hdGguYWJzKGMpP2w+MD9vPD1yJiZyPD1hOmE8PXImJnI8PW86Yz4wP3M8PWkmJmk8PXU6dTw9aSYmaTw9cyl9ZnVuY3Rpb24gb24odCxlLG4pe3ZhciByPWUueCxpPWUueSxvPW4ueC1yLHM9bi55LWk7aWYoMCE9PW98fDAhPT1zKXt2YXIgYT0oKHQueC1yKSpvKyh0LnktaSkqcykvKG8qbytzKnMpO2E+MT8ocj1uLngsaT1uLnkpOmE+MCYmKHIrPW8qYSxpKz1zKmEpfXJldHVybihvPXQueC1yKSpvKyhzPXQueS1pKSpzfWZ1bmN0aW9uIHNuKHQsZSxuLHIsaSl7Zm9yKHZhciBvLHM9cixhPWUrMTthPG47YSsrKXt2YXIgdT1vbih0W2FdLHRbZV0sdFtuXSk7dT5zJiYobz1hLHM9dSl9cz5yJiYoby1lPjEmJnNuKHQsZSxvLHIsaSksaS5wdXNoKHRbb10pLG4tbz4xJiZzbih0LG8sbixyLGkpKX1mdW5jdGlvbiBhbih0LGUpe3ZhciBuPXQubGVuZ3RoLTEscj1bdFswXV07cmV0dXJuIHNuKHQsMCxuLGUsciksci5wdXNoKHRbbl0pLHJ9ZnVuY3Rpb24gdW4odCxlLG4pe2lmKHQubGVuZ3RoPD0yKXJldHVybiB0O3ZhciByPXZvaWQgMCE9PWU/ZSplOjE7cmV0dXJuIHQ9YW4odD1uP3Q6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4scixpLG8scyxhPXRbMF0sdT1bYV0sbD0xLGM9dC5sZW5ndGg7bDxjO2wrKyluPXRbbF0saT1hLG89dm9pZCAwLHM9dm9pZCAwLG89KHI9bikueC1pLngscz1yLnktaS55LG8qbytzKnM+ZSYmKHUucHVzaChuKSxhPW4pO3JldHVybiBhIT09biYmdS5wdXNoKG4pLHV9KHQscikscil9ZnVuY3Rpb24gbG4odCxlLG4pe3JldHVybiB1bih0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3g6dFswXSx5OnRbMV0sejp0WzJdfX0pKSxlLG4pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuej9bdC54LHQueSx0LnpdOlt0LngsdC55XX0pKX1mdW5jdGlvbiBjbih0LGUsbil7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXt2YXIgcj10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3g6dFswXSx5OnRbMV19fSkpO2lmKHIubGVuZ3RoPDQpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIHBvbHlnb24iKTtmb3IodmFyIGk9dW4ocixlLG4pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW3QueCx0LnldfSkpOyFobihpKTspaT11bihyLGUtPS4wMSplLG4pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW3QueCx0LnldfSkpO3JldHVybiBpW2kubGVuZ3RoLTFdWzBdPT09aVswXVswXSYmaVtpLmxlbmd0aC0xXVsxXT09PWlbMF1bMV18fGkucHVzaChpWzBdKSxpfSkpfWZ1bmN0aW9uIGhuKHQpe3JldHVybiEodC5sZW5ndGg8MykmJiEoMz09PXQubGVuZ3RoJiZ0WzJdWzBdPT09dFswXVswXSYmdFsyXVsxXT09PXRbMF1bMV0pfXZhciBwbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5wb2ludHM9dC5wb2ludHN8fFtdLHRoaXMuZHVyYXRpb249dC5kdXJhdGlvbnx8MWU0LHRoaXMuc2hhcnBuZXNzPXQuc2hhcnBuZXNzfHwuODUsdGhpcy5jZW50ZXJzPVtdLHRoaXMuY29udHJvbHM9W10sdGhpcy5zdGVwTGVuZ3RoPXQuc3RlcExlbmd0aHx8NjAsdGhpcy5sZW5ndGg9dGhpcy5wb2ludHMubGVuZ3RoLHRoaXMuZGVsYXk9MDtmb3IodmFyIGU9MDtlPHRoaXMubGVuZ3RoO2UrKyl0aGlzLnBvaW50c1tlXS56PXRoaXMucG9pbnRzW2VdLnp8fDA7Zm9yKGU9MDtlPHRoaXMubGVuZ3RoLTE7ZSsrKXt2YXIgbj10aGlzLnBvaW50c1tlXSxyPXRoaXMucG9pbnRzW2UrMV07dGhpcy5jZW50ZXJzLnB1c2goe3g6KG4ueCtyLngpLzIseToobi55K3IueSkvMix6OihuLnorci56KS8yfSl9dGhpcy5jb250cm9scy5wdXNoKFt0aGlzLnBvaW50c1swXSx0aGlzLnBvaW50c1swXV0pO2ZvcihlPTA7ZTx0aGlzLmNlbnRlcnMubGVuZ3RoLTE7ZSsrKXt2YXIgaT10aGlzLnBvaW50c1tlKzFdLngtKHRoaXMuY2VudGVyc1tlXS54K3RoaXMuY2VudGVyc1tlKzFdLngpLzIsbz10aGlzLnBvaW50c1tlKzFdLnktKHRoaXMuY2VudGVyc1tlXS55K3RoaXMuY2VudGVyc1tlKzFdLnkpLzIscz10aGlzLnBvaW50c1tlKzFdLnotKHRoaXMuY2VudGVyc1tlXS55K3RoaXMuY2VudGVyc1tlKzFdLnopLzI7dGhpcy5jb250cm9scy5wdXNoKFt7eDooMS10aGlzLnNoYXJwbmVzcykqdGhpcy5wb2ludHNbZSsxXS54K3RoaXMuc2hhcnBuZXNzKih0aGlzLmNlbnRlcnNbZV0ueCtpKSx5OigxLXRoaXMuc2hhcnBuZXNzKSp0aGlzLnBvaW50c1tlKzFdLnkrdGhpcy5zaGFycG5lc3MqKHRoaXMuY2VudGVyc1tlXS55K28pLHo6KDEtdGhpcy5zaGFycG5lc3MpKnRoaXMucG9pbnRzW2UrMV0ueit0aGlzLnNoYXJwbmVzcyoodGhpcy5jZW50ZXJzW2VdLnorcyl9LHt4OigxLXRoaXMuc2hhcnBuZXNzKSp0aGlzLnBvaW50c1tlKzFdLngrdGhpcy5zaGFycG5lc3MqKHRoaXMuY2VudGVyc1tlKzFdLngraSkseTooMS10aGlzLnNoYXJwbmVzcykqdGhpcy5wb2ludHNbZSsxXS55K3RoaXMuc2hhcnBuZXNzKih0aGlzLmNlbnRlcnNbZSsxXS55K28pLHo6KDEtdGhpcy5zaGFycG5lc3MpKnRoaXMucG9pbnRzW2UrMV0ueit0aGlzLnNoYXJwbmVzcyoodGhpcy5jZW50ZXJzW2UrMV0ueitzKX1dKX1yZXR1cm4gdGhpcy5jb250cm9scy5wdXNoKFt0aGlzLnBvaW50c1t0aGlzLmxlbmd0aC0xXSx0aGlzLnBvaW50c1t0aGlzLmxlbmd0aC0xXV0pLHRoaXMuc3RlcHM9dGhpcy5jYWNoZVN0ZXBzKHRoaXMuc3RlcExlbmd0aCksdGhpc31yZXR1cm4gdC5wcm90b3R5cGUuY2FjaGVTdGVwcz1mdW5jdGlvbih0KXt2YXIgZT1bXSxuPXRoaXMucG9zKDApO2UucHVzaCgwKTtmb3IodmFyIHI9MDtyPHRoaXMuZHVyYXRpb247cis9MTApe3ZhciBpPXRoaXMucG9zKHIpO01hdGguc3FydCgoaS54LW4ueCkqKGkueC1uLngpKyhpLnktbi55KSooaS55LW4ueSkrKGkuei1uLnopKihpLnotbi56KSk+dCYmKGUucHVzaChyKSxuPWkpfXJldHVybiBlfSx0LnByb3RvdHlwZS52ZWN0b3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb3ModCsxMCksbj10aGlzLnBvcyh0LTEwKTtyZXR1cm57YW5nbGU6MTgwKk1hdGguYXRhbjIoZS55LW4ueSxlLngtbi54KS8zLjE0LHNwZWVkOk1hdGguc3FydCgobi54LWUueCkqKG4ueC1lLngpKyhuLnktZS55KSoobi55LWUueSkrKG4uei1lLnopKihuLnotZS56KSl9fSx0LnByb3RvdHlwZS5wb3M9ZnVuY3Rpb24odCl7dmFyIGU9dC10aGlzLmRlbGF5O2U8MCYmKGU9MCksZT50aGlzLmR1cmF0aW9uJiYoZT10aGlzLmR1cmF0aW9uLTEpO3ZhciBuPWUvdGhpcy5kdXJhdGlvbjtpZihuPj0xKXJldHVybiB0aGlzLnBvaW50c1t0aGlzLmxlbmd0aC0xXTt2YXIgcj1NYXRoLmZsb29yKCh0aGlzLnBvaW50cy5sZW5ndGgtMSkqbik7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89ZnVuY3Rpb24odCl7dmFyIGU9dCp0O3JldHVybltlKnQsMyplKigxLXQpLDMqdCooMS10KSooMS10KSwoMS10KSooMS10KSooMS10KV19KHQpO3JldHVybnt4OmkueCpvWzBdK3IueCpvWzFdK24ueCpvWzJdK2UueCpvWzNdLHk6aS55Km9bMF0rci55Km9bMV0rbi55Km9bMl0rZS55Km9bM10sejppLnoqb1swXStyLnoqb1sxXStuLnoqb1syXStlLnoqb1szXX19KCh0aGlzLmxlbmd0aC0xKSpuLXIsdGhpcy5wb2ludHNbcl0sdGhpcy5jb250cm9sc1tyXVsxXSx0aGlzLmNvbnRyb2xzW3IrMV1bMF0sdGhpcy5wb2ludHNbcisxXSl9LHR9KCk7ZnVuY3Rpb24gZm4odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7Zm9yKHZhciBuPWUucmVzb2x1dGlvbnx8MWU0LHI9ZS5zaGFycG5lc3N8fC44NSxpPVtdLG89cnQodCkuY29vcmRpbmF0ZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm57eDp0WzBdLHk6dFsxXX19KSkscz1uZXcgcG4oe2R1cmF0aW9uOm4scG9pbnRzOm8sc2hhcnBuZXNzOnJ9KSxhPWZ1bmN0aW9uKHQpe3ZhciBlPXMucG9zKHQpO01hdGguZmxvb3IodC8xMDApJTI9PTAmJmkucHVzaChbZS54LGUueV0pfSx1PTA7dTxzLmR1cmF0aW9uO3UrPTEwKWEodSk7cmV0dXJuIGEocy5kdXJhdGlvbiksaChpLGUucHJvcGVydGllcyl9ZnVuY3Rpb24gZ24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49TnVtYmVyKHRbMF0pLHI9TnVtYmVyKHRbMV0pLGk9TnVtYmVyKHRbMl0pLG89TnVtYmVyKHRbM10pO2lmKDY9PT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkB0dXJmL2Jib3gtcG9seWdvbiBkb2VzIG5vdCBzdXBwb3J0IEJCb3ggd2l0aCA2IHBvc2l0aW9ucyIpO3ZhciBzPVtuLHJdO3JldHVybiBsKFtbcyxbaSxyXSxbaSxvXSxbbixvXSxzXV0sZS5wcm9wZXJ0aWVzLHtiYm94OnQsaWQ6ZS5pZH0pfWZ1bmN0aW9uIGRuKHQpe3JldHVybiBnbihaKHQpKX1mdW5jdGlvbiB5bih0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdO2lmKG1lKHQuc2xpY2UoMCwyKSxbcixuXSk+PW1lKHQuc2xpY2UoMCwyKSxbZSxpXSkpe3ZhciBvPShuK2kpLzI7cmV0dXJuW2Usby0oci1lKS8yLHIsbysoci1lKS8yXX12YXIgcz0oZStyKS8yO3JldHVybltzLShpLW4pLzIsbixzKyhpLW4pLzIsaV19ZnVuY3Rpb24gdm4odCxlLG4scil7dm9pZCAwPT09ciYmKHI9e30pO3ZhciBpPUsodCksbz1JKGlbMF0pLHM9SShpWzFdKSx1PUkobiksbD14KGUsci51bml0cyksYz1NYXRoLmFzaW4oTWF0aC5zaW4ocykqTWF0aC5jb3MobCkrTWF0aC5jb3MocykqTWF0aC5zaW4obCkqTWF0aC5jb3ModSkpO3JldHVybiBhKFt3KG8rTWF0aC5hdGFuMihNYXRoLnNpbih1KSpNYXRoLnNpbihsKSpNYXRoLmNvcyhzKSxNYXRoLmNvcyhsKS1NYXRoLnNpbihzKSpNYXRoLnNpbihjKSkpLHcoYyldLHIucHJvcGVydGllcyl9ZnVuY3Rpb24gX24odCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTtmb3IodmFyIHI9bi5zdGVwc3x8NjQsaT1uLnByb3BlcnRpZXM/bi5wcm9wZXJ0aWVzOiFBcnJheS5pc0FycmF5KHQpJiYiRmVhdHVyZSI9PT10LnR5cGUmJnQucHJvcGVydGllcz90LnByb3BlcnRpZXM6e30sbz1bXSxzPTA7czxyO3MrKylvLnB1c2godm4odCxlLC0zNjAqcy9yLG4pLmdlb21ldHJ5LmNvb3JkaW5hdGVzKTtyZXR1cm4gby5wdXNoKG9bMF0pLGwoW29dLGkpfWZ1bmN0aW9uIG1uKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj17fSksITA9PT1uLmZpbmFsKXJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPW1uKGUsdCk7cmV0dXJuIG49KG4rMTgwKSUzNjB9KHQsZSk7dmFyIHI9Syh0KSxpPUsoZSksbz1JKHJbMF0pLHM9SShpWzBdKSxhPUkoclsxXSksdT1JKGlbMV0pLGw9TWF0aC5zaW4ocy1vKSpNYXRoLmNvcyh1KSxjPU1hdGguY29zKGEpKk1hdGguc2luKHUpLU1hdGguc2luKGEpKk1hdGguY29zKHUpKk1hdGguY29zKHMtbyk7cmV0dXJuIHcoTWF0aC5hdGFuMihsLGMpKX1mdW5jdGlvbiB4bih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj1aKHQpO3JldHVybiBhKFsoblswXStuWzJdKS8yLChuWzFdK25bM10pLzJdLGUucHJvcGVydGllcyxlKX1mdW5jdGlvbiBFbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj0wLHI9MCxpPTA7cmV0dXJuIFIodCwoZnVuY3Rpb24odCl7bis9dFswXSxyKz10WzFdLGkrK30pLCEwKSxhKFtuL2ksci9pXSxlLnByb3BlcnRpZXMpfWZ1bmN0aW9uIGJuKHQpe3ZhciBlPVtdO3JldHVybiJGZWF0dXJlQ29sbGVjdGlvbiI9PT10LnR5cGU/Rih0LChmdW5jdGlvbih0KXtSKHQsKGZ1bmN0aW9uKG4pe2UucHVzaChhKG4sdC5wcm9wZXJ0aWVzKSl9KSl9KSk6Uih0LChmdW5jdGlvbihuKXtlLnB1c2goYShuLHQucHJvcGVydGllcykpfSkpLGYoZSl9dmFyIHduPU5uLEluPU5uO2Z1bmN0aW9uIE5uKHQsZSxuKXtuPW58fDI7dmFyIHIsaSxvLHMsYSx1LGwsYz1lJiZlLmxlbmd0aCxoPWM/ZVswXSpuOnQubGVuZ3RoLHA9U24odCwwLGgsbiwhMCksZj1bXTtpZighcClyZXR1cm4gZjtpZihjJiYocD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaSxvLHMsYT1bXTtmb3IoaT0wLG89ZS5sZW5ndGg7aTxvO2krKykocz1Tbih0LGVbaV0qcixpPG8tMT9lW2krMV0qcjp0Lmxlbmd0aCxyLCExKSk9PT1zLm5leHQmJihzLnN0ZWluZXI9ITApLGEucHVzaChGbihzKSk7Zm9yKGEuc29ydChUbiksaT0wO2k8YS5sZW5ndGg7aSsrKUFuKGFbaV0sbiksbj1DbihuLG4ubmV4dCk7cmV0dXJuIG59KHQsZSxwLG4pKSx0Lmxlbmd0aD44MCpuKXtyPW89dFswXSxpPXM9dFsxXTtmb3IodmFyIGc9bjtnPGg7Zys9bikoYT10W2ddKTxyJiYocj1hKSwodT10W2crMV0pPGkmJihpPXUpLGE+byYmKG89YSksdT5zJiYocz11KTtsPTAhPT0obD1NYXRoLm1heChvLXIscy1pKSk/MS9sOjB9cmV0dXJuIFBuKHAsZixuLHIsaSxsKSxmfWZ1bmN0aW9uIFNuKHQsZSxuLHIsaSl7dmFyIG8scztpZihpPT09SG4odCxlLG4scik+MClmb3Iobz1lO288bjtvKz1yKXM9Vm4obyx0W29dLHRbbysxXSxzKTtlbHNlIGZvcihvPW4tcjtvPj1lO28tPXIpcz1WbihvLHRbb10sdFtvKzFdLHMpO3JldHVybiBzJiZCbihzLHMubmV4dCkmJihYbihzKSxzPXMubmV4dCksc31mdW5jdGlvbiBDbih0LGUpe2lmKCF0KXJldHVybiB0O2V8fChlPXQpO3ZhciBuLHI9dDtkb3tpZihuPSExLHIuc3RlaW5lcnx8IUJuKHIsci5uZXh0KSYmMCE9PXFuKHIucHJldixyLHIubmV4dCkpcj1yLm5leHQ7ZWxzZXtpZihYbihyKSwocj1lPXIucHJldik9PT1yLm5leHQpYnJlYWs7bj0hMH19d2hpbGUobnx8ciE9PWUpO3JldHVybiBlfWZ1bmN0aW9uIFBuKHQsZSxuLHIsaSxvLHMpe2lmKHQpeyFzJiZvJiZmdW5jdGlvbih0LGUsbixyKXt2YXIgaT10O2Rve251bGw9PT1pLnomJihpLno9RG4oaS54LGkueSxlLG4scikpLGkucHJldlo9aS5wcmV2LGkubmV4dFo9aS5uZXh0LGk9aS5uZXh0fXdoaWxlKGkhPT10KTtpLnByZXZaLm5leHRaPW51bGwsaS5wcmV2Wj1udWxsLGZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8scyxhLHUsbD0xO2Rve2ZvcihuPXQsdD1udWxsLG89bnVsbCxzPTA7bjspe2ZvcihzKysscj1uLGE9MCxlPTA7ZTxsJiYoYSsrLHI9ci5uZXh0Wik7ZSsrKTtmb3IodT1sO2E+MHx8dT4wJiZyOykwIT09YSYmKDA9PT11fHwhcnx8bi56PD1yLnopPyhpPW4sbj1uLm5leHRaLGEtLSk6KGk9cixyPXIubmV4dFosdS0tKSxvP28ubmV4dFo9aTp0PWksaS5wcmV2Wj1vLG89aTtuPXJ9by5uZXh0Wj1udWxsLGwqPTJ9d2hpbGUocz4xKX0oaSl9KHQscixpLG8pO2Zvcih2YXIgYSx1LGw9dDt0LnByZXYhPT10Lm5leHQ7KWlmKGE9dC5wcmV2LHU9dC5uZXh0LG8/TG4odCxyLGksbyk6TW4odCkpZS5wdXNoKGEuaS9uKSxlLnB1c2godC5pL24pLGUucHVzaCh1LmkvbiksWG4odCksdD11Lm5leHQsbD11Lm5leHQ7ZWxzZSBpZigodD11KT09PWwpe3M/MT09PXM/UG4odD1Pbih0LGUsbiksZSxuLHIsaSxvLDIpOjI9PT1zJiZSbih0LGUsbixyLGksbyk6UG4oQ24odCksZSxuLHIsaSxvLDEpO2JyZWFrfX19ZnVuY3Rpb24gTW4odCl7dmFyIGU9dC5wcmV2LG49dCxyPXQubmV4dDtpZihxbihlLG4scik+PTApcmV0dXJuITE7Zm9yKHZhciBpPXQubmV4dC5uZXh0O2khPT10LnByZXY7KXtpZihrbihlLngsZS55LG4ueCxuLnksci54LHIueSxpLngsaS55KSYmcW4oaS5wcmV2LGksaS5uZXh0KT49MClyZXR1cm4hMTtpPWkubmV4dH1yZXR1cm4hMH1mdW5jdGlvbiBMbih0LGUsbixyKXt2YXIgaT10LnByZXYsbz10LHM9dC5uZXh0O2lmKHFuKGksbyxzKT49MClyZXR1cm4hMTtmb3IodmFyIGE9aS54PG8ueD9pLng8cy54P2kueDpzLng6by54PHMueD9vLng6cy54LHU9aS55PG8ueT9pLnk8cy55P2kueTpzLnk6by55PHMueT9vLnk6cy55LGw9aS54Pm8ueD9pLng+cy54P2kueDpzLng6by54PnMueD9vLng6cy54LGM9aS55Pm8ueT9pLnk+cy55P2kueTpzLnk6by55PnMueT9vLnk6cy55LGg9RG4oYSx1LGUsbixyKSxwPURuKGwsYyxlLG4sciksZj10LnByZXZaLGc9dC5uZXh0WjtmJiZmLno+PWgmJmcmJmcuejw9cDspe2lmKGYhPT10LnByZXYmJmYhPT10Lm5leHQmJmtuKGkueCxpLnksby54LG8ueSxzLngscy55LGYueCxmLnkpJiZxbihmLnByZXYsZixmLm5leHQpPj0wKXJldHVybiExO2lmKGY9Zi5wcmV2WixnIT09dC5wcmV2JiZnIT09dC5uZXh0JiZrbihpLngsaS55LG8ueCxvLnkscy54LHMueSxnLngsZy55KSYmcW4oZy5wcmV2LGcsZy5uZXh0KT49MClyZXR1cm4hMTtnPWcubmV4dFp9Zm9yKDtmJiZmLno+PWg7KXtpZihmIT09dC5wcmV2JiZmIT09dC5uZXh0JiZrbihpLngsaS55LG8ueCxvLnkscy54LHMueSxmLngsZi55KSYmcW4oZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtmPWYucHJldlp9Zm9yKDtnJiZnLno8PXA7KXtpZihnIT09dC5wcmV2JiZnIT09dC5uZXh0JiZrbihpLngsaS55LG8ueCxvLnkscy54LHMueSxnLngsZy55KSYmcW4oZy5wcmV2LGcsZy5uZXh0KT49MClyZXR1cm4hMTtnPWcubmV4dFp9cmV0dXJuITB9ZnVuY3Rpb24gT24odCxlLG4pe3ZhciByPXQ7ZG97dmFyIGk9ci5wcmV2LG89ci5uZXh0Lm5leHQ7IUJuKGksbykmJnpuKGkscixyLm5leHQsbykmJmpuKGksbykmJmpuKG8saSkmJihlLnB1c2goaS5pL24pLGUucHVzaChyLmkvbiksZS5wdXNoKG8uaS9uKSxYbihyKSxYbihyLm5leHQpLHI9dD1vKSxyPXIubmV4dH13aGlsZShyIT09dCk7cmV0dXJuIHJ9ZnVuY3Rpb24gUm4odCxlLG4scixpLG8pe3ZhciBzPXQ7ZG97Zm9yKHZhciBhPXMubmV4dC5uZXh0O2EhPT1zLnByZXY7KXtpZihzLmkhPT1hLmkmJkduKHMsYSkpe3ZhciB1PVVuKHMsYSk7cmV0dXJuIHM9Q24ocyxzLm5leHQpLHU9Q24odSx1Lm5leHQpLFBuKHMsZSxuLHIsaSxvKSx2b2lkIFBuKHUsZSxuLHIsaSxvKX1hPWEubmV4dH1zPXMubmV4dH13aGlsZShzIT09dCl9ZnVuY3Rpb24gVG4odCxlKXtyZXR1cm4gdC54LWUueH1mdW5jdGlvbiBBbih0LGUpe2lmKGU9ZnVuY3Rpb24odCxlKXt2YXIgbixyPWUsaT10Lngsbz10Lnkscz0tMS8wO2Rve2lmKG88PXIueSYmbz49ci5uZXh0LnkmJnIubmV4dC55IT09ci55KXt2YXIgYT1yLngrKG8tci55KSooci5uZXh0Lngtci54KS8oci5uZXh0Lnktci55KTtpZihhPD1pJiZhPnMpe2lmKHM9YSxhPT09aSl7aWYobz09PXIueSlyZXR1cm4gcjtpZihvPT09ci5uZXh0LnkpcmV0dXJuIHIubmV4dH1uPXIueDxyLm5leHQueD9yOnIubmV4dH19cj1yLm5leHR9d2hpbGUociE9PWUpO2lmKCFuKXJldHVybiBudWxsO2lmKGk9PT1zKXJldHVybiBuLnByZXY7dmFyIHUsbD1uLGM9bi54LGg9bi55LHA9MS8wO3I9bi5uZXh0O2Zvcig7ciE9PWw7KWk+PXIueCYmci54Pj1jJiZpIT09ci54JiZrbihvPGg/aTpzLG8sYyxoLG88aD9zOmksbyxyLngsci55KSYmKCh1PU1hdGguYWJzKG8tci55KS8oaS1yLngpKTxwfHx1PT09cCYmci54Pm4ueCkmJmpuKHIsdCkmJihuPXIscD11KSxyPXIubmV4dDtyZXR1cm4gbn0odCxlKSl7dmFyIG49VW4oZSx0KTtDbihuLG4ubmV4dCl9fWZ1bmN0aW9uIERuKHQsZSxuLHIsaSl7cmV0dXJuKHQ9MTQzMTY1NTc2NSYoKHQ9ODU4OTkzNDU5JigodD0yNTI2NDUxMzUmKCh0PTE2NzExOTM1JigodD0zMjc2NyoodC1uKSppKXx0PDw4KSl8dDw8NCkpfHQ8PDIpKXx0PDwxKSl8KGU9MTQzMTY1NTc2NSYoKGU9ODU4OTkzNDU5JigoZT0yNTI2NDUxMzUmKChlPTE2NzExOTM1JigoZT0zMjc2NyooZS1yKSppKXxlPDw4KSl8ZTw8NCkpfGU8PDIpKXxlPDwxKSk8PDF9ZnVuY3Rpb24gRm4odCl7dmFyIGU9dCxuPXQ7ZG97ZS54PG4ueCYmKG49ZSksZT1lLm5leHR9d2hpbGUoZSE9PXQpO3JldHVybiBufWZ1bmN0aW9uIGtuKHQsZSxuLHIsaSxvLHMsYSl7cmV0dXJuKGktcykqKGUtYSktKHQtcykqKG8tYSk+PTAmJih0LXMpKihyLWEpLShuLXMpKihlLWEpPj0wJiYobi1zKSooby1hKS0oaS1zKSooci1hKT49MH1mdW5jdGlvbiBHbih0LGUpe3JldHVybiB0Lm5leHQuaSE9PWUuaSYmdC5wcmV2LmkhPT1lLmkmJiFmdW5jdGlvbih0LGUpe3ZhciBuPXQ7ZG97aWYobi5pIT09dC5pJiZuLm5leHQuaSE9PXQuaSYmbi5pIT09ZS5pJiZuLm5leHQuaSE9PWUuaSYmem4obixuLm5leHQsdCxlKSlyZXR1cm4hMDtuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuITF9KHQsZSkmJmpuKHQsZSkmJmpuKGUsdCkmJmZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPSExLGk9KHQueCtlLngpLzIsbz0odC55K2UueSkvMjtkb3tuLnk+byE9bi5uZXh0Lnk+byYmbi5uZXh0LnkhPT1uLnkmJmk8KG4ubmV4dC54LW4ueCkqKG8tbi55KS8obi5uZXh0Lnktbi55KStuLngmJihyPSFyKSxuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuIHJ9KHQsZSl9ZnVuY3Rpb24gcW4odCxlLG4pe3JldHVybihlLnktdC55KSoobi54LWUueCktKGUueC10LngpKihuLnktZS55KX1mdW5jdGlvbiBCbih0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1mdW5jdGlvbiB6bih0LGUsbixyKXtyZXR1cm4hIShCbih0LGUpJiZCbihuLHIpfHxCbih0LHIpJiZCbihuLGUpKXx8cW4odCxlLG4pPjAhPXFuKHQsZSxyKT4wJiZxbihuLHIsdCk+MCE9cW4obixyLGUpPjB9ZnVuY3Rpb24gam4odCxlKXtyZXR1cm4gcW4odC5wcmV2LHQsdC5uZXh0KTwwP3FuKHQsZSx0Lm5leHQpPj0wJiZxbih0LHQucHJldixlKT49MDpxbih0LGUsdC5wcmV2KTwwfHxxbih0LHQubmV4dCxlKTwwfWZ1bmN0aW9uIFVuKHQsZSl7dmFyIG49bmV3IFluKHQuaSx0LngsdC55KSxyPW5ldyBZbihlLmksZS54LGUueSksaT10Lm5leHQsbz1lLnByZXY7cmV0dXJuIHQubmV4dD1lLGUucHJldj10LG4ubmV4dD1pLGkucHJldj1uLHIubmV4dD1uLG4ucHJldj1yLG8ubmV4dD1yLHIucHJldj1vLHJ9ZnVuY3Rpb24gVm4odCxlLG4scil7dmFyIGk9bmV3IFluKHQsZSxuKTtyZXR1cm4gcj8oaS5uZXh0PXIubmV4dCxpLnByZXY9cixyLm5leHQucHJldj1pLHIubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gWG4odCl7dC5uZXh0LnByZXY9dC5wcmV2LHQucHJldi5uZXh0PXQubmV4dCx0LnByZXZaJiYodC5wcmV2Wi5uZXh0Wj10Lm5leHRaKSx0Lm5leHRaJiYodC5uZXh0Wi5wcmV2Wj10LnByZXZaKX1mdW5jdGlvbiBZbih0LGUsbil7dGhpcy5pPXQsdGhpcy54PWUsdGhpcy55PW4sdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PW51bGwsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9ZnVuY3Rpb24gSG4odCxlLG4scil7Zm9yKHZhciBpPTAsbz1lLHM9bi1yO288bjtvKz1yKWkrPSh0W3NdLXRbb10pKih0W28rMV0rdFtzKzFdKSxzPW87cmV0dXJuIGl9ZnVuY3Rpb24gV24odCl7dmFyIGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRbMF1bMF0ubGVuZ3RoLG49e3ZlcnRpY2VzOltdLGhvbGVzOltdLGRpbWVuc2lvbnM6ZX0scj0wLGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKHZhciBvPTA7bzx0W2ldLmxlbmd0aDtvKyspZm9yKHZhciBzPTA7czxlO3MrKyluLnZlcnRpY2VzLnB1c2godFtpXVtvXVtzXSk7aT4wJiYocis9dFtpLTFdLmxlbmd0aCxuLmhvbGVzLnB1c2gocikpfXJldHVybiBufSh0KSxuPXduKGUudmVydGljZXMsZS5ob2xlcywyKSxyPVtdLGk9W107bi5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3ZhciBvPW5bcl07aS5wdXNoKFtlLnZlcnRpY2VzWzIqb10sZS52ZXJ0aWNlc1syKm8rMV1dKX0pKTtmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rPTMpe3ZhciBzPWkuc2xpY2UobyxvKzMpO3MucHVzaChpW29dKSxyLnB1c2gobChbc10pKX1yZXR1cm4gcn1mdW5jdGlvbiBKbih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigidGFyZ2V0UG9pbnQgaXMgcmVxdWlyZWQiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoInBvaW50cyBpcyByZXF1aXJlZCIpO3ZhciBuLHI9MS8wLGk9MDtyZXR1cm4gRihlLChmdW5jdGlvbihlLG4pe3ZhciBvPW1lKHQsZSk7bzxyJiYoaT1uLHI9byl9KSksKG49SWUoZS5mZWF0dXJlc1tpXSkpLnByb3BlcnRpZXMuZmVhdHVyZUluZGV4PWksbi5wcm9wZXJ0aWVzLmRpc3RhbmNlVG9Qb2ludD1yLG59ZnVuY3Rpb24gWm4odCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7dmFyIGU9W107cmV0dXJuIHoodCwoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSl7dmFyIG49W10scj10Lmdlb21ldHJ5O2lmKG51bGwhPT1yKXtzd2l0Y2goci50eXBlKXtjYXNlIlBvbHlnb24iOm49UShyKTticmVhaztjYXNlIkxpbmVTdHJpbmciOm49W1EocildfW4uZm9yRWFjaCgoZnVuY3Rpb24obil7KGZ1bmN0aW9uKHQsZSl7dmFyIG49W107cmV0dXJuIHQucmVkdWNlKChmdW5jdGlvbih0LHIpe3ZhciBpPWgoW3Qscl0sZSk7cmV0dXJuIGkuYmJveD1mdW5jdGlvbih0LGUpe3ZhciBuPXRbMF0scj10WzFdLGk9ZVswXSxvPWVbMV07cmV0dXJuW248aT9uOmkscjxvP3I6byxuPmk/bjppLHI+bz9yOm9dfSh0LHIpLG4ucHVzaChpKSxyfSkpLG59KShuLHQucHJvcGVydGllcykuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5pZD1lLmxlbmd0aCxlLnB1c2godCl9KSl9KSl9fSh0LGUpfSkpLGYoZSl9Tm4uZGV2aWF0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWUmJmUubGVuZ3RoLG89aT9lWzBdKm46dC5sZW5ndGgscz1NYXRoLmFicyhIbih0LDAsbyxuKSk7aWYoaSlmb3IodmFyIGE9MCx1PWUubGVuZ3RoO2E8dTthKyspe3ZhciBsPWVbYV0qbixjPWE8dS0xP2VbYSsxXSpuOnQubGVuZ3RoO3MtPU1hdGguYWJzKEhuKHQsbCxjLG4pKX12YXIgaD0wO2ZvcihhPTA7YTxyLmxlbmd0aDthKz0zKXt2YXIgcD1yW2FdKm4sZj1yW2ErMV0qbixnPXJbYSsyXSpuO2grPU1hdGguYWJzKCh0W3BdLXRbZ10pKih0W2YrMV0tdFtwKzFdKS0odFtwXS10W2ZdKSoodFtnKzFdLXRbcCsxXSkpfXJldHVybiAwPT09cyYmMD09PWg/MDpNYXRoLmFicygoaC1zKS9zKX0sTm4uZmxhdHRlbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXVswXS5sZW5ndGgsbj17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczplfSxyPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXtmb3IodmFyIG89MDtvPHRbaV0ubGVuZ3RoO28rKylmb3IodmFyIHM9MDtzPGU7cysrKW4udmVydGljZXMucHVzaCh0W2ldW29dW3NdKTtpPjAmJihyKz10W2ktMV0ubGVuZ3RoLG4uaG9sZXMucHVzaChyKSl9cmV0dXJuIG59LHduLmRlZmF1bHQ9SW47dmFyIEtuPUJ0KChmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj17dHlwZToiRmVhdHVyZSJ9O3JldHVybigwPT09bi5pZHx8bi5pZCkmJihyLmlkPW4uaWQpLG4uYmJveCYmKHIuYmJveD1uLmJib3gpLHIucHJvcGVydGllcz1lfHx7fSxyLmdlb21ldHJ5PXQscn1mdW5jdGlvbiByKHQsZSxyKXtpZih2b2lkIDA9PT1yJiYocj17fSksIXQpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBpcyByZXF1aXJlZCIpO2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcigiY29vcmRpbmF0ZXMgbXVzdCBiZSBhbiBBcnJheSIpO2lmKHQubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKCJjb29yZGluYXRlcyBtdXN0IGJlIGF0IGxlYXN0IDIgbnVtYmVycyBsb25nIik7aWYoIWYodFswXSl8fCFmKHRbMV0pKXRocm93IG5ldyBFcnJvcigiY29vcmRpbmF0ZXMgbXVzdCBjb250YWluIG51bWJlcnMiKTtyZXR1cm4gbih7dHlwZToiUG9pbnQiLGNvb3JkaW5hdGVzOnR9LGUscil9ZnVuY3Rpb24gaSh0LGUscil7dm9pZCAwPT09ciYmKHI9e30pO2Zvcih2YXIgaT0wLG89dDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXTtpZihzLmxlbmd0aDw0KXRocm93IG5ldyBFcnJvcigiRWFjaCBMaW5lYXJSaW5nIG9mIGEgUG9seWdvbiBtdXN0IGhhdmUgNCBvciBtb3JlIFBvc2l0aW9ucy4iKTtmb3IodmFyIGE9MDthPHNbcy5sZW5ndGgtMV0ubGVuZ3RoO2ErKylpZihzW3MubGVuZ3RoLTFdW2FdIT09c1swXVthXSl0aHJvdyBuZXcgRXJyb3IoIkZpcnN0IGFuZCBsYXN0IFBvc2l0aW9uIGFyZSBub3QgZXF1aXZhbGVudC4iKX1yZXR1cm4gbih7dHlwZToiUG9seWdvbiIsY29vcmRpbmF0ZXM6dH0sZSxyKX1mdW5jdGlvbiBvKHQsZSxyKXtpZih2b2lkIDA9PT1yJiYocj17fSksdC5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoImNvb3JkaW5hdGVzIG11c3QgYmUgYW4gYXJyYXkgb2YgdHdvIG9yIG1vcmUgcG9zaXRpb25zIik7cmV0dXJuIG4oe3R5cGU6IkxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOnR9LGUscil9ZnVuY3Rpb24gcyh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj17dHlwZToiRmVhdHVyZUNvbGxlY3Rpb24ifTtyZXR1cm4gZS5pZCYmKG4uaWQ9ZS5pZCksZS5iYm94JiYobi5iYm94PWUuYmJveCksbi5mZWF0dXJlcz10LG59ZnVuY3Rpb24gYSh0LGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPXt9KSxuKHt0eXBlOiJNdWx0aUxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOnR9LGUscil9ZnVuY3Rpb24gdSh0LGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPXt9KSxuKHt0eXBlOiJNdWx0aVBvaW50Iixjb29yZGluYXRlczp0fSxlLHIpfWZ1bmN0aW9uIGwodCxlLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj17fSksbih7dHlwZToiTXVsdGlQb2x5Z29uIixjb29yZGluYXRlczp0fSxlLHIpfWZ1bmN0aW9uIGModCxuKXt2b2lkIDA9PT1uJiYobj0ia2lsb21ldGVycyIpO3ZhciByPWUuZmFjdG9yc1tuXTtpZighcil0aHJvdyBuZXcgRXJyb3IobisiIHVuaXRzIGlzIGludmFsaWQiKTtyZXR1cm4gdCpyfWZ1bmN0aW9uIGgodCxuKXt2b2lkIDA9PT1uJiYobj0ia2lsb21ldGVycyIpO3ZhciByPWUuZmFjdG9yc1tuXTtpZighcil0aHJvdyBuZXcgRXJyb3IobisiIHVuaXRzIGlzIGludmFsaWQiKTtyZXR1cm4gdC9yfWZ1bmN0aW9uIHAodCl7cmV0dXJuIDE4MCoodCUoMipNYXRoLlBJKSkvTWF0aC5QSX1mdW5jdGlvbiBmKHQpe3JldHVybiFpc05hTih0KSYmbnVsbCE9PXQmJiFBcnJheS5pc0FycmF5KHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmVhcnRoUmFkaXVzPTYzNzEwMDguOCxlLmZhY3RvcnM9e2NlbnRpbWV0ZXJzOjEwMCplLmVhcnRoUmFkaXVzLGNlbnRpbWV0cmVzOjEwMCplLmVhcnRoUmFkaXVzLGRlZ3JlZXM6ZS5lYXJ0aFJhZGl1cy8xMTEzMjUsZmVldDozLjI4MDg0KmUuZWFydGhSYWRpdXMsaW5jaGVzOjM5LjM3KmUuZWFydGhSYWRpdXMsa2lsb21ldGVyczplLmVhcnRoUmFkaXVzLzFlMyxraWxvbWV0cmVzOmUuZWFydGhSYWRpdXMvMWUzLG1ldGVyczplLmVhcnRoUmFkaXVzLG1ldHJlczplLmVhcnRoUmFkaXVzLG1pbGVzOmUuZWFydGhSYWRpdXMvMTYwOS4zNDQsbWlsbGltZXRlcnM6MWUzKmUuZWFydGhSYWRpdXMsbWlsbGltZXRyZXM6MWUzKmUuZWFydGhSYWRpdXMsbmF1dGljYWxtaWxlczplLmVhcnRoUmFkaXVzLzE4NTIscmFkaWFuczoxLHlhcmRzOjEuMDkzNiplLmVhcnRoUmFkaXVzfSxlLnVuaXRzRmFjdG9ycz17Y2VudGltZXRlcnM6MTAwLGNlbnRpbWV0cmVzOjEwMCxkZWdyZWVzOjEvMTExMzI1LGZlZXQ6My4yODA4NCxpbmNoZXM6MzkuMzcsa2lsb21ldGVyczouMDAxLGtpbG9tZXRyZXM6LjAwMSxtZXRlcnM6MSxtZXRyZXM6MSxtaWxlczoxLzE2MDkuMzQ0LG1pbGxpbWV0ZXJzOjFlMyxtaWxsaW1ldHJlczoxZTMsbmF1dGljYWxtaWxlczoxLzE4NTIscmFkaWFuczoxL2UuZWFydGhSYWRpdXMseWFyZHM6MS4wOTM2MTMzfSxlLmFyZWFGYWN0b3JzPXthY3JlczoyNDcxMDVlLTksY2VudGltZXRlcnM6MWU0LGNlbnRpbWV0cmVzOjFlNCxmZWV0OjEwLjc2MzkxMDQxNyxoZWN0YXJlczoxZS00LGluY2hlczoxNTUwLjAwMzEwMDAwNixraWxvbWV0ZXJzOjFlLTYsa2lsb21ldHJlczoxZS02LG1ldGVyczoxLG1ldHJlczoxLG1pbGVzOjM4NmUtOSxtaWxsaW1ldGVyczoxZTYsbWlsbGltZXRyZXM6MWU2LHlhcmRzOjEuMTk1OTkwMDQ2fSxlLmZlYXR1cmU9bixlLmdlb21ldHJ5PWZ1bmN0aW9uKHQsZSxuKXtzd2l0Y2godCl7Y2FzZSJQb2ludCI6cmV0dXJuIHIoZSkuZ2VvbWV0cnk7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gbyhlKS5nZW9tZXRyeTtjYXNlIlBvbHlnb24iOnJldHVybiBpKGUpLmdlb21ldHJ5O2Nhc2UiTXVsdGlQb2ludCI6cmV0dXJuIHUoZSkuZ2VvbWV0cnk7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiBhKGUpLmdlb21ldHJ5O2Nhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gbChlKS5nZW9tZXRyeTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcih0KyIgaXMgaW52YWxpZCIpfX0sZS5wb2ludD1yLGUucG9pbnRzPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLHModC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiByKHQsZSl9KSksbil9LGUucG9seWdvbj1pLGUucG9seWdvbnM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj17fSkscyh0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGkodCxlKX0pKSxuKX0sZS5saW5lU3RyaW5nPW8sZS5saW5lU3RyaW5ncz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9KSxzKHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbyh0LGUpfSkpLG4pfSxlLmZlYXR1cmVDb2xsZWN0aW9uPXMsZS5tdWx0aUxpbmVTdHJpbmc9YSxlLm11bHRpUG9pbnQ9dSxlLm11bHRpUG9seWdvbj1sLGUuZ2VvbWV0cnlDb2xsZWN0aW9uPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9e30pLG4oe3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczp0fSxlLHIpfSxlLnJvdW5kPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9MCksZSYmIShlPj0wKSl0aHJvdyBuZXcgRXJyb3IoInByZWNpc2lvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7dmFyIG49TWF0aC5wb3coMTAsZXx8MCk7cmV0dXJuIE1hdGgucm91bmQodCpuKS9ufSxlLnJhZGlhbnNUb0xlbmd0aD1jLGUubGVuZ3RoVG9SYWRpYW5zPWgsZS5sZW5ndGhUb0RlZ3JlZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcChoKHQsZSkpfSxlLmJlYXJpbmdUb0F6aW11dGg9ZnVuY3Rpb24odCl7dmFyIGU9dCUzNjA7cmV0dXJuIGU8MCYmKGUrPTM2MCksZX0sZS5yYWRpYW5zVG9EZWdyZWVzPXAsZS5kZWdyZWVzVG9SYWRpYW5zPWZ1bmN0aW9uKHQpe3JldHVybiB0JTM2MCpNYXRoLlBJLzE4MH0sZS5jb252ZXJ0TGVuZ3RoPWZ1bmN0aW9uKHQsZSxuKXtpZih2b2lkIDA9PT1lJiYoZT0ia2lsb21ldGVycyIpLHZvaWQgMD09PW4mJihuPSJraWxvbWV0ZXJzIiksISh0Pj0wKSl0aHJvdyBuZXcgRXJyb3IoImxlbmd0aCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7cmV0dXJuIGMoaCh0LGUpLG4pfSxlLmNvbnZlcnRBcmVhPWZ1bmN0aW9uKHQsbixyKXtpZih2b2lkIDA9PT1uJiYobj0ibWV0ZXJzIiksdm9pZCAwPT09ciYmKHI9ImtpbG9tZXRlcnMiKSwhKHQ+PTApKXRocm93IG5ldyBFcnJvcigiYXJlYSBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7dmFyIGk9ZS5hcmVhRmFjdG9yc1tuXTtpZighaSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgb3JpZ2luYWwgdW5pdHMiKTt2YXIgbz1lLmFyZWFGYWN0b3JzW3JdO2lmKCFvKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBmaW5hbCB1bml0cyIpO3JldHVybiB0L2kqb30sZS5pc051bWJlcj1mLGUuaXNPYmplY3Q9ZnVuY3Rpb24odCl7cmV0dXJuISF0JiZ0LmNvbnN0cnVjdG9yPT09T2JqZWN0fSxlLnZhbGlkYXRlQkJveD1mdW5jdGlvbih0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImJib3ggaXMgcmVxdWlyZWQiKTtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgRXJyb3IoImJib3ggbXVzdCBiZSBhbiBBcnJheSIpO2lmKDQhPT10Lmxlbmd0aCYmNiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiYmJveCBtdXN0IGJlIGFuIEFycmF5IG9mIDQgb3IgNiBudW1iZXJzIik7dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighZih0KSl0aHJvdyBuZXcgRXJyb3IoImJib3ggbXVzdCBvbmx5IGNvbnRhaW4gbnVtYmVycyIpfSkpfSxlLnZhbGlkYXRlSWQ9ZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJpZCBpcyByZXF1aXJlZCIpO2lmKC0xPT09WyJzdHJpbmciLCJudW1iZXIiXS5pbmRleE9mKHR5cGVvZiB0KSl0aHJvdyBuZXcgRXJyb3IoImlkIG11c3QgYmUgYSBudW1iZXIgb3IgYSBzdHJpbmciKX19KSk7ZnVuY3Rpb24gUW4odCxlLG4pe2lmKG51bGwhPT10KWZvcih2YXIgcixpLG8scyxhLHUsbCxjLGg9MCxwPTAsZj10LnR5cGUsZz0iRmVhdHVyZUNvbGxlY3Rpb24iPT09ZixkPSJGZWF0dXJlIj09PWYseT1nP3QuZmVhdHVyZXMubGVuZ3RoOjEsdj0wO3Y8eTt2Kyspe2E9KGM9ISEobD1nP3QuZmVhdHVyZXNbdl0uZ2VvbWV0cnk6ZD90Lmdlb21ldHJ5OnQpJiYiR2VvbWV0cnlDb2xsZWN0aW9uIj09PWwudHlwZSk/bC5nZW9tZXRyaWVzLmxlbmd0aDoxO2Zvcih2YXIgXz0wO188YTtfKyspe3ZhciBtPTAseD0wO2lmKG51bGwhPT0ocz1jP2wuZ2VvbWV0cmllc1tfXTpsKSl7dT1zLmNvb3JkaW5hdGVzO3ZhciBFPXMudHlwZTtzd2l0Y2goaD0hbnx8IlBvbHlnb24iIT09RSYmIk11bHRpUG9seWdvbiIhPT1FPzA6MSxFKXtjYXNlIG51bGw6YnJlYWs7Y2FzZSJQb2ludCI6aWYoITE9PT1lKHUscCx2LG0seCkpcmV0dXJuITE7cCsrLG0rKzticmVhaztjYXNlIkxpbmVTdHJpbmciOmNhc2UiTXVsdGlQb2ludCI6Zm9yKHI9MDtyPHUubGVuZ3RoO3IrKyl7aWYoITE9PT1lKHVbcl0scCx2LG0seCkpcmV0dXJuITE7cCsrLCJNdWx0aVBvaW50Ij09PUUmJm0rK30iTGluZVN0cmluZyI9PT1FJiZtKys7YnJlYWs7Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpTGluZVN0cmluZyI6Zm9yKHI9MDtyPHUubGVuZ3RoO3IrKyl7Zm9yKGk9MDtpPHVbcl0ubGVuZ3RoLWg7aSsrKXtpZighMT09PWUodVtyXVtpXSxwLHYsbSx4KSlyZXR1cm4hMTtwKyt9Ik11bHRpTGluZVN0cmluZyI9PT1FJiZtKyssIlBvbHlnb24iPT09RSYmeCsrfSJQb2x5Z29uIj09PUUmJm0rKzticmVhaztjYXNlIk11bHRpUG9seWdvbiI6Zm9yKHI9MDtyPHUubGVuZ3RoO3IrKyl7Zm9yKHg9MCxpPTA7aTx1W3JdLmxlbmd0aDtpKyspe2ZvcihvPTA7bzx1W3JdW2ldLmxlbmd0aC1oO28rKyl7aWYoITE9PT1lKHVbcl1baV1bb10scCx2LG0seCkpcmV0dXJuITE7cCsrfXgrK31tKyt9YnJlYWs7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOmZvcihyPTA7cjxzLmdlb21ldHJpZXMubGVuZ3RoO3IrKylpZighMT09PVFuKHMuZ2VvbWV0cmllc1tyXSxlLG4pKXJldHVybiExO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEdlb21ldHJ5IFR5cGUiKX19fX19ZnVuY3Rpb24gJG4odCxlKXt2YXIgbjtzd2l0Y2godC50eXBlKXtjYXNlIkZlYXR1cmVDb2xsZWN0aW9uIjpmb3Iobj0wO248dC5mZWF0dXJlcy5sZW5ndGgmJiExIT09ZSh0LmZlYXR1cmVzW25dLnByb3BlcnRpZXMsbik7bisrKTticmVhaztjYXNlIkZlYXR1cmUiOmUodC5wcm9wZXJ0aWVzLDApfX1mdW5jdGlvbiB0cih0LGUpe2lmKCJGZWF0dXJlIj09PXQudHlwZSllKHQsMCk7ZWxzZSBpZigiRmVhdHVyZUNvbGxlY3Rpb24iPT09dC50eXBlKWZvcih2YXIgbj0wO248dC5mZWF0dXJlcy5sZW5ndGgmJiExIT09ZSh0LmZlYXR1cmVzW25dLG4pO24rKyk7fWZ1bmN0aW9uIGVyKHQsZSl7dmFyIG4scixpLG8scyxhLHUsbCxjLGgscD0wLGY9IkZlYXR1cmVDb2xsZWN0aW9uIj09PXQudHlwZSxnPSJGZWF0dXJlIj09PXQudHlwZSxkPWY/dC5mZWF0dXJlcy5sZW5ndGg6MTtmb3Iobj0wO248ZDtuKyspe2ZvcihhPWY/dC5mZWF0dXJlc1tuXS5nZW9tZXRyeTpnP3QuZ2VvbWV0cnk6dCxsPWY/dC5mZWF0dXJlc1tuXS5wcm9wZXJ0aWVzOmc/dC5wcm9wZXJ0aWVzOnt9LGM9Zj90LmZlYXR1cmVzW25dLmJib3g6Zz90LmJib3g6dm9pZCAwLGg9Zj90LmZlYXR1cmVzW25dLmlkOmc/dC5pZDp2b2lkIDAscz0odT0hIWEmJiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09YS50eXBlKT9hLmdlb21ldHJpZXMubGVuZ3RoOjEsaT0wO2k8cztpKyspaWYobnVsbCE9PShvPXU/YS5nZW9tZXRyaWVzW2ldOmEpKXN3aXRjaChvLnR5cGUpe2Nhc2UiUG9pbnQiOmNhc2UiTGluZVN0cmluZyI6Y2FzZSJNdWx0aVBvaW50IjpjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIk11bHRpUG9seWdvbiI6aWYoITE9PT1lKG8scCxsLGMsaCkpcmV0dXJuITE7YnJlYWs7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOmZvcihyPTA7cjxvLmdlb21ldHJpZXMubGVuZ3RoO3IrKylpZighMT09PWUoby5nZW9tZXRyaWVzW3JdLHAsbCxjLGgpKXJldHVybiExO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEdlb21ldHJ5IFR5cGUiKX1lbHNlIGlmKCExPT09ZShudWxsLHAsbCxjLGgpKXJldHVybiExO3ArK319ZnVuY3Rpb24gbnIodCxlKXtlcih0LChmdW5jdGlvbih0LG4scixpLG8pe3ZhciBzLGE9bnVsbD09PXQ/bnVsbDp0LnR5cGU7c3dpdGNoKGEpe2Nhc2UgbnVsbDpjYXNlIlBvaW50IjpjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6cmV0dXJuITEhPT1lKEtuLmZlYXR1cmUodCxyLHtiYm94OmksaWQ6b30pLG4sMCkmJnZvaWQgMH1zd2l0Y2goYSl7Y2FzZSJNdWx0aVBvaW50IjpzPSJQb2ludCI7YnJlYWs7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnM9IkxpbmVTdHJpbmciO2JyZWFrO2Nhc2UiTXVsdGlQb2x5Z29uIjpzPSJQb2x5Z29uIn1mb3IodmFyIHU9MDt1PHQuY29vcmRpbmF0ZXMubGVuZ3RoO3UrKyl7dmFyIGw9e3R5cGU6cyxjb29yZGluYXRlczp0LmNvb3JkaW5hdGVzW3VdfTtpZighMT09PWUoS24uZmVhdHVyZShsLHIpLG4sdSkpcmV0dXJuITF9fSkpfWZ1bmN0aW9uIHJyKHQsZSl7bnIodCwoZnVuY3Rpb24odCxuLHIpe3ZhciBpPTA7aWYodC5nZW9tZXRyeSl7dmFyIG89dC5nZW9tZXRyeS50eXBlO2lmKCJQb2ludCIhPT1vJiYiTXVsdGlQb2ludCIhPT1vKXt2YXIgcyxhPTAsdT0wLGw9MDtyZXR1cm4hMSE9PVFuKHQsKGZ1bmN0aW9uKG8sYyxoLHAsZil7aWYodm9pZCAwPT09c3x8bj5hfHxwPnV8fGY+bClyZXR1cm4gcz1vLGE9bix1PXAsbD1mLHZvaWQoaT0wKTt2YXIgZz1Lbi5saW5lU3RyaW5nKFtzLG9dLHQucHJvcGVydGllcyk7aWYoITE9PT1lKGcsbixyLGYsaSkpcmV0dXJuITE7aSsrLHM9b30pKSYmdm9pZCAwfX19KSl9ZnVuY3Rpb24gaXIodCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgcmVxdWlyZWQiKTtucih0LChmdW5jdGlvbih0LG4scil7aWYobnVsbCE9PXQuZ2VvbWV0cnkpe3ZhciBpPXQuZ2VvbWV0cnkudHlwZSxvPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7c3dpdGNoKGkpe2Nhc2UiTGluZVN0cmluZyI6aWYoITE9PT1lKHQsbixyLDAsMCkpcmV0dXJuITE7YnJlYWs7Y2FzZSJQb2x5Z29uIjpmb3IodmFyIHM9MDtzPG8ubGVuZ3RoO3MrKylpZighMT09PWUoS24ubGluZVN0cmluZyhvW3NdLHQucHJvcGVydGllcyksbixyLHMpKXJldHVybiExfX19KSl9dmFyIG9yPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBRbih0LChmdW5jdGlvbih0KXtlLnB1c2godCl9KSksZX0sc3I9UW4sYXI9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bjtyZXR1cm4gUW4odCwoZnVuY3Rpb24odCxyLG8scyxhKXtpPTA9PT1yJiZ2b2lkIDA9PT1uP3Q6ZShpLHQscixvLHMsYSl9KSxyKSxpfSx1cj10cixscj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bjtyZXR1cm4gdHIodCwoZnVuY3Rpb24odCxpKXtyPTA9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSl9KSkscn0sY3I9ZnVuY3Rpb24odCxlKXtpZihlPWV8fHt9LCFLbi5pc09iamVjdChlKSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuLHI9ZS5mZWF0dXJlSW5kZXh8fDAsaT1lLm11bHRpRmVhdHVyZUluZGV4fHwwLG89ZS5nZW9tZXRyeUluZGV4fHwwLHM9ZS5jb29yZEluZGV4fHwwLGE9ZS5wcm9wZXJ0aWVzO3N3aXRjaCh0LnR5cGUpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnI8MCYmKHI9dC5mZWF0dXJlcy5sZW5ndGgrciksYT1hfHx0LmZlYXR1cmVzW3JdLnByb3BlcnRpZXMsbj10LmZlYXR1cmVzW3JdLmdlb21ldHJ5O2JyZWFrO2Nhc2UiRmVhdHVyZSI6YT1hfHx0LnByb3BlcnRpZXMsbj10Lmdlb21ldHJ5O2JyZWFrO2Nhc2UiUG9pbnQiOmNhc2UiTXVsdGlQb2ludCI6cmV0dXJuIG51bGw7Y2FzZSJMaW5lU3RyaW5nIjpjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIk11bHRpUG9seWdvbiI6bj10O2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIGludmFsaWQiKX1pZihudWxsPT09bilyZXR1cm4gbnVsbDt2YXIgdT1uLmNvb3JkaW5hdGVzO3N3aXRjaChuLnR5cGUpe2Nhc2UiUG9pbnQiOnJldHVybiBLbi5wb2ludCh1LGEsZSk7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gaTwwJiYoaT11Lmxlbmd0aCtpKSxLbi5wb2ludCh1W2ldLGEsZSk7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gczwwJiYocz11Lmxlbmd0aCtzKSxLbi5wb2ludCh1W3NdLGEsZSk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gbzwwJiYobz11Lmxlbmd0aCtvKSxzPDAmJihzPXVbb10ubGVuZ3RoK3MpLEtuLnBvaW50KHVbb11bc10sYSxlKTtjYXNlIk11bHRpTGluZVN0cmluZyI6cmV0dXJuIGk8MCYmKGk9dS5sZW5ndGgraSksczwwJiYocz11W2ldLmxlbmd0aCtzKSxLbi5wb2ludCh1W2ldW3NdLGEsZSk7Y2FzZSJNdWx0aVBvbHlnb24iOnJldHVybiBpPDAmJihpPXUubGVuZ3RoK2kpLG88MCYmKG89dVtpXS5sZW5ndGgrbyksczwwJiYocz11W2ldW29dLmxlbmd0aC1zKSxLbi5wb2ludCh1W2ldW29dW3NdLGEsZSl9dGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIGludmFsaWQiKX0saHI9ZnVuY3Rpb24odCxlKXtpZihlPWV8fHt9LCFLbi5pc09iamVjdChlKSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuLHI9ZS5mZWF0dXJlSW5kZXh8fDAsaT1lLm11bHRpRmVhdHVyZUluZGV4fHwwLG89ZS5nZW9tZXRyeUluZGV4fHwwLHM9ZS5zZWdtZW50SW5kZXh8fDAsYT1lLnByb3BlcnRpZXM7c3dpdGNoKHQudHlwZSl7Y2FzZSJGZWF0dXJlQ29sbGVjdGlvbiI6cjwwJiYocj10LmZlYXR1cmVzLmxlbmd0aCtyKSxhPWF8fHQuZmVhdHVyZXNbcl0ucHJvcGVydGllcyxuPXQuZmVhdHVyZXNbcl0uZ2VvbWV0cnk7YnJlYWs7Y2FzZSJGZWF0dXJlIjphPWF8fHQucHJvcGVydGllcyxuPXQuZ2VvbWV0cnk7YnJlYWs7Y2FzZSJQb2ludCI6Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gbnVsbDtjYXNlIkxpbmVTdHJpbmciOmNhc2UiUG9seWdvbiI6Y2FzZSJNdWx0aUxpbmVTdHJpbmciOmNhc2UiTXVsdGlQb2x5Z29uIjpuPXQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgaW52YWxpZCIpfWlmKG51bGw9PT1uKXJldHVybiBudWxsO3ZhciB1PW4uY29vcmRpbmF0ZXM7c3dpdGNoKG4udHlwZSl7Y2FzZSJQb2ludCI6Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gbnVsbDtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBzPDAmJihzPXUubGVuZ3RoK3MtMSksS24ubGluZVN0cmluZyhbdVtzXSx1W3MrMV1dLGEsZSk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gbzwwJiYobz11Lmxlbmd0aCtvKSxzPDAmJihzPXVbb10ubGVuZ3RoK3MtMSksS24ubGluZVN0cmluZyhbdVtvXVtzXSx1W29dW3MrMV1dLGEsZSk7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiBpPDAmJihpPXUubGVuZ3RoK2kpLHM8MCYmKHM9dVtpXS5sZW5ndGgrcy0xKSxLbi5saW5lU3RyaW5nKFt1W2ldW3NdLHVbaV1bcysxXV0sYSxlKTtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGk8MCYmKGk9dS5sZW5ndGgraSksbzwwJiYobz11W2ldLmxlbmd0aCtvKSxzPDAmJihzPXVbaV1bb10ubGVuZ3RoLXMtMSksS24ubGluZVN0cmluZyhbdVtpXVtvXVtzXSx1W2ldW29dW3MrMV1dLGEsZSl9dGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIGludmFsaWQiKX0scHI9bnIsZnI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW47cmV0dXJuIG5yKHQsKGZ1bmN0aW9uKHQsaSxvKXtyPTA9PT1pJiYwPT09byYmdm9pZCAwPT09bj90OmUocix0LGksbyl9KSkscn0sZ3I9ZXIsZHI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW47cmV0dXJuIGVyKHQsKGZ1bmN0aW9uKHQsaSxvLHMsYSl7cj0wPT09aSYmdm9pZCAwPT09bj90OmUocix0LGksbyxzLGEpfSkpLHJ9LHlyPWlyLHZyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uO3JldHVybiBpcih0LChmdW5jdGlvbih0LGksbyxzKXtyPTA9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsaSxvLHMpfSkpLHJ9LF9yPSRuLG1yPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uO3JldHVybiAkbih0LChmdW5jdGlvbih0LGkpe3I9MD09PWkmJnZvaWQgMD09PW4/dDplKHIsdCxpKX0pKSxyfSx4cj1ycixFcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bixpPSExO3JldHVybiBycih0LChmdW5jdGlvbih0LG8scyxhLHUpe3I9ITE9PT1pJiZ2b2lkIDA9PT1uP3Q6ZShyLHQsbyxzLGEsdSksaT0hMH0pKSxyfSxicj1PYmplY3QuZGVmaW5lUHJvcGVydHkoe2Nvb3JkQWxsOm9yLGNvb3JkRWFjaDpzcixjb29yZFJlZHVjZTphcixmZWF0dXJlRWFjaDp1cixmZWF0dXJlUmVkdWNlOmxyLGZpbmRQb2ludDpjcixmaW5kU2VnbWVudDpocixmbGF0dGVuRWFjaDpwcixmbGF0dGVuUmVkdWNlOmZyLGdlb21FYWNoOmdyLGdlb21SZWR1Y2U6ZHIsbGluZUVhY2g6eXIsbGluZVJlZHVjZTp2cixwcm9wRWFjaDpfcixwcm9wUmVkdWNlOm1yLHNlZ21lbnRFYWNoOnhyLHNlZ21lbnRSZWR1Y2U6RXJ9LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTtmdW5jdGlvbiB3cih0KXt2YXIgZT1bMS8wLDEvMCwtMS8wLC0xLzBdO3JldHVybiBici5jb29yZEVhY2godCwoZnVuY3Rpb24odCl7ZVswXT50WzBdJiYoZVswXT10WzBdKSxlWzFdPnRbMV0mJihlWzFdPXRbMV0pLGVbMl08dFswXSYmKGVbMl09dFswXSksZVszXTx0WzFdJiYoZVszXT10WzFdKX0pKSxlfXdyLmRlZmF1bHQ9d3I7dmFyIElyPXdyLE5yPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7ZGVmYXVsdDpJcn0sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLmRlZmF1bHQsU3I9YnIuZmVhdHVyZUVhY2gsQ3I9KGJyLmNvb3JkRWFjaCxLbi5wb2x5Z29uLEtuLmZlYXR1cmVDb2xsZWN0aW9uKTtmdW5jdGlvbiBQcih0KXt2YXIgZT1OdCh0KTtyZXR1cm4gZS5pbnNlcnQ9ZnVuY3Rpb24odCl7aWYoIkZlYXR1cmUiIT09dC50eXBlKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCBmZWF0dXJlIik7cmV0dXJuIHQuYmJveD10LmJib3g/dC5iYm94Ok5yKHQpLE50LnByb3RvdHlwZS5pbnNlcnQuY2FsbCh0aGlzLHQpfSxlLmxvYWQ9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZigiRmVhdHVyZSIhPT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGZlYXR1cmVzIik7dC5iYm94PXQuYmJveD90LmJib3g6TnIodCksZS5wdXNoKHQpfSkpOlNyKHQsKGZ1bmN0aW9uKHQpe2lmKCJGZWF0dXJlIiE9PXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgZmVhdHVyZXMiKTt0LmJib3g9dC5iYm94P3QuYmJveDpOcih0KSxlLnB1c2godCl9KSksTnQucHJvdG90eXBlLmxvYWQuY2FsbCh0aGlzLGUpfSxlLnJlbW92ZT1mdW5jdGlvbih0LGUpe2lmKCJGZWF0dXJlIiE9PXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgZmVhdHVyZSIpO3JldHVybiB0LmJib3g9dC5iYm94P3QuYmJveDpOcih0KSxOdC5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyx0LGUpfSxlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIE50LnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpfSxlLnNlYXJjaD1mdW5jdGlvbih0KXt2YXIgZT1OdC5wcm90b3R5cGUuc2VhcmNoLmNhbGwodGhpcyx0aGlzLnRvQkJveCh0KSk7cmV0dXJuIENyKGUpfSxlLmNvbGxpZGVzPWZ1bmN0aW9uKHQpe3JldHVybiBOdC5wcm90b3R5cGUuY29sbGlkZXMuY2FsbCh0aGlzLHRoaXMudG9CQm94KHQpKX0sZS5hbGw9ZnVuY3Rpb24oKXt2YXIgdD1OdC5wcm90b3R5cGUuYWxsLmNhbGwodGhpcyk7cmV0dXJuIENyKHQpfSxlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiBOdC5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcyl9LGUuZnJvbUpTT049ZnVuY3Rpb24odCl7cmV0dXJuIE50LnByb3RvdHlwZS5mcm9tSlNPTi5jYWxsKHRoaXMsdCl9LGUudG9CQm94PWZ1bmN0aW9uKHQpe3ZhciBlO2lmKHQuYmJveCllPXQuYmJveDtlbHNlIGlmKEFycmF5LmlzQXJyYXkodCkmJjQ9PT10Lmxlbmd0aCllPXQ7ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpJiY2PT09dC5sZW5ndGgpZT1bdFswXSx0WzFdLHRbM10sdFs0XV07ZWxzZSBpZigiRmVhdHVyZSI9PT10LnR5cGUpZT1Ocih0KTtlbHNle2lmKCJGZWF0dXJlQ29sbGVjdGlvbiIhPT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGdlb2pzb24iKTtlPU5yKHQpfXJldHVybnttaW5YOmVbMF0sbWluWTplWzFdLG1heFg6ZVsyXSxtYXhZOmVbM119fSxlfXZhciBNcj1QcixMcj1QcjtmdW5jdGlvbiBPcih0LGUpe3ZhciBuPXt9LHI9W107aWYoIkxpbmVTdHJpbmciPT09dC50eXBlJiYodD1vKHQpKSwiTGluZVN0cmluZyI9PT1lLnR5cGUmJihlPW8oZSkpLCJGZWF0dXJlIj09PXQudHlwZSYmIkZlYXR1cmUiPT09ZS50eXBlJiZudWxsIT09dC5nZW9tZXRyeSYmbnVsbCE9PWUuZ2VvbWV0cnkmJiJMaW5lU3RyaW5nIj09PXQuZ2VvbWV0cnkudHlwZSYmIkxpbmVTdHJpbmciPT09ZS5nZW9tZXRyeS50eXBlJiYyPT09dC5nZW9tZXRyeS5jb29yZGluYXRlcy5sZW5ndGgmJjI9PT1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCl7dmFyIGk9UnIodCxlKTtyZXR1cm4gaSYmci5wdXNoKGkpLGYocil9dmFyIHM9TXIoKTtyZXR1cm4gcy5sb2FkKFpuKGUpKSxGKFpuKHQpLChmdW5jdGlvbih0KXtGKHMuc2VhcmNoKHQpLChmdW5jdGlvbihlKXt2YXIgaT1Scih0LGUpO2lmKGkpe3ZhciBvPVEoaSkuam9pbigiLCIpO25bb118fChuW29dPSEwLHIucHVzaChpKSl9fSkpfSkpLGYocil9ZnVuY3Rpb24gUnIodCxlKXt2YXIgbj1RKHQpLHI9UShlKTtpZigyIT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCI8aW50ZXJzZWN0cz4gbGluZTEgbXVzdCBvbmx5IGNvbnRhaW4gMiBjb29yZGluYXRlcyIpO2lmKDIhPT1yLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIjxpbnRlcnNlY3RzPiBsaW5lMiBtdXN0IG9ubHkgY29udGFpbiAyIGNvb3JkaW5hdGVzIik7dmFyIGk9blswXVswXSxvPW5bMF1bMV0scz1uWzFdWzBdLHU9blsxXVsxXSxsPXJbMF1bMF0sYz1yWzBdWzFdLGg9clsxXVswXSxwPXJbMV1bMV0sZj0ocC1jKSoocy1pKS0oaC1sKSoodS1vKSxnPShoLWwpKihvLWMpLShwLWMpKihpLWwpLGQ9KHMtaSkqKG8tYyktKHUtbykqKGktbCk7aWYoMD09PWYpcmV0dXJuIG51bGw7dmFyIHk9Zy9mLHY9ZC9mO3JldHVybiB5Pj0wJiZ5PD0xJiZ2Pj0wJiZ2PD0xP2EoW2kreSoocy1pKSxvK3kqKHUtbyldKTpudWxsfWZ1bmN0aW9uIFRyKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9YShbMS8wLDEvMF0se2Rpc3Q6MS8wfSksaT0wO3JldHVybiB6KHQsKGZ1bmN0aW9uKHQpe2Zvcih2YXIgbz1RKHQpLHM9MDtzPG8ubGVuZ3RoLTE7cysrKXt2YXIgdT1hKG9bc10pO3UucHJvcGVydGllcy5kaXN0PW1lKGUsdSxuKTt2YXIgbD1hKG9bcysxXSk7bC5wcm9wZXJ0aWVzLmRpc3Q9bWUoZSxsLG4pO3ZhciBjPW1lKHUsbCxuKSxwPU1hdGgubWF4KHUucHJvcGVydGllcy5kaXN0LGwucHJvcGVydGllcy5kaXN0KSxmPW1uKHUsbCksZz12bihlLHAsZis5MCxuKSxkPXZuKGUscCxmLTkwLG4pLHk9T3IoaChbZy5nZW9tZXRyeS5jb29yZGluYXRlcyxkLmdlb21ldHJ5LmNvb3JkaW5hdGVzXSksaChbdS5nZW9tZXRyeS5jb29yZGluYXRlcyxsLmdlb21ldHJ5LmNvb3JkaW5hdGVzXSkpLHY9bnVsbDt5LmZlYXR1cmVzLmxlbmd0aD4wJiYoKHY9eS5mZWF0dXJlc1swXSkucHJvcGVydGllcy5kaXN0PW1lKGUsdixuKSx2LnByb3BlcnRpZXMubG9jYXRpb249aSttZSh1LHYsbikpLHUucHJvcGVydGllcy5kaXN0PHIucHJvcGVydGllcy5kaXN0JiYoKHI9dSkucHJvcGVydGllcy5pbmRleD1zLHIucHJvcGVydGllcy5sb2NhdGlvbj1pKSxsLnByb3BlcnRpZXMuZGlzdDxyLnByb3BlcnRpZXMuZGlzdCYmKChyPWwpLnByb3BlcnRpZXMuaW5kZXg9cysxLHIucHJvcGVydGllcy5sb2NhdGlvbj1pK2MpLHYmJnYucHJvcGVydGllcy5kaXN0PHIucHJvcGVydGllcy5kaXN0JiYoKHI9dikucHJvcGVydGllcy5pbmRleD1zKSxpKz1jfX0pKSxyfWZ1bmN0aW9uIEFyKHQsbixyKXt2b2lkIDA9PT1yJiYocj17fSk7dmFyIGk9Syh0KSxvPUsobik7cmV0dXJuIG9bMF0rPW9bMF0taVswXT4xODA/LTM2MDppWzBdLW9bMF0+MTgwPzM2MDowLE4oZnVuY3Rpb24odCxuLHIpe3ZhciBpPXI9dm9pZCAwPT09cj9lOk51bWJlcihyKSxvPXRbMV0qTWF0aC5QSS8xODAscz1uWzFdKk1hdGguUEkvMTgwLGE9cy1vLHU9TWF0aC5hYnMoblswXS10WzBdKSpNYXRoLlBJLzE4MDt1Pk1hdGguUEkmJih1LT0yKk1hdGguUEkpO3ZhciBsPU1hdGgubG9nKE1hdGgudGFuKHMvMitNYXRoLlBJLzQpL01hdGgudGFuKG8vMitNYXRoLlBJLzQpKSxjPU1hdGguYWJzKGwpPjFlLTExP2EvbDpNYXRoLmNvcyhvKTtyZXR1cm4gTWF0aC5zcXJ0KGEqYStjKmMqdSp1KSppfShpLG8pLCJtZXRlcnMiLHIudW5pdHMpfWZ1bmN0aW9uIERyKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj17fSksbi5tZXRob2R8fChuLm1ldGhvZD0iZ2VvZGVzaWMiKSxuLnVuaXRzfHwobi51bml0cz0ia2lsb21ldGVycyIpLCF0KXRocm93IG5ldyBFcnJvcigicHQgaXMgcmVxdWlyZWQiKTtpZihBcnJheS5pc0FycmF5KHQpP3Q9YSh0KToiUG9pbnQiPT09dC50eXBlP3Q9byh0KTpldCh0LCJQb2ludCIsInBvaW50IiksIWUpdGhyb3cgbmV3IEVycm9yKCJsaW5lIGlzIHJlcXVpcmVkIik7QXJyYXkuaXNBcnJheShlKT9lPWgoZSk6IkxpbmVTdHJpbmciPT09ZS50eXBlP2U9byhlKTpldChlLCJMaW5lU3RyaW5nIiwibGluZSIpO3ZhciByPTEvMCxpPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7cmV0dXJuIFUoZSwoZnVuY3Rpb24odCl7dmFyIGU9dC5nZW9tZXRyeS5jb29yZGluYXRlc1swXSxvPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0scz1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1bblswXS1lWzBdLG5bMV0tZVsxXV0sbz1GcihbdFswXS1lWzBdLHRbMV0tZVsxXV0saSk7aWYobzw9MClyZXR1cm4ga3IodCxlLHttZXRob2Q6ci5tZXRob2QsdW5pdHM6ImRlZ3JlZXMifSk7dmFyIHM9RnIoaSxpKTtpZihzPD1vKXJldHVybiBrcih0LG4se21ldGhvZDpyLm1ldGhvZCx1bml0czoiZGVncmVlcyJ9KTt2YXIgYT1vL3MsdT1bZVswXSthKmlbMF0sZVsxXSthKmlbMV1dO3JldHVybiBrcih0LHUse21ldGhvZDpyLm1ldGhvZCx1bml0czoiZGVncmVlcyJ9KX0oaSxlLG8sbik7czxyJiYocj1zKX0pKSxOKHIsImRlZ3JlZXMiLG4udW5pdHMpfWZ1bmN0aW9uIEZyKHQsZSl7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV19ZnVuY3Rpb24ga3IodCxlLG4pe3JldHVybiJwbGFuYXIiPT09bi5tZXRob2Q/QXIodCxlLG4pOm1lKHQsZSxuKX1mdW5jdGlvbiBHcih0LGUsbixyLGksbyxzLGEpe3ZhciB1LGwsYyxoLHA9e3g6bnVsbCx5Om51bGwsb25MaW5lMTohMSxvbkxpbmUyOiExfTtyZXR1cm4gMD09PSh1PShhLW8pKihuLXQpLShzLWkpKihyLWUpKT9udWxsIT09cC54JiZudWxsIT09cC55JiZwOihoPShuLXQpKihsPWUtbyktKHItZSkqKGM9dC1pKSxsPSgocy1pKSpsLShhLW8pKmMpL3UsYz1oL3UscC54PXQrbCoobi10KSxwLnk9ZStsKihyLWUpLGw+PTAmJmw8PTEmJihwLm9uTGluZTE9ITApLGM+PTAmJmM8PTEmJihwLm9uTGluZTI9ITApLCEoIXAub25MaW5lMXx8IXAub25MaW5lMikmJltwLngscC55XSl9ZnVuY3Rpb24gcXIodCl7Zm9yKHZhciBlPWZ1bmN0aW9uKHQpe2lmKCJGZWF0dXJlQ29sbGVjdGlvbiIhPT10LnR5cGUpcmV0dXJuIkZlYXR1cmUiIT09dC50eXBlP2YoW28odCldKTpmKFt0XSk7cmV0dXJuIHR9KHQpLG49eG4oZSkscj0hMSxpPTA7IXImJmk8ZS5mZWF0dXJlcy5sZW5ndGg7KXt2YXIgcyx1PWUuZmVhdHVyZXNbaV0uZ2VvbWV0cnksbD0hMTtpZigiUG9pbnQiPT09dS50eXBlKW4uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF09PT11LmNvb3JkaW5hdGVzWzBdJiZuLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdPT09dS5jb29yZGluYXRlc1sxXSYmKHI9ITApO2Vsc2UgaWYoIk11bHRpUG9pbnQiPT09dS50eXBlKXt2YXIgYz0hMTtmb3Iocz0wOyFjJiZzPHUuY29vcmRpbmF0ZXMubGVuZ3RoOyluLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdPT09dS5jb29yZGluYXRlc1tzXVswXSYmbi5nZW9tZXRyeS5jb29yZGluYXRlc1sxXT09PXUuY29vcmRpbmF0ZXNbc11bMV0mJihyPSEwLGM9ITApLHMrK31lbHNlIGlmKCJMaW5lU3RyaW5nIj09PXUudHlwZSlmb3Iocz0wOyFsJiZzPHUuY29vcmRpbmF0ZXMubGVuZ3RoLTE7KUJyKG4uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0sbi5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSx1LmNvb3JkaW5hdGVzW3NdWzBdLHUuY29vcmRpbmF0ZXNbc11bMV0sdS5jb29yZGluYXRlc1tzKzFdWzBdLHUuY29vcmRpbmF0ZXNbcysxXVsxXSkmJihsPSEwLHI9ITApLHMrKztlbHNlIGlmKCJNdWx0aUxpbmVTdHJpbmciPT09dS50eXBlKWZvcih2YXIgaD0wO2g8dS5jb29yZGluYXRlcy5sZW5ndGg7KXtsPSExLHM9MDtmb3IodmFyIHA9dS5jb29yZGluYXRlc1toXTshbCYmczxwLmxlbmd0aC0xOylCcihuLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLG4uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0scFtzXVswXSxwW3NdWzFdLHBbcysxXVswXSxwW3MrMV1bMV0pJiYobD0hMCxyPSEwKSxzKys7aCsrfWVsc2UiUG9seWdvbiIhPT11LnR5cGUmJiJNdWx0aVBvbHlnb24iIT09dS50eXBlfHx5ZShuLHUpJiYocj0hMCk7aSsrfWlmKHIpcmV0dXJuIG47dmFyIGc9ZihbXSk7Zm9yKGk9MDtpPGUuZmVhdHVyZXMubGVuZ3RoO2krKylnLmZlYXR1cmVzPWcuZmVhdHVyZXMuY29uY2F0KGJuKGUuZmVhdHVyZXNbaV0pLmZlYXR1cmVzKTtyZXR1cm4gYShKbihuLGcpLmdlb21ldHJ5LmNvb3JkaW5hdGVzKX1mdW5jdGlvbiBCcih0LGUsbixyLGksbyl7cmV0dXJuIE1hdGguc3FydCgoaS1uKSooaS1uKSsoby1yKSooby1yKSk9PT1NYXRoLnNxcnQoKHQtbikqKHQtbikrKGUtcikqKGUtcikpK01hdGguc3FydCgoaS10KSooaS10KSsoby1lKSooby1lKSl9TXIuZGVmYXVsdD1Mcjt2YXIgenI9NjM3ODEzNztmdW5jdGlvbiBqcih0KXtyZXR1cm4gQih0LChmdW5jdGlvbih0LGUpe3JldHVybiB0K2Z1bmN0aW9uKHQpe3ZhciBlLG49MDtzd2l0Y2godC50eXBlKXtjYXNlIlBvbHlnb24iOnJldHVybiBVcih0LmNvb3JkaW5hdGVzKTtjYXNlIk11bHRpUG9seWdvbiI6Zm9yKGU9MDtlPHQuY29vcmRpbmF0ZXMubGVuZ3RoO2UrKyluKz1Vcih0LmNvb3JkaW5hdGVzW2VdKTtyZXR1cm4gbjtjYXNlIlBvaW50IjpjYXNlIk11bHRpUG9pbnQiOmNhc2UiTGluZVN0cmluZyI6Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiAwfXJldHVybiAwfShlKX0pLDApfWZ1bmN0aW9uIFVyKHQpe3ZhciBlPTA7aWYodCYmdC5sZW5ndGg+MCl7ZSs9TWF0aC5hYnMoVnIodFswXSkpO2Zvcih2YXIgbj0xO248dC5sZW5ndGg7bisrKWUtPU1hdGguYWJzKFZyKHRbbl0pKX1yZXR1cm4gZX1mdW5jdGlvbiBWcih0KXt2YXIgZSxuLHIsaSxvLHMsYT0wLHU9dC5sZW5ndGg7aWYodT4yKXtmb3Iocz0wO3M8dTtzKyspcz09PXUtMj8ocj11LTIsaT11LTEsbz0wKTpzPT09dS0xPyhyPXUtMSxpPTAsbz0xKToocj1zLGk9cysxLG89cysyKSxlPXRbcl0sbj10W2ldLGErPShYcih0W29dWzBdKS1YcihlWzBdKSkqTWF0aC5zaW4oWHIoblsxXSkpO2E9YSp6cip6ci8yfXJldHVybiBhfWZ1bmN0aW9uIFhyKHQpe3JldHVybiB0Kk1hdGguUEkvMTgwfWZ1bmN0aW9uIFlyKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxWKHQsKGZ1bmN0aW9uKHQsbil7dmFyIHI9bi5nZW9tZXRyeS5jb29yZGluYXRlcztyZXR1cm4gdCttZShyWzBdLHJbMV0sZSl9KSwwKX1mdW5jdGlvbiBIcih0LGUsbixyKXtpZighUChyPXJ8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBpLG89W107aWYoIkZlYXR1cmUiPT09dC50eXBlKWk9dC5nZW9tZXRyeS5jb29yZGluYXRlcztlbHNle2lmKCJMaW5lU3RyaW5nIiE9PXQudHlwZSl0aHJvdyBuZXcgRXJyb3IoImlucHV0IG11c3QgYmUgYSBMaW5lU3RyaW5nIEZlYXR1cmUgb3IgR2VvbWV0cnkiKTtpPXQuY29vcmRpbmF0ZXN9Zm9yKHZhciBzLGEsdSxsPWkubGVuZ3RoLGM9MCxwPTA7cDxpLmxlbmd0aCYmIShlPj1jJiZwPT09aS5sZW5ndGgtMSk7cCsrKXtpZihjPmUmJjA9PT1vLmxlbmd0aCl7aWYoIShzPWUtYykpcmV0dXJuIG8ucHVzaChpW3BdKSxoKG8pO2E9bW4oaVtwXSxpW3AtMV0pLTE4MCx1PXZuKGlbcF0scyxhLHIpLG8ucHVzaCh1Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKX1pZihjPj1uKXJldHVybihzPW4tYyk/KGE9bW4oaVtwXSxpW3AtMV0pLTE4MCx1PXZuKGlbcF0scyxhLHIpLG8ucHVzaCh1Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxoKG8pKTooby5wdXNoKGlbcF0pLGgobykpO2lmKGM+PWUmJm8ucHVzaChpW3BdKSxwPT09aS5sZW5ndGgtMSlyZXR1cm4gaChvKTtjKz1tZShpW3BdLGlbcCsxXSxyKX1pZihjPGUmJmkubGVuZ3RoPT09bCl0aHJvdyBuZXcgRXJyb3IoIlN0YXJ0IHBvc2l0aW9uIGlzIGJleW9uZCBsaW5lIik7dmFyIGY9aVtpLmxlbmd0aC0xXTtyZXR1cm4gaChbZixmXSl9ZnVuY3Rpb24gV3IodCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTtmb3IodmFyIHI9Syh0KSxpPVEoZSksbz0wO288aS5sZW5ndGgtMTtvKyspe3ZhciBzPSExO2lmKG4uaWdub3JlRW5kVmVydGljZXMmJigwPT09byYmKHM9InN0YXJ0Iiksbz09PWkubGVuZ3RoLTImJihzPSJlbmQiKSwwPT09byYmbysxPT09aS5sZW5ndGgtMSYmKHM9ImJvdGgiKSksSnIoaVtvXSxpW28rMV0scixzLHZvaWQgMD09PW4uZXBzaWxvbj9udWxsOm4uZXBzaWxvbikpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gSnIodCxlLG4scixpKXt2YXIgbz1uWzBdLHM9blsxXSxhPXRbMF0sdT10WzFdLGw9ZVswXSxjPWVbMV0saD1sLWEscD1jLXUsZj0oblswXS1hKSpwLShuWzFdLXUpKmg7aWYobnVsbCE9PWkpe2lmKE1hdGguYWJzKGYpPmkpcmV0dXJuITF9ZWxzZSBpZigwIT09ZilyZXR1cm4hMTtyZXR1cm4gcj8ic3RhcnQiPT09cj9NYXRoLmFicyhoKT49TWF0aC5hYnMocCk/aD4wP2E8byYmbzw9bDpsPD1vJiZvPGE6cD4wP3U8cyYmczw9YzpjPD1zJiZzPHU6ImVuZCI9PT1yP01hdGguYWJzKGgpPj1NYXRoLmFicyhwKT9oPjA/YTw9byYmbzxsOmw8byYmbzw9YTpwPjA/dTw9cyYmczxjOmM8cyYmczw9dToiYm90aCI9PT1yJiYoTWF0aC5hYnMoaCk+PU1hdGguYWJzKHApP2g+MD9hPG8mJm88bDpsPG8mJm88YTpwPjA/dTxzJiZzPGM6YzxzJiZzPHUpOk1hdGguYWJzKGgpPj1NYXRoLmFicyhwKT9oPjA/YTw9byYmbzw9bDpsPD1vJiZvPD1hOnA+MD91PD1zJiZzPD1jOmM8PXMmJnM8PXV9ZnVuY3Rpb24gWnIodCxlKXt2YXIgbj1ydCh0KSxyPXJ0KGUpLGk9bi50eXBlLG89ci50eXBlO3N3aXRjaChpKXtjYXNlIlBvaW50Ijpzd2l0Y2gobyl7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbixyPSExO2ZvcihuPTA7bjxlLmNvb3JkaW5hdGVzLmxlbmd0aDtuKyspaWYoUXIoZS5jb29yZGluYXRlc1tuXSx0LmNvb3JkaW5hdGVzKSl7cj0hMDticmVha31yZXR1cm4gcn0obixyKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBXcihuLHIse2lnbm9yZUVuZFZlcnRpY2VzOiEwfSk7Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIHllKG4scix7aWdub3JlQm91bmRhcnk6ITB9KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTIgIitvKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfWNhc2UiTXVsdGlQb2ludCI6c3dpdGNoKG8pe2Nhc2UiTXVsdGlQb2ludCI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0LmNvb3JkaW5hdGVzLmxlbmd0aDtuKyspe2Zvcih2YXIgcj0hMSxpPTA7aTxlLmNvb3JkaW5hdGVzLmxlbmd0aDtpKyspUXIodC5jb29yZGluYXRlc1tuXSxlLmNvb3JkaW5hdGVzW2ldKSYmKHI9ITApO2lmKCFyKXJldHVybiExfXJldHVybiEwfShuLHIpO2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPSExLHI9MDtyPHQuY29vcmRpbmF0ZXMubGVuZ3RoO3IrKyl7aWYoIVdyKHQuY29vcmRpbmF0ZXNbcl0sZSkpcmV0dXJuITE7bnx8KG49V3IodC5jb29yZGluYXRlc1tyXSxlLHtpZ25vcmVFbmRWZXJ0aWNlczohMH0pKX1yZXR1cm4gbn0obixyKTtjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITAscj0hMSxpPTA7aTx0LmNvb3JkaW5hdGVzLmxlbmd0aDtpKyspe2lmKCEocj15ZSh0LmNvb3JkaW5hdGVzWzFdLGUpKSl7bj0hMTticmVha31yPXllKHQuY29vcmRpbmF0ZXNbMV0sZSx7aWdub3JlQm91bmRhcnk6ITB9KX1yZXR1cm4gbiYmcn0obixyKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTIgIitvKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfWNhc2UiTGluZVN0cmluZyI6c3dpdGNoKG8pe2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0LmNvb3JkaW5hdGVzLmxlbmd0aDtuKyspaWYoIVdyKHQuY29vcmRpbmF0ZXNbbl0sZSkpcmV0dXJuITE7cmV0dXJuITB9KG4scik7Y2FzZSJQb2x5Z29uIjpjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49WihlKSxyPVoodCk7aWYoIUtyKG4scikpcmV0dXJuITE7Zm9yKHZhciBpPSExLG89MDtvPHQuY29vcmRpbmF0ZXMubGVuZ3RoLTE7bysrKXtpZigheWUodC5jb29yZGluYXRlc1tvXSxlKSlyZXR1cm4hMTtpZihpfHwoaT15ZSh0LmNvb3JkaW5hdGVzW29dLGUse2lnbm9yZUJvdW5kYXJ5OiEwfSkpLCFpKWk9eWUoJHIodC5jb29yZGluYXRlc1tvXSx0LmNvb3JkaW5hdGVzW28rMV0pLGUse2lnbm9yZUJvdW5kYXJ5OiEwfSl9cmV0dXJuIGl9KG4scik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmUyICIrbysiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWQiKX1jYXNlIlBvbHlnb24iOnN3aXRjaChvKXtjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gZnVuY3Rpb24odCxlKXt2YXIgbj1aKHQpO2lmKCFLcihaKGUpLG4pKXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5jb29yZGluYXRlc1swXS5sZW5ndGg7cisrKWlmKCF5ZSh0LmNvb3JkaW5hdGVzWzBdW3JdLGUpKXJldHVybiExO3JldHVybiEwfShuLHIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmUxICIraSsiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWQiKX19ZnVuY3Rpb24gS3IodCxlKXtyZXR1cm4hKHRbMF0+ZVswXSkmJighKHRbMl08ZVsyXSkmJighKHRbMV0+ZVsxXSkmJiEodFszXTxlWzNdKSkpfWZ1bmN0aW9uIFFyKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX1mdW5jdGlvbiAkcih0LGUpe3JldHVyblsodFswXStlWzBdKS8yLCh0WzFdK2VbMV0pLzJdfWZ1bmN0aW9uIHRpKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSksbi5tYXNrJiYhbi51bml0cyYmKG4udW5pdHM9ImtpbG9tZXRlcnMiKTtmb3IodmFyIHI9W10saT10WzBdLG89dFsxXSxzPXRbMl0sdT10WzNdLGw9ZS9tZShbaSxvXSxbcyxvXSxuKSoocy1pKSxjPWUvbWUoW2ksb10sW2ksdV0sbikqKHUtbyksaD1zLWkscD11LW8sZz1NYXRoLmZsb29yKGgvbCksZD0ocC1NYXRoLmZsb29yKHAvYykqYykvMix5PWkrKGgtZypsKS8yO3k8PXM7KXtmb3IodmFyIHY9bytkO3Y8PXU7KXt2YXIgXz1hKFt5LHZdLG4ucHJvcGVydGllcyk7bi5tYXNrP1pyKF8sbi5tYXNrKSYmci5wdXNoKF8pOnIucHVzaChfKSx2Kz1jfXkrPWx9cmV0dXJuIGYocil9ZnVuY3Rpb24gZWkodCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIG49ZS5wcmVjaXNpb24scj1lLmNvb3JkaW5hdGVzLGk9ZS5tdXRhdGU7aWYobj1udWxsPT1ufHxpc05hTihuKT82Om4scj1udWxsPT1yfHxpc05hTihyKT8zOnIsIXQpdGhyb3cgbmV3IEVycm9yKCI8Z2VvanNvbj4gaXMgcmVxdWlyZWQiKTtpZigibnVtYmVyIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKCI8cHJlY2lzaW9uPiBtdXN0IGJlIGEgbnVtYmVyIik7aWYoIm51bWJlciIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcigiPGNvb3JkaW5hdGVzPiBtdXN0IGJlIGEgbnVtYmVyIik7ITEhPT1pJiZ2b2lkIDAhPT1pfHwodD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKSk7dmFyIG89TWF0aC5wb3coMTAsbik7cmV0dXJuIFIodCwoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKHQsZSxuKXt0Lmxlbmd0aD5uJiZ0LnNwbGljZShuLHQubGVuZ3RoKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdPU1hdGgucm91bmQodFtyXSplKS9lfSh0LG8scil9KSksdH1mdW5jdGlvbiBuaSh0KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgcmVxdWlyZWQiKTt2YXIgZT1bXTtyZXR1cm4geih0LChmdW5jdGlvbih0KXtlLnB1c2godCl9KSksZihlKX1mdW5jdGlvbiByaSh0LGUsbil7aWYoIlBvbHlnb24iIT09dC5nZW9tZXRyeS50eXBlKXRocm93IG5ldyBFcnJvcigiVGhlIGlucHV0IGZlYXR1cmUgbXVzdCBiZSBhIFBvbHlnb24iKTt2b2lkIDA9PT1uJiYobj0xKTt2YXIgcj10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLGk9W10sbz17fTtpZihuKXtmb3IodmFyIHM9W10sYT0wO2E8ci5sZW5ndGg7YSsrKWZvcih2YXIgdT0wO3U8clthXS5sZW5ndGgtMTt1Kyspcy5wdXNoKGQoYSx1KSk7dmFyIGw9TnQoKTtsLmxvYWQocyl9Zm9yKHZhciBjPTA7YzxyLmxlbmd0aDtjKyspZm9yKHZhciBoPTA7aDxyW2NdLmxlbmd0aC0xO2grKyl7aWYobilsLnNlYXJjaChkKGMsaCkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBlPXQucmluZyxuPXQuZWRnZTtnKGMsaCxlLG4pfSkpO2Vsc2UgZm9yKHZhciBwPTA7cDxyLmxlbmd0aDtwKyspZm9yKHZhciBmPTA7ZjxyW3BdLmxlbmd0aC0xO2YrKylnKGMsaCxwLGYpfXJldHVybiBlfHwoaT17dHlwZToiRmVhdHVyZSIsZ2VvbWV0cnk6e3R5cGU6Ik11bHRpUG9pbnQiLGNvb3JkaW5hdGVzOml9fSksaTtmdW5jdGlvbiBnKHQsbixzLGEpe3ZhciB1LGwsYz1yW3RdW25dLGg9clt0XVtuKzFdLHA9cltzXVthXSxmPXJbc11bYSsxXSxnPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKGlpKHQsbil8fGlpKHQscil8fGlpKGUsbil8fGlpKHIsbikpcmV0dXJuIG51bGw7dmFyIGk9dFswXSxvPXRbMV0scz1lWzBdLGE9ZVsxXSx1PW5bMF0sbD1uWzFdLGM9clswXSxoPXJbMV0scD0oaS1zKSoobC1oKS0oby1hKSoodS1jKTtyZXR1cm4gMD09PXA/bnVsbDpbKChpKmEtbypzKSoodS1jKS0oaS1zKSoodSpoLWwqYykpL3AsKChpKmEtbypzKSoobC1oKS0oby1hKSoodSpoLWwqYykpL3BdfShjLGgscCxmKTtpZihudWxsIT09ZyYmKHU9aFswXSE9PWNbMF0/KGdbMF0tY1swXSkvKGhbMF0tY1swXSk6KGdbMV0tY1sxXSkvKGhbMV0tY1sxXSksbD1mWzBdIT09cFswXT8oZ1swXS1wWzBdKS8oZlswXS1wWzBdKTooZ1sxXS1wWzFdKS8oZlsxXS1wWzFdKSwhKHU+PTF8fHU8PTB8fGw+PTF8fGw8PTApKSl7dmFyIGQ9Zyx5PSFvW2RdO3kmJihvW2RdPSEwKSxlP2kucHVzaChlKGcsdCxuLGMsaCx1LHMsYSxwLGYsbCx5KSk6aS5wdXNoKGcpfX1mdW5jdGlvbiBkKHQsZSl7dmFyIG4saSxvLHMsYT1yW3RdW2VdLHU9clt0XVtlKzFdO3JldHVybiBhWzBdPHVbMF0/KG49YVswXSxpPXVbMF0pOihuPXVbMF0saT1hWzBdKSxhWzFdPHVbMV0/KG89YVsxXSxzPXVbMV0pOihvPXVbMV0scz1hWzFdKSx7bWluWDpuLG1pblk6byxtYXhYOmksbWF4WTpzLHJpbmc6dCxlZGdlOmV9fX1mdW5jdGlvbiBpaSh0LGUpe2lmKCF0fHwhZSlyZXR1cm4hMTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wLHI9dC5sZW5ndGg7bjxyO24rKylpZih0W25daW5zdGFuY2VvZiBBcnJheSYmZVtuXWluc3RhbmNlb2YgQXJyYXkpe2lmKCFpaSh0W25dLGVbbl0pKXJldHVybiExfWVsc2UgaWYodFtuXSE9PWVbbl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gb2kodCl7aWYoIkZlYXR1cmUiIT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJUaGUgaW5wdXQgbXVzdCBhIGdlb2pzb24gb2JqZWN0IG9mIHR5cGUgRmVhdHVyZSIpO2lmKHZvaWQgMD09PXQuZ2VvbWV0cnl8fG51bGw9PXQuZ2VvbWV0cnkpdGhyb3cgbmV3IEVycm9yKCJUaGUgaW5wdXQgbXVzdCBhIGdlb2pzb24gb2JqZWN0IHdpdGggYSBub24tZW1wdHkgZ2VvbWV0cnkiKTtpZigiUG9seWdvbiIhPXQuZ2VvbWV0cnkudHlwZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBpbnB1dCBtdXN0IGJlIGEgZ2VvanNvbiBQb2x5Z29uIik7Zm9yKHZhciBlPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoLG49W10scj0wO3I8ZTtyKyspe3ZhciBpPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbcl07Y2koaVswXSxpW2kubGVuZ3RoLTFdKXx8aS5wdXNoKGlbMF0pLG4ucHVzaC5hcHBseShuLGkuc2xpY2UoMCxpLmxlbmd0aC0xKSl9aWYoIWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17fSxuPTEscj0wLGk9dC5sZW5ndGg7cjxpOysrcil7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdFtyXSkpe249MDticmVha31lW3Rbcl1dPTF9cmV0dXJuIG59KG4pKXRocm93IG5ldyBFcnJvcigiVGhlIGlucHV0IHBvbHlnb24gbWF5IG5vdCBoYXZlIGR1cGxpY2F0ZSB2ZXJ0aWNlcyAoZXhjZXB0IGZvciB0aGUgZmlyc3QgYW5kIGxhc3QgdmVydGV4IG9mIGVhY2ggcmluZykiKTt2YXIgbz1uLmxlbmd0aCxzPXJpKHQsKGZ1bmN0aW9uKHQsZSxuLHIsaSxvLHMsYSx1LGwsYyxoKXtyZXR1cm5bdCxlLG4scixpLG8scyxhLHUsbCxjLGhdfSkpLGE9cy5sZW5ndGg7aWYoMD09YSl7dmFyIHU9W107Zm9yKHI9MDtyPGU7cisrKXUucHVzaChsKFt0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzW3JdXSx7cGFyZW50Oi0xLHdpbmRpbmc6bGkodC5nZW9tZXRyeS5jb29yZGluYXRlc1tyXSl9KSk7dmFyIGM9Zih1KTtyZXR1cm4gRygpLHEoKSxjfXZhciBoPVtdLHA9W107Zm9yKHI9MDtyPGU7cisrKXtoLnB1c2goW10pO2Zvcih2YXIgZz0wO2c8dC5nZW9tZXRyeS5jb29yZGluYXRlc1tyXS5sZW5ndGgtMTtnKyspaFtyXS5wdXNoKFtuZXcgc2kodC5nZW9tZXRyeS5jb29yZGluYXRlc1tyXVtoaShnKzEsdC5nZW9tZXRyeS5jb29yZGluYXRlc1tyXS5sZW5ndGgtMSldLDEsW3IsZ10sW3IsaGkoZysxLHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbcl0ubGVuZ3RoLTEpXSx2b2lkIDApXSkscC5wdXNoKG5ldyBhaSh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzW3JdW2ddLFtyLGhpKGctMSx0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzW3JdLmxlbmd0aC0xKV0sW3IsZ10sdm9pZCAwLHZvaWQgMCwhMSwhMCkpfWZvcihyPTA7cjxhO3IrKyloW3Nbcl1bMV1dW3Nbcl1bMl1dLnB1c2gobmV3IHNpKHNbcl1bMF0sc1tyXVs1XSxbc1tyXVsxXSxzW3JdWzJdXSxbc1tyXVs2XSxzW3JdWzddXSx2b2lkIDApKSxzW3JdWzExXSYmcC5wdXNoKG5ldyBhaShzW3JdWzBdLFtzW3JdWzFdLHNbcl1bMl1dLFtzW3JdWzZdLHNbcl1bN11dLHZvaWQgMCx2b2lkIDAsITAsITApKTt2YXIgZD1wLmxlbmd0aDtmb3Iocj0wO3I8aC5sZW5ndGg7cisrKWZvcihnPTA7ZzxoW3JdLmxlbmd0aDtnKyspaFtyXVtnXS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LnBhcmFtPGUucGFyYW0/LTE6MX0pKTt2YXIgeT1bXTtmb3Iocj0wO3I8ZDtyKyspeS5wdXNoKHttaW5YOnBbcl0uY29vcmRbMF0sbWluWTpwW3JdLmNvb3JkWzFdLG1heFg6cFtyXS5jb29yZFswXSxtYXhZOnBbcl0uY29vcmRbMV0saW5kZXg6cn0pO3ZhciB2PU50KCk7di5sb2FkKHkpO2ZvcihyPTA7cjxoLmxlbmd0aDtyKyspZm9yKGc9MDtnPGhbcl0ubGVuZ3RoO2crKylmb3IodmFyIF89MDtfPGhbcl1bZ10ubGVuZ3RoO18rKyl7eD1fPT1oW3JdW2ddLmxlbmd0aC0xP2hbcl1baGkoZysxLHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbcl0ubGVuZ3RoLTEpXVswXS5jb29yZDpoW3JdW2ddW18rMV0uY29vcmQ7dmFyIG09di5zZWFyY2goe21pblg6eFswXSxtaW5ZOnhbMV0sbWF4WDp4WzBdLG1heFk6eFsxXX0pWzBdO2hbcl1bZ11bX10ubnh0SXNlY3RBbG9uZ0VkZ2VJbj1tLmluZGV4fWZvcihyPTA7cjxoLmxlbmd0aDtyKyspZm9yKGc9MDtnPGhbcl0ubGVuZ3RoO2crKylmb3IoXz0wO188aFtyXVtnXS5sZW5ndGg7XysrKXt2YXIgeD1oW3JdW2ddW19dLmNvb3JkLEU9KG09di5zZWFyY2goe21pblg6eFswXSxtaW5ZOnhbMV0sbWF4WDp4WzBdLG1heFk6eFsxXX0pWzBdKS5pbmRleDtFPG8/cFtFXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UyPWhbcl1bZ11bX10ubnh0SXNlY3RBbG9uZ0VkZ2VJbjpjaShwW0VdLnJpbmdBbmRFZGdlMSxoW3JdW2ddW19dLnJpbmdBbmRFZGdlSW4pP3BbRV0ubnh0SXNlY3RBbG9uZ1JpbmdBbmRFZGdlMT1oW3JdW2ddW19dLm54dElzZWN0QWxvbmdFZGdlSW46cFtFXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UyPWhbcl1bZ11bX10ubnh0SXNlY3RBbG9uZ0VkZ2VJbn12YXIgYj1bXTtmb3Iocj0wLGc9MDtnPGU7ZysrKXt2YXIgdz1yO2ZvcihfPTA7Xzx0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzW2ddLmxlbmd0aC0xO18rKylwW3JdLmNvb3JkWzBdPHBbd10uY29vcmRbMF0mJih3PXIpLHIrKzt2YXIgST1wW3ddLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTI7Zm9yKF89MDtfPHAubGVuZ3RoO18rKylpZihwW19dLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTE9PXd8fHBbX10ubnh0SXNlY3RBbG9uZ1JpbmdBbmRFZGdlMj09dyl7dmFyIE49XzticmVha312YXIgUz11aShbcFtOXS5jb29yZCxwW3ddLmNvb3JkLHBbSV0uY29vcmRdLCEwKT8xOi0xO2IucHVzaCh7aXNlY3Q6dyxwYXJlbnQ6LTEsd2luZGluZzpTfSl9Yi5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBwW3QuaXNlY3RdLmNvb3JkPnBbZS5pc2VjdF0uY29vcmQ/LTE6MX0pKTtmb3IodT1bXTtiLmxlbmd0aD4wOyl7dmFyIEM9Yi5wb3AoKSxQPUMuaXNlY3QsTT1DLnBhcmVudCxMPUMud2luZGluZyxPPXUubGVuZ3RoLFI9W3BbUF0uY29vcmRdLFQ9UDtpZihwW1BdLnJpbmdBbmRFZGdlMVdhbGthYmxlKXZhciBBPXBbUF0ucmluZ0FuZEVkZ2UxLEQ9cFtQXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UxO2Vsc2UgQT1wW1BdLnJpbmdBbmRFZGdlMixEPXBbUF0ubnh0SXNlY3RBbG9uZ1JpbmdBbmRFZGdlMjtmb3IoOyFjaShwW1BdLmNvb3JkLHBbRF0uY29vcmQpOyl7Ui5wdXNoKHBbRF0uY29vcmQpO3ZhciBGPXZvaWQgMDtmb3Iocj0wO3I8Yi5sZW5ndGg7cisrKWlmKGJbcl0uaXNlY3Q9PUQpe0Y9cjticmVha31pZihudWxsIT1GJiZiLnNwbGljZShGLDEpLGNpKEEscFtEXS5yaW5nQW5kRWRnZTEpKXtpZihBPXBbRF0ucmluZ0FuZEVkZ2UyLHBbRF0ucmluZ0FuZEVkZ2UyV2Fsa2FibGU9ITEscFtEXS5yaW5nQW5kRWRnZTFXYWxrYWJsZSl7dmFyIGs9e2lzZWN0OkR9O3VpKFtwW1RdLmNvb3JkLHBbRF0uY29vcmQscFtwW0RdLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTJdLmNvb3JkXSwxPT1MKT8oay5wYXJlbnQ9TSxrLndpbmRpbmc9LUwpOihrLnBhcmVudD1PLGsud2luZGluZz1MKSxiLnB1c2goayl9VD1ELEQ9cFtEXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UyfWVsc2V7aWYoQT1wW0RdLnJpbmdBbmRFZGdlMSxwW0RdLnJpbmdBbmRFZGdlMVdhbGthYmxlPSExLHBbRF0ucmluZ0FuZEVkZ2UyV2Fsa2FibGUpe2s9e2lzZWN0OkR9O3VpKFtwW1RdLmNvb3JkLHBbRF0uY29vcmQscFtwW0RdLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTFdLmNvb3JkXSwxPT1MKT8oay5wYXJlbnQ9TSxrLndpbmRpbmc9LUwpOihrLnBhcmVudD1PLGsud2luZGluZz1MKSxiLnB1c2goayl9VD1ELEQ9cFtEXS5ueHRJc2VjdEFsb25nUmluZ0FuZEVkZ2UxfX1SLnB1c2gocFtEXS5jb29yZCksdS5wdXNoKGwoW1JdLHtpbmRleDpPLHBhcmVudDpNLHdpbmRpbmc6TCxuZXRXaW5kaW5nOnZvaWQgMH0pKX1jPWYodSk7ZnVuY3Rpb24gRygpe2Zvcih2YXIgdD1bXSxlPTA7ZTxjLmZlYXR1cmVzLmxlbmd0aDtlKyspLTE9PWMuZmVhdHVyZXNbZV0ucHJvcGVydGllcy5wYXJlbnQmJnQucHVzaChlKTtpZih0Lmxlbmd0aD4xKWZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspe2Zvcih2YXIgbj0tMSxyPTA7cjxjLmZlYXR1cmVzLmxlbmd0aDtyKyspdFtlXSE9ciYmeWUoYy5mZWF0dXJlc1t0W2VdXS5nZW9tZXRyeS5jb29yZGluYXRlc1swXVswXSxjLmZlYXR1cmVzW3JdLHtpZ25vcmVCb3VuZGFyeTohMH0pJiZqcihjLmZlYXR1cmVzW3JdKTxJbmZpbml0eSYmKG49cik7Yy5mZWF0dXJlc1t0W2VdXS5wcm9wZXJ0aWVzLnBhcmVudD1ufX1mdW5jdGlvbiBxKCl7Zm9yKHZhciB0PTA7dDxjLmZlYXR1cmVzLmxlbmd0aDt0KyspaWYoLTE9PWMuZmVhdHVyZXNbdF0ucHJvcGVydGllcy5wYXJlbnQpe3ZhciBlPWMuZmVhdHVyZXNbdF0ucHJvcGVydGllcy53aW5kaW5nO2MuZmVhdHVyZXNbdF0ucHJvcGVydGllcy5uZXRXaW5kaW5nPWUsQih0LGUpfX1mdW5jdGlvbiBCKHQsZSl7Zm9yKHZhciBuPTA7bjxjLmZlYXR1cmVzLmxlbmd0aDtuKyspaWYoYy5mZWF0dXJlc1tuXS5wcm9wZXJ0aWVzLnBhcmVudD09dCl7dmFyIHI9ZStjLmZlYXR1cmVzW25dLnByb3BlcnRpZXMud2luZGluZztjLmZlYXR1cmVzW25dLnByb3BlcnRpZXMubmV0V2luZGluZz1yLEIobixyKX19cmV0dXJuIEcoKSxxKCksY312YXIgc2k9ZnVuY3Rpb24odCxlLG4scixpKXt0aGlzLmNvb3JkPXQsdGhpcy5wYXJhbT1lLHRoaXMucmluZ0FuZEVkZ2VJbj1uLHRoaXMucmluZ0FuZEVkZ2VPdXQ9cix0aGlzLm54dElzZWN0QWxvbmdFZGdlSW49aX0sYWk9ZnVuY3Rpb24odCxlLG4scixpLG8scyl7dGhpcy5jb29yZD10LHRoaXMucmluZ0FuZEVkZ2UxPWUsdGhpcy5yaW5nQW5kRWRnZTI9bix0aGlzLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTE9cix0aGlzLm54dElzZWN0QWxvbmdSaW5nQW5kRWRnZTI9aSx0aGlzLnJpbmdBbmRFZGdlMVdhbGthYmxlPW8sdGhpcy5yaW5nQW5kRWRnZTJXYWxrYWJsZT1zfTtmdW5jdGlvbiB1aSh0LGUpe2lmKHZvaWQgMD09PWUmJihlPSEwKSwzIT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIlRoaXMgZnVuY3Rpb24gcmVxdWlyZXMgYW4gYXJyYXkgb2YgdGhyZWUgcG9pbnRzIFt4LHldIik7cmV0dXJuKHRbMV1bMF0tdFswXVswXSkqKHRbMl1bMV0tdFswXVsxXSktKHRbMV1bMV0tdFswXVsxXSkqKHRbMl1bMF0tdFswXVswXSk+PTA9PWV9ZnVuY3Rpb24gbGkodCl7Zm9yKHZhciBlPTAsbj0wO248dC5sZW5ndGgtMTtuKyspdFtuXVswXTx0W2VdWzBdJiYoZT1uKTtpZih1aShbdFtoaShlLTEsdC5sZW5ndGgtMSldLHRbZV0sdFtoaShlKzEsdC5sZW5ndGgtMSldXSwhMCkpdmFyIHI9MTtlbHNlIHI9LTE7cmV0dXJuIHJ9ZnVuY3Rpb24gY2kodCxlKXtpZighdHx8IWUpcmV0dXJuITE7aWYodC5sZW5ndGghPWUubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wLHI9dC5sZW5ndGg7bjxyO24rKylpZih0W25daW5zdGFuY2VvZiBBcnJheSYmZVtuXWluc3RhbmNlb2YgQXJyYXkpe2lmKCFjaSh0W25dLGVbbl0pKXJldHVybiExfWVsc2UgaWYodFtuXSE9ZVtuXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBoaSh0LGUpe3JldHVybih0JWUrZSklZX12YXIgcGk9TWF0aC5QSS8xODAsZmk9MTgwL01hdGguUEksZ2k9ZnVuY3Rpb24odCxlKXt0aGlzLmxvbj10LHRoaXMubGF0PWUsdGhpcy54PXBpKnQsdGhpcy55PXBpKmV9O2dpLnByb3RvdHlwZS52aWV3PWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZyh0aGlzLmxvbikuc2xpY2UoMCw0KSsiLCIrU3RyaW5nKHRoaXMubGF0KS5zbGljZSgwLDQpfSxnaS5wcm90b3R5cGUuYW50aXBvZGU9ZnVuY3Rpb24oKXt2YXIgdD0tMSp0aGlzLmxhdCxlPXRoaXMubG9uPDA/MTgwK3RoaXMubG9uOi0xKigxODAtdGhpcy5sb24pO3JldHVybiBuZXcgZ2koZSx0KX07dmFyIGRpPWZ1bmN0aW9uKCl7dGhpcy5jb29yZHM9W10sdGhpcy5sZW5ndGg9MH07ZGkucHJvdG90eXBlLm1vdmVfdG89ZnVuY3Rpb24odCl7dGhpcy5sZW5ndGgrKyx0aGlzLmNvb3Jkcy5wdXNoKHQpfTt2YXIgeWk9ZnVuY3Rpb24odCl7dGhpcy5wcm9wZXJ0aWVzPXR8fHt9LHRoaXMuZ2VvbWV0cmllcz1bXX07eWkucHJvdG90eXBlLmpzb249ZnVuY3Rpb24oKXtpZih0aGlzLmdlb21ldHJpZXMubGVuZ3RoPD0wKXJldHVybntnZW9tZXRyeTp7dHlwZToiTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6bnVsbH0sdHlwZToiRmVhdHVyZSIscHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O2lmKDE9PT10aGlzLmdlb21ldHJpZXMubGVuZ3RoKXJldHVybntnZW9tZXRyeTp7dHlwZToiTGluZVN0cmluZyIsY29vcmRpbmF0ZXM6dGhpcy5nZW9tZXRyaWVzWzBdLmNvb3Jkc30sdHlwZToiRmVhdHVyZSIscHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO2UrKyl0LnB1c2godGhpcy5nZW9tZXRyaWVzW2VdLmNvb3Jkcyk7cmV0dXJue2dlb21ldHJ5Ont0eXBlOiJNdWx0aUxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOnR9LHR5cGU6IkZlYXR1cmUiLHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzfX0seWkucHJvdG90eXBlLndrdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0iIixlPSJMSU5FU1RSSU5HKCIsbj1mdW5jdGlvbih0KXtlKz10WzBdKyIgIit0WzFdKyIsIn0scj0wO3I8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDtyKyspe2lmKDA9PT10aGlzLmdlb21ldHJpZXNbcl0uY29vcmRzLmxlbmd0aClyZXR1cm4iTElORVNUUklORyhlbXB0eSkiO3RoaXMuZ2VvbWV0cmllc1tyXS5jb29yZHMuZm9yRWFjaChuKSx0Kz1lLnN1YnN0cmluZygwLGUubGVuZ3RoLTEpKyIpIn1yZXR1cm4gdH07dmFyIHZpPWZ1bmN0aW9uKHQsZSxuKXtpZighdHx8dm9pZCAwPT09dC54fHx2b2lkIDA9PT10LnkpdGhyb3cgbmV3IEVycm9yKCJHcmVhdENpcmNsZSBjb25zdHJ1Y3RvciBleHBlY3RzIHR3byBhcmdzOiBzdGFydCBhbmQgZW5kIG9iamVjdHMgd2l0aCB4IGFuZCB5IHByb3BlcnRpZXMiKTtpZighZXx8dm9pZCAwPT09ZS54fHx2b2lkIDA9PT1lLnkpdGhyb3cgbmV3IEVycm9yKCJHcmVhdENpcmNsZSBjb25zdHJ1Y3RvciBleHBlY3RzIHR3byBhcmdzOiBzdGFydCBhbmQgZW5kIG9iamVjdHMgd2l0aCB4IGFuZCB5IHByb3BlcnRpZXMiKTt0aGlzLnN0YXJ0PW5ldyBnaSh0LngsdC55KSx0aGlzLmVuZD1uZXcgZ2koZS54LGUueSksdGhpcy5wcm9wZXJ0aWVzPW58fHt9O3ZhciByPXRoaXMuc3RhcnQueC10aGlzLmVuZC54LGk9dGhpcy5zdGFydC55LXRoaXMuZW5kLnksbz1NYXRoLnBvdyhNYXRoLnNpbihpLzIpLDIpK01hdGguY29zKHRoaXMuc3RhcnQueSkqTWF0aC5jb3ModGhpcy5lbmQueSkqTWF0aC5wb3coTWF0aC5zaW4oci8yKSwyKTtpZih0aGlzLmc9MipNYXRoLmFzaW4oTWF0aC5zcXJ0KG8pKSx0aGlzLmc9PT1NYXRoLlBJKXRocm93IG5ldyBFcnJvcigiaXQgYXBwZWFycyAiK3QudmlldygpKyIgYW5kICIrZS52aWV3KCkrIiBhcmUgJ2FudGlwb2RhbCcsIGUuZyBkaWFtZXRyaWNhbGx5IG9wcG9zaXRlLCB0aHVzIHRoZXJlIGlzIG5vIHNpbmdsZSByb3V0ZSBidXQgcmF0aGVyIGluZmluaXRlIik7aWYoaXNOYU4odGhpcy5nKSl0aHJvdyBuZXcgRXJyb3IoImNvdWxkIG5vdCBjYWxjdWxhdGUgZ3JlYXQgY2lyY2xlIGJldHdlZW4gIit0KyIgYW5kICIrZSl9O2Z1bmN0aW9uIF9pKHQsZSl7dmFyIG49W10scj1NcigpO3JldHVybiB6KGUsKGZ1bmN0aW9uKGUpe2lmKG4uZm9yRWFjaCgoZnVuY3Rpb24odCxlKXt0LmlkPWV9KSksbi5sZW5ndGgpe3ZhciBpPXIuc2VhcmNoKGUpO2lmKGkuZmVhdHVyZXMubGVuZ3RoKXt2YXIgbz14aShlLGkpO249bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkIT09by5pZH0pKSxyLnJlbW92ZShvKSxGKG1pKG8sZSksKGZ1bmN0aW9uKHQpe24ucHVzaCh0KSxyLmluc2VydCh0KX0pKX19ZWxzZShuPW1pKHQsZSkuZmVhdHVyZXMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuYmJveHx8KHQuYmJveD15bihaKHQpKSl9KSksci5sb2FkKGYobikpfSkpLGYobil9ZnVuY3Rpb24gbWkodCxlKXt2YXIgbj1bXSxyPVEodClbMF0saT1RKHQpW3QuZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoLTFdO2lmKEVpKHIsSyhlKSl8fEVpKGksSyhlKSkpcmV0dXJuIGYoW3RdKTt2YXIgbz1NcigpLHM9Wm4odCk7by5sb2FkKHMpO3ZhciBhPW8uc2VhcmNoKGUpO2lmKCFhLmZlYXR1cmVzLmxlbmd0aClyZXR1cm4gZihbdF0pO3ZhciB1PXhpKGUsYSksbD1rKHMsKGZ1bmN0aW9uKHQscixpKXt2YXIgbz1RKHIpWzFdLHM9SyhlKTtyZXR1cm4gaT09PXUuaWQ/KHQucHVzaChzKSxuLnB1c2goaCh0KSksRWkocyxvKT9bc106W3Msb10pOih0LnB1c2gobyksdCl9KSxbcl0pO3JldHVybiBsLmxlbmd0aD4xJiZuLnB1c2goaChsKSksZihuKX1mdW5jdGlvbiB4aSh0LGUpe2lmKCFlLmZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImxpbmVzIG11c3QgY29udGFpbiBmZWF0dXJlcyIpO2lmKDE9PT1lLmZlYXR1cmVzLmxlbmd0aClyZXR1cm4gZS5mZWF0dXJlc1swXTt2YXIgbixyPTEvMDtyZXR1cm4gRihlLChmdW5jdGlvbihlKXt2YXIgaT1UcihlLHQpLnByb3BlcnRpZXMuZGlzdDtpPHImJihuPWUscj1pKX0pKSxufWZ1bmN0aW9uIEVpKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX1mdW5jdGlvbiBiaSh0LGUsbixyLGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgbz1pLnN0ZXBzfHw2NCxzPXdpKG4pLGE9d2kociksdT1BcnJheS5pc0FycmF5KHQpfHwiRmVhdHVyZSIhPT10LnR5cGU/e306dC5wcm9wZXJ0aWVzO2lmKHM9PT1hKXJldHVybiBoKF9uKHQsZSxpKS5nZW9tZXRyeS5jb29yZGluYXRlc1swXSx1KTtmb3IodmFyIGw9cyxjPXM8YT9hOmErMzYwLHA9bCxmPVtdLGc9MDtwPGM7KWYucHVzaCh2bih0LGUscCxpKS5nZW9tZXRyeS5jb29yZGluYXRlcykscD1sKzM2MCorK2cvbztyZXR1cm4gcD5jJiZmLnB1c2godm4odCxlLGMsaSkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLGgoZix1KX1mdW5jdGlvbiB3aSh0KXt2YXIgZT10JTM2MDtyZXR1cm4gZTwwJiYoZSs9MzYwKSxlfWZ1bmN0aW9uIElpKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXJ0KHQpO3N3aXRjaChlLnByb3BlcnRpZXN8fCJGZWF0dXJlIiE9PXQudHlwZXx8KGUucHJvcGVydGllcz10LnByb3BlcnRpZXMpLG4udHlwZSl7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gTmkobixlKTtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXJ0KHQpLmNvb3JkaW5hdGVzLHI9ZS5wcm9wZXJ0aWVzP2UucHJvcGVydGllczoiRmVhdHVyZSI9PT10LnR5cGU/dC5wcm9wZXJ0aWVzOnt9LGk9W107cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7aS5wdXNoKFNpKHQscikpfSkpLGYoaSl9KG4sZSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgcG9seSIpfX1mdW5jdGlvbiBOaSh0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksU2kocnQodCkuY29vcmRpbmF0ZXMsZS5wcm9wZXJ0aWVzP2UucHJvcGVydGllczoiRmVhdHVyZSI9PT10LnR5cGU/dC5wcm9wZXJ0aWVzOnt9KX1mdW5jdGlvbiBTaSh0LGUpe3JldHVybiB0Lmxlbmd0aD4xP2codCxlKTpoKHRbMF0sZSl9ZnVuY3Rpb24gQ2kodCxlKXt2YXIgbixyLGk7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBvPWUucHJvcGVydGllcyxzPW51bGw9PT0obj1lLmF1dG9Db21wbGV0ZSl8fHZvaWQgMD09PW58fG4sYT1udWxsPT09KHI9ZS5vcmRlckNvb3Jkcyl8fHZvaWQgMD09PXJ8fHI7c3dpdGNoKG51bGwhPT0oaT1lLm11dGF0ZSkmJnZvaWQgMCE9PWkmJml8fCh0PUllKHQpKSx0LnR5cGUpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnZhciB1PVtdO3JldHVybiB0LmZlYXR1cmVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UucHVzaChRKFBpKHQse30scyxhKSkpfSkpLHkodSxvKTtkZWZhdWx0OnJldHVybiBQaSh0LG8scyxhKX19ZnVuY3Rpb24gUGkodCxlLG4scil7ZT1lfHwoIkZlYXR1cmUiPT09dC50eXBlP3QucHJvcGVydGllczp7fSk7dmFyIGk9cnQodCksbz1pLmNvb3JkaW5hdGVzLHM9aS50eXBlO2lmKCFvLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoImxpbmUgbXVzdCBjb250YWluIGNvb3JkaW5hdGVzIik7c3dpdGNoKHMpe2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIG4mJihvPU1pKG8pKSxsKFtvXSxlKTtjYXNlIk11bHRpTGluZVN0cmluZyI6dmFyIGE9W10sdT0wO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKG4mJih0PU1pKHQpKSxyKXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT10WzBdLG49dFsxXSxyPXRbMl0saT10WzNdO3JldHVybiBNYXRoLmFicyhlLXIpKk1hdGguYWJzKG4taSl9KFooaCh0KSkpO2U+dT8oYS51bnNoaWZ0KHQpLHU9ZSk6YS5wdXNoKHQpfWVsc2UgYS5wdXNoKHQpfSkpLGwoYSxlKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZ2VvbWV0cnkgdHlwZSAiK3MrIiBpcyBub3Qgc3VwcG9ydGVkIil9fWZ1bmN0aW9uIE1pKHQpe3ZhciBlPXRbMF0sbj1lWzBdLHI9ZVsxXSxpPXRbdC5sZW5ndGgtMV0sbz1pWzBdLHM9aVsxXTtyZXR1cm4gbj09PW8mJnI9PT1zfHx0LnB1c2goZSksdH1mdW5jdGlvbiBMaSh0LGUpe3ZhciBuLHIsaSxvLHMsYSx1O2ZvcihyPTE7cjw9ODtyKj0yKXtmb3Iobj1bXSxvPSEoUmkoaT10W3QubGVuZ3RoLTFdLGUpJnIpLHM9MDtzPHQubGVuZ3RoO3MrKykodT0hKFJpKGE9dFtzXSxlKSZyKSkhPT1vJiZuLnB1c2goT2koaSxhLHIsZSkpLHUmJm4ucHVzaChhKSxpPWEsbz11O2lmKCEodD1uKS5sZW5ndGgpYnJlYWt9cmV0dXJuIG59ZnVuY3Rpb24gT2kodCxlLG4scil7cmV0dXJuIDgmbj9bdFswXSsoZVswXS10WzBdKSooclszXS10WzFdKS8oZVsxXS10WzFdKSxyWzNdXTo0Jm4/W3RbMF0rKGVbMF0tdFswXSkqKHJbMV0tdFsxXSkvKGVbMV0tdFsxXSksclsxXV06MiZuP1tyWzJdLHRbMV0rKGVbMV0tdFsxXSkqKHJbMl0tdFswXSkvKGVbMF0tdFswXSldOjEmbj9bclswXSx0WzFdKyhlWzFdLXRbMV0pKihyWzBdLXRbMF0pLyhlWzBdLXRbMF0pXTpudWxsfWZ1bmN0aW9uIFJpKHQsZSl7dmFyIG49MDtyZXR1cm4gdFswXTxlWzBdP258PTE6dFswXT5lWzJdJiYobnw9MiksdFsxXTxlWzFdP258PTQ6dFsxXT5lWzNdJiYobnw9OCksbn1mdW5jdGlvbiBUaSh0LGUpe2Zvcih2YXIgbj1bXSxyPTAsaT10O3I8aS5sZW5ndGg7cisrKXt2YXIgbz1MaShpW3JdLGUpO28ubGVuZ3RoPjAmJihvWzBdWzBdPT09b1tvLmxlbmd0aC0xXVswXSYmb1swXVsxXT09PW9bby5sZW5ndGgtMV1bMV18fG8ucHVzaChvWzBdKSxvLmxlbmd0aD49NCYmbi5wdXNoKG8pKX1yZXR1cm4gbn12aS5wcm90b3R5cGUuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5zaW4oKDEtdCkqdGhpcy5nKS9NYXRoLnNpbih0aGlzLmcpLG49TWF0aC5zaW4odCp0aGlzLmcpL01hdGguc2luKHRoaXMuZykscj1lKk1hdGguY29zKHRoaXMuc3RhcnQueSkqTWF0aC5jb3ModGhpcy5zdGFydC54KStuKk1hdGguY29zKHRoaXMuZW5kLnkpKk1hdGguY29zKHRoaXMuZW5kLngpLGk9ZSpNYXRoLmNvcyh0aGlzLnN0YXJ0LnkpKk1hdGguc2luKHRoaXMuc3RhcnQueCkrbipNYXRoLmNvcyh0aGlzLmVuZC55KSpNYXRoLnNpbih0aGlzLmVuZC54KSxvPWUqTWF0aC5zaW4odGhpcy5zdGFydC55KStuKk1hdGguc2luKHRoaXMuZW5kLnkpLHM9ZmkqTWF0aC5hdGFuMihvLE1hdGguc3FydChNYXRoLnBvdyhyLDIpK01hdGgucG93KGksMikpKTtyZXR1cm5bZmkqTWF0aC5hdGFuMihpLHIpLHNdfSx2aS5wcm90b3R5cGUuQXJjPWZ1bmN0aW9uKHQsZSl7dmFyIG49W107aWYoIXR8fHQ8PTIpbi5wdXNoKFt0aGlzLnN0YXJ0Lmxvbix0aGlzLnN0YXJ0LmxhdF0pLG4ucHVzaChbdGhpcy5lbmQubG9uLHRoaXMuZW5kLmxhdF0pO2Vsc2UgZm9yKHZhciByPTEvKHQtMSksaT0wO2k8dDsrK2kpe3ZhciBvPXIqaSxzPXRoaXMuaW50ZXJwb2xhdGUobyk7bi5wdXNoKHMpfWZvcih2YXIgYT0hMSx1PTAsbD1lJiZlLm9mZnNldD9lLm9mZnNldDoxMCxjPTE4MC1sLGg9LTE4MCtsLHA9MzYwLWwsZj0xO2Y8bi5sZW5ndGg7KytmKXt2YXIgZz1uW2YtMV1bMF0sZD1uW2ZdWzBdLHk9TWF0aC5hYnMoZC1nKTt5PnAmJihkPmMmJmc8aHx8Zz5jJiZkPGgpP2E9ITA6eT51JiYodT15KX12YXIgdj1bXTtpZihhJiZ1PGwpe3ZhciBfPVtdO3YucHVzaChfKTtmb3IodmFyIG09MDttPG4ubGVuZ3RoOysrbSl7dmFyIHg9cGFyc2VGbG9hdChuW21dWzBdKTtpZihtPjAmJk1hdGguYWJzKHgtblttLTFdWzBdKT5wKXt2YXIgRT1wYXJzZUZsb2F0KG5bbS0xXVswXSksYj1wYXJzZUZsb2F0KG5bbS0xXVsxXSksdz1wYXJzZUZsb2F0KG5bbV1bMF0pLEk9cGFyc2VGbG9hdChuW21dWzFdKTtpZihFPi0xODAmJkU8aCYmMTgwPT09dyYmbSsxPG4ubGVuZ3RoJiZuW20tMV1bMF0+LTE4MCYmblttLTFdWzBdPGgpe18ucHVzaChbLTE4MCxuW21dWzFdXSksbSsrLF8ucHVzaChbblttXVswXSxuW21dWzFdXSk7Y29udGludWV9aWYoRT5jJiZFPDE4MCYmLTE4MD09PXcmJm0rMTxuLmxlbmd0aCYmblttLTFdWzBdPmMmJm5bbS0xXVswXTwxODApe18ucHVzaChbMTgwLG5bbV1bMV1dKSxtKyssXy5wdXNoKFtuW21dWzBdLG5bbV1bMV1dKTtjb250aW51ZX1pZihFPGgmJnc+Yyl7dmFyIE49RTtFPXcsdz1OO3ZhciBTPWI7Yj1JLEk9U31pZihFPmMmJnc8aCYmKHcrPTM2MCksRTw9MTgwJiZ3Pj0xODAmJkU8dyl7dmFyIEM9KDE4MC1FKS8ody1FKSxQPUMqSSsoMS1DKSpiO18ucHVzaChbblttLTFdWzBdPmM/MTgwOi0xODAsUF0pLChfPVtdKS5wdXNoKFtuW20tMV1bMF0+Yz8tMTgwOjE4MCxQXSksdi5wdXNoKF8pfWVsc2UgXz1bXSx2LnB1c2goXyk7Xy5wdXNoKFt4LG5bbV1bMV1dKX1lbHNlIF8ucHVzaChbblttXVswXSxuW21dWzFdXSl9fWVsc2V7dmFyIE09W107di5wdXNoKE0pO2Zvcih2YXIgTD0wO0w8bi5sZW5ndGg7KytMKU0ucHVzaChbbltMXVswXSxuW0xdWzFdXSl9Zm9yKHZhciBPPW5ldyB5aSh0aGlzLnByb3BlcnRpZXMpLFI9MDtSPHYubGVuZ3RoOysrUil7dmFyIFQ9bmV3IGRpO08uZ2VvbWV0cmllcy5wdXNoKFQpO2Zvcih2YXIgQT12W1JdLEQ9MDtEPEEubGVuZ3RoOysrRClULm1vdmVfdG8oQVtEXSl9cmV0dXJuIE99O3ZhciBBaT1CdCgoZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KWUucHVzaChuKTtyZXR1cm4gZX0odC5leHBvcnRzPSJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3Qua2V5cz9PYmplY3Qua2V5czpuKS5zaGltPW59KSksRGk9QnQoKGZ1bmN0aW9uKHQsZSl7dmFyIG49IltvYmplY3QgQXJndW1lbnRzXSI9PWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHMpfSgpO2Z1bmN0aW9uIHIodCl7cmV0dXJuIltvYmplY3QgQXJndW1lbnRzXSI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1mdW5jdGlvbiBpKHQpe3JldHVybiB0JiYib2JqZWN0Ij09dHlwZW9mIHQmJiJudW1iZXIiPT10eXBlb2YgdC5sZW5ndGgmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCJjYWxsZWUiKSYmIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0LCJjYWxsZWUiKXx8ITF9KGU9dC5leHBvcnRzPW4/cjppKS5zdXBwb3J0ZWQ9cixlLnVuc3VwcG9ydGVkPWl9KSksRmk9QnQoKGZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZSxuPXQuZXhwb3J0cz1mdW5jdGlvbih0LG8scyl7cmV0dXJuIHN8fChzPXt9KSx0PT09b3x8KHQgaW5zdGFuY2VvZiBEYXRlJiZvIGluc3RhbmNlb2YgRGF0ZT90LmdldFRpbWUoKT09PW8uZ2V0VGltZSgpOiF0fHwhb3x8Im9iamVjdCIhPXR5cGVvZiB0JiYib2JqZWN0IiE9dHlwZW9mIG8/cy5zdHJpY3Q/dD09PW86dD09bzpmdW5jdGlvbih0LG8scyl7dmFyIGEsdTtpZihyKHQpfHxyKG8pKXJldHVybiExO2lmKHQucHJvdG90eXBlIT09by5wcm90b3R5cGUpcmV0dXJuITE7aWYoRGkodCkpcmV0dXJuISFEaShvKSYmKHQ9ZS5jYWxsKHQpLG89ZS5jYWxsKG8pLG4odCxvLHMpKTtpZihpKHQpKXtpZighaShvKSlyZXR1cm4hMTtpZih0Lmxlbmd0aCE9PW8ubGVuZ3RoKXJldHVybiExO2ZvcihhPTA7YTx0Lmxlbmd0aDthKyspaWYodFthXSE9PW9bYV0pcmV0dXJuITE7cmV0dXJuITB9dHJ5e3ZhciBsPUFpKHQpLGM9QWkobyl9Y2F0Y2godCl7cmV0dXJuITF9aWYobC5sZW5ndGghPWMubGVuZ3RoKXJldHVybiExO2ZvcihsLnNvcnQoKSxjLnNvcnQoKSxhPWwubGVuZ3RoLTE7YT49MDthLS0paWYobFthXSE9Y1thXSlyZXR1cm4hMTtmb3IoYT1sLmxlbmd0aC0xO2E+PTA7YS0tKWlmKHU9bFthXSwhbih0W3VdLG9bdV0scykpcmV0dXJuITE7cmV0dXJuIHR5cGVvZiB0PT10eXBlb2Ygb30odCxvLHMpKX07ZnVuY3Rpb24gcih0KXtyZXR1cm4gbnVsbD09dH1mdW5jdGlvbiBpKHQpe3JldHVybiEoIXR8fCJvYmplY3QiIT10eXBlb2YgdHx8Im51bWJlciIhPXR5cGVvZiB0Lmxlbmd0aCkmJigiZnVuY3Rpb24iPT10eXBlb2YgdC5jb3B5JiYiZnVuY3Rpb24iPT10eXBlb2YgdC5zbGljZSYmISh0Lmxlbmd0aD4wJiYibnVtYmVyIiE9dHlwZW9mIHRbMF0pKX19KSk7ZnVuY3Rpb24ga2kodCxlLG4pe2lmKHZvaWQgMD09PW4mJihuPXt9KSwhUChuPW58fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciByLGk9bi50b2xlcmFuY2V8fDAsbz1bXSxzPU1yKCksYT1abih0KTtyZXR1cm4gcy5sb2FkKGEpLFUoZSwoZnVuY3Rpb24odCl7dmFyIGU9ITE7dCYmKEYocy5zZWFyY2godCksKGZ1bmN0aW9uKG4pe2lmKCExPT09ZSl7dmFyIG89USh0KS5zb3J0KCkscz1RKG4pLnNvcnQoKTtGaShvLHMpfHwoMD09PWk/V3Iob1swXSxuKSYmV3Iob1sxXSxuKTpUcihuLG9bMF0pLnByb3BlcnRpZXMuZGlzdDw9aSYmVHIobixvWzFdKS5wcm9wZXJ0aWVzLmRpc3Q8PWkpPyhlPSEwLHI9cj9HaShyLHQpOnQpOigwPT09aT9XcihzWzBdLHQpJiZXcihzWzFdLHQpOlRyKHQsc1swXSkucHJvcGVydGllcy5kaXN0PD1pJiZUcih0LHNbMV0pLnByb3BlcnRpZXMuZGlzdDw9aSkmJihyPXI/R2kocixuKTpuKX19KSksITE9PT1lJiZyJiYoby5wdXNoKHIpLHI9dm9pZCAwKSl9KSksciYmby5wdXNoKHIpLGYobyl9ZnVuY3Rpb24gR2kodCxlKXt2YXIgbj1RKGUpLHI9USh0KSxpPXJbMF0sbz1yW3IubGVuZ3RoLTFdLHM9dC5nZW9tZXRyeS5jb29yZGluYXRlcztyZXR1cm4gRmkoblswXSxpKT9zLnVuc2hpZnQoblsxXSk6RmkoblswXSxvKT9zLnB1c2goblsxXSk6RmkoblsxXSxpKT9zLnVuc2hpZnQoblswXSk6RmkoblsxXSxvKSYmcy5wdXNoKG5bMF0pLHR9ZnVuY3Rpb24gcWkodCl7dmFyIGU9dCUzNjA7cmV0dXJuIGU8MCYmKGUrPTM2MCksZX1mdW5jdGlvbiBCaSh0LGUsbil7dmFyIHI7cmV0dXJuIHZvaWQgMD09PW4mJihuPXt9KSwocj1uLmZpbmFsP3ppKEsoZSksSyh0KSk6emkoSyh0KSxLKGUpKSk+MTgwPy0oMzYwLXIpOnJ9ZnVuY3Rpb24gemkodCxlKXt2YXIgbj1JKHRbMV0pLHI9SShlWzFdKSxpPUkoZVswXS10WzBdKTtpPk1hdGguUEkmJihpLT0yKk1hdGguUEkpLGk8LU1hdGguUEkmJihpKz0yKk1hdGguUEkpO3ZhciBvPU1hdGgubG9nKE1hdGgudGFuKHIvMitNYXRoLlBJLzQpL01hdGgudGFuKG4vMitNYXRoLlBJLzQpKTtyZXR1cm4odyhNYXRoLmF0YW4yKGksbykpKzM2MCklMzYwfWZ1bmN0aW9uIGppKHQsbixyLGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgbz1uPDAscz1OKE1hdGguYWJzKG4pLGkudW5pdHMsIm1ldGVycyIpO28mJihzPS1NYXRoLmFicyhzKSk7dmFyIHU9Syh0KSxsPWZ1bmN0aW9uKHQsbixyLGkpe2k9dm9pZCAwPT09aT9lOk51bWJlcihpKTt2YXIgbz1uL2kscz10WzBdKk1hdGguUEkvMTgwLGE9SSh0WzFdKSx1PUkociksbD1vKk1hdGguY29zKHUpLGM9YStsO01hdGguYWJzKGMpPk1hdGguUEkvMiYmKGM9Yz4wP01hdGguUEktYzotTWF0aC5QSS1jKTt2YXIgaD1NYXRoLmxvZyhNYXRoLnRhbihjLzIrTWF0aC5QSS80KS9NYXRoLnRhbihhLzIrTWF0aC5QSS80KSkscD1NYXRoLmFicyhoKT4xZS0xMT9sL2g6TWF0aC5jb3MoYSksZj1vKk1hdGguc2luKHUpL3A7cmV0dXJuWygxODAqKHMrZikvTWF0aC5QSSs1NDApJTM2MC0xODAsMTgwKmMvTWF0aC5QSV19KHUscyxyKTtyZXR1cm4gbFswXSs9bFswXS11WzBdPjE4MD8tMzYwOnVbMF0tbFswXT4xODA/MzYwOjAsYShsLGkucHJvcGVydGllcyl9ZnVuY3Rpb24gVWkodCxlLG4scixpLG8pe2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgYT10W3NdLHU9dFtzKzFdO3M9PT10Lmxlbmd0aC0xJiYodT10WzBdKSxyPVhpKGEsdSxlKSxuPD0wJiZyPjA/WGkoZSxhLGkpPDB8fChpPWEpOm4+MCYmcjw9MCYmKFZpKGUsYSxvKXx8KG89YSkpLG49cn1yZXR1cm5baSxvXX1mdW5jdGlvbiBWaSh0LGUsbil7cmV0dXJuIFhpKHQsZSxuKT4wfWZ1bmN0aW9uIFhpKHQsZSxuKXtyZXR1cm4oZVswXS10WzBdKSooblsxXS10WzFdKS0oblswXS10WzBdKSooZVsxXS10WzFdKX1mdW5jdGlvbiBZaSh0KXtmb3IodmFyIGUsbixyPVEodCksaT0wLG89MTtvPHIubGVuZ3RoOyllPW58fHJbMF0saSs9KChuPXJbb10pWzBdLWVbMF0pKihuWzFdK2VbMV0pLG8rKztyZXR1cm4gaT4wfWZ1bmN0aW9uIEhpKHQsZSl7c3dpdGNoKCJGZWF0dXJlIj09PXQudHlwZT90Lmdlb21ldHJ5LnR5cGU6dC50eXBlKXtjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6cmV0dXJuIHEodCwoZnVuY3Rpb24odCl7SGkodCxlKX0pKSx0O2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIFdpKFEodCksZSksdDtjYXNlIlBvbHlnb24iOnJldHVybiBKaShRKHQpLGUpLHQ7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnJldHVybiBRKHQpLmZvckVhY2goKGZ1bmN0aW9uKHQpe1dpKHQsZSl9KSksdDtjYXNlIk11bHRpUG9seWdvbiI6cmV0dXJuIFEodCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7SmkodCxlKX0pKSx0O2Nhc2UiUG9pbnQiOmNhc2UiTXVsdGlQb2ludCI6cmV0dXJuIHR9fWZ1bmN0aW9uIFdpKHQsZSl7WWkodCk9PT1lJiZ0LnJldmVyc2UoKX1mdW5jdGlvbiBKaSh0LGUpe1lpKHRbMF0pIT09ZSYmdFswXS5yZXZlcnNlKCk7Zm9yKHZhciBuPTE7bjx0Lmxlbmd0aDtuKyspWWkodFtuXSk9PT1lJiZ0W25dLnJldmVyc2UoKX1mdW5jdGlvbiBaaSh0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS56UHJvcGVydHl8fCJlbGV2YXRpb24iLHI9ZS5mbGlwLGk9ZS5mbGFncztudCh0LCJQb2ludCIsImlucHV0IG11c3QgY29udGFpbiBQb2ludHMiKTtmb3IodmFyIG89ZnVuY3Rpb24odCxlKXt2YXIgbj17fTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXt2YXIgZT1RKHQpWzFdO25bZV18fChuW2VdPVtdKSxuW2VdLnB1c2godCl9KSksT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gblt0XS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBRKHQpWzBdLVEoZSlbMF19KSl9KSkuc29ydCgoZnVuY3Rpb24odCxuKXtyZXR1cm4gZT9RKHRbMF0pWzFdLVEoblswXSlbMV06UShuWzBdKVsxXS1RKHRbMF0pWzFdfSkpfQovKiEKICAgICAqIEBsaWNlbnNlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZS4KICAgICAqIENvcHlyaWdodCAoYykgMjAxNSwgMjAxNSBSb25ueSBMb3JlbnogPHJvbm55QHRiaS51bml2aWUuYWMuYXQ+CiAgICAgKiB2LiAxLjIuMAogICAgICogaHR0cHM6Ly9naXRodWIuY29tL1JhdW1aZWl0L01hcmNoaW5nU3F1YXJlcy5qcwogICAgICoKICAgICAqIE1hcmNoaW5nU3F1YXJlc0pTIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKICAgICAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgICAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCiAgICAgKgogICAgICogTWFyY2hpbmdTcXVhcmVzSlMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKICAgICAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiAgICAgKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlCiAgICAgKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KICAgICAqCiAgICAgKiBBcyBhZGRpdGlvbmFsIHBlcm1pc3Npb24gdW5kZXIgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMwogICAgICogc2VjdGlvbiA3LCB0aGlyZC1wYXJ0eSBwcm9qZWN0cyAocGVyc29uYWwgb3IgY29tbWVyY2lhbCkgbWF5IGRpc3RyaWJ1dGUsCiAgICAgKiBpbmNsdWRlLCBvciBsaW5rIGFnYWluc3QgVU5NT0RJRklFRCBWRVJTSU9OUyBvZiBNYXJjaGluZ1NxdWFyZXNKUyB3aXRob3V0IHRoZQogICAgICogcmVxdWlyZW1lbnQgdGhhdCBzYWlkIHRoaXJkLXBhcnR5IHByb2plY3QgZm9yIHRoYXQgcmVhc29uIGFsb25lIGJlY29tZXMKICAgICAqIHN1YmplY3QgdG8gYW55IHJlcXVpcmVtZW50IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAzLgogICAgICogQW55IG1vZGlmaWNhdGlvbnMgdG8gTWFyY2hpbmdTcXVhcmVzSlMsIGhvd2V2ZXIsIG11c3QgYmUgc2hhcmVkIHdpdGggdGhlIHB1YmxpYwogICAgICogYW5kIG1hZGUgYXZhaWxhYmxlLgogICAgICoKICAgICAqIEluIHN1bW1hcnkgdGhpczoKICAgICAqIC0gYWxsb3dzIHlvdSB0byB1c2UgTWFyY2hpbmdTcXVhcmVzSlMgYXQgbm8gY29zdAogICAgICogLSBhbGxvd3MgeW91IHRvIHVzZSBNYXJjaGluZ1NxdWFyZXNKUyBmb3IgYm90aCBwZXJzb25hbCBhbmQgY29tbWVyY2lhbCBwdXJwb3NlcwogICAgICogLSBhbGxvd3MgeW91IHRvIGRpc3RyaWJ1dGUgVU5NT0RJRklFRCBWRVJTSU9OUyBvZiBNYXJjaGluZ1NxdWFyZXNKUyB1bmRlciBhbnkKICAgICAqICAgbGljZW5zZSBhcyBsb25nIGFzIHRoaXMgbGljZW5zZSBub3RpY2UgaXMgaW5jbHVkZWQKICAgICAqIC0gZW5hYmxlcyB5b3UgdG8ga2VlcCB0aGUgc291cmNlIGNvZGUgb2YgeW91ciBwcm9ncmFtIHRoYXQgdXNlcyBNYXJjaGluZ1NxdWFyZXNKUwogICAgICogICB1bmRpc2Nsb3NlZAogICAgICogLSBmb3JjZXMgeW91IHRvIHNoYXJlIGFueSBtb2RpZmljYXRpb25zIHlvdSBoYXZlIG1hZGUgdG8gTWFyY2hpbmdTcXVhcmVzSlMsCiAgICAgKiAgIGUuZy4gYnVnLWZpeGVzCiAgICAgKgogICAgICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCiAgICAgKiBhbG9uZyB3aXRoIE1hcmNoaW5nU3F1YXJlc0pTLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgogICAgICovKHQscikscz1bXSxhPTA7YTxvLmxlbmd0aDthKyspe2Zvcih2YXIgdT1vW2FdLGw9W10sYz0wO2M8dS5sZW5ndGg7YysrKXt2YXIgaD11W2NdO2gucHJvcGVydGllc1tuXT9sLnB1c2goaC5wcm9wZXJ0aWVzW25dKTpsLnB1c2goMCksITA9PT1pJiYoaC5wcm9wZXJ0aWVzLm1hdHJpeFBvc2l0aW9uPVthLGNdKX1zLnB1c2gobCl9cmV0dXJuIHN9dmFyIEtpPXtzdWNjZXNzQ2FsbGJhY2s6bnVsbCx2ZXJib3NlOiExLHBvbHlnb25zOiExfSxRaT17fTtmdW5jdGlvbiAkaSh0LGUsbixyKXtyPXJ8fHt9O2Zvcih2YXIgaT1PYmplY3Qua2V5cyhLaSksbz0wO288aS5sZW5ndGg7bysrKXt2YXIgcz1pW29dLGE9cltzXTthPW51bGwhPWE/YTpLaVtzXSxRaVtzXT1hfVFpLnZlcmJvc2UmJmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogY29tcHV0aW5nIGlzb2JhbmRzIGZvciBbIitlKyI6IisoZStuKSsiXSIpO3ZhciB1LGw9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10Lmxlbmd0aC0xLGk9dFswXS5sZW5ndGgtMSxvPXtyb3dzOnIsY29sczppLGNlbGxzOltdfSxzPWUrTWF0aC5hYnMobiksYT0wO2E8cjsrK2Epe28uY2VsbHNbYV09W107Zm9yKHZhciB1PTA7dTxpOysrdSl7dmFyIGw9MCxjPXRbYSsxXVt1XSxoPXRbYSsxXVt1KzFdLHA9dFthXVt1KzFdLGY9dFthXVt1XTtpZighKGlzTmFOKGMpfHxpc05hTihoKXx8aXNOYU4ocCl8fGlzTmFOKGYpKSl7bHw9YzxlPzA6Yz5zPzEyODo2NCxsfD1oPGU/MDpoPnM/MzI6MTYsbHw9cDxlPzA6cD5zPzg6NDt2YXIgZz0rKGx8PWY8ZT8wOmY+cz8yOjEpLGQ9MDtpZigxNz09PWx8fDE4PT09bHx8MzM9PT1sfHwzND09PWx8fDM4PT09bHx8Njg9PT1sfHw3Mj09PWx8fDk4PT09bHx8MTAyPT09bHx8MTMyPT09bHx8MTM2PT09bHx8MTM3PT09bHx8MTUyPT09bHx8MTUzPT09bCl7dmFyIHk9KGMraCtwK2YpLzQ7ZD15PnM/Mjp5PGU/MDoxLDM0PT09bD8xPT09ZD9sPTM1OjA9PT1kJiYobD0xMzYpOjEzNj09PWw/MT09PWQ/KGw9MzUsZD00KTowPT09ZCYmKGw9MzQpOjE3PT09bD8xPT09ZD8obD0xNTUsZD00KTowPT09ZCYmKGw9MTUzKTo2OD09PWw/MT09PWQ/KGw9MTAzLGQ9NCk6MD09PWQmJihsPTEwMik6MTUzPT09bD8xPT09ZCYmKGw9MTU1KToxMDI9PT1sPzE9PT1kJiYobD0xMDMpOjE1Mj09PWw/ZDwyJiYobD0xNTYsZD0xKToxMzc9PT1sP2Q8MiYmKGw9MTM5LGQ9MSk6OTg9PT1sP2Q8MiYmKGw9OTksZD0xKTozOD09PWw/ZDwyJiYobD0zOSxkPTEpOjE4PT09bD9kPjA/KGw9MTU2LGQ9NCk6bD0xNTI6MzM9PT1sP2Q+MD8obD0xMzksZD00KTpsPTEzNzo3Mj09PWw/ZD4wPyhsPTk5LGQ9NCk6bD05ODoxMzI9PT1sJiYoZD4wPyhsPTM5LGQ9NCk6bD0zOCl9aWYoMCE9bCYmMTcwIT1sKXt2YXIgdixfLG0seCxFLGIsdyxJO3Y9Xz1tPXg9RT1iPXc9ST0uNTt2YXIgTj1bXTsxPT09bD8obT0xLVZvKGUscCxmKSxJPTEtVm8oZSxjLGYpLE4ucHVzaChHb1tsXSkpOjE2OT09PWw/KG09Vm8ocyxmLHApLEk9Vm8ocyxmLGMpLE4ucHVzaChHb1tsXSkpOjQ9PT1sPyhiPTEtVm8oZSxoLHApLHg9Vm8oZSxmLHApLE4ucHVzaChGb1tsXSkpOjE2Nj09PWw/KGI9Vm8ocyxwLGgpLHg9MS1WbyhzLHAsZiksTi5wdXNoKEZvW2xdKSk6MTY9PT1sPyhFPVZvKGUscCxoKSxfPVZvKGUsYyxoKSxOLnB1c2goRG9bbF0pKToxNTQ9PT1sPyhFPTEtVm8ocyxoLHApLF89MS1WbyhzLGgsYyksTi5wdXNoKERvW2xdKSk6NjQ9PT1sPyh3PVZvKGUsZixjKSx2PTEtVm8oZSxoLGMpLE4ucHVzaChCb1tsXSkpOjEwNj09PWw/KHc9MS1WbyhzLGMsZiksdj1WbyhzLGMsaCksTi5wdXNoKEJvW2xdKSk6MTY4PT09bD8oeD1WbyhzLGYscCksbT1WbyhlLGYscCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksTi5wdXNoKGtvW2xdKSxOLnB1c2goR29bbF0pKToyPT09bD8oeD0xLVZvKGUscCxmKSxtPTEtVm8ocyxwLGYpLEk9MS1WbyhzLGMsZiksdz0xLVZvKGUsYyxmKSxOLnB1c2goa29bbF0pLE4ucHVzaChHb1tsXSkpOjE2Mj09PWw/KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSxOLnB1c2goa29bbF0pLE4ucHVzaChHb1tsXSkpOjg9PT1sPyhFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCkseD1WbyhzLGYscCksbT1WbyhlLGYscCksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKToxMzg9PT1sPyhFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCksdj0xLVZvKHMsaCxjKSxfPTEtVm8oZSxoLGMpLE4ucHVzaChEb1tsXSksTi5wdXNoKEZvW2xdKSk6MzI9PT1sPyhFPVZvKHMscCxoKSxiPVZvKGUscCxoKSx2PVZvKGUsYyxoKSxfPVZvKHMsYyxoKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSkpOjQyPT09bD8oST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpLE4ucHVzaChxb1tsXSksTi5wdXNoKEJvW2xdKSk6MTI4PT09bCYmKEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSxOLnB1c2gocW9bbF0pLE4ucHVzaChCb1tsXSkpLDU9PT1sPyhiPTEtVm8oZSxoLHApLEk9MS1WbyhlLGMsZiksTi5wdXNoKEZvW2xdKSk6MTY1PT09bD8oYj1WbyhzLHAsaCksST1WbyhzLGYsYyksTi5wdXNoKEZvW2xdKSk6MjA9PT1sPyh4PVZvKGUsZixwKSxfPVZvKGUsYyxoKSxOLnB1c2goa29bbF0pKToxNTA9PT1sPyh4PTEtVm8ocyxwLGYpLF89MS1WbyhzLGgsYyksTi5wdXNoKGtvW2xdKSk6ODA9PT1sPyhFPVZvKGUscCxoKSx3PVZvKGUsZixjKSxOLnB1c2goRG9bbF0pKTo5MD09PWw/KEU9MS1WbyhzLGgscCksdz0xLVZvKHMsYyxmKSxOLnB1c2goRG9bbF0pKTo2NT09PWw/KG09MS1WbyhlLHAsZiksdj0xLVZvKGUsaCxjKSxOLnB1c2goR29bbF0pKToxMDU9PT1sPyhtPVZvKHMsZixwKSx2PVZvKHMsYyxoKSxOLnB1c2goR29bbF0pKToxNjA9PT1sPyhFPVZvKHMscCxoKSxiPVZvKGUscCxoKSxJPVZvKGUsZixjKSx3PVZvKHMsZixjKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSkpOjEwPT09bD8oRT0xLVZvKGUsaCxwKSxiPTEtVm8ocyxoLHApLEk9MS1WbyhzLGMsZiksdz0xLVZvKGUsYyxmKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSkpOjEzMD09PWw/KHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSx2PTEtVm8ocyxoLGMpLF89MS1WbyhlLGgsYyksTi5wdXNoKGtvW2xdKSxOLnB1c2goR29bbF0pKTo0MD09PWw/KHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpLE4ucHVzaChrb1tsXSksTi5wdXNoKEdvW2xdKSk6MTAxPT09bD8oYj1WbyhzLHAsaCksdj1WbyhzLGMsaCksTi5wdXNoKEZvW2xdKSk6Njk9PT1sPyhiPTEtVm8oZSxoLHApLHY9MS1WbyhlLGgsYyksTi5wdXNoKEZvW2xdKSk6MTQ5PT09bD8oST1WbyhzLGYsYyksXz0xLVZvKHMsaCxjKSxOLnB1c2gocW9bbF0pKToyMT09PWw/KEk9MS1WbyhlLGMsZiksXz1WbyhlLGMsaCksTi5wdXNoKHFvW2xdKSk6ODY9PT1sPyh4PTEtVm8ocyxwLGYpLHc9MS1WbyhzLGMsZiksTi5wdXNoKGtvW2xdKSk6ODQ9PT1sPyh4PVZvKGUsZixwKSx3PVZvKGUsZixjKSxOLnB1c2goa29bbF0pKTo4OT09PWw/KEU9MS1WbyhzLGgscCksbT1WbyhzLGYscCksTi5wdXNoKEdvW2xdKSk6ODE9PT1sPyhFPVZvKGUscCxoKSxtPTEtVm8oZSxwLGYpLE4ucHVzaChHb1tsXSkpOjk2PT09bD8oRT1WbyhzLHAsaCksYj1WbyhlLHAsaCksdz1WbyhlLGYsYyksdj1WbyhzLGMsaCksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKTo3ND09PWw/KEU9MS1WbyhlLGgscCksYj0xLVZvKHMsaCxwKSx3PTEtVm8ocyxjLGYpLHY9MS1WbyhlLGgsYyksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKToyND09PWw/KEU9MS1WbyhzLGgscCkseD1WbyhzLGYscCksbT1WbyhlLGYscCksXz1WbyhlLGMsaCksTi5wdXNoKERvW2xdKSxOLnB1c2goR29bbF0pKToxNDY9PT1sPyhFPVZvKGUscCxoKSx4PTEtVm8oZSxwLGYpLG09MS1WbyhzLHAsZiksXz0xLVZvKHMsaCxjKSxOLnB1c2goRG9bbF0pLE4ucHVzaChHb1tsXSkpOjY9PT1sPyhiPTEtVm8oZSxoLHApLHg9MS1WbyhzLHAsZiksST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLE4ucHVzaChGb1tsXSksTi5wdXNoKGtvW2xdKSk6MTY0PT09bD8oYj1WbyhzLHAsaCkseD1WbyhlLGYscCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksTi5wdXNoKEZvW2xdKSxOLnB1c2goa29bbF0pKToxMjk9PT1sPyhtPTEtVm8oZSxwLGYpLEk9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSxOLnB1c2goR29bbF0pLE4ucHVzaChxb1tsXSkpOjQxPT09bD8obT1WbyhzLGYscCksST0xLVZvKGUsYyxmKSx2PVZvKGUsYyxoKSxfPVZvKHMsYyxoKSxOLnB1c2goR29bbF0pLE4ucHVzaChxb1tsXSkpOjY2PT09bD8oeD0xLVZvKGUscCxmKSxtPTEtVm8ocyxwLGYpLHc9MS1WbyhzLGMsZiksdj0xLVZvKGUsaCxjKSxOLnB1c2goa29bbF0pLE4ucHVzaChHb1tsXSkpOjEwND09PWw/KHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLHc9Vm8oZSxmLGMpLHY9Vm8ocyxjLGgpLE4ucHVzaChHb1tsXSksTi5wdXNoKHpvW2xdKSk6MTQ0PT09bD8oRT1WbyhlLHAsaCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksXz0xLVZvKHMsaCxjKSxOLnB1c2goRG9bbF0pLE4ucHVzaChCb1tsXSkpOjI2PT09bD8oRT0xLVZvKHMsaCxwKSxJPTEtVm8ocyxjLGYpLHc9MS1WbyhlLGMsZiksXz1WbyhlLGMsaCksTi5wdXNoKERvW2xdKSxOLnB1c2goQm9bbF0pKTozNj09PWw/KGI9Vm8ocyxwLGgpLHg9Vm8oZSxmLHApLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpLE4ucHVzaChGb1tsXSksTi5wdXNoKGtvW2xdKSk6MTM0PT09bD8oYj0xLVZvKGUsaCxwKSx4PTEtVm8ocyxwLGYpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSxOLnB1c2goRm9bbF0pLE4ucHVzaChrb1tsXSkpOjk9PT1sPyhFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCksbT1WbyhzLGYscCksST0xLVZvKGUsYyxmKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSkpOjE2MT09PWw/KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLG09MS1WbyhlLHAsZiksST1WbyhzLGYsYyksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKTozNz09PWw/KGI9Vm8ocyxwLGgpLEk9MS1WbyhlLGMsZiksdj1WbyhlLGMsaCksXz1WbyhzLGMsaCksTi5wdXNoKEZvW2xdKSxOLnB1c2gocW9bbF0pKToxMzM9PT1sPyhiPTEtVm8oZSxoLHApLEk9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSxOLnB1c2goRm9bbF0pLE4ucHVzaChxb1tsXSkpOjE0OD09PWw/KHg9Vm8oZSxmLHApLEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLF89MS1WbyhzLGgsYyksTi5wdXNoKGtvW2xdKSxOLnB1c2goQm9bbF0pKToyMj09PWw/KHg9MS1WbyhzLHAsZiksST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLF89Vm8oZSxjLGgpLE4ucHVzaChrb1tsXSksTi5wdXNoKEJvW2xdKSk6ODI9PT1sPyhFPVZvKGUscCxoKSx4PTEtVm8oZSxwLGYpLG09MS1WbyhzLHAsZiksdz0xLVZvKHMsYyxmKSxOLnB1c2goRG9bbF0pLE4ucHVzaChHb1tsXSkpOjg4PT09bD8oRT0xLVZvKHMsaCxwKSx4PVZvKHMsZixwKSxtPVZvKGUsZixwKSx3PVZvKGUsZixjKSxOLnB1c2goRG9bbF0pLE4ucHVzaChHb1tsXSkpOjczPT09bD8oRT0xLVZvKGUsaCxwKSxiPTEtVm8ocyxoLHApLG09Vm8ocyxmLHApLHY9MS1WbyhlLGgsYyksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKTo5Nz09PWw/KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLG09MS1WbyhlLHAsZiksdj1WbyhzLGMsaCksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pKToxNDU9PT1sPyhFPVZvKGUscCxoKSxtPTEtVm8oZSxwLGYpLEk9Vm8ocyxmLGMpLF89MS1WbyhzLGgsYyksTi5wdXNoKERvW2xdKSxOLnB1c2gocW9bbF0pKToyNT09PWw/KEU9MS1WbyhzLGgscCksbT1WbyhzLGYscCksST0xLVZvKGUsYyxmKSxfPVZvKGUsYyxoKSxOLnB1c2goRG9bbF0pLE4ucHVzaChxb1tsXSkpOjcwPT09bD8oYj0xLVZvKGUsaCxwKSx4PTEtVm8ocyxwLGYpLHc9MS1WbyhzLGMsZiksdj0xLVZvKGUsaCxjKSxOLnB1c2goRm9bbF0pLE4ucHVzaChrb1tsXSkpOjEwMD09PWw/KGI9Vm8ocyxwLGgpLHg9Vm8oZSxmLHApLHc9Vm8oZSxmLGMpLHY9Vm8ocyxjLGgpLE4ucHVzaChGb1tsXSksTi5wdXNoKGtvW2xdKSk6MzQ9PT1sPygwPT09ZD8oRT0xLVZvKGUsaCxwKSxiPTEtVm8ocyxoLHApLHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSk6KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSxJPTEtVm8ocyxjLGYpLHc9MS1WbyhlLGMsZiksdj1WbyhlLGMsaCksXz1WbyhzLGMsaCkpLE4ucHVzaChEb1tsXSksTi5wdXNoKEZvW2xdKSxOLnB1c2gocW9bbF0pLE4ucHVzaChCb1tsXSkpOjM1PT09bD8oND09PWQ/KEU9MS1WbyhlLGgscCksYj0xLVZvKHMsaCxwKSx4PVZvKHMsZixwKSxtPVZvKGUsZixwKSxJPVZvKGUsZixjKSx3PVZvKHMsZixjKSx2PTEtVm8ocyxoLGMpLF89MS1WbyhlLGgsYykpOihFPVZvKHMscCxoKSxiPVZvKGUscCxoKSx4PTEtVm8oZSxwLGYpLG09MS1WbyhzLHAsZiksST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSksTi5wdXNoKEdvW2xdKSxOLnB1c2goQm9bbF0pKToxMzY9PT1sPygwPT09ZD8oRT1WbyhzLHAsaCksYj1WbyhlLHAsaCkseD0xLVZvKGUscCxmKSxtPTEtVm8ocyxwLGYpLEk9MS1WbyhzLGMsZiksdz0xLVZvKGUsYyxmKSx2PVZvKGUsYyxoKSxfPVZvKHMsYyxoKSk6KEU9MS1WbyhlLGgscCksYj0xLVZvKHMsaCxwKSx4PVZvKHMsZixwKSxtPVZvKGUsZixwKSxJPVZvKGUsZixjKSx3PVZvKHMsZixjKSx2PTEtVm8ocyxoLGMpLF89MS1WbyhlLGgsYykpLE4ucHVzaChEb1tsXSksTi5wdXNoKEZvW2xdKSxOLnB1c2gocW9bbF0pLE4ucHVzaChCb1tsXSkpOjE1Mz09PWw/KDA9PT1kPyhFPVZvKGUscCxoKSxtPTEtVm8oZSxwLGYpLEk9MS1WbyhlLGMsZiksXz1WbyhlLGMsaCkpOihFPTEtVm8ocyxoLHApLG09Vm8ocyxmLHApLEk9Vm8ocyxmLGMpLF89MS1WbyhzLGgsYykpLE4ucHVzaChEb1tsXSksTi5wdXNoKEdvW2xdKSk6MTAyPT09bD8oMD09PWQ/KGI9MS1WbyhlLGgscCkseD1WbyhlLGYscCksdz1WbyhlLGYsYyksdj0xLVZvKGUsaCxjKSk6KGI9Vm8ocyxwLGgpLHg9MS1WbyhzLHAsZiksdz0xLVZvKHMsYyxmKSx2PVZvKHMsYyxoKSksTi5wdXNoKEZvW2xdKSxOLnB1c2goQm9bbF0pKToxNTU9PT1sPyg0PT09ZD8oRT1WbyhlLHAsaCksbT0xLVZvKGUscCxmKSxJPTEtVm8oZSxjLGYpLF89Vm8oZSxjLGgpKTooRT0xLVZvKHMsaCxwKSxtPVZvKHMsZixwKSxJPVZvKHMsZixjKSxfPTEtVm8ocyxoLGMpKSxOLnB1c2goRG9bbF0pLE4ucHVzaChxb1tsXSkpOjEwMz09PWw/KDQ9PT1kPyhiPTEtVm8oZSxoLHApLHg9Vm8oZSxmLHApLHc9Vm8oZSxmLGMpLHY9MS1WbyhlLGgsYykpOihiPVZvKHMscCxoKSx4PTEtVm8ocyxwLGYpLHc9MS1WbyhzLGMsZiksdj1WbyhzLGMsaCkpLE4ucHVzaChGb1tsXSksTi5wdXNoKGtvW2xdKSk6MTUyPT09bD8oMD09PWQ/KEU9Vm8oZSxwLGgpLHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSxJPTEtVm8ocyxjLGYpLHc9MS1WbyhlLGMsZiksXz1WbyhlLGMsaCkpOihFPTEtVm8ocyxoLHApLHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLF89MS1WbyhzLGgsYykpLE4ucHVzaChEb1tsXSksTi5wdXNoKGtvW2xdKSxOLnB1c2goR29bbF0pKToxNTY9PT1sPyg0PT09ZD8oRT1WbyhlLHAsaCkseD0xLVZvKGUscCxmKSxtPTEtVm8ocyxwLGYpLEk9MS1WbyhzLGMsZiksdz0xLVZvKGUsYyxmKSxfPVZvKGUsYyxoKSk6KEU9MS1WbyhzLGgscCkseD1WbyhzLGYscCksbT1WbyhlLGYscCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksXz0xLVZvKHMsaCxjKSksTi5wdXNoKERvW2xdKSxOLnB1c2goR29bbF0pLE4ucHVzaChCb1tsXSkpOjEzNz09PWw/KDA9PT1kPyhFPVZvKHMscCxoKSxiPVZvKGUscCxoKSxtPTEtVm8oZSxwLGYpLEk9MS1WbyhlLGMsZiksdj1WbyhlLGMsaCksXz1WbyhzLGMsaCkpOihFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCksbT1WbyhzLGYscCksST1WbyhzLGYsYyksdj0xLVZvKHMsaCxjKSxfPTEtVm8oZSxoLGMpKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSksTi5wdXNoKEdvW2xdKSk6MTM5PT09bD8oND09PWQ/KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLG09MS1WbyhlLHAsZiksST0xLVZvKGUsYyxmKSx2PVZvKGUsYyxoKSxfPVZvKHMsYyxoKSk6KEU9MS1WbyhlLGgscCksYj0xLVZvKHMsaCxwKSxtPVZvKHMsZixwKSxJPVZvKHMsZixjKSx2PTEtVm8ocyxoLGMpLF89MS1WbyhlLGgsYykpLE4ucHVzaChEb1tsXSksTi5wdXNoKEZvW2xdKSxOLnB1c2gocW9bbF0pKTo5OD09PWw/KDA9PT1kPyhFPTEtVm8oZSxoLHApLGI9MS1WbyhzLGgscCkseD1WbyhzLGYscCksbT1WbyhlLGYscCksdz1WbyhlLGYsYyksdj0xLVZvKGUsaCxjKSk6KEU9Vm8ocyxwLGgpLGI9Vm8oZSxwLGgpLHg9MS1WbyhlLHAsZiksbT0xLVZvKHMscCxmKSx3PTEtVm8ocyxjLGYpLHY9Vm8ocyxjLGgpKSxOLnB1c2goRG9bbF0pLE4ucHVzaChGb1tsXSksTi5wdXNoKEJvW2xdKSk6OTk9PT1sPyg0PT09ZD8oRT0xLVZvKGUsaCxwKSxiPTEtVm8ocyxoLHApLHg9Vm8ocyxmLHApLG09Vm8oZSxmLHApLHc9Vm8oZSxmLGMpLHY9MS1WbyhlLGgsYykpOihFPVZvKHMscCxoKSxiPVZvKGUscCxoKSx4PTEtVm8oZSxwLGYpLG09MS1WbyhzLHAsZiksdz0xLVZvKHMsYyxmKSx2PVZvKHMsYyxoKSksTi5wdXNoKERvW2xdKSxOLnB1c2goRm9bbF0pLE4ucHVzaChHb1tsXSkpOjM4PT09bD8oMD09PWQ/KGI9MS1WbyhlLGgscCkseD1WbyhlLGYscCksST1WbyhlLGYsYyksdz1WbyhzLGYsYyksdj0xLVZvKHMsaCxjKSxfPTEtVm8oZSxoLGMpKTooYj1WbyhzLHAsaCkseD0xLVZvKHMscCxmKSxJPTEtVm8ocyxjLGYpLHc9MS1WbyhlLGMsZiksdj1WbyhlLGMsaCksXz1WbyhzLGMsaCkpLE4ucHVzaChGb1tsXSksTi5wdXNoKHFvW2xdKSxOLnB1c2goQm9bbF0pKTozOT09PWw/KDQ9PT1kPyhiPTEtVm8oZSxoLHApLHg9Vm8oZSxmLHApLEk9Vm8oZSxmLGMpLHc9Vm8ocyxmLGMpLHY9MS1WbyhzLGgsYyksXz0xLVZvKGUsaCxjKSk6KGI9Vm8ocyxwLGgpLHg9MS1WbyhzLHAsZiksST0xLVZvKHMsYyxmKSx3PTEtVm8oZSxjLGYpLHY9Vm8oZSxjLGgpLF89Vm8ocyxjLGgpKSxOLnB1c2goRm9bbF0pLE4ucHVzaChrb1tsXSksTi5wdXNoKEJvW2xdKSk6ODU9PT1sJiYoRT0xLGI9MCx4PTEsbT0wLEk9MCx3PTEsdj0wLF89MSksKHY8MHx8dj4xfHxfPDB8fF8+MXx8RTwwfHxFPjF8fHg8MHx8eD4xfHxJPDB8fEk+MXx8dzwwfHx3PjEpJiZjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6ICIrbCsiICIrZysiICIrYysiLCIraCsiLCIrcCsiLCIrZisiICIrZCsiICIrdisiICIrXysiICIrRSsiICIrYisiICIreCsiICIrbSsiICIrSSsiICIrdyksby5jZWxsc1thXVt1XT17Y3ZhbDpsLGN2YWxfcmVhbDpnLGZsaXBwZWQ6ZCx0b3BsZWZ0OnYsdG9wcmlnaHQ6XyxyaWdodHRvcDpFLHJpZ2h0Ym90dG9tOmIsYm90dG9tcmlnaHQ6eCxib3R0b21sZWZ0Om0sbGVmdGJvdHRvbTpJLGxlZnR0b3A6dyxlZGdlczpOfX19fX1yZXR1cm4gb30odCxlLG4pO3JldHVybiBRaS5wb2x5Z29ucz8oUWkudmVyYm9zZSYmY29uc29sZS5sb2coIk1hcmNoaW5nU3F1YXJlc0pTLWlzb0JhbmRzOiByZXR1cm5pbmcgc2luZ2xlIHBvbHlnb25zIGZvciBlYWNoIGdyaWQgY2VsbCIpLHU9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj0wO3JldHVybiB0LmNlbGxzLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dC5mb3JFYWNoKChmdW5jdGlvbih0LGkpe2lmKHZvaWQgMCE9PXQpe3ZhciBvPVVvW3QuY3ZhbF0odCk7Im9iamVjdCI9PXR5cGVvZiBvJiZYbyhvKT8ib2JqZWN0Ij09dHlwZW9mIG9bMF0mJlhvKG9bMF0pPyJvYmplY3QiPT10eXBlb2Ygb1swXVswXSYmWG8ob1swXVswXSk/by5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3RbMF0rPWksdFsxXSs9cn0pKSxlW24rK109dH0pKTooby5mb3JFYWNoKChmdW5jdGlvbih0KXt0WzBdKz1pLHRbMV0rPXJ9KSksZVtuKytdPW8pOmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogYmFuZGNlbGwgcG9seWdvbiB3aXRoIG1hbGZvcm1lZCBjb29yZGluYXRlcyIpOmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogYmFuZGNlbGwgcG9seWdvbiB3aXRoIG51bGwgY29vcmRpbmF0ZXMiKX19KSl9KSksZX0obCkpOihRaS52ZXJib3NlJiZjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHJldHVybmluZyBwb2x5Z29uIHBhdGhzIGZvciBlbnRpcmUgZGF0YSBncmlkIiksdT1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10LnJvd3Mscj10LmNvbHMsaT1bXSxvPTA7bzxuO28rKylmb3IodmFyIHM9MDtzPHI7cysrKWlmKHZvaWQgMCE9PXQuY2VsbHNbb11bc10mJnQuY2VsbHNbb11bc10uZWRnZXMubGVuZ3RoPjApe3ZhciBhPUhvKHQuY2VsbHNbb11bc10pLHU9bnVsbCxsPXMsYz1vO251bGwhPT1hJiZpLnB1c2goW2EucFswXStsLGEucFsxXStjXSk7ZG97aWYobnVsbD09PSh1PVdvKHQuY2VsbHNbY11bbF0sYS54LGEueSxhLm8pKSlicmVhaztpZihpLnB1c2goW3UucFswXStsLHUucFsxXStjXSksbCs9dS54LGE9dSwoYys9dS55KTwwfHxjPj1ufHxsPDB8fGw+PXJ8fHZvaWQgMD09PXQuY2VsbHNbY11bbF0pe3ZhciBoPVlvKHQsbC09dS54LGMtPXUueSx1LngsdS55LHUubyk7aWYobnVsbD09PWgpYnJlYWs7aC5wYXRoLmZvckVhY2goKGZ1bmN0aW9uKHQpe2kucHVzaCh0KX0pKSxsPWguaSxjPWguaixhPWh9fXdoaWxlKHZvaWQgMCE9PXQuY2VsbHNbY11bbF0mJnQuY2VsbHNbY11bbF0uZWRnZXMubGVuZ3RoPjApO2UucHVzaChpKSxpPVtdLHQuY2VsbHNbb11bc10uZWRnZXMubGVuZ3RoPjAmJnMtLX1yZXR1cm4gZX0obCkpLCJmdW5jdGlvbiI9PXR5cGVvZiBRaS5zdWNjZXNzQ2FsbGJhY2smJlFpLnN1Y2Nlc3NDYWxsYmFjayh1KSx1fXZhciB0bz02NCxlbz0xNixubz1bXSxybz1bXSxpbz1bXSxvbz1bXSxzbz1bXSxhbz1bXSx1bz1bXSxsbz1bXSxjbz1bXSxobz1bXSxwbz1bXSxmbz1bXSxnbz1bXSx5bz1bXSx2bz1bXSxfbz1bXSxtbz1bXSx4bz1bXSxFbz1bXSxibz1bXSx3bz1bXSxJbz1bXSxObz1bXSxTbz1bXTt1b1s4NV09aG9bODVdPS0xLGxvWzg1XT1wb1s4NV09MCxjb1s4NV09Zm9bODVdPTEsRW9bODVdPUlvWzg1XT0xLGJvWzg1XT1Ob1s4NV09MCx3b1s4NV09U29bODVdPTEsbm9bODVdPW9vWzg1XT0wLHJvWzg1XT1zb1s4NV09LTEsaW9bODVdPXZvWzg1XT0wLF9vWzg1XT1nb1s4NV09MCxtb1s4NV09eW9bODVdPTEsYW9bODVdPXhvWzg1XT0xLElvWzFdPUlvWzE2OV09MCxOb1sxXT1Ob1sxNjldPS0xLFNvWzFdPVNvWzE2OV09MCxnb1sxXT1nb1sxNjldPS0xLHlvWzFdPXlvWzE2OV09MCx2b1sxXT12b1sxNjldPTAsaG9bNF09aG9bMTY2XT0wLHBvWzRdPXBvWzE2Nl09LTEsZm9bNF09Zm9bMTY2XT0xLF9vWzRdPV9vWzE2Nl09MSxtb1s0XT1tb1sxNjZdPTAseG9bNF09eG9bMTY2XT0wLHVvWzE2XT11b1sxNTRdPTAsbG9bMTZdPWxvWzE1NF09MSxjb1sxNl09Y29bMTU0XT0xLG9vWzE2XT1vb1sxNTRdPTEsc29bMTZdPXNvWzE1NF09MCxhb1sxNl09YW9bMTU0XT0xLEVvWzY0XT1Fb1sxMDZdPTAsYm9bNjRdPWJvWzEwNl09MSx3b1s2NF09d29bMTA2XT0wLG5vWzY0XT1ub1sxMDZdPS0xLHJvWzY0XT1yb1sxMDZdPTAsaW9bNjRdPWlvWzEwNl09MSxFb1syXT1Fb1sxNjhdPTAsYm9bMl09Ym9bMTY4XT0tMSx3b1syXT13b1sxNjhdPTEsSW9bMl09SW9bMTY4XT0wLE5vWzJdPU5vWzE2OF09LTEsU29bMl09U29bMTY4XT0wLGdvWzJdPWdvWzE2OF09LTEseW9bMl09eW9bMTY4XT0wLHZvWzJdPXZvWzE2OF09MCxfb1syXT1fb1sxNjhdPS0xLG1vWzJdPW1vWzE2OF09MCx4b1syXT14b1sxNjhdPTEsdW9bOF09dW9bMTYyXT0wLGxvWzhdPWxvWzE2Ml09LTEsY29bOF09Y29bMTYyXT0wLGhvWzhdPWhvWzE2Ml09MCxwb1s4XT1wb1sxNjJdPS0xLGZvWzhdPWZvWzE2Ml09MSxnb1s4XT1nb1sxNjJdPTEseW9bOF09eW9bMTYyXT0wLHZvWzhdPXZvWzE2Ml09MSxfb1s4XT1fb1sxNjJdPTEsbW9bOF09bW9bMTYyXT0wLHhvWzhdPXhvWzE2Ml09MCx1b1szMl09dW9bMTM4XT0wLGxvWzMyXT1sb1sxMzhdPTEsY29bMzJdPWNvWzEzOF09MSxob1szMl09aG9bMTM4XT0wLHBvWzMyXT1wb1sxMzhdPTEsZm9bMzJdPWZvWzEzOF09MCxub1szMl09bm9bMTM4XT0xLHJvWzMyXT1yb1sxMzhdPTAsaW9bMzJdPWlvWzEzOF09MCxvb1szMl09b29bMTM4XT0xLHNvWzMyXT1zb1sxMzhdPTAsYW9bMzJdPWFvWzEzOF09MSxJb1sxMjhdPUlvWzQyXT0wLE5vWzEyOF09Tm9bNDJdPTEsU29bMTI4XT1Tb1s0Ml09MSxFb1sxMjhdPUVvWzQyXT0wLGJvWzEyOF09Ym9bNDJdPTEsd29bMTI4XT13b1s0Ml09MCxub1sxMjhdPW5vWzQyXT0tMSxyb1sxMjhdPXJvWzQyXT0wLGlvWzEyOF09aW9bNDJdPTEsb29bMTI4XT1vb1s0Ml09LTEsc29bMTI4XT1zb1s0Ml09MCxhb1sxMjhdPWFvWzQyXT0wLGhvWzVdPWhvWzE2NV09LTEscG9bNV09cG9bMTY1XT0wLGZvWzVdPWZvWzE2NV09MCxJb1s1XT1Jb1sxNjVdPTEsTm9bNV09Tm9bMTY1XT0wLFNvWzVdPVNvWzE2NV09MCxfb1syMF09X29bMTUwXT0wLG1vWzIwXT1tb1sxNTBdPTEseG9bMjBdPXhvWzE1MF09MSxvb1syMF09b29bMTUwXT0wLHNvWzIwXT1zb1sxNTBdPS0xLGFvWzIwXT1hb1sxNTBdPTEsdW9bODBdPXVvWzkwXT0tMSxsb1s4MF09bG9bOTBdPTAsY29bODBdPWNvWzkwXT0xLEVvWzgwXT1Fb1s5MF09MSxib1s4MF09Ym9bOTBdPTAsd29bODBdPXdvWzkwXT0xLGdvWzY1XT1nb1sxMDVdPTAseW9bNjVdPXlvWzEwNV09MSx2b1s2NV09dm9bMTA1XT0wLG5vWzY1XT1ub1sxMDVdPTAscm9bNjVdPXJvWzEwNV09LTEsaW9bNjVdPWlvWzEwNV09MCx1b1sxNjBdPXVvWzEwXT0tMSxsb1sxNjBdPWxvWzEwXT0wLGNvWzE2MF09Y29bMTBdPTEsaG9bMTYwXT1ob1sxMF09LTEscG9bMTYwXT1wb1sxMF09MCxmb1sxNjBdPWZvWzEwXT0wLElvWzE2MF09SW9bMTBdPTEsTm9bMTYwXT1Ob1sxMF09MCxTb1sxNjBdPVNvWzEwXT0wLEVvWzE2MF09RW9bMTBdPTEsYm9bMTYwXT1ib1sxMF09MCx3b1sxNjBdPXdvWzEwXT0xLF9vWzEzMF09X29bNDBdPTAsbW9bMTMwXT1tb1s0MF09MSx4b1sxMzBdPXhvWzQwXT0xLGdvWzEzMF09Z29bNDBdPTAseW9bMTMwXT15b1s0MF09MSx2b1sxMzBdPXZvWzQwXT0wLG5vWzEzMF09bm9bNDBdPTAscm9bMTMwXT1yb1s0MF09LTEsaW9bMTMwXT1pb1s0MF09MCxvb1sxMzBdPW9vWzQwXT0wLHNvWzEzMF09c29bNDBdPS0xLGFvWzEzMF09YW9bNDBdPTEsaG9bMzddPWhvWzEzM109MCxwb1szN109cG9bMTMzXT0xLGZvWzM3XT1mb1sxMzNdPTEsSW9bMzddPUlvWzEzM109MCxOb1szN109Tm9bMTMzXT0xLFNvWzM3XT1Tb1sxMzNdPTAsbm9bMzddPW5vWzEzM109LTEscm9bMzddPXJvWzEzM109MCxpb1szN109aW9bMTMzXT0wLG9vWzM3XT1vb1sxMzNdPTEsc29bMzddPXNvWzEzM109MCxhb1szN109YW9bMTMzXT0wLF9vWzE0OF09X29bMjJdPS0xLG1vWzE0OF09bW9bMjJdPTAseG9bMTQ4XT14b1syMl09MCxJb1sxNDhdPUlvWzIyXT0wLE5vWzE0OF09Tm9bMjJdPS0xLFNvWzE0OF09U29bMjJdPTEsRW9bMTQ4XT1Fb1syMl09MCxib1sxNDhdPWJvWzIyXT0xLHdvWzE0OF09d29bMjJdPTEsb29bMTQ4XT1vb1syMl09LTEsc29bMTQ4XT1zb1syMl09MCxhb1sxNDhdPWFvWzIyXT0xLHVvWzgyXT11b1s4OF09MCxsb1s4Ml09bG9bODhdPS0xLGNvWzgyXT1jb1s4OF09MSxfb1s4Ml09X29bODhdPTEsbW9bODJdPW1vWzg4XT0wLHhvWzgyXT14b1s4OF09MSxnb1s4Ml09Z29bODhdPS0xLHlvWzgyXT15b1s4OF09MCx2b1s4Ml09dm9bODhdPTEsRW9bODJdPUVvWzg4XT0wLGJvWzgyXT1ib1s4OF09LTEsd29bODJdPXdvWzg4XT0wLHVvWzczXT11b1s5N109MCxsb1s3M109bG9bOTddPTEsY29bNzNdPWNvWzk3XT0wLGhvWzczXT1ob1s5N109MCxwb1s3M109cG9bOTddPS0xLGZvWzczXT1mb1s5N109MCxnb1s3M109Z29bOTddPTEseW9bNzNdPXlvWzk3XT0wLHZvWzczXT12b1s5N109MCxub1s3M109bm9bOTddPTEscm9bNzNdPXJvWzk3XT0wLGlvWzczXT1pb1s5N109MSx1b1sxNDVdPXVvWzI1XT0wLGxvWzE0NV09bG9bMjVdPS0xLGNvWzE0NV09Y29bMjVdPTAsZ29bMTQ1XT1nb1syNV09MSx5b1sxNDVdPXlvWzI1XT0wLHZvWzE0NV09dm9bMjVdPTEsSW9bMTQ1XT1Jb1syNV09MCxOb1sxNDVdPU5vWzI1XT0xLFNvWzE0NV09U29bMjVdPTEsb29bMTQ1XT1vb1syNV09LTEsc29bMTQ1XT1zb1syNV09MCxhb1sxNDVdPWFvWzI1XT0wLGhvWzcwXT1ob1sxMDBdPTAscG9bNzBdPXBvWzEwMF09MSxmb1s3MF09Zm9bMTAwXT0wLF9vWzcwXT1fb1sxMDBdPS0xLG1vWzcwXT1tb1sxMDBdPTAseG9bNzBdPXhvWzEwMF09MSxFb1s3MF09RW9bMTAwXT0wLGJvWzcwXT1ib1sxMDBdPS0xLHdvWzcwXT13b1sxMDBdPTEsbm9bNzBdPW5vWzEwMF09MSxyb1s3MF09cm9bMTAwXT0wLGlvWzcwXT1pb1sxMDBdPTAsaG9bMTAxXT1ob1s2OV09MCxwb1sxMDFdPXBvWzY5XT0xLGZvWzEwMV09Zm9bNjldPTAsbm9bMTAxXT1ub1s2OV09MSxyb1sxMDFdPXJvWzY5XT0wLGlvWzEwMV09aW9bNjldPTAsSW9bMTQ5XT1Jb1syMV09MCxOb1sxNDldPU5vWzIxXT0xLFNvWzE0OV09U29bMjFdPTEsb29bMTQ5XT1vb1syMV09LTEsc29bMTQ5XT1zb1syMV09MCxhb1sxNDldPWFvWzIxXT0wLF9vWzg2XT1fb1s4NF09LTEsbW9bODZdPW1vWzg0XT0wLHhvWzg2XT14b1s4NF09MSxFb1s4Nl09RW9bODRdPTAsYm9bODZdPWJvWzg0XT0tMSx3b1s4Nl09d29bODRdPTEsdW9bODldPXVvWzgxXT0wLGxvWzg5XT1sb1s4MV09LTEsY29bODldPWNvWzgxXT0wLGdvWzg5XT1nb1s4MV09MSx5b1s4OV09eW9bODFdPTAsdm9bODldPXZvWzgxXT0xLHVvWzk2XT11b1s3NF09MCxsb1s5Nl09bG9bNzRdPTEsY29bOTZdPWNvWzc0XT0wLGhvWzk2XT1ob1s3NF09LTEscG9bOTZdPXBvWzc0XT0wLGZvWzk2XT1mb1s3NF09MSxFb1s5Nl09RW9bNzRdPTEsYm9bOTZdPWJvWzc0XT0wLHdvWzk2XT13b1s3NF09MCxub1s5Nl09bm9bNzRdPTEscm9bOTZdPXJvWzc0XT0wLGlvWzk2XT1pb1s3NF09MSx1b1syNF09dW9bMTQ2XT0wLGxvWzI0XT1sb1sxNDZdPS0xLGNvWzI0XT1jb1sxNDZdPTEsX29bMjRdPV9vWzE0Nl09MSxtb1syNF09bW9bMTQ2XT0wLHhvWzI0XT14b1sxNDZdPTEsZ29bMjRdPWdvWzE0Nl09MCx5b1syNF09eW9bMTQ2XT0xLHZvWzI0XT12b1sxNDZdPTEsb29bMjRdPW9vWzE0Nl09MCxzb1syNF09c29bMTQ2XT0tMSxhb1syNF09YW9bMTQ2XT0wLGhvWzZdPWhvWzE2NF09LTEscG9bNl09cG9bMTY0XT0wLGZvWzZdPWZvWzE2NF09MSxfb1s2XT1fb1sxNjRdPS0xLG1vWzZdPW1vWzE2NF09MCx4b1s2XT14b1sxNjRdPTAsSW9bNl09SW9bMTY0XT0wLE5vWzZdPU5vWzE2NF09LTEsU29bNl09U29bMTY0XT0xLEVvWzZdPUVvWzE2NF09MSxib1s2XT1ib1sxNjRdPTAsd29bNl09d29bMTY0XT0wLGdvWzEyOV09Z29bNDFdPTAseW9bMTI5XT15b1s0MV09MSx2b1sxMjldPXZvWzQxXT0xLElvWzEyOV09SW9bNDFdPTAsTm9bMTI5XT1Ob1s0MV09MSxTb1sxMjldPVNvWzQxXT0wLG5vWzEyOV09bm9bNDFdPS0xLHJvWzEyOV09cm9bNDFdPTAsaW9bMTI5XT1pb1s0MV09MCxvb1sxMjldPW9vWzQxXT0wLHNvWzEyOV09c29bNDFdPS0xLGFvWzEyOV09YW9bNDFdPTAsX29bNjZdPV9vWzEwNF09MCxtb1s2Nl09bW9bMTA0XT0xLHhvWzY2XT14b1sxMDRdPTAsZ29bNjZdPWdvWzEwNF09LTEseW9bNjZdPXlvWzEwNF09MCx2b1s2Nl09dm9bMTA0XT0xLEVvWzY2XT1Fb1sxMDRdPTAsYm9bNjZdPWJvWzEwNF09LTEsd29bNjZdPXdvWzEwNF09MCxub1s2Nl09bm9bMTA0XT0wLHJvWzY2XT1yb1sxMDRdPS0xLGlvWzY2XT1pb1sxMDRdPTEsdW9bMTQ0XT11b1syNl09LTEsbG9bMTQ0XT1sb1syNl09MCxjb1sxNDRdPWNvWzI2XT0wLElvWzE0NF09SW9bMjZdPTEsTm9bMTQ0XT1Ob1syNl09MCxTb1sxNDRdPVNvWzI2XT0xLEVvWzE0NF09RW9bMjZdPTAsYm9bMTQ0XT1ib1syNl09MSx3b1sxNDRdPXdvWzI2XT0xLG9vWzE0NF09b29bMjZdPS0xLHNvWzE0NF09c29bMjZdPTAsYW9bMTQ0XT1hb1syNl09MSxob1szNl09aG9bMTM0XT0wLHBvWzM2XT1wb1sxMzRdPTEsZm9bMzZdPWZvWzEzNF09MSxfb1szNl09X29bMTM0XT0wLG1vWzM2XT1tb1sxMzRdPTEseG9bMzZdPXhvWzEzNF09MCxub1szNl09bm9bMTM0XT0wLHJvWzM2XT1yb1sxMzRdPS0xLGlvWzM2XT1pb1sxMzRdPTEsb29bMzZdPW9vWzEzNF09MSxzb1szNl09c29bMTM0XT0wLGFvWzM2XT1hb1sxMzRdPTAsdW9bOV09dW9bMTYxXT0tMSxsb1s5XT1sb1sxNjFdPTAsY29bOV09Y29bMTYxXT0wLGhvWzldPWhvWzE2MV09MCxwb1s5XT1wb1sxNjFdPS0xLGZvWzldPWZvWzE2MV09MCxnb1s5XT1nb1sxNjFdPTEseW9bOV09eW9bMTYxXT0wLHZvWzldPXZvWzE2MV09MCxJb1s5XT1Jb1sxNjFdPTEsTm9bOV09Tm9bMTYxXT0wLFNvWzldPVNvWzE2MV09MSx1b1sxMzZdPTAsbG9bMTM2XT0xLGNvWzEzNl09MSxob1sxMzZdPTAscG9bMTM2XT0xLGZvWzEzNl09MCxfb1sxMzZdPS0xLG1vWzEzNl09MCx4b1sxMzZdPTEsZ29bMTM2XT0tMSx5b1sxMzZdPTAsdm9bMTM2XT0wLElvWzEzNl09MCxOb1sxMzZdPS0xLFNvWzEzNl09MCxFb1sxMzZdPTAsYm9bMTM2XT0tMSx3b1sxMzZdPTEsbm9bMTM2XT0xLHJvWzEzNl09MCxpb1sxMzZdPTAsb29bMTM2XT0xLHNvWzEzNl09MCxhb1sxMzZdPTEsdW9bMzRdPTAsbG9bMzRdPS0xLGNvWzM0XT0wLGhvWzM0XT0wLHBvWzM0XT0tMSxmb1szNF09MSxfb1szNF09MSxtb1szNF09MCx4b1szNF09MCxnb1szNF09MSx5b1szNF09MCx2b1szNF09MSxJb1szNF09MCxOb1szNF09MSxTb1szNF09MSxFb1szNF09MCxib1szNF09MSx3b1szNF09MCxub1szNF09LTEscm9bMzRdPTAsaW9bMzRdPTEsb29bMzRdPS0xLHNvWzM0XT0wLGFvWzM0XT0wLHVvWzM1XT0wLGxvWzM1XT0xLGNvWzM1XT0xLGhvWzM1XT0wLHBvWzM1XT0tMSxmb1szNV09MSxfb1szNV09MSxtb1szNV09MCx4b1szNV09MCxnb1szNV09LTEseW9bMzVdPTAsdm9bMzVdPTAsSW9bMzVdPTAsTm9bMzVdPS0xLFNvWzM1XT0wLEVvWzM1XT0wLGJvWzM1XT0xLHdvWzM1XT0wLG5vWzM1XT0tMSxyb1szNV09MCxpb1szNV09MSxvb1szNV09MSxzb1szNV09MCxhb1szNV09MSx1b1sxNTNdPTAsbG9bMTUzXT0xLGNvWzE1M109MSxnb1sxNTNdPS0xLHlvWzE1M109MCx2b1sxNTNdPTAsSW9bMTUzXT0wLE5vWzE1M109LTEsU29bMTUzXT0wLG9vWzE1M109MSxzb1sxNTNdPTAsYW9bMTUzXT0xLGhvWzEwMl09MCxwb1sxMDJdPS0xLGZvWzEwMl09MSxfb1sxMDJdPTEsbW9bMTAyXT0wLHhvWzEwMl09MCxFb1sxMDJdPTAsYm9bMTAyXT0xLHdvWzEwMl09MCxub1sxMDJdPS0xLHJvWzEwMl09MCxpb1sxMDJdPTEsdW9bMTU1XT0wLGxvWzE1NV09LTEsY29bMTU1XT0wLGdvWzE1NV09MSx5b1sxNTVdPTAsdm9bMTU1XT0xLElvWzE1NV09MCxOb1sxNTVdPTEsU29bMTU1XT0xLG9vWzE1NV09LTEsc29bMTU1XT0wLGFvWzE1NV09MCxob1sxMDNdPTAscG9bMTAzXT0xLGZvWzEwM109MCxfb1sxMDNdPS0xLG1vWzEwM109MCx4b1sxMDNdPTEsRW9bMTAzXT0wLGJvWzEwM109LTEsd29bMTAzXT0xLG5vWzEwM109MSxyb1sxMDNdPTAsaW9bMTAzXT0wLHVvWzE1Ml09MCxsb1sxNTJdPTEsY29bMTUyXT0xLF9vWzE1Ml09LTEsbW9bMTUyXT0wLHhvWzE1Ml09MSxnb1sxNTJdPS0xLHlvWzE1Ml09MCx2b1sxNTJdPTAsSW9bMTUyXT0wLE5vWzE1Ml09LTEsU29bMTUyXT0wLEVvWzE1Ml09MCxib1sxNTJdPS0xLHdvWzE1Ml09MSxvb1sxNTJdPTEsc29bMTUyXT0wLGFvWzE1Ml09MSx1b1sxNTZdPTAsbG9bMTU2XT0tMSxjb1sxNTZdPTEsX29bMTU2XT0xLG1vWzE1Nl09MCx4b1sxNTZdPTEsZ29bMTU2XT0tMSx5b1sxNTZdPTAsdm9bMTU2XT0wLElvWzE1Nl09MCxOb1sxNTZdPS0xLFNvWzE1Nl09MCxFb1sxNTZdPTAsYm9bMTU2XT0xLHdvWzE1Nl09MSxvb1sxNTZdPS0xLHNvWzE1Nl09MCxhb1sxNTZdPTEsdW9bMTM3XT0wLGxvWzEzN109MSxjb1sxMzddPTEsaG9bMTM3XT0wLHBvWzEzN109MSxmb1sxMzddPTAsZ29bMTM3XT0tMSx5b1sxMzddPTAsdm9bMTM3XT0wLElvWzEzN109MCxOb1sxMzddPS0xLFNvWzEzN109MCxub1sxMzddPTEscm9bMTM3XT0wLGlvWzEzN109MCxvb1sxMzddPTEsc29bMTM3XT0wLGFvWzEzN109MSx1b1sxMzldPTAsbG9bMTM5XT0xLGNvWzEzOV09MSxob1sxMzldPTAscG9bMTM5XT0tMSxmb1sxMzldPTAsZ29bMTM5XT0xLHlvWzEzOV09MCx2b1sxMzldPTAsSW9bMTM5XT0wLE5vWzEzOV09MSxTb1sxMzldPTAsbm9bMTM5XT0tMSxyb1sxMzldPTAsaW9bMTM5XT0wLG9vWzEzOV09MSxzb1sxMzldPTAsYW9bMTM5XT0xLHVvWzk4XT0wLGxvWzk4XT0tMSxjb1s5OF09MCxob1s5OF09MCxwb1s5OF09LTEsZm9bOThdPTEsX29bOThdPTEsbW9bOThdPTAseG9bOThdPTAsZ29bOThdPTEseW9bOThdPTAsdm9bOThdPTEsRW9bOThdPTAsYm9bOThdPTEsd29bOThdPTAsbm9bOThdPS0xLHJvWzk4XT0wLGlvWzk4XT0xLHVvWzk5XT0wLGxvWzk5XT0xLGNvWzk5XT0wLGhvWzk5XT0wLHBvWzk5XT0tMSxmb1s5OV09MSxfb1s5OV09MSxtb1s5OV09MCx4b1s5OV09MCxnb1s5OV09LTEseW9bOTldPTAsdm9bOTldPTEsRW9bOTldPTAsYm9bOTldPS0xLHdvWzk5XT0wLG5vWzk5XT0xLHJvWzk5XT0wLGlvWzk5XT0xLGhvWzM4XT0wLHBvWzM4XT0tMSxmb1szOF09MSxfb1szOF09MSxtb1szOF09MCx4b1szOF09MCxJb1szOF09MCxOb1szOF09MSxTb1szOF09MSxFb1szOF09MCxib1szOF09MSx3b1szOF09MCxub1szOF09LTEscm9bMzhdPTAsaW9bMzhdPTEsb29bMzhdPS0xLHNvWzM4XT0wLGFvWzM4XT0wLGhvWzM5XT0wLHBvWzM5XT0xLGZvWzM5XT0xLF9vWzM5XT0tMSxtb1szOV09MCx4b1szOV09MCxJb1szOV09MCxOb1szOV09LTEsU29bMzldPTEsRW9bMzldPTAsYm9bMzldPTEsd29bMzldPTAsbm9bMzldPS0xLHJvWzM5XT0wLGlvWzM5XT0xLG9vWzM5XT0xLHNvWzM5XT0wLGFvWzM5XT0wO3ZhciBDbz1mdW5jdGlvbih0KXtyZXR1cm5bW3QuYm90dG9tbGVmdCwwXSxbMCwwXSxbMCx0LmxlZnRib3R0b21dXX0sUG89ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHRib3R0b21dLFsxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdXX0sTW89ZnVuY3Rpb24odCl7cmV0dXJuW1t0LnRvcHJpZ2h0LDFdLFsxLDFdLFsxLHQucmlnaHR0b3BdXX0sTG89ZnVuY3Rpb24odCl7cmV0dXJuW1swLHQubGVmdHRvcF0sWzAsMV0sW3QudG9wbGVmdCwxXV19LE9vPWZ1bmN0aW9uKHQpe3JldHVybltbdC5ib3R0b21yaWdodCwwXSxbdC5ib3R0b21sZWZ0LDBdLFswLHQubGVmdGJvdHRvbV0sWzAsdC5sZWZ0dG9wXV19LFJvPWZ1bmN0aW9uKHQpe3JldHVybltbdC5ib3R0b21yaWdodCwwXSxbdC5ib3R0b21sZWZ0LDBdLFsxLHQucmlnaHR0b3BdLFsxLHQucmlnaHRib3R0b21dXX0sVG89ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHR0b3BdLFsxLHQucmlnaHRib3R0b21dLFt0LnRvcGxlZnQsMV0sW3QudG9wcmlnaHQsMV1dfSxBbz1mdW5jdGlvbih0KXtyZXR1cm5bWzAsdC5sZWZ0Ym90dG9tXSxbMCx0LmxlZnR0b3BdLFt0LnRvcGxlZnQsMV0sW3QudG9wcmlnaHQsMV1dfSxEbz1bXSxGbz1bXSxrbz1bXSxHbz1bXSxxbz1bXSxCbz1bXSx6bz1bXSxqbz1bXTtHb1sxXT1xb1sxXT0xOCxHb1sxNjldPXFvWzE2OV09MTgsa29bNF09Rm9bNF09MTIsa29bMTY2XT1Gb1sxNjZdPTEyLERvWzE2XT1qb1sxNl09NCxEb1sxNTRdPWpvWzE1NF09NCxCb1s2NF09em9bNjRdPTIyLEJvWzEwNl09em9bMTA2XT0yMixrb1syXT1Cb1syXT0xNyxHb1syXT1xb1syXT0xOCxrb1sxNjhdPUJvWzE2OF09MTcsR29bMTY4XT1xb1sxNjhdPTE4LERvWzhdPUdvWzhdPTksRm9bOF09a29bOF09MTIsRG9bMTYyXT1Hb1sxNjJdPTksRm9bMTYyXT1rb1sxNjJdPTEyLERvWzMyXT1qb1szMl09NCxGb1szMl09em9bMzJdPTEsRG9bMTM4XT1qb1sxMzhdPTQsRm9bMTM4XT16b1sxMzhdPTEscW9bMTI4XT1qb1sxMjhdPTIxLEJvWzEyOF09em9bMTI4XT0yMixxb1s0Ml09am9bNDJdPTIxLEJvWzQyXT16b1s0Ml09MjIsRm9bNV09cW9bNV09MTQsRm9bMTY1XT1xb1sxNjVdPTE0LGtvWzIwXT1qb1syMF09Nixrb1sxNTBdPWpvWzE1MF09NixEb1s4MF09Qm9bODBdPTExLERvWzkwXT1Cb1s5MF09MTEsR29bNjVdPXpvWzY1XT0zLEdvWzEwNV09em9bMTA1XT0zLERvWzE2MF09Qm9bMTYwXT0xMSxGb1sxNjBdPXFvWzE2MF09MTQsRG9bMTBdPUJvWzEwXT0xMSxGb1sxMF09cW9bMTBdPTE0LGtvWzEzMF09am9bMTMwXT02LEdvWzEzMF09em9bMTMwXT0zLGtvWzQwXT1qb1s0MF09NixHb1s0MF09em9bNDBdPTMsRm9bMTAxXT16b1sxMDFdPTEsRm9bNjldPXpvWzY5XT0xLHFvWzE0OV09am9bMTQ5XT0yMSxxb1syMV09am9bMjFdPTIxLGtvWzg2XT1Cb1s4Nl09MTcsa29bODRdPUJvWzg0XT0xNyxEb1s4OV09R29bODldPTksRG9bODFdPUdvWzgxXT05LERvWzk2XT16b1s5Nl09MCxGb1s5Nl09Qm9bOTZdPTE1LERvWzc0XT16b1s3NF09MCxGb1s3NF09Qm9bNzRdPTE1LERvWzI0XT1rb1syNF09OCxHb1syNF09am9bMjRdPTcsRG9bMTQ2XT1rb1sxNDZdPTgsR29bMTQ2XT1qb1sxNDZdPTcsRm9bNl09Qm9bNl09MTUsa29bNl09cW9bNl09MTYsRm9bMTY0XT1Cb1sxNjRdPTE1LGtvWzE2NF09cW9bMTY0XT0xNixHb1sxMjldPWpvWzEyOV09Nyxxb1sxMjldPXpvWzEyOV09MjAsR29bNDFdPWpvWzQxXT03LHFvWzQxXT16b1s0MV09MjAsa29bNjZdPXpvWzY2XT0yLEdvWzY2XT1Cb1s2Nl09MTksa29bMTA0XT16b1sxMDRdPTIsR29bMTA0XT1Cb1sxMDRdPTE5LERvWzE0NF09cW9bMTQ0XT0xMCxCb1sxNDRdPWpvWzE0NF09MjMsRG9bMjZdPXFvWzI2XT0xMCxCb1syNl09am9bMjZdPTIzLEZvWzM2XT1qb1szNl09NSxrb1szNl09em9bMzZdPTIsRm9bMTM0XT1qb1sxMzRdPTUsa29bMTM0XT16b1sxMzRdPTIsRG9bOV09cW9bOV09MTAsRm9bOV09R29bOV09MTMsRG9bMTYxXT1xb1sxNjFdPTEwLEZvWzE2MV09R29bMTYxXT0xMyxGb1szN109am9bMzddPTUscW9bMzddPXpvWzM3XT0yMCxGb1sxMzNdPWpvWzEzM109NSxxb1sxMzNdPXpvWzEzM109MjAsa29bMTQ4XT1xb1sxNDhdPTE2LEJvWzE0OF09am9bMTQ4XT0yMyxrb1syMl09cW9bMjJdPTE2LEJvWzIyXT1qb1syMl09MjMsRG9bODJdPWtvWzgyXT04LEdvWzgyXT1Cb1s4Ml09MTksRG9bODhdPWtvWzg4XT04LEdvWzg4XT1Cb1s4OF09MTksRG9bNzNdPXpvWzczXT0wLEZvWzczXT1Hb1s3M109MTMsRG9bOTddPXpvWzk3XT0wLEZvWzk3XT1Hb1s5N109MTMsRG9bMTQ1XT1Hb1sxNDVdPTkscW9bMTQ1XT1qb1sxNDVdPTIxLERvWzI1XT1Hb1syNV09OSxxb1syNV09am9bMjVdPTIxLEZvWzcwXT16b1s3MF09MSxrb1s3MF09Qm9bNzBdPTE3LEZvWzEwMF09em9bMTAwXT0xLGtvWzEwMF09Qm9bMTAwXT0xNyxEb1szNF09R29bMzRdPTksRm9bMzRdPWtvWzM0XT0xMixxb1szNF09am9bMzRdPTIxLEJvWzM0XT16b1szNF09MjIsRG9bMTM2XT1qb1sxMzZdPTQsRm9bMTM2XT16b1sxMzZdPTEsa29bMTM2XT1Cb1sxMzZdPTE3LEdvWzEzNl09cW9bMTM2XT0xOCxEb1szNV09am9bMzVdPTQsRm9bMzVdPWtvWzM1XT0xMixHb1szNV09cW9bMzVdPTE4LEJvWzM1XT16b1szNV09MjIsRG9bMTUzXT1qb1sxNTNdPTQsR29bMTUzXT1xb1sxNTNdPTE4LEZvWzEwMl09a29bMTAyXT0xMixCb1sxMDJdPXpvWzEwMl09MjIsRG9bMTU1XT1Hb1sxNTVdPTkscW9bMTU1XT1qb1sxNTVdPTIzLEZvWzEwM109em9bMTAzXT0xLGtvWzEwM109Qm9bMTAzXT0xNyxEb1sxNTJdPWpvWzE1Ml09NCxrb1sxNTJdPUJvWzE1Ml09MTcsR29bMTUyXT1xb1sxNTJdPTE4LERvWzE1Nl09a29bMTU2XT04LEdvWzE1Nl09cW9bMTU2XT0xOCxCb1sxNTZdPWpvWzE1Nl09MjMsRG9bMTM3XT1qb1sxMzddPTQsRm9bMTM3XT16b1sxMzddPTEsR29bMTM3XT1xb1sxMzddPTE4LERvWzEzOV09am9bMTM5XT00LEZvWzEzOV09R29bMTM5XT0xMyxxb1sxMzldPXpvWzEzOV09MjAsRG9bOThdPUdvWzk4XT05LEZvWzk4XT1rb1s5OF09MTIsQm9bOThdPXpvWzk4XT0yMixEb1s5OV09em9bOTldPTAsRm9bOTldPWtvWzk5XT0xMixHb1s5OV09Qm9bOTldPTE5LEZvWzM4XT1rb1szOF09MTIscW9bMzhdPWpvWzM4XT0yMSxCb1szOF09em9bMzhdPTIyLEZvWzM5XT1qb1szOV09NSxrb1szOV09cW9bMzldPTE2LEJvWzM5XT16b1szOV09MjI7dmFyIFVvPVtdO2Z1bmN0aW9uIFZvKHQsZSxuKXtyZXR1cm4odC1lKS8obi1lKX1mdW5jdGlvbiBYbyh0KXtyZXR1cm4gdC5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluZGV4T2YoIkFycmF5Iik+LTF9ZnVuY3Rpb24gWW8odCxlLG4scixpLG8pe2Zvcih2YXIgcz10LmNlbGxzW25dW2VdLGE9cy5jdmFsX3JlYWwsdT1lK3IsbD1uK2ksYz1bXSxoPSExOyFoOyl7aWYodm9pZCAwPT09dC5jZWxsc1tsXXx8dm9pZCAwPT09dC5jZWxsc1tsXVt1XSlpZihsLT1pLHUtPXIsYT0ocz10LmNlbGxzW2xdW3VdKS5jdmFsX3JlYWwsLTE9PT1pKWlmKDA9PT1vKWlmKDEmYSljLnB1c2goW3UsbF0pLHI9LTEsaT0wLG89MDtlbHNle2lmKCEoNCZhKSl7Yy5wdXNoKFt1K3MuYm90dG9tcmlnaHQsbF0pLHI9MCxpPTEsbz0xLGg9ITA7YnJlYWt9Yy5wdXNoKFt1KzEsbF0pLHI9MSxpPTAsbz0wfWVsc2V7aWYoISgxJmEpKXtpZig0JmEpe2MucHVzaChbdStzLmJvdHRvbXJpZ2h0LGxdKSxyPTAsaT0xLG89MSxoPSEwO2JyZWFrfWMucHVzaChbdStzLmJvdHRvbWxlZnQsbF0pLHI9MCxpPTEsbz0wLGg9ITA7YnJlYWt9Yy5wdXNoKFt1LGxdKSxyPS0xLGk9MCxvPTB9ZWxzZSBpZigxPT09aSlpZigwPT09byl7aWYoIShhJmVvKSl7aWYoYSZ0byl7Yy5wdXNoKFt1K3MudG9wbGVmdCxsKzFdKSxyPTAsaT0tMSxvPTAsaD0hMDticmVha31jLnB1c2goW3Urcy50b3ByaWdodCxsKzFdKSxyPTAsaT0tMSxvPTEsaD0hMDticmVha31jLnB1c2goW3UrMSxsKzFdKSxyPTEsaT0wLG89MX1lbHNlIGMucHVzaChbdSsxLGwrMV0pLHI9MSxpPTAsbz0xO2Vsc2UgaWYoLTE9PT1yKWlmKDA9PT1vKXtpZighKGEmdG8pKXtpZigxJmEpe2MucHVzaChbdSxsK3MubGVmdGJvdHRvbV0pLHI9MSxpPTAsbz0wLGg9ITA7YnJlYWt9Yy5wdXNoKFt1LGwrcy5sZWZ0dG9wXSkscj0xLGk9MCxvPTEsaD0hMDticmVha31jLnB1c2goW3UsbCsxXSkscj0wLGk9MSxvPTB9ZWxzZXtpZighKGEmdG8pKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHd0ZiIpO2JyZWFrfWMucHVzaChbdSxsKzFdKSxyPTAsaT0xLG89MH1lbHNle2lmKDEhPT1yKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHdlIGNhbWUgZnJvbSBub3doZXJlISIpO2JyZWFrfWlmKDA9PT1vKXtpZighKDQmYSkpe2MucHVzaChbdSsxLGwrcy5yaWdodGJvdHRvbV0pLHI9LTEsaT0wLG89MCxoPSEwO2JyZWFrfWMucHVzaChbdSsxLGxdKSxyPTAsaT0tMSxvPTF9ZWxzZXtpZighKDQmYSkpe2lmKGEmZW8pe2MucHVzaChbdSsxLGwrcy5yaWdodHRvcF0pLHI9LTEsaT0wLG89MTticmVha31jLnB1c2goW3UrMSxsK3MucmlnaHRib3R0b21dKSxyPS0xLGk9MCxvPTAsaD0hMDticmVha31jLnB1c2goW3UrMSxsXSkscj0wLGk9LTEsbz0xfX1lbHNlIGlmKGE9KHM9dC5jZWxsc1tsXVt1XSkuY3ZhbF9yZWFsLC0xPT09cilpZigwPT09bylpZih2b2lkIDAhPT10LmNlbGxzW2wtMV0mJnZvaWQgMCE9PXQuY2VsbHNbbC0xXVt1XSlyPTAsaT0tMSxvPTE7ZWxzZXtpZighKDEmYSkpe2MucHVzaChbdStzLmJvdHRvbXJpZ2h0LGxdKSxyPTAsaT0xLG89MSxoPSEwO2JyZWFrfWMucHVzaChbdSxsXSl9ZWxzZXtpZighKGEmdG8pKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IGZvdW5kIGVudHJ5IGZyb20gdG9wIGF0ICIrdSsiLCIrbCk7YnJlYWt9Y29uc29sZS5sb2coIk1hcmNoaW5nU3F1YXJlc0pTLWlzb0JhbmRzOiBwcm9jZWVkaW5nIGluIHgtZGlyZWN0aW9uISIpfWVsc2UgaWYoMT09PXIpe2lmKDA9PT1vKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHd0ZiIpO2JyZWFrfWlmKHZvaWQgMCE9PXQuY2VsbHNbbCsxXSYmdm9pZCAwIT09dC5jZWxsc1tsKzFdW3VdKXI9MCxpPTEsbz0wO2Vsc2V7aWYoIShhJmVvKSl7Yy5wdXNoKFt1K3MudG9wbGVmdCxsKzFdKSxyPTAsaT0tMSxvPTAsaD0hMDticmVha31jLnB1c2goW3UrMSxsKzFdKSxyPTEsaT0wLG89MX19ZWxzZSBpZigtMT09PWkpe2lmKDEhPT1vKXtjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHd0ZiIpO2JyZWFrfWlmKHZvaWQgMCE9PXQuY2VsbHNbbF1bdSsxXSlyPTEsaT0wLG89MTtlbHNle2lmKCEoNCZhKSl7Yy5wdXNoKFt1KzEsbCtzLnJpZ2h0dG9wXSkscj0tMSxpPTAsbz0xLGg9ITA7YnJlYWt9Yy5wdXNoKFt1KzEsbF0pLHI9MCxpPS0xLG89MX19ZWxzZXtpZigxIT09aSl7Y29uc29sZS5sb2coIk1hcmNoaW5nU3F1YXJlc0pTLWlzb0JhbmRzOiB3aGVyZSBkaWQgd2UgY2FtZSBmcm9tPz8/Iik7YnJlYWt9aWYoMCE9PW8pe2NvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogd3RmIik7YnJlYWt9aWYodm9pZCAwIT09dC5jZWxsc1tsXVt1LTFdKXI9LTEsaT0wLG89MDtlbHNle2lmKCEoYSZ0bykpe2MucHVzaChbdSxsK3MubGVmdGJvdHRvbV0pLHI9MSxpPTAsbz0wLGg9ITA7YnJlYWt9Yy5wdXNoKFt1LGwrMV0pLHI9MCxpPTEsbz0wfX1pZihsKz1pLCh1Kz1yKT09PWUmJmw9PT1uKWJyZWFrfXJldHVybntwYXRoOmMsaTp1LGo6bCx4OnIseTppLG86b319ZnVuY3Rpb24gSG8odCl7aWYodC5lZGdlcy5sZW5ndGg+MCl7dmFyIGU9dC5lZGdlc1t0LmVkZ2VzLmxlbmd0aC0xXSxuPXQuY3ZhbF9yZWFsO3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuIG4mZW8/e3A6WzEsdC5yaWdodHRvcF0seDotMSx5OjAsbzoxfTp7cDpbdC50b3BsZWZ0LDFdLHg6MCx5Oi0xLG86MH07Y2FzZSAxOnJldHVybiA0Jm4/e3A6W3QudG9wbGVmdCwxXSx4OjAseTotMSxvOjB9OntwOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH07Y2FzZSAyOnJldHVybiA0Jm4/e3A6W3QuYm90dG9tcmlnaHQsMF0seDowLHk6MSxvOjF9OntwOlt0LnRvcGxlZnQsMV0seDowLHk6LTEsbzowfTtjYXNlIDM6cmV0dXJuIDEmbj97cDpbdC50b3BsZWZ0LDFdLHg6MCx5Oi0xLG86MH06e3A6W3QuYm90dG9tbGVmdCwwXSx4OjAseToxLG86MH07Y2FzZSA0OnJldHVybiBuJmVvP3twOlsxLHQucmlnaHR0b3BdLHg6LTEseTowLG86MX06e3A6W3QudG9wcmlnaHQsMV0seDowLHk6LTEsbzoxfTtjYXNlIDU6cmV0dXJuIDQmbj97cDpbdC50b3ByaWdodCwxXSx4OjAseTotMSxvOjF9OntwOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH07Y2FzZSA2OnJldHVybiA0Jm4/e3A6W3QuYm90dG9tcmlnaHQsMF0seDowLHk6MSxvOjF9OntwOlt0LnRvcHJpZ2h0LDFdLHg6MCx5Oi0xLG86MX07Y2FzZSA3OnJldHVybiAxJm4/e3A6W3QudG9wcmlnaHQsMV0seDowLHk6LTEsbzoxfTp7cDpbdC5ib3R0b21sZWZ0LDBdLHg6MCx5OjEsbzowfTtjYXNlIDg6cmV0dXJuIDQmbj97cDpbdC5ib3R0b21yaWdodCwwXSx4OjAseToxLG86MX06e3A6WzEsdC5yaWdodHRvcF0seDotMSx5OjAsbzoxfTtjYXNlIDk6cmV0dXJuIDEmbj97cDpbMSx0LnJpZ2h0dG9wXSx4Oi0xLHk6MCxvOjF9OntwOlt0LmJvdHRvbWxlZnQsMF0seDowLHk6MSxvOjB9O2Nhc2UgMTA6cmV0dXJuIDEmbj97cDpbMCx0LmxlZnRib3R0b21dLHg6MSx5OjAsbzowfTp7cDpbMSx0LnJpZ2h0dG9wXSx4Oi0xLHk6MCxvOjF9O2Nhc2UgMTE6cmV0dXJuIG4mdG8/e3A6WzEsdC5yaWdodHRvcF0seDotMSx5OjAsbzoxfTp7cDpbMCx0LmxlZnR0b3BdLHg6MSx5OjAsbzoxfTtjYXNlIDEyOnJldHVybiA0Jm4/e3A6W3QuYm90dG9tcmlnaHQsMF0seDowLHk6MSxvOjF9OntwOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH07Y2FzZSAxMzpyZXR1cm4gMSZuP3twOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH06e3A6W3QuYm90dG9tbGVmdCwwXSx4OjAseToxLG86MH07Y2FzZSAxNDpyZXR1cm4gMSZuP3twOlswLHQubGVmdGJvdHRvbV0seDoxLHk6MCxvOjB9OntwOlsxLHQucmlnaHRib3R0b21dLHg6LTEseTowLG86MH07Y2FzZSAxNTpyZXR1cm4gbiZ0bz97cDpbMSx0LnJpZ2h0Ym90dG9tXSx4Oi0xLHk6MCxvOjB9OntwOlswLHQubGVmdHRvcF0seDoxLHk6MCxvOjF9O2Nhc2UgMTY6cmV0dXJuIDQmbj97cDpbdC5ib3R0b21yaWdodCwwXSx4OjAseToxLG86MX06e3A6WzAsdC5sZWZ0Ym90dG9tXSx4OjEseTowLG86MH07Y2FzZSAxNzpyZXR1cm4gbiZ0bz97cDpbdC5ib3R0b21yaWdodCwwXSx4OjAseToxLG86MX06e3A6WzAsdC5sZWZ0dG9wXSx4OjEseTowLG86MX07Y2FzZSAxODpyZXR1cm4gMSZuP3twOlswLHQubGVmdGJvdHRvbV0seDoxLHk6MCxvOjB9OntwOlt0LmJvdHRvbWxlZnQsMF0seDowLHk6MSxvOjB9O2Nhc2UgMTk6cmV0dXJuIG4mdG8/e3A6W3QuYm90dG9tbGVmdCwwXSx4OjAseToxLG86MH06e3A6WzAsdC5sZWZ0dG9wXSx4OjEseTowLG86MX07Y2FzZSAyMDpyZXR1cm4gbiZ0bz97cDpbdC50b3BsZWZ0LDFdLHg6MCx5Oi0xLG86MH06e3A6WzAsdC5sZWZ0Ym90dG9tXSx4OjEseTowLG86MH07Y2FzZSAyMTpyZXR1cm4gbiZlbz97cDpbMCx0LmxlZnRib3R0b21dLHg6MSx5OjAsbzowfTp7cDpbdC50b3ByaWdodCwxXSx4OjAseTotMSxvOjF9O2Nhc2UgMjI6cmV0dXJuIG4mdG8/e3A6W3QudG9wbGVmdCwxXSx4OjAseTotMSxvOjB9OntwOlswLHQubGVmdHRvcF0seDoxLHk6MCxvOjF9O2Nhc2UgMjM6cmV0dXJuIG4mZW8/e3A6WzAsdC5sZWZ0dG9wXSx4OjEseTowLG86MX06e3A6W3QudG9wcmlnaHQsMV0seDowLHk6LTEsbzoxfTtkZWZhdWx0OmNvbnNvbGUubG9nKCJNYXJjaGluZ1NxdWFyZXNKUy1pc29CYW5kczogZWRnZSBpbmRleCBvdXQgb2YgcmFuZ2UhIiksY29uc29sZS5sb2codCl9fXJldHVybiBudWxsfWZ1bmN0aW9uIFdvKHQsZSxuLHIpe3ZhciBpLG8scyxhLHUsbD10LmN2YWw7c3dpdGNoKGUpe2Nhc2UtMTpzd2l0Y2gocil7Y2FzZSAwOmk9Rm9bbF0scz1ob1tsXSxhPXBvW2xdLHU9Zm9bbF07YnJlYWs7ZGVmYXVsdDppPURvW2xdLHM9dW9bbF0sYT1sb1tsXSx1PWNvW2xdfWJyZWFrO2Nhc2UgMTpzd2l0Y2gocil7Y2FzZSAwOmk9cW9bbF0scz1Jb1tsXSxhPU5vW2xdLHU9U29bbF07YnJlYWs7ZGVmYXVsdDppPUJvW2xdLHM9RW9bbF0sYT1ib1tsXSx1PXdvW2xdfWJyZWFrO2RlZmF1bHQ6c3dpdGNoKG4pe2Nhc2UtMTpzd2l0Y2gocil7Y2FzZSAwOmk9em9bbF0scz1ub1tsXSxhPXJvW2xdLHU9aW9bbF07YnJlYWs7ZGVmYXVsdDppPWpvW2xdLHM9b29bbF0sYT1zb1tsXSx1PWFvW2xdfWJyZWFrO2Nhc2UgMTpzd2l0Y2gocil7Y2FzZSAwOmk9R29bbF0scz1nb1tsXSxhPXlvW2xdLHU9dm9bbF07YnJlYWs7ZGVmYXVsdDppPWtvW2xdLHM9X29bbF0sYT1tb1tsXSx1PXhvW2xdfX19aWYobz10LmVkZ2VzLmluZGV4T2YoaSksdm9pZCAwPT09dC5lZGdlc1tvXSlyZXR1cm4gbnVsbDtzd2l0Y2goZnVuY3Rpb24odCxlKXtkZWxldGUgdC5lZGdlc1tlXTtmb3IodmFyIG49ZSsxO248dC5lZGdlcy5sZW5ndGg7bisrKXQuZWRnZXNbbi0xXT10LmVkZ2VzW25dO3QuZWRnZXMucG9wKCl9KHQsbyksbD10LmN2YWxfcmVhbCxpKXtjYXNlIDA6bCZlbz8oZT10LnRvcGxlZnQsbj0xKTooZT0xLG49dC5yaWdodHRvcCk7YnJlYWs7Y2FzZSAxOjQmbD8oZT0xLG49dC5yaWdodGJvdHRvbSk6KGU9dC50b3BsZWZ0LG49MSk7YnJlYWs7Y2FzZSAyOjQmbD8oZT10LnRvcGxlZnQsbj0xKTooZT10LmJvdHRvbXJpZ2h0LG49MCk7YnJlYWs7Y2FzZSAzOjEmbD8oZT10LmJvdHRvbWxlZnQsbj0wKTooZT10LnRvcGxlZnQsbj0xKTticmVhaztjYXNlIDQ6bCZlbz8oZT10LnRvcHJpZ2h0LG49MSk6KGU9MSxuPXQucmlnaHR0b3ApO2JyZWFrO2Nhc2UgNTo0Jmw/KGU9MSxuPXQucmlnaHRib3R0b20pOihlPXQudG9wcmlnaHQsbj0xKTticmVhaztjYXNlIDY6NCZsPyhlPXQudG9wcmlnaHQsbj0xKTooZT10LmJvdHRvbXJpZ2h0LG49MCk7YnJlYWs7Y2FzZSA3OjEmbD8oZT10LmJvdHRvbWxlZnQsbj0wKTooZT10LnRvcHJpZ2h0LG49MSk7YnJlYWs7Y2FzZSA4OjQmbD8oZT0xLG49dC5yaWdodHRvcCk6KGU9dC5ib3R0b21yaWdodCxuPTApO2JyZWFrO2Nhc2UgOToxJmw/KGU9dC5ib3R0b21sZWZ0LG49MCk6KGU9MSxuPXQucmlnaHR0b3ApO2JyZWFrO2Nhc2UgMTA6MSZsPyhlPTEsbj10LnJpZ2h0dG9wKTooZT0wLG49dC5sZWZ0Ym90dG9tKTticmVhaztjYXNlIDExOmwmdG8/KGU9MCxuPXQubGVmdHRvcCk6KGU9MSxuPXQucmlnaHR0b3ApO2JyZWFrO2Nhc2UgMTI6NCZsPyhlPTEsbj10LnJpZ2h0Ym90dG9tKTooZT10LmJvdHRvbXJpZ2h0LG49MCk7YnJlYWs7Y2FzZSAxMzoxJmw/KGU9dC5ib3R0b21sZWZ0LG49MCk6KGU9MSxuPXQucmlnaHRib3R0b20pO2JyZWFrO2Nhc2UgMTQ6MSZsPyhlPTEsbj10LnJpZ2h0Ym90dG9tKTooZT0wLG49dC5sZWZ0Ym90dG9tKTticmVhaztjYXNlIDE1OmwmdG8/KGU9MCxuPXQubGVmdHRvcCk6KGU9MSxuPXQucmlnaHRib3R0b20pO2JyZWFrO2Nhc2UgMTY6NCZsPyhlPTAsbj10LmxlZnRib3R0b20pOihlPXQuYm90dG9tcmlnaHQsbj0wKTticmVhaztjYXNlIDE3OmwmdG8/KGU9MCxuPXQubGVmdHRvcCk6KGU9dC5ib3R0b21yaWdodCxuPTApO2JyZWFrO2Nhc2UgMTg6MSZsPyhlPXQuYm90dG9tbGVmdCxuPTApOihlPTAsbj10LmxlZnRib3R0b20pO2JyZWFrO2Nhc2UgMTk6bCZ0bz8oZT0wLG49dC5sZWZ0dG9wKTooZT10LmJvdHRvbWxlZnQsbj0wKTticmVhaztjYXNlIDIwOmwmdG8/KGU9MCxuPXQubGVmdGJvdHRvbSk6KGU9dC50b3BsZWZ0LG49MSk7YnJlYWs7Y2FzZSAyMTpsJmVvPyhlPXQudG9wcmlnaHQsbj0xKTooZT0wLG49dC5sZWZ0Ym90dG9tKTticmVhaztjYXNlIDIyOmwmdG8/KGU9MCxuPXQubGVmdHRvcCk6KGU9dC50b3BsZWZ0LG49MSk7YnJlYWs7Y2FzZSAyMzpsJmVvPyhlPXQudG9wcmlnaHQsbj0xKTooZT0wLG49dC5sZWZ0dG9wKTticmVhaztkZWZhdWx0OnJldHVybiBjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IGVkZ2UgaW5kZXggb3V0IG9mIHJhbmdlISIpLGNvbnNvbGUubG9nKHQpLG51bGx9cmV0dXJuIHZvaWQgMCE9PWUmJnZvaWQgMCE9PW4mJnZvaWQgMCE9PXMmJnZvaWQgMCE9PWEmJnZvaWQgMCE9PXV8fChjb25zb2xlLmxvZygiTWFyY2hpbmdTcXVhcmVzSlMtaXNvQmFuZHM6IHVuZGVmaW5lZCB2YWx1ZSEiKSxjb25zb2xlLmxvZyh0KSxjb25zb2xlLmxvZyhlKyIgIituKyIgIitzKyIgIithKyIgIit1KSkse3A6W2Usbl0seDpzLHk6YSxvOnV9fWZ1bmN0aW9uIEpvKHQpe3ZhciBlPVtdLG49W107dC5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1qcihsKFt0XSkpO24ucHVzaChyKSxlLnB1c2goe3Jpbmc6dCxhcmVhOnJ9KX0pKSxuLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUtdH0pKTt2YXIgcj1bXTtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbih0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLmFyZWE9PT10KXtyLnB1c2goZVtuXS5yaW5nKSxlLnNwbGljZShuLDEpO2JyZWFrfX0pKSxyfWZ1bmN0aW9uIFpvKHQpe2Zvcih2YXIgZT10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue2xyQ29vcmRpbmF0ZXM6dCxncm91cGVkOiExfX0pKSxuPVtdOyFRbyhlKTspZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspaWYoIWVbcl0uZ3JvdXBlZCl7dmFyIGk9W107aS5wdXNoKGVbcl0ubHJDb29yZGluYXRlcyksZVtyXS5ncm91cGVkPSEwO2Zvcih2YXIgbz1sKFtlW3JdLmxyQ29vcmRpbmF0ZXNdKSxzPXIrMTtzPGUubGVuZ3RoO3MrKyl7aWYoIWVbc10uZ3JvdXBlZClLbyhsKFtlW3NdLmxyQ29vcmRpbmF0ZXNdKSxvKSYmKGkucHVzaChlW3NdLmxyQ29vcmRpbmF0ZXMpLGVbc10uZ3JvdXBlZD0hMCl9bi5wdXNoKGkpfXJldHVybiBufWZ1bmN0aW9uIEtvKHQsZSl7Zm9yKHZhciBuPWJuKHQpLHI9MDtyPG4uZmVhdHVyZXMubGVuZ3RoO3IrKylpZigheWUobi5mZWF0dXJlc1tyXSxlKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBRbyh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZighMT09PXRbZV0uZ3JvdXBlZClyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiAkbyh0LGUsbil7aWYoIVAobj1ufHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgcj1uLnBpdm90LGk9bi5tdXRhdGU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7aWYobnVsbD09ZXx8aXNOYU4oZSkpdGhyb3cgbmV3IEVycm9yKCJhbmdsZSBpcyByZXF1aXJlZCIpO3JldHVybiAwPT09ZXx8KHJ8fChyPUVuKHQpKSwhMSE9PWkmJnZvaWQgMCE9PWl8fCh0PUllKHQpKSxSKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPUJpKHIsdCkrZSxpPUFyKHIsdCksbz1RKGppKHIsaSxuKSk7dFswXT1vWzBdLHRbMV09b1sxXX0pKSksdH1mdW5jdGlvbiB0cyh0LGUsbil7aWYoIVAobj1ufHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgcj1uLm9yaWdpbixpPW4ubXV0YXRlO2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiByZXF1aXJlZCIpO2lmKCJudW1iZXIiIT10eXBlb2YgZXx8MD09PWUpdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGZhY3RvciIpO3ZhciBvPUFycmF5LmlzQXJyYXkocil8fCJvYmplY3QiPT10eXBlb2YgcjtyZXR1cm4hMCE9PWkmJih0PUllKHQpKSwiRmVhdHVyZUNvbGxlY3Rpb24iIT09dC50eXBlfHxvP2VzKHQsZSxyKTooRih0LChmdW5jdGlvbihuLGkpe3QuZmVhdHVyZXNbaV09ZXMobixlLHIpfSkpLHQpfWZ1bmN0aW9uIGVzKHQsZSxuKXt2YXIgcj0iUG9pbnQiPT09aXQodCk7cmV0dXJuIG49ZnVuY3Rpb24odCxlKXtudWxsPT1lJiYoZT0iY2VudHJvaWQiKTtpZihBcnJheS5pc0FycmF5KGUpfHwib2JqZWN0Ij09dHlwZW9mIGUpcmV0dXJuIEsoZSk7dmFyIG49dC5iYm94P3QuYmJveDpaKHQpLHI9blswXSxpPW5bMV0sbz1uWzJdLHM9blszXTtzd2l0Y2goZSl7Y2FzZSJzdyI6Y2FzZSJzb3V0aHdlc3QiOmNhc2Uid2VzdHNvdXRoIjpjYXNlImJvdHRvbWxlZnQiOnJldHVybiBhKFtyLGldKTtjYXNlInNlIjpjYXNlInNvdXRoZWFzdCI6Y2FzZSJlYXN0c291dGgiOmNhc2UiYm90dG9tcmlnaHQiOnJldHVybiBhKFtvLGldKTtjYXNlIm53IjpjYXNlIm5vcnRod2VzdCI6Y2FzZSJ3ZXN0bm9ydGgiOmNhc2UidG9wbGVmdCI6cmV0dXJuIGEoW3Isc10pO2Nhc2UibmUiOmNhc2Uibm9ydGhlYXN0IjpjYXNlImVhc3Rub3J0aCI6Y2FzZSJ0b3ByaWdodCI6cmV0dXJuIGEoW28sc10pO2Nhc2UiY2VudGVyIjpyZXR1cm4geG4odCk7Y2FzZSB2b2lkIDA6Y2FzZSBudWxsOmNhc2UiY2VudHJvaWQiOnJldHVybiBFbih0KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiaW52YWxpZCBvcmlnaW4iKX19KHQsbiksMT09PWV8fHJ8fFIodCwoZnVuY3Rpb24odCl7dmFyIHI9QXIobix0KSxpPUJpKG4sdCksbz1RKGppKG4sciplLGkpKTt0WzBdPW9bMF0sdFsxXT1vWzFdLDM9PT10Lmxlbmd0aCYmKHRbMl0qPWUpfSkpLHR9ZnVuY3Rpb24gbnModCl7dmFyIGU9dFswXSxuPXRbMV07cmV0dXJuW25bMF0tZVswXSxuWzFdLWVbMV1dfWZ1bmN0aW9uIHJzKHQsZSl7cmV0dXJuIHRbMF0qZVsxXS1lWzBdKnRbMV19ZnVuY3Rpb24gaXModCxlKXtyZXR1cm4hZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PXJzKG5zKHQpLG5zKGUpKX0odCxlKSYmZnVuY3Rpb24odCxlKXt2YXIgbixyLGk9dFswXSxvPW5zKHQpLHM9ZVswXSxhPW5zKGUpLHU9cnMobyxhKTtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm5bdFswXStlWzBdLHRbMV0rZVsxXV19KGksZnVuY3Rpb24odCxlKXtyZXR1cm5bdCplWzBdLHQqZVsxXV19KHJzKChyPWksWyhuPXMpWzBdLXJbMF0sblsxXS1yWzFdXSksYSkvdSxvKSl9KHQsZSl9ZnVuY3Rpb24gb3ModCxlLG4pe3ZhciByPVtdLGk9RShlLG4pLG89USh0KSxzPVtdO3JldHVybiBvLmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7aWYoZSE9PW8ubGVuZ3RoLTEpe3ZhciBuPShsPXQsYz1vW2UrMV0saD1pLHA9TWF0aC5zcXJ0KChsWzBdLWNbMF0pKihsWzBdLWNbMF0pKyhsWzFdLWNbMV0pKihsWzFdLWNbMV0pKSxmPWxbMF0raCooY1sxXS1sWzFdKS9wLGc9Y1swXStoKihjWzFdLWxbMV0pL3AsZD1sWzFdK2gqKGxbMF0tY1swXSkvcCx5PWNbMV0raCoobFswXS1jWzBdKS9wLFtbZixkXSxbZyx5XV0pO2lmKHIucHVzaChuKSxlPjApe3ZhciBhPXJbZS0xXSx1PWlzKG4sYSk7ITEhPT11JiYoYVsxXT11LG5bMF09dSkscy5wdXNoKGFbMF0pLGU9PT1vLmxlbmd0aC0yJiYocy5wdXNoKG5bMF0pLHMucHVzaChuWzFdKSl9Mj09PW8ubGVuZ3RoJiYocy5wdXNoKG5bMF0pLHMucHVzaChuWzFdKSl9dmFyIGwsYyxoLHAsZixnLGQseX0pKSxoKHMsdC5wcm9wZXJ0aWVzKX1mdW5jdGlvbiBzcyh0LGUsbil7dmFyIHI9ZVswXS10WzBdLGk9ZVsxXS10WzFdLG89blswXS1lWzBdO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4odD4wKS0odDwwKXx8K3R9KHIqKG5bMV0tZVsxXSktbyppKX1mdW5jdGlvbiBhcyh0LGUpe3JldHVybiBlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4geWUoYShlKSx0KX0pKX1Vb1sxXT1Vb1sxNjldPUNvLFVvWzRdPVVvWzE2Nl09UG8sVW9bMTZdPVVvWzE1NF09TW8sVW9bNjRdPVVvWzEwNl09TG8sVW9bMTY4XT1Vb1syXT1PbyxVb1sxNjJdPVVvWzhdPVJvLFVvWzEzOF09VW9bMzJdPVRvLFVvWzQyXT1Vb1sxMjhdPUFvLFVvWzVdPVVvWzE2NV09ZnVuY3Rpb24odCl7cmV0dXJuW1swLDBdLFswLHQubGVmdGJvdHRvbV0sWzEsdC5yaWdodGJvdHRvbV0sWzEsMF1dfSxVb1syMF09VW9bMTUwXT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsMF0sW3QuYm90dG9tcmlnaHQsMF0sW3QudG9wcmlnaHQsMV0sWzEsMV1dfSxVb1s4MF09VW9bOTBdPWZ1bmN0aW9uKHQpe3JldHVybltbMSwxXSxbMSx0LnJpZ2h0dG9wXSxbMCx0LmxlZnR0b3BdLFswLDFdXX0sVW9bNjVdPVVvWzEwNV09ZnVuY3Rpb24odCl7cmV0dXJuW1t0LmJvdHRvbWxlZnQsMF0sWzAsMF0sWzAsMV0sW3QudG9wbGVmdCwxXV19LFVvWzE2MF09VW9bMTBdPWZ1bmN0aW9uKHQpe3JldHVybltbMSx0LnJpZ2h0dG9wXSxbMSx0LnJpZ2h0Ym90dG9tXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF1dfSxVb1sxMzBdPVVvWzQwXT1mdW5jdGlvbih0KXtyZXR1cm5bW3QudG9wbGVmdCwxXSxbdC50b3ByaWdodCwxXSxbdC5ib3R0b21yaWdodCwwXSxbdC5ib3R0b21sZWZ0LDBdXX0sVW9bODVdPWZ1bmN0aW9uKCl7cmV0dXJuW1swLDBdLFswLDFdLFsxLDFdLFsxLDBdXX0sVW9bMTAxXT1Vb1s2OV09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHRib3R0b21dLFsxLDBdLFswLDBdLFswLDFdLFt0LnRvcGxlZnQsMV1dfSxVb1sxNDldPVVvWzIxXT1mdW5jdGlvbih0KXtyZXR1cm5bW3QudG9wcmlnaHQsMV0sWzEsMV0sWzEsMF0sWzAsMF0sWzAsdC5sZWZ0Ym90dG9tXV19LFVvWzg2XT1Vb1s4NF09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdLFswLHQubGVmdHRvcF0sWzAsMV0sWzEsMV1dfSxVb1s4OV09VW9bODFdPWZ1bmN0aW9uKHQpe3JldHVybltbMSwxXSxbMSx0LnJpZ2h0dG9wXSxbdC5ib3R0b21sZWZ0LDBdLFswLDBdLFswLDFdXX0sVW9bOTZdPVVvWzc0XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodHRvcF0sWzEsdC5yaWdodGJvdHRvbV0sWzAsdC5sZWZ0dG9wXSxbMCwxXSxbdC50b3BsZWZ0LDFdXX0sVW9bMjRdPVVvWzE0Nl09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDFdLFsxLHQucmlnaHR0b3BdLFt0LmJvdHRvbXJpZ2h0LDBdLFt0LmJvdHRvbWxlZnQsMF0sW3QudG9wcmlnaHQsMV1dfSxVb1s2XT1Vb1sxNjRdPWZ1bmN0aW9uKHQpe3JldHVybltbMSx0LnJpZ2h0Ym90dG9tXSxbMSwwXSxbdC5ib3R0b21yaWdodCwwXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF1dfSxVb1sxMjldPVVvWzQxXT1mdW5jdGlvbih0KXtyZXR1cm5bW3QudG9wcmlnaHQsMV0sW3QuYm90dG9tbGVmdCwwXSxbMCwwXSxbMCx0LmxlZnRib3R0b21dLFt0LnRvcGxlZnQsMV1dfSxVb1s2Nl09VW9bMTA0XT1mdW5jdGlvbih0KXtyZXR1cm5bW3QuYm90dG9tcmlnaHQsMF0sW3QuYm90dG9tbGVmdCwwXSxbMCx0LmxlZnR0b3BdLFswLDFdLFt0LnRvcGxlZnQsMV1dfSxVb1sxNDRdPVVvWzI2XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsMV0sWzEsdC5yaWdodHRvcF0sWzAsdC5sZWZ0Ym90dG9tXSxbMCx0LmxlZnR0b3BdLFt0LnRvcHJpZ2h0LDFdXX0sVW9bMzZdPVVvWzEzNF09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHRib3R0b21dLFsxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdLFt0LnRvcGxlZnQsMV0sW3QudG9wcmlnaHQsMV1dfSxVb1s5XT1Vb1sxNjFdPWZ1bmN0aW9uKHQpe3JldHVybltbMSx0LnJpZ2h0dG9wXSxbMSx0LnJpZ2h0Ym90dG9tXSxbdC5ib3R0b21sZWZ0LDBdLFswLDBdLFswLHQubGVmdGJvdHRvbV1dfSxVb1szN109VW9bMTMzXT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodGJvdHRvbV0sWzEsMF0sWzAsMF0sWzAsdC5sZWZ0Ym90dG9tXSxbdC50b3BsZWZ0LDFdLFt0LnRvcHJpZ2h0LDFdXX0sVW9bMTQ4XT1Vb1syMl09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDFdLFsxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdLFswLHQubGVmdGJvdHRvbV0sWzAsdC5sZWZ0dG9wXSxbdC50b3ByaWdodCwxXV19LFVvWzgyXT1Vb1s4OF09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDFdLFsxLHQucmlnaHR0b3BdLFt0LmJvdHRvbXJpZ2h0LDBdLFt0LmJvdHRvbWxlZnQsMF0sWzAsdC5sZWZ0dG9wXSxbMCwxXV19LFVvWzczXT1Vb1s5N109ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHR0b3BdLFsxLHQucmlnaHRib3R0b21dLFt0LmJvdHRvbWxlZnQsMF0sWzAsMF0sWzAsMV0sW3QudG9wbGVmdCwxXV19LFVvWzE0NV09VW9bMjVdPWZ1bmN0aW9uKHQpe3JldHVybltbMSwxXSxbMSx0LnJpZ2h0dG9wXSxbdC5ib3R0b21sZWZ0LDBdLFswLDBdLFswLHQubGVmdGJvdHRvbV0sW3QudG9wcmlnaHQsMV1dfSxVb1s3MF09VW9bMTAwXT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodGJvdHRvbV0sWzEsMF0sW3QuYm90dG9tcmlnaHQsMF0sWzAsdC5sZWZ0dG9wXSxbMCwxXSxbdC50b3BsZWZ0LDFdXX0sVW9bMzRdPWZ1bmN0aW9uKHQpe3JldHVybltBbyh0KSxSbyh0KV19LFVvWzM1XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodHRvcF0sWzEsdC5yaWdodGJvdHRvbV0sW3QuYm90dG9tcmlnaHQsMF0sW3QuYm90dG9tbGVmdCwwXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF0sW3QudG9wbGVmdCwxXSxbdC50b3ByaWdodCwxXV19LFVvWzEzNl09ZnVuY3Rpb24odCl7cmV0dXJuW1RvKHQpLE9vKHQpXX0sVW9bMTUzXT1mdW5jdGlvbih0KXtyZXR1cm5bTW8odCksQ28odCldfSxVb1sxMDJdPWZ1bmN0aW9uKHQpe3JldHVybltQbyh0KSxMbyh0KV19LFVvWzE1NV09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLDFdLFsxLHQucmlnaHR0b3BdLFt0LmJvdHRvbWxlZnQsMF0sWzAsMF0sWzAsdC5sZWZ0Ym90dG9tXSxbdC50b3ByaWdodCwxXV19LFVvWzEwM109ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHRib3R0b21dLFsxLDBdLFt0LmJvdHRvbXJpZ2h0LDBdLFswLHQubGVmdHRvcF0sWzAsMV0sW3QudG9wbGVmdCwxXV19LFVvWzE1Ml09ZnVuY3Rpb24odCl7cmV0dXJuW01vKHQpLE9vKHQpXX0sVW9bMTU2XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsMV0sWzEsdC5yaWdodHRvcF0sW3QuYm90dG9tcmlnaHQsMF0sW3QuYm90dG9tbGVmdCwwXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF0sW3QudG9wcmlnaHQsMV1dfSxVb1sxMzddPWZ1bmN0aW9uKHQpe3JldHVybltUbyh0KSxDbyh0KV19LFVvWzEzOV09ZnVuY3Rpb24odCl7cmV0dXJuW1sxLHQucmlnaHR0b3BdLFsxLHQucmlnaHRib3R0b21dLFt0LmJvdHRvbWxlZnQsMF0sWzAsMF0sWzAsdC5sZWZ0Ym90dG9tXSxbdC50b3BsZWZ0LDFdLFt0LnRvcHJpZ2h0LDFdXX0sVW9bOThdPWZ1bmN0aW9uKHQpe3JldHVybltSbyh0KSxMbyh0KV19LFVvWzk5XT1mdW5jdGlvbih0KXtyZXR1cm5bWzEsdC5yaWdodHRvcF0sWzEsdC5yaWdodGJvdHRvbV0sW3QuYm90dG9tcmlnaHQsMF0sW3QuYm90dG9tbGVmdCwwXSxbMCx0LmxlZnR0b3BdLFswLDFdLFt0LnRvcGxlZnQsMV1dfSxVb1szOF09ZnVuY3Rpb24odCl7cmV0dXJuW1BvKHQpLEFvKHQpXX0sVW9bMzldPWZ1bmN0aW9uKHQpe3JldHVybltbMSx0LnJpZ2h0Ym90dG9tXSxbMSwwXSxbdC5ib3R0b21yaWdodCwwXSxbMCx0LmxlZnRib3R0b21dLFswLHQubGVmdHRvcF0sW3QudG9wbGVmdCwxXSxbdC50b3ByaWdodCwxXV19O3ZhciB1cz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dGhpcy5pZD10LmJ1aWxkSWQoZSksdGhpcy5jb29yZGluYXRlcz1lLHRoaXMuaW5uZXJFZGdlcz1bXSx0aGlzLm91dGVyRWRnZXM9W10sdGhpcy5vdXRlckVkZ2VzU29ydGVkPSExfXJldHVybiB0LmJ1aWxkSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuam9pbigiLCIpfSx0LnByb3RvdHlwZS5yZW1vdmVJbm5lckVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5pbm5lckVkZ2VzPXRoaXMuaW5uZXJFZGdlcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZyb20uaWQhPT10LmZyb20uaWR9KSl9LHQucHJvdG90eXBlLnJlbW92ZU91dGVyRWRnZT1mdW5jdGlvbih0KXt0aGlzLm91dGVyRWRnZXM9dGhpcy5vdXRlckVkZ2VzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG8uaWQhPT10LnRvLmlkfSkpfSx0LnByb3RvdHlwZS5hZGRPdXRlckVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5vdXRlckVkZ2VzLnB1c2godCksdGhpcy5vdXRlckVkZ2VzU29ydGVkPSExfSx0LnByb3RvdHlwZS5zb3J0T3V0ZXJFZGdlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5vdXRlckVkZ2VzU29ydGVkfHwodGhpcy5vdXRlckVkZ2VzLnNvcnQoKGZ1bmN0aW9uKGUsbil7dmFyIHI9ZS50byxpPW4udG87aWYoci5jb29yZGluYXRlc1swXS10LmNvb3JkaW5hdGVzWzBdPj0wJiZpLmNvb3JkaW5hdGVzWzBdLXQuY29vcmRpbmF0ZXNbMF08MClyZXR1cm4gMTtpZihyLmNvb3JkaW5hdGVzWzBdLXQuY29vcmRpbmF0ZXNbMF08MCYmaS5jb29yZGluYXRlc1swXS10LmNvb3JkaW5hdGVzWzBdPj0wKXJldHVybi0xO2lmKHIuY29vcmRpbmF0ZXNbMF0tdC5jb29yZGluYXRlc1swXT09MCYmaS5jb29yZGluYXRlc1swXS10LmNvb3JkaW5hdGVzWzBdPT0wKXJldHVybiByLmNvb3JkaW5hdGVzWzFdLXQuY29vcmRpbmF0ZXNbMV0+PTB8fGkuY29vcmRpbmF0ZXNbMV0tdC5jb29yZGluYXRlc1sxXT49MD9yLmNvb3JkaW5hdGVzWzFdLWkuY29vcmRpbmF0ZXNbMV06aS5jb29yZGluYXRlc1sxXS1yLmNvb3JkaW5hdGVzWzFdO3ZhciBvPXNzKHQuY29vcmRpbmF0ZXMsci5jb29yZGluYXRlcyxpLmNvb3JkaW5hdGVzKTtyZXR1cm4gbzwwPzE6bz4wPy0xOk1hdGgucG93KHIuY29vcmRpbmF0ZXNbMF0tdC5jb29yZGluYXRlc1swXSwyKStNYXRoLnBvdyhyLmNvb3JkaW5hdGVzWzFdLXQuY29vcmRpbmF0ZXNbMV0sMiktKE1hdGgucG93KGkuY29vcmRpbmF0ZXNbMF0tdC5jb29yZGluYXRlc1swXSwyKStNYXRoLnBvdyhpLmNvb3JkaW5hdGVzWzFdLXQuY29vcmRpbmF0ZXNbMV0sMikpfSkpLHRoaXMub3V0ZXJFZGdlc1NvcnRlZD0hMCl9LHQucHJvdG90eXBlLmdldE91dGVyRWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3J0T3V0ZXJFZGdlcygpLHRoaXMub3V0ZXJFZGdlc30sdC5wcm90b3R5cGUuZ2V0T3V0ZXJFZGdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNvcnRPdXRlckVkZ2VzKCksdGhpcy5vdXRlckVkZ2VzW3RdfSx0LnByb3RvdHlwZS5hZGRJbm5lckVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5pbm5lckVkZ2VzLnB1c2godCl9LHR9KCksbHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5mcm9tPXQsdGhpcy50bz1lLHRoaXMubmV4dD12b2lkIDAsdGhpcy5sYWJlbD12b2lkIDAsdGhpcy5zeW1ldHJpYz12b2lkIDAsdGhpcy5yaW5nPXZvaWQgMCx0aGlzLmZyb20uYWRkT3V0ZXJFZGdlKHRoaXMpLHRoaXMudG8uYWRkSW5uZXJFZGdlKHRoaXMpfXJldHVybiB0LnByb3RvdHlwZS5nZXRTeW1ldHJpYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN5bWV0cmljfHwodGhpcy5zeW1ldHJpYz1uZXcgdCh0aGlzLnRvLHRoaXMuZnJvbSksdGhpcy5zeW1ldHJpYy5zeW1ldHJpYz10aGlzKSx0aGlzLnN5bWV0cmljfSx0LnByb3RvdHlwZS5kZWxldGVFZGdlPWZ1bmN0aW9uKCl7dGhpcy5mcm9tLnJlbW92ZU91dGVyRWRnZSh0aGlzKSx0aGlzLnRvLnJlbW92ZUlubmVyRWRnZSh0aGlzKX0sdC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcm9tLmlkPT09dC5mcm9tLmlkJiZ0aGlzLnRvLmlkPT09dC50by5pZH0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iRWRnZSB7ICIrdGhpcy5mcm9tLmlkKyIgLT4gIit0aGlzLnRvLmlkKyIgfSJ9LHQucHJvdG90eXBlLnRvTGluZVN0cmluZz1mdW5jdGlvbigpe3JldHVybiBoKFt0aGlzLmZyb20uY29vcmRpbmF0ZXMsdGhpcy50by5jb29yZGluYXRlc10pfSx0LnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7cmV0dXJuIHNzKHQuZnJvbS5jb29yZGluYXRlcyx0LnRvLmNvb3JkaW5hdGVzLHRoaXMudG8uY29vcmRpbmF0ZXMpfSx0fSgpLGNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZWRnZXM9W10sdGhpcy5wb2x5Z29uPXZvaWQgMCx0aGlzLmVudmVsb3BlPXZvaWQgMH1yZXR1cm4gdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0KXt0aGlzLmVkZ2VzLnB1c2godCksdGhpcy5wb2x5Z29uPXRoaXMuZW52ZWxvcGU9dm9pZCAwfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWRnZXNbdF19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibGVuZ3RoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZXMubGVuZ3RofSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5lZGdlcy5mb3JFYWNoKHQpfSx0LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWRnZXMubWFwKHQpfSx0LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVkZ2VzLnNvbWUodCl9LHQucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuaXNIb2xlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuZWRnZXMucmVkdWNlKChmdW5jdGlvbihlLG4scil7cmV0dXJuIG4uZnJvbS5jb29yZGluYXRlc1sxXT50LmVkZ2VzW2VdLmZyb20uY29vcmRpbmF0ZXNbMV0mJihlPXIpLGV9KSwwKSxuPSgwPT09ZT90aGlzLmxlbmd0aDplKS0xLHI9KGUrMSkldGhpcy5sZW5ndGgsaT1zcyh0aGlzLmVkZ2VzW25dLmZyb20uY29vcmRpbmF0ZXMsdGhpcy5lZGdlc1tlXS5mcm9tLmNvb3JkaW5hdGVzLHRoaXMuZWRnZXNbcl0uZnJvbS5jb29yZGluYXRlcyk7cmV0dXJuIDA9PT1pP3RoaXMuZWRnZXNbbl0uZnJvbS5jb29yZGluYXRlc1swXT50aGlzLmVkZ2VzW3JdLmZyb20uY29vcmRpbmF0ZXNbMF06aT4wfSx0LnByb3RvdHlwZS50b011bHRpUG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLmVkZ2VzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZnJvbS5jb29yZGluYXRlc30pKSl9LHQucHJvdG90eXBlLnRvUG9seWdvbj1mdW5jdGlvbigpe2lmKHRoaXMucG9seWdvbilyZXR1cm4gdGhpcy5wb2x5Z29uO3ZhciB0PXRoaXMuZWRnZXMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5mcm9tLmNvb3JkaW5hdGVzfSkpO3JldHVybiB0LnB1c2godGhpcy5lZGdlc1swXS5mcm9tLmNvb3JkaW5hdGVzKSx0aGlzLnBvbHlnb249bChbdF0pfSx0LnByb3RvdHlwZS5nZXRFbnZlbG9wZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudmVsb3BlP3RoaXMuZW52ZWxvcGU6dGhpcy5lbnZlbG9wZT1kbih0aGlzLnRvUG9seWdvbigpKX0sdC5maW5kRWRnZVJpbmdDb250YWluaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpPXQuZ2V0RW52ZWxvcGUoKTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbyxzLHUsbCxjLGgscD1lLmdldEVudmVsb3BlKCk7aWYoKHImJihuPXIuZ2V0RW52ZWxvcGUoKSkscz1pLHU9KG89cCkuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxsPW8uZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxjPXMuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pKSxoPXMuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKSxNYXRoLm1heC5hcHBseShudWxsLHUpIT09TWF0aC5tYXguYXBwbHkobnVsbCxjKXx8TWF0aC5tYXguYXBwbHkobnVsbCxsKSE9PU1hdGgubWF4LmFwcGx5KG51bGwsaCl8fE1hdGgubWluLmFwcGx5KG51bGwsdSkhPT1NYXRoLm1pbi5hcHBseShudWxsLGMpfHxNYXRoLm1pbi5hcHBseShudWxsLGwpIT09TWF0aC5taW4uYXBwbHkobnVsbCxoKSkmJmFzKHAsaSkpe2Zvcih2YXIgZj10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZnJvbS5jb29yZGluYXRlc30pKSxnPXZvaWQgMCxkPWZ1bmN0aW9uKHQpe2Uuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIG49dCxyPWUuZnJvbS5jb29yZGluYXRlcyxuWzBdPT09clswXSYmblsxXT09PXJbMV07dmFyIG4scn0pKXx8KGc9dCl9LHk9MCx2PWY7eTx2Lmxlbmd0aDt5Kyspe2Qodlt5XSl9ZyYmZS5pbnNpZGUoYShnKSkmJihyJiYhYXMobixwKXx8KHI9ZSkpfX0pKSxyfSx0LnByb3RvdHlwZS5pbnNpZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHllKHQsdGhpcy50b1BvbHlnb24oKSl9LHR9KCk7dmFyIGhzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZWRnZXM9W10sdGhpcy5ub2Rlcz17fX1yZXR1cm4gdC5mcm9tR2VvSnNvbj1mdW5jdGlvbihlKXshZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJObyBnZW9qc29uIHBhc3NlZCIpO2lmKCJGZWF0dXJlQ29sbGVjdGlvbiIhPT10LnR5cGUmJiJHZW9tZXRyeUNvbGxlY3Rpb24iIT09dC50eXBlJiYiTXVsdGlMaW5lU3RyaW5nIiE9PXQudHlwZSYmIkxpbmVTdHJpbmciIT09dC50eXBlJiYiRmVhdHVyZSIhPT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGlucHV0IHR5cGUgJyIrdC50eXBlKyInLiBHZW9qc29uIG11c3QgYmUgRmVhdHVyZUNvbGxlY3Rpb24sIEdlb21ldHJ5Q29sbGVjdGlvbiwgTGluZVN0cmluZywgTXVsdGlMaW5lU3RyaW5nIG9yIEZlYXR1cmUiKX0oZSk7dmFyIG49bmV3IHQ7cmV0dXJuIHooZSwoZnVuY3Rpb24odCl7ZXQodCwiTGluZVN0cmluZyIsIkdyYXBoOjpmcm9tR2VvSnNvbiIpLFQodCwoZnVuY3Rpb24odCxlKXtpZih0KXt2YXIgcj1uLmdldE5vZGUodCksaT1uLmdldE5vZGUoZSk7bi5hZGRFZGdlKHIsaSl9cmV0dXJuIGV9KSl9KSksbn0sdC5wcm90b3R5cGUuZ2V0Tm9kZT1mdW5jdGlvbih0KXt2YXIgZT11cy5idWlsZElkKHQpLG49dGhpcy5ub2Rlc1tlXTtyZXR1cm4gbnx8KG49dGhpcy5ub2Rlc1tlXT1uZXcgdXModCkpLG59LHQucHJvdG90eXBlLmFkZEVkZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbHModCxlKSxyPW4uZ2V0U3ltZXRyaWMoKTt0aGlzLmVkZ2VzLnB1c2gobiksdGhpcy5lZGdlcy5wdXNoKHIpfSx0LnByb3RvdHlwZS5kZWxldGVEYW5nbGVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztPYmplY3Qua2V5cyh0aGlzLm5vZGVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm5vZGVzW2VdfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9yZW1vdmVJZkRhbmdsZShlKX0pKX0sdC5wcm90b3R5cGUuX3JlbW92ZUlmRGFuZ2xlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodC5pbm5lckVkZ2VzLmxlbmd0aDw9MSl7dmFyIG49dC5nZXRPdXRlckVkZ2VzKCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC50b30pKTt0aGlzLnJlbW92ZU5vZGUodCksbi5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fcmVtb3ZlSWZEYW5nbGUodCl9KSl9fSx0LnByb3RvdHlwZS5kZWxldGVDdXRFZGdlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fY29tcHV0ZU5leHRDV0VkZ2VzKCksdGhpcy5fZmluZExhYmVsZWRFZGdlUmluZ3MoKSx0aGlzLmVkZ2VzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubGFiZWw9PT1lLnN5bWV0cmljLmxhYmVsJiYodC5yZW1vdmVFZGdlKGUuc3ltZXRyaWMpLHQucmVtb3ZlRWRnZShlKSl9KSl9LHQucHJvdG90eXBlLl9jb21wdXRlTmV4dENXRWRnZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt2b2lkIDA9PT10P09iamVjdC5rZXlzKHRoaXMubm9kZXMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9jb21wdXRlTmV4dENXRWRnZXMoZS5ub2Rlc1t0XSl9KSk6dC5nZXRPdXRlckVkZ2VzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt0LmdldE91dGVyRWRnZSgoMD09PW4/dC5nZXRPdXRlckVkZ2VzKCkubGVuZ3RoOm4pLTEpLnN5bWV0cmljLm5leHQ9ZX0pKX0sdC5wcm90b3R5cGUuX2NvbXB1dGVOZXh0Q0NXRWRnZXM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4scixpPXQuZ2V0T3V0ZXJFZGdlcygpLG89aS5sZW5ndGgtMTtvPj0wOy0tbyl7dmFyIHM9aVtvXSxhPXMuc3ltZXRyaWMsdT12b2lkIDAsbD12b2lkIDA7cy5sYWJlbD09PWUmJih1PXMpLGEubGFiZWw9PT1lJiYobD1hKSx1JiZsJiYobCYmKHI9bCksdSYmKHImJihyLm5leHQ9dSxyPXZvaWQgMCksbnx8KG49dSkpKX1yJiYoci5uZXh0PW4pfSx0LnByb3RvdHlwZS5fZmluZExhYmVsZWRFZGdlUmluZ3M9ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPTA7cmV0dXJuIHRoaXMuZWRnZXMuZm9yRWFjaCgoZnVuY3Rpb24obil7aWYoIShuLmxhYmVsPj0wKSl7dC5wdXNoKG4pO3ZhciByPW47ZG97ci5sYWJlbD1lLHI9ci5uZXh0fXdoaWxlKCFuLmlzRXF1YWwocikpO2UrK319KSksdH0sdC5wcm90b3R5cGUuZ2V0RWRnZVJpbmdzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9jb21wdXRlTmV4dENXRWRnZXMoKSx0aGlzLmVkZ2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QubGFiZWw9dm9pZCAwfSkpLHRoaXMuX2ZpbmRMYWJlbGVkRWRnZVJpbmdzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5fZmluZEludGVyc2VjdGlvbk5vZGVzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3QuX2NvbXB1dGVOZXh0Q0NXRWRnZXMobixlLmxhYmVsKX0pKX0pKTt2YXIgZT1bXTtyZXR1cm4gdGhpcy5lZGdlcy5mb3JFYWNoKChmdW5jdGlvbihuKXtuLnJpbmd8fGUucHVzaCh0Ll9maW5kRWRnZVJpbmcobikpfSkpLGV9LHQucHJvdG90eXBlLl9maW5kSW50ZXJzZWN0aW9uTm9kZXM9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj10LHI9ZnVuY3Rpb24oKXt2YXIgcj0wO24uZnJvbS5nZXRPdXRlckVkZ2VzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5sYWJlbD09PXQubGFiZWwmJisrcn0pKSxyPjEmJmUucHVzaChuLmZyb20pLG49bi5uZXh0fTtkb3tyKCl9d2hpbGUoIXQuaXNFcXVhbChuKSk7cmV0dXJuIGV9LHQucHJvdG90eXBlLl9maW5kRWRnZVJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9dCxuPW5ldyBjcztkb3tuLnB1c2goZSksZS5yaW5nPW4sZT1lLm5leHR9d2hpbGUoIXQuaXNFcXVhbChlKSk7cmV0dXJuIG59LHQucHJvdG90eXBlLnJlbW92ZU5vZGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0LmdldE91dGVyRWRnZXMoKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5yZW1vdmVFZGdlKHQpfSkpLHQuaW5uZXJFZGdlcy5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5yZW1vdmVFZGdlKHQpfSkpLGRlbGV0ZSB0aGlzLm5vZGVzW3QuaWRdfSx0LnByb3RvdHlwZS5yZW1vdmVFZGdlPWZ1bmN0aW9uKHQpe3RoaXMuZWRnZXM9dGhpcy5lZGdlcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmlzRXF1YWwodCl9KSksdC5kZWxldGVFZGdlKCl9LHR9KCk7ZnVuY3Rpb24gcHModCxlKXt2YXIgbj0hMDtyZXR1cm4geih0LChmdW5jdGlvbih0KXt6KGUsKGZ1bmN0aW9uKGUpe2lmKCExPT09bilyZXR1cm4hMTtuPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHQudHlwZSl7Y2FzZSJQb2ludCI6c3dpdGNoKGUudHlwZSl7Y2FzZSJQb2ludCI6cmV0dXJuIG49dC5jb29yZGluYXRlcyxyPWUuY29vcmRpbmF0ZXMsIShuWzBdPT09clswXSYmblsxXT09PXJbMV0pO2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIWZzKGUsdCk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4heWUodCxlKX1icmVhaztjYXNlIkxpbmVTdHJpbmciOnN3aXRjaChlLnR5cGUpe2Nhc2UiUG9pbnQiOnJldHVybiFmcyh0LGUpO2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIWZ1bmN0aW9uKHQsZSl7aWYoT3IodCxlKS5mZWF0dXJlcy5sZW5ndGg+MClyZXR1cm4hMDtyZXR1cm4hMX0odCxlKTtjYXNlIlBvbHlnb24iOnJldHVybiFncyhlLHQpfWJyZWFrO2Nhc2UiUG9seWdvbiI6c3dpdGNoKGUudHlwZSl7Y2FzZSJQb2ludCI6cmV0dXJuIXllKGUsdCk7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4hZ3ModCxlKTtjYXNlIlBvbHlnb24iOnJldHVybiFmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9dC5jb29yZGluYXRlc1swXTtuPHIubGVuZ3RoO24rKyl7aWYoeWUocltuXSxlKSlyZXR1cm4hMH1mb3IodmFyIGk9MCxvPWUuY29vcmRpbmF0ZXNbMF07aTxvLmxlbmd0aDtpKyspe2lmKHllKG9baV0sdCkpcmV0dXJuITB9aWYoT3IoSWkodCksSWkoZSkpLmZlYXR1cmVzLmxlbmd0aD4wKXJldHVybiEwO3JldHVybiExfShlLHQpfX12YXIgbixyO3JldHVybiExfSh0Lmdlb21ldHJ5LGUuZ2VvbWV0cnkpfSkpfSkpLG59ZnVuY3Rpb24gZnModCxlKXtmb3IodmFyIG49MDtuPHQuY29vcmRpbmF0ZXMubGVuZ3RoLTE7bisrKWlmKGRzKHQuY29vcmRpbmF0ZXNbbl0sdC5jb29yZGluYXRlc1tuKzFdLGUuY29vcmRpbmF0ZXMpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGdzKHQsZSl7Zm9yKHZhciBuPTAscj1lLmNvb3JkaW5hdGVzO248ci5sZW5ndGg7bisrKXtpZih5ZShyW25dLHQpKXJldHVybiEwfXJldHVybiBPcihlLElpKHQpKS5mZWF0dXJlcy5sZW5ndGg+MH1mdW5jdGlvbiBkcyh0LGUsbil7dmFyIHI9blswXS10WzBdLGk9blsxXS10WzFdLG89ZVswXS10WzBdLHM9ZVsxXS10WzFdO3JldHVybiAwPT1yKnMtaSpvJiYoTWF0aC5hYnMobyk+PU1hdGguYWJzKHMpP28+MD90WzBdPD1uWzBdJiZuWzBdPD1lWzBdOmVbMF08PW5bMF0mJm5bMF08PXRbMF06cz4wP3RbMV08PW5bMV0mJm5bMV08PWVbMV06ZVsxXTw9blsxXSYmblsxXTw9dFsxXSl9ZnVuY3Rpb24geXModCxlKXtyZXR1cm4hKHRbMF0+ZVswXSkmJighKHRbMl08ZVsyXSkmJighKHRbMV0+ZVsxXSkmJiEodFszXTxlWzNdKSkpfWZ1bmN0aW9uIHZzKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXX1mdW5jdGlvbiBfcyh0LGUpe3JldHVyblsodFswXStlWzBdKS8yLCh0WzFdK2VbMV0pLzJdfWZ1bmN0aW9uIG1zKHQsZSl7Zm9yKHZhciBuPSExLHI9ITEsaT10LmNvb3JkaW5hdGVzLmxlbmd0aCxvPTA7bzxpJiYhbiYmIXI7KXtmb3IodmFyIHM9MDtzPGUuY29vcmRpbmF0ZXMubGVuZ3RoLTE7cysrKXt2YXIgYT0hMDswIT09cyYmcyE9PWUuY29vcmRpbmF0ZXMubGVuZ3RoLTJ8fChhPSExKSxicyhlLmNvb3JkaW5hdGVzW3NdLGUuY29vcmRpbmF0ZXNbcysxXSx0LmNvb3JkaW5hdGVzW29dLGEpP249ITA6cj0hMH1vKyt9cmV0dXJuIG4mJnJ9ZnVuY3Rpb24geHModCxlKXtyZXR1cm4gT3IodCxOaShlKSkuZmVhdHVyZXMubGVuZ3RoPjB9ZnVuY3Rpb24gRXModCxlKXtmb3IodmFyIG49ITEscj0hMSxpPXQuY29vcmRpbmF0ZXMubGVuZ3RoLG89MDtvPGkmJighbnx8IXIpO28rKyl5ZShhKHQuY29vcmRpbmF0ZXNbb10pLGUpP249ITA6cj0hMDtyZXR1cm4gciYmbn1mdW5jdGlvbiBicyh0LGUsbixyKXt2YXIgaT1uWzBdLXRbMF0sbz1uWzFdLXRbMV0scz1lWzBdLXRbMF0sYT1lWzFdLXRbMV07cmV0dXJuIDA9PWkqYS1vKnMmJihyP01hdGguYWJzKHMpPj1NYXRoLmFicyhhKT9zPjA/dFswXTw9blswXSYmblswXTw9ZVswXTplWzBdPD1uWzBdJiZuWzBdPD10WzBdOmE+MD90WzFdPD1uWzFdJiZuWzFdPD1lWzFdOmVbMV08PW5bMV0mJm5bMV08PXRbMV06TWF0aC5hYnMocyk+PU1hdGguYWJzKGEpP3M+MD90WzBdPG5bMF0mJm5bMF08ZVswXTplWzBdPG5bMF0mJm5bMF08dFswXTphPjA/dFsxXTxuWzFdJiZuWzFdPGVbMV06ZVsxXTxuWzFdJiZuWzFdPHRbMV0pfXZhciB3cz1mdW5jdGlvbih0KXt0aGlzLnByZWNpc2lvbj10JiZ0LnByZWNpc2lvbj90LnByZWNpc2lvbjoxNyx0aGlzLmRpcmVjdGlvbj0hKCF0fHwhdC5kaXJlY3Rpb24pJiZ0LmRpcmVjdGlvbix0aGlzLnBzZXVkb05vZGU9ISghdHx8IXQucHNldWRvTm9kZSkmJnQucHNldWRvTm9kZSx0aGlzLm9iamVjdENvbXBhcmF0b3I9dCYmdC5vYmplY3RDb21wYXJhdG9yP3Qub2JqZWN0Q29tcGFyYXRvcjpTc307ZnVuY3Rpb24gSXModCl7cmV0dXJuIHQuY29vcmRpbmF0ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZTp0LnR5cGUucmVwbGFjZSgiTXVsdGkiLCIiKSxjb29yZGluYXRlczplfX0pKX1mdW5jdGlvbiBOcyh0LGUpe3JldHVybiB0Lmhhc093blByb3BlcnR5KCJjb29yZGluYXRlcyIpP3QuY29vcmRpbmF0ZXMubGVuZ3RoPT09ZS5jb29yZGluYXRlcy5sZW5ndGg6dC5sZW5ndGg9PT1lLmxlbmd0aH1mdW5jdGlvbiBTcyh0LGUpe3JldHVybiBGaSh0LGUse3N0cmljdDohMH0pfXdzLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7aWYodC50eXBlIT09ZS50eXBlfHwhTnModCxlKSlyZXR1cm4hMTtzd2l0Y2godC50eXBlKXtjYXNlIlBvaW50IjpyZXR1cm4gdGhpcy5jb21wYXJlQ29vcmQodC5jb29yZGluYXRlcyxlLmNvb3JkaW5hdGVzKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiB0aGlzLmNvbXBhcmVMaW5lKHQuY29vcmRpbmF0ZXMsZS5jb29yZGluYXRlcywwLCExKTtjYXNlIlBvbHlnb24iOnJldHVybiB0aGlzLmNvbXBhcmVQb2x5Z29uKHQsZSk7Y2FzZSJGZWF0dXJlIjpyZXR1cm4gdGhpcy5jb21wYXJlRmVhdHVyZSh0LGUpO2RlZmF1bHQ6aWYoMD09PXQudHlwZS5pbmRleE9mKCJNdWx0aSIpKXt2YXIgbj10aGlzLHI9SXModCksaT1JcyhlKTtyZXR1cm4gci5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uY29tcGFyZSh0LGUpfSkpfSksaSl9fXJldHVybiExfSx3cy5wcm90b3R5cGUuY29tcGFyZUNvb3JkPWZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dLnRvRml4ZWQodGhpcy5wcmVjaXNpb24pIT09ZVtuXS50b0ZpeGVkKHRoaXMucHJlY2lzaW9uKSlyZXR1cm4hMTtyZXR1cm4hMH0sd3MucHJvdG90eXBlLmNvbXBhcmVMaW5lPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCFOcyh0LGUpKXJldHVybiExO3ZhciBpPXRoaXMucHNldWRvTm9kZT90OnRoaXMucmVtb3ZlUHNldWRvKHQpLG89dGhpcy5wc2V1ZG9Ob2RlP2U6dGhpcy5yZW1vdmVQc2V1ZG8oZSk7aWYoIXJ8fHRoaXMuY29tcGFyZUNvb3JkKGlbMF0sb1swXSl8fChvPXRoaXMuZml4U3RhcnRJbmRleChvLGkpKSl7dmFyIHM9dGhpcy5jb21wYXJlQ29vcmQoaVtuXSxvW25dKTtyZXR1cm4gdGhpcy5kaXJlY3Rpb258fHM/dGhpcy5jb21wYXJlUGF0aChpLG8pOiEhdGhpcy5jb21wYXJlQ29vcmQoaVtuXSxvW28ubGVuZ3RoLSgxK24pXSkmJnRoaXMuY29tcGFyZVBhdGgoaS5zbGljZSgpLnJldmVyc2UoKSxvKX19LHdzLnByb3RvdHlwZS5maXhTdGFydEluZGV4PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuLHI9LTEsaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRoaXMuY29tcGFyZUNvb3JkKHRbaV0sZVswXSkpe3I9aTticmVha31yZXR1cm4gcj49MCYmKG49W10uY29uY2F0KHQuc2xpY2Uocix0Lmxlbmd0aCksdC5zbGljZSgxLHIrMSkpKSxufSx3cy5wcm90b3R5cGUuY29tcGFyZVBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiB0LmV2ZXJ5KChmdW5jdGlvbih0LGUpe3JldHVybiBuLmNvbXBhcmVDb29yZCh0LHRoaXNbZV0pfSksZSl9LHdzLnByb3RvdHlwZS5jb21wYXJlUG9seWdvbj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuY29tcGFyZUxpbmUodC5jb29yZGluYXRlc1swXSxlLmNvb3JkaW5hdGVzWzBdLDEsITApKXt2YXIgbj10LmNvb3JkaW5hdGVzLnNsaWNlKDEsdC5jb29yZGluYXRlcy5sZW5ndGgpLHI9ZS5jb29yZGluYXRlcy5zbGljZSgxLGUuY29vcmRpbmF0ZXMubGVuZ3RoKSxpPXRoaXM7cmV0dXJuIG4uZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbXBhcmVMaW5lKHQsZSwxLCEwKX0pKX0pLHIpfXJldHVybiExfSx3cy5wcm90b3R5cGUuY29tcGFyZUZlYXR1cmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHQuaWQhPT1lLmlkfHwhdGhpcy5vYmplY3RDb21wYXJhdG9yKHQucHJvcGVydGllcyxlLnByb3BlcnRpZXMpfHwhdGhpcy5jb21wYXJlQkJveCh0LGUpKSYmdGhpcy5jb21wYXJlKHQuZ2VvbWV0cnksZS5nZW9tZXRyeSl9LHdzLnByb3RvdHlwZS5jb21wYXJlQkJveD1mdW5jdGlvbih0LGUpe3JldHVybiEhKCF0LmJib3gmJiFlLmJib3h8fHQuYmJveCYmZS5iYm94JiZ0aGlzLmNvbXBhcmVDb29yZCh0LmJib3gsZS5iYm94KSl9LHdzLnByb3RvdHlwZS5yZW1vdmVQc2V1ZG89ZnVuY3Rpb24odCl7cmV0dXJuIHR9O3ZhciBDcz13cztmdW5jdGlvbiBQcyh0LGUpe3ZhciBuPSExO3JldHVybiB6KHQsKGZ1bmN0aW9uKHQpe3ooZSwoZnVuY3Rpb24oZSl7aWYoITA9PT1uKXJldHVybiEwO249IXBzKHQuZ2VvbWV0cnksZS5nZW9tZXRyeSl9KSl9KSksbn12YXIgTXM9QnQoKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlLG4scil7dGhpcy5kYXRhc2V0PVtdLHRoaXMuZXBzaWxvbj0xLHRoaXMubWluUHRzPTIsdGhpcy5kaXN0YW5jZT10aGlzLl9ldWNsaWRlYW5EaXN0YW5jZSx0aGlzLmNsdXN0ZXJzPVtdLHRoaXMubm9pc2U9W10sdGhpcy5fdmlzaXRlZD1bXSx0aGlzLl9hc3NpZ25lZD1bXSx0aGlzLl9kYXRhc2V0TGVuZ3RoPTAsdGhpcy5faW5pdCh0LGUsbixyKX1lLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24odCxlLG4scil7dGhpcy5faW5pdCh0LGUsbixyKTtmb3IodmFyIGk9MDtpPHRoaXMuX2RhdGFzZXRMZW5ndGg7aSsrKWlmKDEhPT10aGlzLl92aXNpdGVkW2ldKXt0aGlzLl92aXNpdGVkW2ldPTE7dmFyIG89dGhpcy5fcmVnaW9uUXVlcnkoaSk7aWYoby5sZW5ndGg8dGhpcy5taW5QdHMpdGhpcy5ub2lzZS5wdXNoKGkpO2Vsc2V7dmFyIHM9dGhpcy5jbHVzdGVycy5sZW5ndGg7dGhpcy5jbHVzdGVycy5wdXNoKFtdKSx0aGlzLl9hZGRUb0NsdXN0ZXIoaSxzKSx0aGlzLl9leHBhbmRDbHVzdGVyKHMsbyl9fXJldHVybiB0aGlzLmNsdXN0ZXJzfSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0LGUsbixyKXtpZih0KXtpZighKHQgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgRXJyb3IoIkRhdGFzZXQgbXVzdCBiZSBvZiB0eXBlIGFycmF5LCAiK3R5cGVvZiB0KyIgZ2l2ZW4iKTt0aGlzLmRhdGFzZXQ9dCx0aGlzLmNsdXN0ZXJzPVtdLHRoaXMubm9pc2U9W10sdGhpcy5fZGF0YXNldExlbmd0aD10Lmxlbmd0aCx0aGlzLl92aXNpdGVkPW5ldyBBcnJheSh0aGlzLl9kYXRhc2V0TGVuZ3RoKSx0aGlzLl9hc3NpZ25lZD1uZXcgQXJyYXkodGhpcy5fZGF0YXNldExlbmd0aCl9ZSYmKHRoaXMuZXBzaWxvbj1lKSxuJiYodGhpcy5taW5QdHM9biksciYmKHRoaXMuZGlzdGFuY2U9cil9LGUucHJvdG90eXBlLl9leHBhbmRDbHVzdGVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07aWYoMSE9PXRoaXMuX3Zpc2l0ZWRbcl0pe3RoaXMuX3Zpc2l0ZWRbcl09MTt2YXIgaT10aGlzLl9yZWdpb25RdWVyeShyKTtpLmxlbmd0aD49dGhpcy5taW5QdHMmJihlPXRoaXMuX21lcmdlQXJyYXlzKGUsaSkpfTEhPT10aGlzLl9hc3NpZ25lZFtyXSYmdGhpcy5fYWRkVG9DbHVzdGVyKHIsdCl9fSxlLnByb3RvdHlwZS5fYWRkVG9DbHVzdGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5jbHVzdGVyc1tlXS5wdXNoKHQpLHRoaXMuX2Fzc2lnbmVkW3RdPTF9LGUucHJvdG90eXBlLl9yZWdpb25RdWVyeT1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dGhpcy5fZGF0YXNldExlbmd0aDtuKyspe3RoaXMuZGlzdGFuY2UodGhpcy5kYXRhc2V0W3RdLHRoaXMuZGF0YXNldFtuXSk8dGhpcy5lcHNpbG9uJiZlLnB1c2gobil9cmV0dXJuIGV9LGUucHJvdG90eXBlLl9tZXJnZUFycmF5cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmxlbmd0aCxyPTA7cjxuO3IrKyl7dmFyIGk9ZVtyXTt0LmluZGV4T2YoaSk8MCYmdC5wdXNoKGkpfXJldHVybiB0fSxlLnByb3RvdHlwZS5fZXVjbGlkZWFuRGlzdGFuY2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKTtyLS07KW4rPSh0W3JdLWVbcl0pKih0W3JdLWVbcl0pO3JldHVybiBNYXRoLnNxcnQobil9LHQuZXhwb3J0cyYmKHQuZXhwb3J0cz1lKX0pKSxMcz1CdCgoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsbil7dGhpcy5rPTMsdGhpcy5kYXRhc2V0PVtdLHRoaXMuYXNzaWdubWVudHM9W10sdGhpcy5jZW50cm9pZHM9W10sdGhpcy5pbml0KHQsZSxuKX1lLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmFzc2lnbm1lbnRzPVtdLHRoaXMuY2VudHJvaWRzPVtdLHZvaWQgMCE9PXQmJih0aGlzLmRhdGFzZXQ9dCksdm9pZCAwIT09ZSYmKHRoaXMuaz1lKSx2b2lkIDAhPT1uJiYodGhpcy5kaXN0YW5jZT1uKX0sZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKHQsZSl7dGhpcy5pbml0KHQsZSk7Zm9yKHZhciBuPXRoaXMuZGF0YXNldC5sZW5ndGgscj0wO3I8dGhpcy5rO3IrKyl0aGlzLmNlbnRyb2lkc1tyXT10aGlzLnJhbmRvbUNlbnRyb2lkKCk7Zm9yKHZhciBpPSEwO2k7KXtpPXRoaXMuYXNzaWduKCk7Zm9yKHZhciBvPTA7bzx0aGlzLms7bysrKXtmb3IodmFyIHM9bmV3IEFycmF5KGMpLGE9MCx1PTA7dTxjO3UrKylzW3VdPTA7Zm9yKHZhciBsPTA7bDxuO2wrKyl7dmFyIGM9dGhpcy5kYXRhc2V0W2xdLmxlbmd0aDtpZihvPT09dGhpcy5hc3NpZ25tZW50c1tsXSl7Zm9yKHU9MDt1PGM7dSsrKXNbdV0rPXRoaXMuZGF0YXNldFtsXVt1XTthKyt9fWlmKGE+MCl7Zm9yKHU9MDt1PGM7dSsrKXNbdV0vPWE7dGhpcy5jZW50cm9pZHNbb109c31lbHNlIHRoaXMuY2VudHJvaWRzW29dPXRoaXMucmFuZG9tQ2VudHJvaWQoKSxpPSEwfX1yZXR1cm4gdGhpcy5nZXRDbHVzdGVycygpfSxlLnByb3RvdHlwZS5yYW5kb21DZW50cm9pZD1mdW5jdGlvbigpe3ZhciB0LGUsbj10aGlzLmRhdGFzZXQubGVuZ3RoLTE7ZG97ZT1NYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqbiksdD10aGlzLmRhdGFzZXRbZV19d2hpbGUodGhpcy5jZW50cm9pZHMuaW5kZXhPZih0KT49MCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmFzc2lnbj1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPSExLG49dGhpcy5kYXRhc2V0Lmxlbmd0aCxyPTA7cjxuO3IrKykodD10aGlzLmFyZ21pbih0aGlzLmRhdGFzZXRbcl0sdGhpcy5jZW50cm9pZHMsdGhpcy5kaXN0YW5jZSkpIT10aGlzLmFzc2lnbm1lbnRzW3JdJiYodGhpcy5hc3NpZ25tZW50c1tyXT10LGU9ITApO3JldHVybiBlfSxlLnByb3RvdHlwZS5nZXRDbHVzdGVycz1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPW5ldyBBcnJheSh0aGlzLmspLG49MDtuPHRoaXMuYXNzaWdubWVudHMubGVuZ3RoO24rKyl2b2lkIDA9PT1lW3Q9dGhpcy5hc3NpZ25tZW50c1tuXV0mJihlW3RdPVtdKSxlW3RdLnB1c2gobik7cmV0dXJuIGV9LGUucHJvdG90eXBlLmFyZ21pbj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByLGk9TnVtYmVyLk1BWF9WQUxVRSxvPTAscz1lLmxlbmd0aCxhPTA7YTxzO2ErKykocj1uKHQsZVthXSkpPGkmJihpPXIsbz1hKTtyZXR1cm4gb30sZS5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKTtyLS07KXt2YXIgaT10W3JdLWVbcl07bis9aSppfXJldHVybiBNYXRoLnNxcnQobil9LHQuZXhwb3J0cyYmKHQuZXhwb3J0cz1lKX0pKSxPcz1CdCgoZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsbil7dGhpcy5fcXVldWU9W10sdGhpcy5fcHJpb3JpdGllcz1bXSx0aGlzLl9zb3J0aW5nPSJkZXNjIix0aGlzLl9pbml0KHQsZSxuKX1lLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5fcXVldWUubGVuZ3RoLHI9bjtyLS07KXt2YXIgaT10aGlzLl9wcmlvcml0aWVzW3JdOyJkZXNjIj09PXRoaXMuX3NvcnRpbmc/ZT5pJiYobj1yKTplPGkmJihuPXIpfXRoaXMuX2luc2VydEF0KHQsZSxuKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9xdWV1ZS5sZW5ndGg7ZS0tOyl7aWYodD09PXRoaXMuX3F1ZXVlW2VdKXt0aGlzLl9xdWV1ZS5zcGxpY2UoZSwxKSx0aGlzLl9wcmlvcml0aWVzLnNwbGljZShlLDEpO2JyZWFrfX19LGUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7dGhpcy5fcXVldWUuZm9yRWFjaCh0KX0sZS5wcm90b3R5cGUuZ2V0RWxlbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVldWV9LGUucHJvdG90eXBlLmdldEVsZW1lbnRQcmlvcml0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcHJpb3JpdGllc1t0XX0sZS5wcm90b3R5cGUuZ2V0UHJpb3JpdGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmlvcml0aWVzfSxlLnByb3RvdHlwZS5nZXRFbGVtZW50c1dpdGhQcmlvcml0aWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMuX3F1ZXVlLmxlbmd0aDtlPG47ZSsrKXQucHVzaChbdGhpcy5fcXVldWVbZV0sdGhpcy5fcHJpb3JpdGllc1tlXV0pO3JldHVybiB0fSxlLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0LGUsbil7aWYodCYmZSl7aWYodGhpcy5fcXVldWU9W10sdGhpcy5fcHJpb3JpdGllcz1bXSx0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQXJyYXlzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGgiKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLmluc2VydCh0W3JdLGVbcl0pfW4mJih0aGlzLl9zb3J0aW5nPW4pfSxlLnByb3RvdHlwZS5faW5zZXJ0QXQ9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3F1ZXVlLmxlbmd0aD09PW4/KHRoaXMuX3F1ZXVlLnB1c2godCksdGhpcy5fcHJpb3JpdGllcy5wdXNoKGUpKToodGhpcy5fcXVldWUuc3BsaWNlKG4sMCx0KSx0aGlzLl9wcmlvcml0aWVzLnNwbGljZShuLDAsZSkpfSx0LmV4cG9ydHMmJih0LmV4cG9ydHM9ZSl9KSksUnM9QnQoKGZ1bmN0aW9uKHQpe2lmKHQuZXhwb3J0cyl2YXIgZT1PcztmdW5jdGlvbiBuKHQsZSxuLHIpe3RoaXMuZXBzaWxvbj0xLHRoaXMubWluUHRzPTEsdGhpcy5kaXN0YW5jZT10aGlzLl9ldWNsaWRlYW5EaXN0YW5jZSx0aGlzLl9yZWFjaGFiaWxpdHk9W10sdGhpcy5fcHJvY2Vzc2VkPVtdLHRoaXMuX2NvcmVEaXN0YW5jZT0wLHRoaXMuX29yZGVyZWRMaXN0PVtdLHRoaXMuX2luaXQodCxlLG4scil9bi5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKHQsbixyLGkpe3RoaXMuX2luaXQodCxuLHIsaSk7Zm9yKHZhciBvPTAscz10aGlzLmRhdGFzZXQubGVuZ3RoO288cztvKyspaWYoMSE9PXRoaXMuX3Byb2Nlc3NlZFtvXSl7dGhpcy5fcHJvY2Vzc2VkW29dPTEsdGhpcy5jbHVzdGVycy5wdXNoKFtvXSk7dmFyIGE9dGhpcy5jbHVzdGVycy5sZW5ndGgtMTt0aGlzLl9vcmRlcmVkTGlzdC5wdXNoKG8pO3ZhciB1PW5ldyBlKG51bGwsbnVsbCwiYXNjIiksbD10aGlzLl9yZWdpb25RdWVyeShvKTt2b2lkIDAhPT10aGlzLl9kaXN0YW5jZVRvQ29yZShvKSYmKHRoaXMuX3VwZGF0ZVF1ZXVlKG8sbCx1KSx0aGlzLl9leHBhbmRDbHVzdGVyKGEsdSkpfXJldHVybiB0aGlzLmNsdXN0ZXJzfSxuLnByb3RvdHlwZS5nZXRSZWFjaGFiaWxpdHlQbG90PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMuX29yZGVyZWRMaXN0Lmxlbmd0aDtlPG47ZSsrKXt2YXIgcj10aGlzLl9vcmRlcmVkTGlzdFtlXSxpPXRoaXMuX3JlYWNoYWJpbGl0eVtyXTt0LnB1c2goW3IsaV0pfXJldHVybiB0fSxuLnByb3RvdHlwZS5faW5pdD1mdW5jdGlvbih0LGUsbixyKXtpZih0KXtpZighKHQgaW5zdGFuY2VvZiBBcnJheSkpdGhyb3cgRXJyb3IoIkRhdGFzZXQgbXVzdCBiZSBvZiB0eXBlIGFycmF5LCAiK3R5cGVvZiB0KyIgZ2l2ZW4iKTt0aGlzLmRhdGFzZXQ9dCx0aGlzLmNsdXN0ZXJzPVtdLHRoaXMuX3JlYWNoYWJpbGl0eT1uZXcgQXJyYXkodGhpcy5kYXRhc2V0Lmxlbmd0aCksdGhpcy5fcHJvY2Vzc2VkPW5ldyBBcnJheSh0aGlzLmRhdGFzZXQubGVuZ3RoKSx0aGlzLl9jb3JlRGlzdGFuY2U9MCx0aGlzLl9vcmRlcmVkTGlzdD1bXX1lJiYodGhpcy5lcHNpbG9uPWUpLG4mJih0aGlzLm1pblB0cz1uKSxyJiYodGhpcy5kaXN0YW5jZT1yKX0sbi5wcm90b3R5cGUuX3VwZGF0ZVF1ZXVlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO3RoaXMuX2NvcmVEaXN0YW5jZT10aGlzLl9kaXN0YW5jZVRvQ29yZSh0KSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PXIuX3Byb2Nlc3NlZFtlXSl7dmFyIGk9ci5kaXN0YW5jZShyLmRhdGFzZXRbdF0sci5kYXRhc2V0W2VdKSxvPU1hdGgubWF4KHIuX2NvcmVEaXN0YW5jZSxpKTt2b2lkIDA9PT1yLl9yZWFjaGFiaWxpdHlbZV0/KHIuX3JlYWNoYWJpbGl0eVtlXT1vLG4uaW5zZXJ0KGUsbykpOm88ci5fcmVhY2hhYmlsaXR5W2VdJiYoci5fcmVhY2hhYmlsaXR5W2VdPW8sbi5yZW1vdmUoZSksbi5pbnNlcnQoZSxvKSl9fSkpfSxuLnByb3RvdHlwZS5fZXhwYW5kQ2x1c3Rlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLmdldEVsZW1lbnRzKCkscj0wLGk9bi5sZW5ndGg7cjxpO3IrKyl7dmFyIG89bltyXTtpZih2b2lkIDA9PT10aGlzLl9wcm9jZXNzZWRbb10pe3ZhciBzPXRoaXMuX3JlZ2lvblF1ZXJ5KG8pO3RoaXMuX3Byb2Nlc3NlZFtvXT0xLHRoaXMuY2x1c3RlcnNbdF0ucHVzaChvKSx0aGlzLl9vcmRlcmVkTGlzdC5wdXNoKG8pLHZvaWQgMCE9PXRoaXMuX2Rpc3RhbmNlVG9Db3JlKG8pJiYodGhpcy5fdXBkYXRlUXVldWUobyxzLGUpLHRoaXMuX2V4cGFuZENsdXN0ZXIodCxlKSl9fX0sbi5wcm90b3R5cGUuX2Rpc3RhbmNlVG9Db3JlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmVwc2lsb24sbj0wO248ZTtuKyspe2lmKHRoaXMuX3JlZ2lvblF1ZXJ5KHQsbikubGVuZ3RoPj10aGlzLm1pblB0cylyZXR1cm4gbn19LG4ucHJvdG90eXBlLl9yZWdpb25RdWVyeT1mdW5jdGlvbih0LGUpe2U9ZXx8dGhpcy5lcHNpbG9uO2Zvcih2YXIgbj1bXSxyPTAsaT10aGlzLmRhdGFzZXQubGVuZ3RoO3I8aTtyKyspdGhpcy5kaXN0YW5jZSh0aGlzLmRhdGFzZXRbdF0sdGhpcy5kYXRhc2V0W3JdKTxlJiZuLnB1c2gocik7cmV0dXJuIG59LG4ucHJvdG90eXBlLl9ldWNsaWRlYW5EaXN0YW5jZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpO3ItLTspbis9KHRbcl0tZVtyXSkqKHRbcl0tZVtyXSk7cmV0dXJuIE1hdGguc3FydChuKX0sdC5leHBvcnRzJiYodC5leHBvcnRzPW4pfSkpLFRzPUJ0KChmdW5jdGlvbih0KXt0LmV4cG9ydHMmJih0LmV4cG9ydHM9e0RCU0NBTjpNcyxLTUVBTlM6THMsT1BUSUNTOlJzLFByaW9yaXR5UXVldWU6T3N9KX0pKTt2YXIgQXM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10Lmxlbmd0aCxpPTAsbz0wO288cjtvKyspe3ZhciBzPSh0W29dfHwwKS0oZVtvXXx8MCk7aSs9cypzfXJldHVybiBuP01hdGguc3FydChpKTppfSxEcz1BcyxGcz1mdW5jdGlvbih0LGUsbil7dmFyIHI9TWF0aC5hYnModC1lKTtyZXR1cm4gbj9yOnIqcn0sa3M9QXMsR3M9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49e30scj1bXSxpPWU8PDIsbz10Lmxlbmd0aCxzPXRbMF0ubGVuZ3RoPjA7ci5sZW5ndGg8ZSYmaS0tID4wOyl7dmFyIGE9dFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbyldLHU9cz9hLmpvaW4oIl8iKToiIithO25bdV18fChuW3VdPSEwLHIucHVzaChhKSl9aWYoci5sZW5ndGg8ZSl0aHJvdyBuZXcgRXJyb3IoIkVycm9yIGluaXRpYWxpemF0aW5nIGNsdXN0ZXJzIik7cmV0dXJuIHJ9LHFzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dFswXS5sZW5ndGg/RHM6RnMscj1bXSxpPXQubGVuZ3RoLG89dFswXS5sZW5ndGg+MCxzPXRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmkpXTtvJiZzLmpvaW4oIl8iKTtmb3Ioci5wdXNoKHMpO3IubGVuZ3RoPGU7KXtmb3IodmFyIGE9W10sdT1yLmxlbmd0aCxsPTAsYz1bXSxoPTA7aDxpO2grKyl7Zm9yKHZhciBwPTEvMCxmPTA7Zjx1O2YrKyl7dmFyIGc9bih0W2hdLHJbZl0pO2c8PXAmJihwPWcpfWFbaF09cH1mb3IodmFyIGQ9MDtkPGk7ZCsrKWwrPWFbZF07Zm9yKHZhciB5PTA7eTxpO3krKyljW3ldPXtpOnksdjp0W3ldLHByOmFbeV0vbCxjczowfTtjLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucHItZS5wcn0pKSxjWzBdLmNzPWNbMF0ucHI7Zm9yKHZhciB2PTE7djxpO3YrKyljW3ZdLmNzPWNbdi0xXS5jcytjW3ZdLnByO2Zvcih2YXIgXz1NYXRoLnJhbmRvbSgpLG09MDttPGktMSYmY1ttKytdLmNzPF87KTtyLnB1c2goY1ttLTFdLnYpfXJldHVybiByfTtmdW5jdGlvbiBCcyh0LGUsbil7bj1ufHxbXTtmb3IodmFyIHI9MDtyPHQ7cisrKW5bcl09ZTtyZXR1cm4gbn12YXIgenM9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9W10sbz1bXSxzPVtdLGE9W10sdT0hMSxsPXJ8fDFlNCxjPXQubGVuZ3RoLGg9dFswXS5sZW5ndGgscD1oPjAsZj1bXTtpZihuKWk9ImttcmFuZCI9PW4/R3ModCxlKToia21wcCI9PW4/cXModCxlKTpuO2Vsc2UgZm9yKHZhciBnPXt9O2kubGVuZ3RoPGU7KXt2YXIgZD1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYyk7Z1tkXXx8KGdbZF09ITAsaS5wdXNoKHRbZF0pKX1kb3tCcyhlLDAsZik7Zm9yKHZhciB5PTA7eTxjO3krKyl7Zm9yKHZhciB2PTEvMCxfPTAsbT0wO208ZTttKyspeyhhPXA/a3ModFt5XSxpW21dKTpNYXRoLmFicyh0W3ldLWlbbV0pKTw9diYmKHY9YSxfPW0pfXNbeV09XyxmW19dKyt9Zm9yKHZhciB4PVtdLEU9KG89W10sMCk7RTxlO0UrKyl4W0VdPXA/QnMoaCwwLHhbRV0pOjAsb1tFXT1pW0VdO2lmKHApe2Zvcih2YXIgYj0wO2I8ZTtiKyspaVtiXT1bXTtmb3IodmFyIHc9MDt3PGM7dysrKWZvcih2YXIgST14W3Nbd11dLE49dFt3XSxTPTA7UzxoO1MrKylJW1NdKz1OW1NdO3U9ITA7Zm9yKHZhciBDPTA7QzxlO0MrKyl7Zm9yKHZhciBQPWlbQ10sTT14W0NdLEw9b1tDXSxPPWZbQ10sUj0wO1I8aDtSKyspUFtSXT1NW1JdL098fDA7aWYodSlmb3IodmFyIFQ9MDtUPGg7VCsrKWlmKExbVF0hPVBbVF0pe3U9ITE7YnJlYWt9fX1lbHNle2Zvcih2YXIgQT0wO0E8YztBKyspe3hbc1tBXV0rPXRbQV19Zm9yKHZhciBEPTA7RDxlO0QrKylpW0RdPXhbRF0vZltEXXx8MDt1PSEwO2Zvcih2YXIgRj0wO0Y8ZTtGKyspaWYob1tGXSE9aVtGXSl7dT0hMTticmVha319dT11fHwtLWw8PTB9d2hpbGUoIXUpO3JldHVybntpdDoxZTQtbCxrOmUsaWR4czpzLGNlbnRyb2lkczppfX07ZnVuY3Rpb24ganModCxlKXtyZXR1cm4gYihCaSh0WzBdLHRbMV0pKT09PWIoQmkoZVswXSxlWzFdKSl9ZnVuY3Rpb24gVXModCxlKXtpZih0Lmdlb21ldHJ5JiZ0Lmdlb21ldHJ5LnR5cGUpcmV0dXJuIHQuZ2VvbWV0cnkudHlwZTtpZih0LnR5cGUpcmV0dXJuIHQudHlwZTt0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgR2VvSlNPTiBvYmplY3QgZm9yICIrZSl9ZnVuY3Rpb24gVnModCl7Zm9yKHZhciBlPXQsbj1bXTtlLnBhcmVudDspbi51bnNoaWZ0KGUpLGU9ZS5wYXJlbnQ7cmV0dXJuIG59dmFyIFhzPXtzZWFyY2g6ZnVuY3Rpb24odCxlLG4scil7dC5jbGVhbkRpcnR5KCk7dmFyIGk9KHI9cnx8e30pLmhldXJpc3RpY3x8WHMuaGV1cmlzdGljcy5tYW5oYXR0YW4sbz1yLmNsb3Nlc3R8fCExLHM9bmV3IFdzKChmdW5jdGlvbih0KXtyZXR1cm4gdC5mfSkpLGE9ZTtmb3IoZS5oPWkoZSxuKSxzLnB1c2goZSk7cy5zaXplKCk+MDspe3ZhciB1PXMucG9wKCk7aWYodT09PW4pcmV0dXJuIFZzKHUpO3UuY2xvc2VkPSEwO2Zvcih2YXIgbD10Lm5laWdoYm9ycyh1KSxjPTAsaD1sLmxlbmd0aDtjPGg7KytjKXt2YXIgcD1sW2NdO2lmKCFwLmNsb3NlZCYmIXAuaXNXYWxsKCkpe3ZhciBmPXUuZytwLmdldENvc3QodSksZz1wLnZpc2l0ZWQ7KCFnfHxmPHAuZykmJihwLnZpc2l0ZWQ9ITAscC5wYXJlbnQ9dSxwLmg9cC5ofHxpKHAsbikscC5nPWYscC5mPXAuZytwLmgsdC5tYXJrRGlydHkocCksbyYmKHAuaDxhLmh8fHAuaD09PWEuaCYmcC5nPGEuZykmJihhPXApLGc/cy5yZXNjb3JlRWxlbWVudChwKTpzLnB1c2gocCkpfX19cmV0dXJuIG8/VnMoYSk6W119LGhldXJpc3RpY3M6e21hbmhhdHRhbjpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyhlLngtdC54KStNYXRoLmFicyhlLnktdC55KX0sZGlhZ29uYWw6ZnVuY3Rpb24odCxlKXt2YXIgbj1NYXRoLnNxcnQoMikscj1NYXRoLmFicyhlLngtdC54KSxpPU1hdGguYWJzKGUueS10LnkpO3JldHVybiAxKihyK2kpKyhuLTIpKk1hdGgubWluKHIsaSl9fSxjbGVhbk5vZGU6ZnVuY3Rpb24odCl7dC5mPTAsdC5nPTAsdC5oPTAsdC52aXNpdGVkPSExLHQuY2xvc2VkPSExLHQucGFyZW50PW51bGx9fTtmdW5jdGlvbiBZcyh0LGUpe2U9ZXx8e30sdGhpcy5ub2Rlcz1bXSx0aGlzLmRpYWdvbmFsPSEhZS5kaWFnb25hbCx0aGlzLmdyaWQ9W107Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3RoaXMuZ3JpZFtuXT1bXTtmb3IodmFyIHI9MCxpPXRbbl07cjxpLmxlbmd0aDtyKyspe3ZhciBvPW5ldyBIcyhuLHIsaVtyXSk7dGhpcy5ncmlkW25dW3JdPW8sdGhpcy5ub2Rlcy5wdXNoKG8pfX10aGlzLmluaXQoKX1mdW5jdGlvbiBIcyh0LGUsbil7dGhpcy54PXQsdGhpcy55PWUsdGhpcy53ZWlnaHQ9bn1mdW5jdGlvbiBXcyh0KXt0aGlzLmNvbnRlbnQ9W10sdGhpcy5zY29yZUZ1bmN0aW9uPXR9ZnVuY3Rpb24gSnModCxlKXtmb3IodmFyIG49MDtuPGUuZmVhdHVyZXMubGVuZ3RoO24rKylpZih5ZSh0LGUuZmVhdHVyZXNbbl0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFpzKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX1mdW5jdGlvbiBLcyh0KXtyZXR1cm4gdFswXX1mdW5jdGlvbiBRcyh0KXtyZXR1cm4gdFsxXX1mdW5jdGlvbiAkcygpe3RoaXMuXz1udWxsfWZ1bmN0aW9uIHRhKHQpe3QuVT10LkM9dC5MPXQuUj10LlA9dC5OPW51bGx9ZnVuY3Rpb24gZWEodCxlKXt2YXIgbj1lLHI9ZS5SLGk9bi5VO2k/aS5MPT09bj9pLkw9cjppLlI9cjp0Ll89cixyLlU9aSxuLlU9cixuLlI9ci5MLG4uUiYmKG4uUi5VPW4pLHIuTD1ufWZ1bmN0aW9uIG5hKHQsZSl7dmFyIG49ZSxyPWUuTCxpPW4uVTtpP2kuTD09PW4/aS5MPXI6aS5SPXI6dC5fPXIsci5VPWksbi5VPXIsbi5MPXIuUixuLkwmJihuLkwuVT1uKSxyLlI9bn1mdW5jdGlvbiByYSh0KXtmb3IoO3QuTDspdD10Lkw7cmV0dXJuIHR9ZnVuY3Rpb24gaWEodCxlLG4scil7dmFyIGk9W251bGwsbnVsbF0sbz1QYS5wdXNoKGkpLTE7cmV0dXJuIGkubGVmdD10LGkucmlnaHQ9ZSxuJiZzYShpLHQsZSxuKSxyJiZzYShpLGUsdCxyKSxTYVt0LmluZGV4XS5oYWxmZWRnZXMucHVzaChvKSxTYVtlLmluZGV4XS5oYWxmZWRnZXMucHVzaChvKSxpfWZ1bmN0aW9uIG9hKHQsZSxuKXt2YXIgcj1bZSxuXTtyZXR1cm4gci5sZWZ0PXQscn1mdW5jdGlvbiBzYSh0LGUsbixyKXt0WzBdfHx0WzFdP3QubGVmdD09PW4/dFsxXT1yOnRbMF09cjoodFswXT1yLHQubGVmdD1lLHQucmlnaHQ9bil9ZnVuY3Rpb24gYWEodCxlLG4scixpKXt2YXIgbyxzPXRbMF0sYT10WzFdLHU9c1swXSxsPXNbMV0sYz0wLGg9MSxwPWFbMF0tdSxmPWFbMV0tbDtpZihvPWUtdSxwfHwhKG8+MCkpe2lmKG8vPXAscDwwKXtpZihvPGMpcmV0dXJuO288aCYmKGg9byl9ZWxzZSBpZihwPjApe2lmKG8+aClyZXR1cm47bz5jJiYoYz1vKX1pZihvPXItdSxwfHwhKG88MCkpe2lmKG8vPXAscDwwKXtpZihvPmgpcmV0dXJuO28+YyYmKGM9byl9ZWxzZSBpZihwPjApe2lmKG88YylyZXR1cm47bzxoJiYoaD1vKX1pZihvPW4tbCxmfHwhKG8+MCkpe2lmKG8vPWYsZjwwKXtpZihvPGMpcmV0dXJuO288aCYmKGg9byl9ZWxzZSBpZihmPjApe2lmKG8+aClyZXR1cm47bz5jJiYoYz1vKX1pZihvPWktbCxmfHwhKG88MCkpe2lmKG8vPWYsZjwwKXtpZihvPmgpcmV0dXJuO28+YyYmKGM9byl9ZWxzZSBpZihmPjApe2lmKG88YylyZXR1cm47bzxoJiYoaD1vKX1yZXR1cm4hKGM+MHx8aDwxKXx8KGM+MCYmKHRbMF09W3UrYypwLGwrYypmXSksaDwxJiYodFsxXT1bdStoKnAsbCtoKmZdKSwhMCl9fX19fWZ1bmN0aW9uIHVhKHQsZSxuLHIsaSl7dmFyIG89dFsxXTtpZihvKXJldHVybiEwO3ZhciBzLGEsdT10WzBdLGw9dC5sZWZ0LGM9dC5yaWdodCxoPWxbMF0scD1sWzFdLGY9Y1swXSxnPWNbMV0sZD0oaCtmKS8yLHk9KHArZykvMjtpZihnPT09cCl7aWYoZDxlfHxkPj1yKXJldHVybjtpZihoPmYpe2lmKHUpe2lmKHVbMV0+PWkpcmV0dXJufWVsc2UgdT1bZCxuXTtvPVtkLGldfWVsc2V7aWYodSl7aWYodVsxXTxuKXJldHVybn1lbHNlIHU9W2QsaV07bz1bZCxuXX19ZWxzZSBpZihhPXktKHM9KGgtZikvKGctcCkpKmQsczwtMXx8cz4xKWlmKGg+Zil7aWYodSl7aWYodVsxXT49aSlyZXR1cm59ZWxzZSB1PVsobi1hKS9zLG5dO289WyhpLWEpL3MsaV19ZWxzZXtpZih1KXtpZih1WzFdPG4pcmV0dXJufWVsc2UgdT1bKGktYSkvcyxpXTtvPVsobi1hKS9zLG5dfWVsc2UgaWYocDxnKXtpZih1KXtpZih1WzBdPj1yKXJldHVybn1lbHNlIHU9W2UscyplK2FdO289W3IscypyK2FdfWVsc2V7aWYodSl7aWYodVswXTxlKXJldHVybn1lbHNlIHU9W3IscypyK2FdO289W2UscyplK2FdfXJldHVybiB0WzBdPXUsdFsxXT1vLCEwfWZ1bmN0aW9uIGxhKHQsZSl7dmFyIG49dC5zaXRlLHI9ZS5sZWZ0LGk9ZS5yaWdodDtyZXR1cm4gbj09PWkmJihpPXIscj1uKSxpP01hdGguYXRhbjIoaVsxXS1yWzFdLGlbMF0tclswXSk6KG49PT1yPyhyPWVbMV0saT1lWzBdKToocj1lWzBdLGk9ZVsxXSksTWF0aC5hdGFuMihyWzBdLWlbMF0saVsxXS1yWzFdKSl9ZnVuY3Rpb24gY2EodCxlKXtyZXR1cm4gZVsrKGUubGVmdCE9PXQuc2l0ZSldfWZ1bmN0aW9uIGhhKHQsZSl7cmV0dXJuIGVbKyhlLmxlZnQ9PT10LnNpdGUpXX1Zcy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuZGlydHlOb2Rlcz1bXTtmb3IodmFyIHQ9MDt0PHRoaXMubm9kZXMubGVuZ3RoO3QrKylYcy5jbGVhbk5vZGUodGhpcy5ub2Rlc1t0XSl9LFlzLnByb3RvdHlwZS5jbGVhbkRpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmRpcnR5Tm9kZXMubGVuZ3RoO3QrKylYcy5jbGVhbk5vZGUodGhpcy5kaXJ0eU5vZGVzW3RdKTt0aGlzLmRpcnR5Tm9kZXM9W119LFlzLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24odCl7dGhpcy5kaXJ0eU5vZGVzLnB1c2godCl9LFlzLnByb3RvdHlwZS5uZWlnaGJvcnM9ZnVuY3Rpb24odCl7dmFyIGU9W10sbj10Lngscj10LnksaT10aGlzLmdyaWQ7cmV0dXJuIGlbbi0xXSYmaVtuLTFdW3JdJiZlLnB1c2goaVtuLTFdW3JdKSxpW24rMV0mJmlbbisxXVtyXSYmZS5wdXNoKGlbbisxXVtyXSksaVtuXSYmaVtuXVtyLTFdJiZlLnB1c2goaVtuXVtyLTFdKSxpW25dJiZpW25dW3IrMV0mJmUucHVzaChpW25dW3IrMV0pLHRoaXMuZGlhZ29uYWwmJihpW24tMV0mJmlbbi0xXVtyLTFdJiZlLnB1c2goaVtuLTFdW3ItMV0pLGlbbisxXSYmaVtuKzFdW3ItMV0mJmUucHVzaChpW24rMV1bci0xXSksaVtuLTFdJiZpW24tMV1bcisxXSYmZS5wdXNoKGlbbi0xXVtyKzFdKSxpW24rMV0mJmlbbisxXVtyKzFdJiZlLnB1c2goaVtuKzFdW3IrMV0pKSxlfSxZcy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxuLHIsaT1bXSxvPXRoaXMuZ3JpZCxzPTAsYT1vLmxlbmd0aDtzPGE7cysrKXtmb3IodD1bXSxuPTAscj0oZT1vW3NdKS5sZW5ndGg7bjxyO24rKyl0LnB1c2goZVtuXS53ZWlnaHQpO2kucHVzaCh0LmpvaW4oIiAiKSl9cmV0dXJuIGkuam9pbigiXG4iKX0sSHMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlsiK3RoaXMueCsiICIrdGhpcy55KyJdIn0sSHMucHJvdG90eXBlLmdldENvc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQueCE9PXRoaXMueCYmdC55IT09dGhpcy55PzEuNDE0MjEqdGhpcy53ZWlnaHQ6dGhpcy53ZWlnaHR9LEhzLnByb3RvdHlwZS5pc1dhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMud2VpZ2h0fSxXcy5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24odCl7dGhpcy5jb250ZW50LnB1c2godCksdGhpcy5zaW5rRG93bih0aGlzLmNvbnRlbnQubGVuZ3RoLTEpfSxwb3A6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRlbnRbMF0sZT10aGlzLmNvbnRlbnQucG9wKCk7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGg+MCYmKHRoaXMuY29udGVudFswXT1lLHRoaXMuYnViYmxlVXAoMCkpLHR9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRlbnQuaW5kZXhPZih0KSxuPXRoaXMuY29udGVudC5wb3AoKTtlIT09dGhpcy5jb250ZW50Lmxlbmd0aC0xJiYodGhpcy5jb250ZW50W2VdPW4sdGhpcy5zY29yZUZ1bmN0aW9uKG4pPHRoaXMuc2NvcmVGdW5jdGlvbih0KT90aGlzLnNpbmtEb3duKGUpOnRoaXMuYnViYmxlVXAoZSkpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudC5sZW5ndGh9LHJlc2NvcmVFbGVtZW50OmZ1bmN0aW9uKHQpe3RoaXMuc2lua0Rvd24odGhpcy5jb250ZW50LmluZGV4T2YodCkpfSxzaW5rRG93bjpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jb250ZW50W3RdO3Q+MDspe3ZhciBuPSh0KzE+PjEpLTEscj10aGlzLmNvbnRlbnRbbl07aWYoISh0aGlzLnNjb3JlRnVuY3Rpb24oZSk8dGhpcy5zY29yZUZ1bmN0aW9uKHIpKSlicmVhazt0aGlzLmNvbnRlbnRbbl09ZSx0aGlzLmNvbnRlbnRbdF09cix0PW59fSxidWJibGVVcDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jb250ZW50Lmxlbmd0aCxuPXRoaXMuY29udGVudFt0XSxyPXRoaXMuc2NvcmVGdW5jdGlvbihuKTs7KXt2YXIgaSxvPXQrMTw8MSxzPW8tMSxhPW51bGw7aWYoczxlKXt2YXIgdT10aGlzLmNvbnRlbnRbc107KGk9dGhpcy5zY29yZUZ1bmN0aW9uKHUpKTxyJiYoYT1zKX1pZihvPGUpe3ZhciBsPXRoaXMuY29udGVudFtvXTt0aGlzLnNjb3JlRnVuY3Rpb24obCk8KG51bGw9PT1hP3I6aSkmJihhPW8pfWlmKG51bGw9PT1hKWJyZWFrO3RoaXMuY29udGVudFt0XT10aGlzLmNvbnRlbnRbYV0sdGhpcy5jb250ZW50W2FdPW4sdD1hfX19LCRzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6JHMsaW5zZXJ0OmZ1bmN0aW9uKHQsZSl7dmFyIG4scixpO2lmKHQpe2lmKGUuUD10LGUuTj10Lk4sdC5OJiYodC5OLlA9ZSksdC5OPWUsdC5SKXtmb3IodD10LlI7dC5MOyl0PXQuTDt0Lkw9ZX1lbHNlIHQuUj1lO249dH1lbHNlIHRoaXMuXz8odD1yYSh0aGlzLl8pLGUuUD1udWxsLGUuTj10LHQuUD10Lkw9ZSxuPXQpOihlLlA9ZS5OPW51bGwsdGhpcy5fPWUsbj1udWxsKTtmb3IoZS5MPWUuUj1udWxsLGUuVT1uLGUuQz0hMCx0PWU7biYmbi5DOyluPT09KHI9bi5VKS5MPyhpPXIuUikmJmkuQz8obi5DPWkuQz0hMSxyLkM9ITAsdD1yKToodD09PW4uUiYmKGVhKHRoaXMsbiksbj0odD1uKS5VKSxuLkM9ITEsci5DPSEwLG5hKHRoaXMscikpOihpPXIuTCkmJmkuQz8obi5DPWkuQz0hMSxyLkM9ITAsdD1yKToodD09PW4uTCYmKG5hKHRoaXMsbiksbj0odD1uKS5VKSxuLkM9ITEsci5DPSEwLGVhKHRoaXMscikpLG49dC5VO3RoaXMuXy5DPSExfSxyZW1vdmU6ZnVuY3Rpb24odCl7dC5OJiYodC5OLlA9dC5QKSx0LlAmJih0LlAuTj10Lk4pLHQuTj10LlA9bnVsbDt2YXIgZSxuLHIsaT10LlUsbz10Lkwscz10LlI7aWYobj1vP3M/cmEocyk6bzpzLGk/aS5MPT09dD9pLkw9bjppLlI9bjp0aGlzLl89bixvJiZzPyhyPW4uQyxuLkM9dC5DLG4uTD1vLG8uVT1uLG4hPT1zPyhpPW4uVSxuLlU9dC5VLHQ9bi5SLGkuTD10LG4uUj1zLHMuVT1uKToobi5VPWksaT1uLHQ9bi5SKSk6KHI9dC5DLHQ9biksdCYmKHQuVT1pKSwhcilpZih0JiZ0LkMpdC5DPSExO2Vsc2V7ZG97aWYodD09PXRoaXMuXylicmVhaztpZih0PT09aS5MKXtpZigoZT1pLlIpLkMmJihlLkM9ITEsaS5DPSEwLGVhKHRoaXMsaSksZT1pLlIpLGUuTCYmZS5MLkN8fGUuUiYmZS5SLkMpe2UuUiYmZS5SLkN8fChlLkwuQz0hMSxlLkM9ITAsbmEodGhpcyxlKSxlPWkuUiksZS5DPWkuQyxpLkM9ZS5SLkM9ITEsZWEodGhpcyxpKSx0PXRoaXMuXzticmVha319ZWxzZSBpZigoZT1pLkwpLkMmJihlLkM9ITEsaS5DPSEwLG5hKHRoaXMsaSksZT1pLkwpLGUuTCYmZS5MLkN8fGUuUiYmZS5SLkMpe2UuTCYmZS5MLkN8fChlLlIuQz0hMSxlLkM9ITAsZWEodGhpcyxlKSxlPWkuTCksZS5DPWkuQyxpLkM9ZS5MLkM9ITEsbmEodGhpcyxpKSx0PXRoaXMuXzticmVha31lLkM9ITAsdD1pLGk9aS5VfXdoaWxlKCF0LkMpO3QmJih0LkM9ITEpfX19O3ZhciBwYSxmYT1bXTtmdW5jdGlvbiBnYSgpe3RhKHRoaXMpLHRoaXMueD10aGlzLnk9dGhpcy5hcmM9dGhpcy5zaXRlPXRoaXMuY3k9bnVsbH1mdW5jdGlvbiBkYSh0KXt2YXIgZT10LlAsbj10Lk47aWYoZSYmbil7dmFyIHI9ZS5zaXRlLGk9dC5zaXRlLG89bi5zaXRlO2lmKHIhPT1vKXt2YXIgcz1pWzBdLGE9aVsxXSx1PXJbMF0tcyxsPXJbMV0tYSxjPW9bMF0tcyxoPW9bMV0tYSxwPTIqKHUqaC1sKmMpO2lmKCEocD49LUxhKSl7dmFyIGY9dSp1K2wqbCxnPWMqYytoKmgsZD0oaCpmLWwqZykvcCx5PSh1KmctYypmKS9wLHY9ZmEucG9wKCl8fG5ldyBnYTt2LmFyYz10LHYuc2l0ZT1pLHYueD1kK3Msdi55PSh2LmN5PXkrYSkrTWF0aC5zcXJ0KGQqZCt5KnkpLHQuY2lyY2xlPXY7Zm9yKHZhciBfPW51bGwsbT1DYS5fO207KWlmKHYueTxtLnl8fHYueT09PW0ueSYmdi54PD1tLngpe2lmKCFtLkwpe189bS5QO2JyZWFrfW09bS5MfWVsc2V7aWYoIW0uUil7Xz1tO2JyZWFrfW09bS5SfUNhLmluc2VydChfLHYpLF98fChwYT12KX19fX1mdW5jdGlvbiB5YSh0KXt2YXIgZT10LmNpcmNsZTtlJiYoZS5QfHwocGE9ZS5OKSxDYS5yZW1vdmUoZSksZmEucHVzaChlKSx0YShlKSx0LmNpcmNsZT1udWxsKX12YXIgdmE9W107ZnVuY3Rpb24gX2EoKXt0YSh0aGlzKSx0aGlzLmVkZ2U9dGhpcy5zaXRlPXRoaXMuY2lyY2xlPW51bGx9ZnVuY3Rpb24gbWEodCl7dmFyIGU9dmEucG9wKCl8fG5ldyBfYTtyZXR1cm4gZS5zaXRlPXQsZX1mdW5jdGlvbiB4YSh0KXt5YSh0KSxOYS5yZW1vdmUodCksdmEucHVzaCh0KSx0YSh0KX1mdW5jdGlvbiBFYSh0KXt2YXIgZT10LmNpcmNsZSxuPWUueCxyPWUuY3ksaT1bbixyXSxvPXQuUCxzPXQuTixhPVt0XTt4YSh0KTtmb3IodmFyIHU9bzt1LmNpcmNsZSYmTWF0aC5hYnMobi11LmNpcmNsZS54KTxNYSYmTWF0aC5hYnMoci11LmNpcmNsZS5jeSk8TWE7KW89dS5QLGEudW5zaGlmdCh1KSx4YSh1KSx1PW87YS51bnNoaWZ0KHUpLHlhKHUpO2Zvcih2YXIgbD1zO2wuY2lyY2xlJiZNYXRoLmFicyhuLWwuY2lyY2xlLngpPE1hJiZNYXRoLmFicyhyLWwuY2lyY2xlLmN5KTxNYTspcz1sLk4sYS5wdXNoKGwpLHhhKGwpLGw9czthLnB1c2gobCkseWEobCk7dmFyIGMsaD1hLmxlbmd0aDtmb3IoYz0xO2M8aDsrK2MpbD1hW2NdLHU9YVtjLTFdLHNhKGwuZWRnZSx1LnNpdGUsbC5zaXRlLGkpO3U9YVswXSwobD1hW2gtMV0pLmVkZ2U9aWEodS5zaXRlLGwuc2l0ZSxudWxsLGkpLGRhKHUpLGRhKGwpfWZ1bmN0aW9uIGJhKHQpe2Zvcih2YXIgZSxuLHIsaSxvPXRbMF0scz10WzFdLGE9TmEuXzthOylpZigocj13YShhLHMpLW8pPk1hKWE9YS5MO2Vsc2V7aWYoISgoaT1vLUlhKGEscykpPk1hKSl7cj4tTWE/KGU9YS5QLG49YSk6aT4tTWE/KGU9YSxuPWEuTik6ZT1uPWE7YnJlYWt9aWYoIWEuUil7ZT1hO2JyZWFrfWE9YS5SfSFmdW5jdGlvbih0KXtTYVt0LmluZGV4XT17c2l0ZTp0LGhhbGZlZGdlczpbXX19KHQpO3ZhciB1PW1hKHQpO2lmKE5hLmluc2VydChlLHUpLGV8fG4pe2lmKGU9PT1uKXJldHVybiB5YShlKSxuPW1hKGUuc2l0ZSksTmEuaW5zZXJ0KHUsbiksdS5lZGdlPW4uZWRnZT1pYShlLnNpdGUsdS5zaXRlKSxkYShlKSx2b2lkIGRhKG4pO2lmKG4pe3lhKGUpLHlhKG4pO3ZhciBsPWUuc2l0ZSxjPWxbMF0saD1sWzFdLHA9dFswXS1jLGY9dFsxXS1oLGc9bi5zaXRlLGQ9Z1swXS1jLHk9Z1sxXS1oLHY9MioocCp5LWYqZCksXz1wKnArZipmLG09ZCpkK3kqeSx4PVsoeSpfLWYqbSkvditjLChwKm0tZCpfKS92K2hdO3NhKG4uZWRnZSxsLGcseCksdS5lZGdlPWlhKGwsdCxudWxsLHgpLG4uZWRnZT1pYSh0LGcsbnVsbCx4KSxkYShlKSxkYShuKX1lbHNlIHUuZWRnZT1pYShlLnNpdGUsdS5zaXRlKX19ZnVuY3Rpb24gd2EodCxlKXt2YXIgbj10LnNpdGUscj1uWzBdLGk9blsxXSxvPWktZTtpZighbylyZXR1cm4gcjt2YXIgcz10LlA7aWYoIXMpcmV0dXJuLTEvMDt2YXIgYT0obj1zLnNpdGUpWzBdLHU9blsxXSxsPXUtZTtpZighbClyZXR1cm4gYTt2YXIgYz1hLXIsaD0xL28tMS9sLHA9Yy9sO3JldHVybiBoPygtcCtNYXRoLnNxcnQocCpwLTIqaCooYypjLygtMipsKS11K2wvMitpLW8vMikpKS9oK3I6KHIrYSkvMn1mdW5jdGlvbiBJYSh0LGUpe3ZhciBuPXQuTjtpZihuKXJldHVybiB3YShuLGUpO3ZhciByPXQuc2l0ZTtyZXR1cm4gclsxXT09PWU/clswXToxLzB9dmFyIE5hLFNhLENhLFBhLE1hPTFlLTYsTGE9MWUtMTI7ZnVuY3Rpb24gT2EodCxlKXtyZXR1cm4gZVsxXS10WzFdfHxlWzBdLXRbMF19ZnVuY3Rpb24gUmEodCxlKXt2YXIgbixyLGksbz10LnNvcnQoT2EpLnBvcCgpO2ZvcihQYT1bXSxTYT1uZXcgQXJyYXkodC5sZW5ndGgpLE5hPW5ldyAkcyxDYT1uZXcgJHM7OylpZihpPXBhLG8mJighaXx8b1sxXTxpLnl8fG9bMV09PT1pLnkmJm9bMF08aS54KSlvWzBdPT09biYmb1sxXT09PXJ8fChiYShvKSxuPW9bMF0scj1vWzFdKSxvPXQucG9wKCk7ZWxzZXtpZighaSlicmVhaztFYShpLmFyYyl9aWYoZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxuLHIsaT0wLG89U2EubGVuZ3RoO2k8bzsrK2kpaWYoKHQ9U2FbaV0pJiYocj0oZT10LmhhbGZlZGdlcykubGVuZ3RoKSl7dmFyIHM9bmV3IEFycmF5KHIpLGE9bmV3IEFycmF5KHIpO2ZvcihuPTA7bjxyOysrbilzW25dPW4sYVtuXT1sYSh0LFBhW2Vbbl1dKTtmb3Iocy5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiBhW2VdLWFbdF19KSksbj0wO248cjsrK24pYVtuXT1lW3Nbbl1dO2ZvcihuPTA7bjxyOysrbillW25dPWFbbl19fSgpLGUpe3ZhciBzPStlWzBdWzBdLGE9K2VbMF1bMV0sdT0rZVsxXVswXSxsPStlWzFdWzFdOyFmdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGksbz1QYS5sZW5ndGg7by0tOyl1YShpPVBhW29dLHQsZSxuLHIpJiZhYShpLHQsZSxuLHIpJiYoTWF0aC5hYnMoaVswXVswXS1pWzFdWzBdKT5NYXx8TWF0aC5hYnMoaVswXVsxXS1pWzFdWzFdKT5NYSl8fGRlbGV0ZSBQYVtvXX0ocyxhLHUsbCksZnVuY3Rpb24odCxlLG4scil7dmFyIGksbyxzLGEsdSxsLGMsaCxwLGYsZyxkLHk9U2EubGVuZ3RoLHY9ITA7Zm9yKGk9MDtpPHk7KytpKWlmKG89U2FbaV0pe2ZvcihzPW8uc2l0ZSxhPSh1PW8uaGFsZmVkZ2VzKS5sZW5ndGg7YS0tOylQYVt1W2FdXXx8dS5zcGxpY2UoYSwxKTtmb3IoYT0wLGw9dS5sZW5ndGg7YTxsOylnPShmPWhhKG8sUGFbdVthXV0pKVswXSxkPWZbMV0saD0oYz1jYShvLFBhW3VbKythJWxdXSkpWzBdLHA9Y1sxXSwoTWF0aC5hYnMoZy1oKT5NYXx8TWF0aC5hYnMoZC1wKT5NYSkmJih1LnNwbGljZShhLDAsUGEucHVzaChvYShzLGYsTWF0aC5hYnMoZy10KTxNYSYmci1kPk1hP1t0LE1hdGguYWJzKGgtdCk8TWE/cDpyXTpNYXRoLmFicyhkLXIpPE1hJiZuLWc+TWE/W01hdGguYWJzKHAtcik8TWE/aDpuLHJdOk1hdGguYWJzKGctbik8TWEmJmQtZT5NYT9bbixNYXRoLmFicyhoLW4pPE1hP3A6ZV06TWF0aC5hYnMoZC1lKTxNYSYmZy10Pk1hP1tNYXRoLmFicyhwLWUpPE1hP2g6dCxlXTpudWxsKSktMSksKytsKTtsJiYodj0hMSl9aWYodil7dmFyIF8sbSx4LEU9MS8wO2ZvcihpPTAsdj1udWxsO2k8eTsrK2kpKG89U2FbaV0pJiYoeD0oXz0ocz1vLnNpdGUpWzBdLXQpKl8rKG09c1sxXS1lKSptKTxFJiYoRT14LHY9byk7aWYodil7dmFyIGI9W3QsZV0sdz1bdCxyXSxJPVtuLHJdLE49W24sZV07di5oYWxmZWRnZXMucHVzaChQYS5wdXNoKG9hKHM9di5zaXRlLGIsdykpLTEsUGEucHVzaChvYShzLHcsSSkpLTEsUGEucHVzaChvYShzLEksTikpLTEsUGEucHVzaChvYShzLE4sYikpLTEpfX1mb3IoaT0wO2k8eTsrK2kpKG89U2FbaV0pJiYoby5oYWxmZWRnZXMubGVuZ3RofHxkZWxldGUgU2FbaV0pfShzLGEsdSxsKX10aGlzLmVkZ2VzPVBhLHRoaXMuY2VsbHM9U2EsTmE9Q2E9UGE9U2E9bnVsbH1mdW5jdGlvbiBUYSh0KXtyZXR1cm4odD10LnNsaWNlKCkpLnB1c2godFswXSksbChbdF0pfWZ1bmN0aW9uIEFhKHQsZSxuLHIpe3ZhciBpPShyPXJ8fHt9KS5zdGVwc3x8NjQsbz1yLnVuaXRzfHwia2lsb21ldGVycyIscz1yLmFuZ2xlfHwwLGE9ci5waXZvdHx8dCx1PXIucHJvcGVydGllc3x8dC5wcm9wZXJ0aWVzfHx7fTtpZighdCl0aHJvdyBuZXcgRXJyb3IoImNlbnRlciBpcyByZXF1aXJlZCIpO2lmKCFlKXRocm93IG5ldyBFcnJvcigieFNlbWlBeGlzIGlzIHJlcXVpcmVkIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJ5U2VtaUF4aXMgaXMgcmVxdWlyZWQiKTtpZighUChyKSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QiKTtpZighQyhpKSl0aHJvdyBuZXcgRXJyb3IoInN0ZXBzIG11c3QgYmUgYSBudW1iZXIiKTtpZighQyhzKSl0aHJvdyBuZXcgRXJyb3IoImFuZ2xlIG11c3QgYmUgYSBudW1iZXIiKTt2YXIgYz1LKHQpO2lmKCJkZWdyZWVzIj09PW8pdmFyIGg9SShzKTtlbHNlIGU9amkodCxlLDkwLHt1bml0czpvfSksbj1qaSh0LG4sMCx7dW5pdHM6b30pLGU9SyhlKVswXS1jWzBdLG49SyhuKVsxXS1jWzFdO2Zvcih2YXIgcD1bXSxmPTA7ZjxpO2YrPTEpe3ZhciBnPS0zNjAqZi9pLGQ9ZSpuL01hdGguc3FydChNYXRoLnBvdyhuLDIpK01hdGgucG93KGUsMikqTWF0aC5wb3coRGEoZyksMikpLHk9ZSpuL01hdGguc3FydChNYXRoLnBvdyhlLDIpK01hdGgucG93KG4sMikvTWF0aC5wb3coRGEoZyksMikpO2lmKGc8LTkwJiZnPj0tMjcwJiYoZD0tZCksZzwtMTgwJiZnPj0tMzYwJiYoeT0teSksImRlZ3JlZXMiPT09byl7dmFyIHY9ZCpNYXRoLmNvcyhoKSt5Kk1hdGguc2luKGgpLF89eSpNYXRoLmNvcyhoKS1kKk1hdGguc2luKGgpO2Q9dix5PV99cC5wdXNoKFtkK2NbMF0seStjWzFdXSl9cmV0dXJuIHAucHVzaChwWzBdKSwiZGVncmVlcyI9PT1vP2woW3BdLHUpOiRvKGwoW3BdLHUpLHMse3Bpdm90OmF9KX1mdW5jdGlvbiBEYSh0KXt2YXIgZT10Kk1hdGguUEkvMTgwO3JldHVybiBNYXRoLnRhbihlKX1mdW5jdGlvbiBGYSh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj0wLHI9MCxpPTA7cmV0dXJuIHEodCwoZnVuY3Rpb24odCxvLHMpe3ZhciBhPWUud2VpZ2h0P251bGw9PXM/dm9pZCAwOnNbZS53ZWlnaHRdOnZvaWQgMDtpZighQyhhPW51bGw9PWE/MTphKSl0aHJvdyBuZXcgRXJyb3IoIndlaWdodCB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyIGZvciBmZWF0dXJlIGluZGV4ICIrbyk7KGE9TnVtYmVyKGEpKT4wJiZSKHQsKGZ1bmN0aW9uKHQpe24rPXRbMF0qYSxyKz10WzFdKmEsaSs9YX0pKX0pKSxhKFtuL2ksci9pXSxlLnByb3BlcnRpZXMsZSl9ZnVuY3Rpb24ga2EodCxlLG4scixpKXt2YXIgbz1yLnRvbGVyYW5jZXx8LjAwMSxzPTAsdT0wLGw9MCxjPTA7aWYoRihuLChmdW5jdGlvbihlKXt2YXIgbixyPW51bGw9PT0obj1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLndlaWdodCxpPW51bGw9PXI/MTpyO2lmKCFDKGk9TnVtYmVyKGkpKSl0aHJvdyBuZXcgRXJyb3IoIndlaWdodCB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyIik7aWYoaT4wKXtjKz0xO3ZhciBvPWkqbWUoZSx0KTswPT09byYmKG89MSk7dmFyIGE9aS9vO3MrPWUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0qYSx1Kz1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdKmEsbCs9YX19KSksYzwxKXRocm93IG5ldyBFcnJvcigibm8gZmVhdHVyZXMgdG8gbWVhc3VyZSIpO3ZhciBoPXMvbCxwPXUvbDtyZXR1cm4gMT09PWN8fDA9PT1pfHxNYXRoLmFicyhoLWVbMF0pPG8mJk1hdGguYWJzKHAtZVsxXSk8bz9hKFtoLHBdLHttZWRpYW5DYW5kaWRhdGVzOnIubWVkaWFuQ2FuZGlkYXRlc30pOihyLm1lZGlhbkNhbmRpZGF0ZXMucHVzaChbaCxwXSksa2EoW2gscF0sdCxuLHIsaS0xKSl9ZnVuY3Rpb24gR2EodCxlKXtyZXR1cm57eDp0WzBdLWVbMF0seTp0WzFdLWVbMV19fWZ1bmN0aW9uIHFhKHQsZSl7dmFyIG49MCxyPTA7Uih0LChmdW5jdGlvbihpLG8scyxhLHUpe3U+biYmKG49dSxyPW8sZS5wdXNoKFtdKSk7dmFyIGw9by1yLGM9dC5jb29yZGluYXRlc1t1XVtsKzFdLGg9aVswXSxwPWlbMV0sZj1jWzBdLGc9Y1sxXTtlW3VdLnB1c2goWy43NSpoKy4yNSpmLC43NSpwKy4yNSpnXSksZVt1XS5wdXNoKFsuMjUqaCsuNzUqZiwuMjUqcCsuNzUqZ10pfSksITApLGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wdXNoKHRbMF0pfSkpfWZ1bmN0aW9uIEJhKHQsZSl7dmFyIG49MCxyPTAsaT0wO1IodCwoZnVuY3Rpb24obyxzLGEsdSxsKXt1PmkmJihpPXUscj1zLGUucHVzaChbW11dKSksbD5uJiYobj1sLHI9cyxlW3VdLnB1c2goW10pKTt2YXIgYz1zLXIsaD10LmNvb3JkaW5hdGVzW3VdW2xdW2MrMV0scD1vWzBdLGY9b1sxXSxnPWhbMF0sZD1oWzFdO2VbdV1bbF0ucHVzaChbLjc1KnArLjI1KmcsLjc1KmYrLjI1KmRdKSxlW3VdW2xdLnB1c2goWy4yNSpwKy43NSpnLC4yNSpmKy43NSpkXSl9KSwhMCksZS5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucHVzaCh0WzBdKX0pKX0pKX1mdW5jdGlvbiB6YSh0LGUsbil7dm9pZCAwPT09biYmKG49Mik7dmFyIHI9Syh0KSxpPUsoZSksbz1yWzBdLWlbMF0scz1yWzFdLWlbMV07cmV0dXJuIDE9PT1uP01hdGguYWJzKG8pK01hdGguYWJzKHMpOk1hdGgucG93KE1hdGgucG93KG8sbikrTWF0aC5wb3cocyxuKSwxL24pfWZ1bmN0aW9uIGphKHQsZSl7dmFyIG49KGU9ZXx8e30pLnRocmVzaG9sZHx8MWU0LHI9ZS5wfHwyLGk9ZS5iaW5hcnl8fCExLG89ZS5hbHBoYXx8LTEscz1lLnN0YW5kYXJkaXphdGlvbnx8ITEsYT1bXTtGKHQsKGZ1bmN0aW9uKHQpe2EucHVzaChFbih0KSl9KSk7Zm9yKHZhciB1PVtdLGw9MDtsPGEubGVuZ3RoO2wrKyl1W2xdPVtdO2ZvcihsPTA7bDxhLmxlbmd0aDtsKyspZm9yKHZhciBjPWw7YzxhLmxlbmd0aDtjKyspe2w9PT1jJiYodVtsXVtjXT0wKTt2YXIgaD16YShhW2xdLGFbY10scik7dVtsXVtjXT1oLHVbY11bbF09aH1mb3IobD0wO2w8YS5sZW5ndGg7bCsrKWZvcihjPTA7YzxhLmxlbmd0aDtjKyspezAhPT0oaD11W2xdW2NdKSYmKHVbbF1bY109aT9oPD1uPzE6MDpoPD1uP01hdGgucG93KGgsbyk6MCl9aWYocylmb3IobD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgcD11W2xdLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSksMCk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl1W2xdW2NdPXVbbF1bY10vcH1yZXR1cm4gdX1mdW5jdGlvbiBVYSh0KXtmb3IodmFyIGU9MCxuPTAscj10O248ci5sZW5ndGg7bisrKXtlKz1yW25dfXJldHVybiBlL3QubGVuZ3RofWZ1bmN0aW9uIFZhKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxZYSh0LCJtZXJjYXRvciIsZSl9ZnVuY3Rpb24gWGEodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLFlhKHQsIndnczg0IixlKX1mdW5jdGlvbiBZYSh0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPShuPW58fHt9KS5tdXRhdGU7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJkModFswXSk/dD0ibWVyY2F0b3IiPT09ZT9IYSh0KTpXYSh0KTooITAhPT1yJiYodD1JZSh0KSksUih0LChmdW5jdGlvbih0KXt2YXIgbj0ibWVyY2F0b3IiPT09ZT9IYSh0KTpXYSh0KTt0WzBdPW5bMF0sdFsxXT1uWzFdfSkpKSx0fWZ1bmN0aW9uIEhhKHQpe3ZhciBlPU1hdGguUEkvMTgwLG49NjM3ODEzNyxyPTIwMDM3NTA4LjM0Mjc4OTI0NCxpPVtuKihNYXRoLmFicyh0WzBdKTw9MTgwP3RbMF06dFswXS0zNjAqZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD8tMTp0PjA/MTowfSh0WzBdKSkqZSxuKk1hdGgubG9nKE1hdGgudGFuKC4yNSpNYXRoLlBJKy41KnRbMV0qZSkpXTtyZXR1cm4gaVswXT5yJiYoaVswXT1yKSxpWzBdPC1yJiYoaVswXT0tciksaVsxXT5yJiYoaVsxXT1yKSxpWzFdPC1yJiYoaVsxXT0tciksaX1mdW5jdGlvbiBXYSh0KXt2YXIgZT0xODAvTWF0aC5QSSxuPTYzNzgxMzc7cmV0dXJuW3RbMF0qZS9uLCguNSpNYXRoLlBJLTIqTWF0aC5hdGFuKE1hdGguZXhwKC10WzFdL24pKSkqZV19UmEucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpSYSxwb2x5Z29uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWRnZXM7cmV0dXJuIHRoaXMuY2VsbHMubWFwKChmdW5jdGlvbihlKXt2YXIgbj1lLmhhbGZlZGdlcy5tYXAoKGZ1bmN0aW9uKG4pe3JldHVybiBjYShlLHRbbl0pfSkpO3JldHVybiBuLmRhdGE9ZS5zaXRlLmRhdGEsbn0pKX0sdHJpYW5nbGVzOmZ1bmN0aW9uKCl7dmFyIHQ9W10sZT10aGlzLmVkZ2VzO3JldHVybiB0aGlzLmNlbGxzLmZvckVhY2goKGZ1bmN0aW9uKG4scil7aWYobz0oaT1uLmhhbGZlZGdlcykubGVuZ3RoKWZvcih2YXIgaSxvLHMsYSx1LGwsYz1uLnNpdGUsaD0tMSxwPWVbaVtvLTFdXSxmPXAubGVmdD09PWM/cC5yaWdodDpwLmxlZnQ7KytoPG87KXM9ZixmPShwPWVbaVtoXV0pLmxlZnQ9PT1jP3AucmlnaHQ6cC5sZWZ0LHMmJmYmJnI8cy5pbmRleCYmcjxmLmluZGV4JiYodT1zLGw9ZiwoKGE9YylbMF0tbFswXSkqKHVbMV0tYVsxXSktKGFbMF0tdVswXSkqKGxbMV0tYVsxXSk8MCkmJnQucHVzaChbYy5kYXRhLHMuZGF0YSxmLmRhdGFdKX0pKSx0fSxsaW5rczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVkZ2VzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucmlnaHR9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57c291cmNlOnQubGVmdC5kYXRhLHRhcmdldDp0LnJpZ2h0LmRhdGF9fSkpfSxmaW5kOmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHIsaSxvPXRoaXMscz1vLl9mb3VuZHx8MCxhPW8uY2VsbHMubGVuZ3RoOyEoaT1vLmNlbGxzW3NdKTspaWYoKytzPj1hKXJldHVybiBudWxsO3ZhciB1PXQtaS5zaXRlWzBdLGw9ZS1pLnNpdGVbMV0sYz11KnUrbCpsO2Rve2k9by5jZWxsc1tyPXNdLHM9bnVsbCxpLmhhbGZlZGdlcy5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1vLmVkZ2VzW25dLGE9ci5sZWZ0O2lmKGEhPT1pLnNpdGUmJmF8fChhPXIucmlnaHQpKXt2YXIgdT10LWFbMF0sbD1lLWFbMV0saD11KnUrbCpsO2g8YyYmKGM9aCxzPWEuaW5kZXgpfX0pKX13aGlsZShudWxsIT09cyk7cmV0dXJuIG8uX2ZvdW5kPXIsbnVsbD09bnx8Yzw9bipuP2kuc2l0ZTpudWxsfX07dmFyIEphPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHRvTWVyY2F0b3I6VmEsdG9XZ3M4NDpYYX0pLFphPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLG49YXJndW1lbnRzLmxlbmd0aDtlPG47ZSsrKXQrPWFyZ3VtZW50c1tlXS5sZW5ndGg7dmFyIHI9QXJyYXkodCksaT0wO2ZvcihlPTA7ZTxuO2UrKylmb3IodmFyIG89YXJndW1lbnRzW2VdLHM9MCxhPW8ubGVuZ3RoO3M8YTtzKyssaSsrKXJbaV09b1tzXTtyZXR1cm4gcn07ZnVuY3Rpb24gS2EodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/bnUodCk6dCYmdC5iYm94P251KHQuYmJveCk6WzM2MCpldSgpLDE4MCpldSgpXX1mdW5jdGlvbiBRYSh0LGUpe3ZvaWQgMD09PWUmJihlPXt9KSxudWxsPT10JiYodD0xKTtmb3IodmFyIG49W10scj0wO3I8dDtyKyspbi5wdXNoKGEoS2EoZS5iYm94KSkpO3JldHVybiBmKG4pfWZ1bmN0aW9uICRhKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pLG51bGw9PXQmJih0PTEpLEMoZS5udW1fdmVydGljZXMpJiZ2b2lkIDAhPT1lLm51bV92ZXJ0aWNlc3x8KGUubnVtX3ZlcnRpY2VzPTEwKSxDKGUubWF4X3JhZGlhbF9sZW5ndGgpJiZ2b2lkIDAhPT1lLm1heF9yYWRpYWxfbGVuZ3RofHwoZS5tYXhfcmFkaWFsX2xlbmd0aD0xMCk7Zm9yKHZhciBuPVtdLHI9ZnVuY3Rpb24odCl7dmFyIHIsaT1bXSxvPVphKEFycmF5KGUubnVtX3ZlcnRpY2VzKzEpKS5tYXAoTWF0aC5yYW5kb20pO28uZm9yRWFjaCgoZnVuY3Rpb24odCxlLG4pe25bZV09ZT4wP3QrbltlLTFdOnR9KSksby5mb3JFYWNoKChmdW5jdGlvbih0KXt0PTIqdCpNYXRoLlBJL29bby5sZW5ndGgtMV07dmFyIG49TWF0aC5yYW5kb20oKTtpLnB1c2goW24qKGUubWF4X3JhZGlhbF9sZW5ndGh8fDEwKSpNYXRoLnNpbih0KSxuKihlLm1heF9yYWRpYWxfbGVuZ3RofHwxMCkqTWF0aC5jb3ModCldKX0pKSxpW2kubGVuZ3RoLTFdPWlbMF0saT1pLm1hcCgocj1LYShlLmJib3gpLGZ1bmN0aW9uKHQpe3JldHVyblt0WzBdK3JbMF0sdFsxXStyWzFdXX0pKSxuLnB1c2gobChbaV0pKX0saT0wO2k8dDtpKyspcigpO3JldHVybiBmKG4pfWZ1bmN0aW9uIHR1KHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9e30pLCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS5iYm94LHI9ZS5udW1fdmVydGljZXMsaT1lLm1heF9sZW5ndGgsbz1lLm1heF9yb3RhdGlvbjtudWxsPT10JiYodD0xKSwoIUMocil8fHZvaWQgMD09PXJ8fHI8MikmJihyPTEwKSxDKGkpJiZ2b2lkIDAhPT1pfHwoaT0xZS00KSxDKG8pJiZ2b2lkIDAhPT1vfHwobz1NYXRoLlBJLzgpO2Zvcih2YXIgcz1bXSxhPTA7YTx0O2ErKyl7Zm9yKHZhciB1PVtLYShuKV0sbD0wO2w8ci0xO2wrKyl7dmFyIGM9KDA9PT1sPzIqTWF0aC5yYW5kb20oKSpNYXRoLlBJOk1hdGgudGFuKCh1W2xdWzFdLXVbbC0xXVsxXSkvKHVbbF1bMF0tdVtsLTFdWzBdKSkpKyhNYXRoLnJhbmRvbSgpLS41KSpvKjIscD1NYXRoLnJhbmRvbSgpKmk7dS5wdXNoKFt1W2xdWzBdK3AqTWF0aC5jb3MoYyksdVtsXVsxXStwKk1hdGguc2luKGMpXSl9cy5wdXNoKGgodSkpfXJldHVybiBmKHMpfWZ1bmN0aW9uIGV1KCl7cmV0dXJuIE1hdGgucmFuZG9tKCktLjV9ZnVuY3Rpb24gbnUodCl7cmV0dXJuW01hdGgucmFuZG9tKCkqKHRbMl0tdFswXSkrdFswXSxNYXRoLnJhbmRvbSgpKih0WzNdLXRbMV0pK3RbMV1dfXZhciBydT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxyYW5kb21Qb3NpdGlvbjpLYSxyYW5kb21Qb2ludDpRYSxyYW5kb21Qb2x5Z29uOiRhLHJhbmRvbUxpbmVTdHJpbmc6dHV9KTtmdW5jdGlvbiBpdSh0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO2lmKCJGZWF0dXJlQ29sbGVjdGlvbiIhPT10LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIG11c3QgYmUgYSBGZWF0dXJlQ29sbGVjdGlvbiIpO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJmaWx0ZXIgaXMgcmVxdWlyZWQiKTt2YXIgbj1bXTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXt1dSh0LnByb3BlcnRpZXMsZSkmJm4ucHVzaCh0KX0pKSxmKG4pfWZ1bmN0aW9uIG91KHQsZSxuKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgcmVxdWlyZWQiKTtpZigiRmVhdHVyZUNvbGxlY3Rpb24iIT09dC50eXBlKXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBtdXN0IGJlIGEgRmVhdHVyZUNvbGxlY3Rpb24iKTtpZihudWxsPT1lKXRocm93IG5ldyBFcnJvcigicHJvcGVydHkgaXMgcmVxdWlyZWQiKTtmb3IodmFyIHI9YXUodCxlKSxpPU9iamVjdC5rZXlzKHIpLG89MDtvPGkubGVuZ3RoO28rKyl7Zm9yKHZhciBzPWlbb10sYT1yW3NdLHU9W10sbD0wO2w8YS5sZW5ndGg7bCsrKXUucHVzaCh0LmZlYXR1cmVzW2FbbF1dKTtuKGYodSkscyxvKX19ZnVuY3Rpb24gc3UodCxlLG4scil7dmFyIGk9cjtyZXR1cm4gb3UodCxlLChmdW5jdGlvbih0LGUsbyl7aT0wPT09byYmdm9pZCAwPT09cj90Om4oaSx0LGUsbyl9KSksaX1mdW5jdGlvbiBhdSh0LGUpe3ZhciBuPXt9O3JldHVybiBGKHQsKGZ1bmN0aW9uKHQscil7dmFyIGk9dC5wcm9wZXJ0aWVzfHx7fTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxTdHJpbmcoZSkpKXt2YXIgbz1pW2VdO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLG8pP25bb10ucHVzaChyKTpuW29dPVtyXX19KSksbn1mdW5jdGlvbiB1dSh0LGUpe2lmKHZvaWQgMD09PXQpcmV0dXJuITE7dmFyIG49dHlwZW9mIGU7aWYoIm51bWJlciI9PT1ufHwic3RyaW5nIj09PW4pcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKCF1dSh0LGVbcl0pKXJldHVybiExO3JldHVybiEwfXJldHVybiBsdSh0LGUpfWZ1bmN0aW9uIGx1KHQsZSl7Zm9yKHZhciBuPU9iamVjdC5rZXlzKGUpLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGk9bltyXTtpZih0W2ldIT09ZVtpXSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBjdSh0LGUpe2lmKCFlKXJldHVybnt9O2lmKCFlLmxlbmd0aClyZXR1cm57fTtmb3IodmFyIG49e30scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYobltpXT10W2ldKX1yZXR1cm4gbn12YXIgaHU9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZ2V0Q2x1c3RlcjppdSxjbHVzdGVyRWFjaDpvdSxjbHVzdGVyUmVkdWNlOnN1LGNyZWF0ZUJpbnM6YXUsYXBwbHlGaWx0ZXI6dXUscHJvcGVydGllc0NvbnRhaW5zRmlsdGVyOmx1LGZpbHRlclByb3BlcnRpZXM6Y3V9KSxwdT1mdW5jdGlvbih0LGUpe3RoaXMubmV4dD1udWxsLHRoaXMua2V5PXQsdGhpcy5kYXRhPWUsdGhpcy5sZWZ0PW51bGwsdGhpcy5yaWdodD1udWxsfTsKLyoqCiAgICAgKiBzcGxheXRyZWUgdjMuMS4wCiAgICAgKiBGYXN0IFNwbGF5IHRyZWUgZm9yIE5vZGUgYW5kIGJyb3dzZXIKICAgICAqCiAgICAgKiBAYXV0aG9yIEFsZXhhbmRlciBNaWxldnNraSA8aW5mb0B3OHIubmFtZT4KICAgICAqIEBsaWNlbnNlIE1JVAogICAgICogQHByZXNlcnZlCiAgICAgKi9mdW5jdGlvbiBmdSh0LGUpe3JldHVybiB0PmU/MTp0PGU/LTE6MH1mdW5jdGlvbiBndSh0LGUsbil7Zm9yKHZhciByPW5ldyBwdShudWxsLG51bGwpLGk9cixvPXI7Oyl7dmFyIHM9bih0LGUua2V5KTtpZihzPDApe2lmKG51bGw9PT1lLmxlZnQpYnJlYWs7aWYobih0LGUubGVmdC5rZXkpPDApe3ZhciBhPWUubGVmdDtpZihlLmxlZnQ9YS5yaWdodCxhLnJpZ2h0PWUsbnVsbD09PShlPWEpLmxlZnQpYnJlYWt9by5sZWZ0PWUsbz1lLGU9ZS5sZWZ0fWVsc2V7aWYoIShzPjApKWJyZWFrO2lmKG51bGw9PT1lLnJpZ2h0KWJyZWFrO2lmKG4odCxlLnJpZ2h0LmtleSk+MCl7YT1lLnJpZ2h0O2lmKGUucmlnaHQ9YS5sZWZ0LGEubGVmdD1lLG51bGw9PT0oZT1hKS5yaWdodClicmVha31pLnJpZ2h0PWUsaT1lLGU9ZS5yaWdodH19cmV0dXJuIGkucmlnaHQ9ZS5sZWZ0LG8ubGVmdD1lLnJpZ2h0LGUubGVmdD1yLnJpZ2h0LGUucmlnaHQ9ci5sZWZ0LGV9ZnVuY3Rpb24gZHUodCxlLG4scil7dmFyIGk9bmV3IHB1KHQsZSk7aWYobnVsbD09PW4pcmV0dXJuIGkubGVmdD1pLnJpZ2h0PW51bGwsaTt2YXIgbz1yKHQsKG49Z3UodCxuLHIpKS5rZXkpO3JldHVybiBvPDA/KGkubGVmdD1uLmxlZnQsaS5yaWdodD1uLG4ubGVmdD1udWxsKTpvPj0wJiYoaS5yaWdodD1uLnJpZ2h0LGkubGVmdD1uLG4ucmlnaHQ9bnVsbCksaX1mdW5jdGlvbiB5dSh0LGUsbil7dmFyIHI9bnVsbCxpPW51bGw7aWYoZSl7dmFyIG89bigoZT1ndSh0LGUsbikpLmtleSx0KTswPT09bz8ocj1lLmxlZnQsaT1lLnJpZ2h0KTpvPDA/KGk9ZS5yaWdodCxlLnJpZ2h0PW51bGwscj1lKToocj1lLmxlZnQsZS5sZWZ0PW51bGwsaT1lKX1yZXR1cm57bGVmdDpyLHJpZ2h0Oml9fWZ1bmN0aW9uIHZ1KHQsZSxuLHIsaSl7aWYodCl7cihlKyhuPyLilJTilIDilIAgIjoi4pSc4pSA4pSAICIpK2kodCkrIlxuIik7dmFyIG89ZSsobj8iICAgICI6IuKUgiAgICIpO3QubGVmdCYmdnUodC5sZWZ0LG8sITEscixpKSx0LnJpZ2h0JiZ2dSh0LnJpZ2h0LG8sITAscixpKX19dmFyIF91PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD1mdSksdGhpcy5fcm9vdD1udWxsLHRoaXMuX3NpemU9MCx0aGlzLl9jb21wYXJhdG9yPXR9cmV0dXJuIHQucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zaXplKyssdGhpcy5fcm9vdD1kdSh0LGUsdGhpcy5fcm9vdCx0aGlzLl9jb21wYXJhdG9yKX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHB1KHQsZSk7bnVsbD09PXRoaXMuX3Jvb3QmJihuLmxlZnQ9bi5yaWdodD1udWxsLHRoaXMuX3NpemUrKyx0aGlzLl9yb290PW4pO3ZhciByPXRoaXMuX2NvbXBhcmF0b3IsaT1ndSh0LHRoaXMuX3Jvb3Qsciksbz1yKHQsaS5rZXkpO3JldHVybiAwPT09bz90aGlzLl9yb290PWk6KG88MD8obi5sZWZ0PWkubGVmdCxuLnJpZ2h0PWksaS5sZWZ0PW51bGwpOm8+MCYmKG4ucmlnaHQ9aS5yaWdodCxuLmxlZnQ9aSxpLnJpZ2h0PW51bGwpLHRoaXMuX3NpemUrKyx0aGlzLl9yb290PW4pLHRoaXMuX3Jvb3R9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLl9yb290PXRoaXMuX3JlbW92ZSh0LHRoaXMuX3Jvb3QsdGhpcy5fY29tcGFyYXRvcil9LHQucHJvdG90eXBlLl9yZW1vdmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByO3JldHVybiBudWxsPT09ZT9udWxsOjA9PT1uKHQsKGU9Z3UodCxlLG4pKS5rZXkpPyhudWxsPT09ZS5sZWZ0P3I9ZS5yaWdodDoocj1ndSh0LGUubGVmdCxuKSkucmlnaHQ9ZS5yaWdodCx0aGlzLl9zaXplLS0scik6ZX0sdC5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcm9vdDtpZih0KXtmb3IoO3QubGVmdDspdD10LmxlZnQ7cmV0dXJuIHRoaXMuX3Jvb3Q9Z3UodC5rZXksdGhpcy5fcm9vdCx0aGlzLl9jb21wYXJhdG9yKSx0aGlzLl9yb290PXRoaXMuX3JlbW92ZSh0LmtleSx0aGlzLl9yb290LHRoaXMuX2NvbXBhcmF0b3IpLHtrZXk6dC5rZXksZGF0YTp0LmRhdGF9fXJldHVybiBudWxsfSx0LnByb3RvdHlwZS5maW5kU3RhdGljPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9yb290LG49dGhpcy5fY29tcGFyYXRvcjtlOyl7dmFyIHI9bih0LGUua2V5KTtpZigwPT09cilyZXR1cm4gZTtlPXI8MD9lLmxlZnQ6ZS5yaWdodH1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcm9vdCYmKHRoaXMuX3Jvb3Q9Z3UodCx0aGlzLl9yb290LHRoaXMuX2NvbXBhcmF0b3IpLDAhPT10aGlzLl9jb21wYXJhdG9yKHQsdGhpcy5fcm9vdC5rZXkpKT9udWxsOnRoaXMuX3Jvb3R9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9yb290LG49dGhpcy5fY29tcGFyYXRvcjtlOyl7dmFyIHI9bih0LGUua2V5KTtpZigwPT09cilyZXR1cm4hMDtlPXI8MD9lLmxlZnQ6ZS5yaWdodH1yZXR1cm4hMX0sdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9yb290LHI9W10saT0hMTshaTspbnVsbCE9PW4/KHIucHVzaChuKSxuPW4ubGVmdCk6MCE9PXIubGVuZ3RoPyhuPXIucG9wKCksdC5jYWxsKGUsbiksbj1uLnJpZ2h0KTppPSEwO3JldHVybiB0aGlzfSx0LnByb3RvdHlwZS5yYW5nZT1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGk9W10sbz10aGlzLl9jb21wYXJhdG9yLHM9dGhpcy5fcm9vdDswIT09aS5sZW5ndGh8fHM7KWlmKHMpaS5wdXNoKHMpLHM9cy5sZWZ0O2Vsc2V7aWYobygocz1pLnBvcCgpKS5rZXksZSk+MClicmVhaztpZihvKHMua2V5LHQpPj0wJiZuLmNhbGwocixzKSlyZXR1cm4gdGhpcztzPXMucmlnaHR9cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLmtleTtyZXR1cm4gdC5wdXNoKG4pfSkpLHR9LHQucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUuZGF0YTtyZXR1cm4gdC5wdXNoKG4pfSkpLHR9LHQucHJvdG90eXBlLm1pbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290P3RoaXMubWluTm9kZSh0aGlzLl9yb290KS5rZXk6bnVsbH0sdC5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jvb3Q/dGhpcy5tYXhOb2RlKHRoaXMuX3Jvb3QpLmtleTpudWxsfSx0LnByb3RvdHlwZS5taW5Ob2RlPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMuX3Jvb3QpLHQpZm9yKDt0LmxlZnQ7KXQ9dC5sZWZ0O3JldHVybiB0fSx0LnByb3RvdHlwZS5tYXhOb2RlPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PXRoaXMuX3Jvb3QpLHQpZm9yKDt0LnJpZ2h0Oyl0PXQucmlnaHQ7cmV0dXJuIHR9LHQucHJvdG90eXBlLmF0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9yb290LG49ITEscj0wLGk9W107IW47KWlmKGUpaS5wdXNoKGUpLGU9ZS5sZWZ0O2Vsc2UgaWYoaS5sZW5ndGg+MCl7aWYoZT1pLnBvcCgpLHI9PT10KXJldHVybiBlO3IrKyxlPWUucmlnaHR9ZWxzZSBuPSEwO3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3Jvb3Qsbj1udWxsO2lmKHQucmlnaHQpe2ZvcihuPXQucmlnaHQ7bi5sZWZ0OyluPW4ubGVmdDtyZXR1cm4gbn1mb3IodmFyIHI9dGhpcy5fY29tcGFyYXRvcjtlOyl7dmFyIGk9cih0LmtleSxlLmtleSk7aWYoMD09PWkpYnJlYWs7aTwwPyhuPWUsZT1lLmxlZnQpOmU9ZS5yaWdodH1yZXR1cm4gbn0sdC5wcm90b3R5cGUucHJldj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9yb290LG49bnVsbDtpZihudWxsIT09dC5sZWZ0KXtmb3Iobj10LmxlZnQ7bi5yaWdodDspbj1uLnJpZ2h0O3JldHVybiBufWZvcih2YXIgcj10aGlzLl9jb21wYXJhdG9yO2U7KXt2YXIgaT1yKHQua2V5LGUua2V5KTtpZigwPT09aSlicmVhaztpPDA/ZT1lLmxlZnQ6KG49ZSxlPWUucmlnaHQpfXJldHVybiBufSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290PW51bGwsdGhpcy5fc2l6ZT0wLHRoaXN9LHQucHJvdG90eXBlLnRvTGlzdD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZT10LG49W10scj0hMSxpPW5ldyBwdShudWxsLG51bGwpLG89aTtmb3IoOyFyOyllPyhuLnB1c2goZSksZT1lLmxlZnQpOm4ubGVuZ3RoPjA/ZT0oZT1vPW8ubmV4dD1uLnBvcCgpKS5yaWdodDpyPSEwO3JldHVybiBvLm5leHQ9bnVsbCxpLm5leHR9KHRoaXMuX3Jvb3QpfSx0LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1lJiYoZT1bXSksdm9pZCAwPT09biYmKG49ITEpO3ZhciByPXQubGVuZ3RoLGk9dGhpcy5fY29tcGFyYXRvcjtpZihuJiZFdSh0LGUsMCxyLTEsaSksbnVsbD09PXRoaXMuX3Jvb3QpdGhpcy5fcm9vdD1tdSh0LGUsMCxyKSx0aGlzLl9zaXplPXI7ZWxzZXt2YXIgbz1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IHB1KG51bGwsbnVsbCksaT1yLG89dCxzPWU7Zm9yKDtudWxsIT09byYmbnVsbCE9PXM7KW4oby5rZXkscy5rZXkpPDA/KGkubmV4dD1vLG89by5uZXh0KTooaS5uZXh0PXMscz1zLm5leHQpLGk9aS5uZXh0O251bGwhPT1vP2kubmV4dD1vOm51bGwhPT1zJiYoaS5uZXh0PXMpO3JldHVybiByLm5leHR9KHRoaXMudG9MaXN0KCksZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IHB1KG51bGwsbnVsbCkscj1uLGk9MDtpPHQubGVuZ3RoO2krKylyPXIubmV4dD1uZXcgcHUodFtpXSxlW2ldKTtyZXR1cm4gci5uZXh0PW51bGwsbi5uZXh0fSh0LGUpLGkpO3I9dGhpcy5fc2l6ZStyLHRoaXMuX3Jvb3Q9eHUoe2hlYWQ6b30sMCxyKX1yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fcm9vdH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJyb290Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jvb3R9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0LmtleSl9KTt2YXIgZT1bXTtyZXR1cm4gdnUodGhpcy5fcm9vdCwiIiwhMCwoZnVuY3Rpb24odCl7cmV0dXJuIGUucHVzaCh0KX0pLHQpLGUuam9pbigiIil9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5fY29tcGFyYXRvcixpPXl1KHQsdGhpcy5fcm9vdCxyKSxvPWkubGVmdCxzPWkucmlnaHQ7cih0LGUpPDA/cz1kdShlLG4scyxyKTpvPWR1KGUsbixvLHIpLHRoaXMuX3Jvb3Q9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsPT09ZT90OihudWxsPT09dHx8KChlPWd1KHQua2V5LGUsbikpLmxlZnQ9dCksZSl9KG8scyxyKX0sdC5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHl1KHQsdGhpcy5fcm9vdCx0aGlzLl9jb21wYXJhdG9yKX0sdH0oKTtmdW5jdGlvbiBtdSh0LGUsbixyKXt2YXIgaT1yLW47aWYoaT4wKXt2YXIgbz1uK01hdGguZmxvb3IoaS8yKSxzPXRbb10sYT1lW29dLHU9bmV3IHB1KHMsYSk7cmV0dXJuIHUubGVmdD1tdSh0LGUsbixvKSx1LnJpZ2h0PW11KHQsZSxvKzEsciksdX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB4dSh0LGUsbil7dmFyIHI9bi1lO2lmKHI+MCl7dmFyIGk9ZStNYXRoLmZsb29yKHIvMiksbz14dSh0LGUsaSkscz10LmhlYWQ7cmV0dXJuIHMubGVmdD1vLHQuaGVhZD10LmhlYWQubmV4dCxzLnJpZ2h0PXh1KHQsaSsxLG4pLHN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gRXUodCxlLG4scixpKXtpZighKG4+PXIpKXtmb3IodmFyIG89dFtuK3I+PjFdLHM9bi0xLGE9cisxOzspe2Rve3MrK313aGlsZShpKHRbc10sbyk8MCk7ZG97YS0tfXdoaWxlKGkodFthXSxvKT4wKTtpZihzPj1hKWJyZWFrO3ZhciB1PXRbc107dFtzXT10W2FdLHRbYV09dSx1PWVbc10sZVtzXT1lW2FdLGVbYV09dX1FdSh0LGUsbixhLGkpLEV1KHQsZSxhKzEscixpKX19ZnVuY3Rpb24gYnUodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX1mdW5jdGlvbiB3dSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsci5rZXkscil9fWZ1bmN0aW9uIEl1KHQsZSxuKXtyZXR1cm4gZSYmd3UodC5wcm90b3R5cGUsZSksbiYmd3UodCxuKSx0fXZhciBOdT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmxsLng8PWUueCYmZS54PD10LnVyLngmJnQubGwueTw9ZS55JiZlLnk8PXQudXIueX0sU3U9ZnVuY3Rpb24odCxlKXtpZihlLnVyLng8dC5sbC54fHx0LnVyLng8ZS5sbC54fHxlLnVyLnk8dC5sbC55fHx0LnVyLnk8ZS5sbC55KXJldHVybiBudWxsO3ZhciBuPXQubGwueDxlLmxsLng/ZS5sbC54OnQubGwueCxyPXQudXIueDxlLnVyLng/dC51ci54OmUudXIueDtyZXR1cm57bGw6e3g6bix5OnQubGwueTxlLmxsLnk/ZS5sbC55OnQubGwueX0sdXI6e3g6cix5OnQudXIueTxlLnVyLnk/dC51ci55OmUudXIueX19fSxDdT1OdW1iZXIuRVBTSUxPTjt2b2lkIDA9PT1DdSYmKEN1PU1hdGgucG93KDIsLTUyKSk7dmFyIFB1PUN1KkN1LE11PWZ1bmN0aW9uKHQsZSl7aWYoLUN1PHQmJnQ8Q3UmJi1DdTxlJiZlPEN1KXJldHVybiAwO3ZhciBuPXQtZTtyZXR1cm4gbipuPFB1KnQqZT8wOnQ8ZT8tMToxfSxMdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtidSh0aGlzLHQpLHRoaXMucmVzZXQoKX1yZXR1cm4gSXUodCxbe2tleToicmVzZXQiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy54Um91bmRlcj1uZXcgT3UsdGhpcy55Um91bmRlcj1uZXcgT3V9fSx7a2V5OiJyb3VuZCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm57eDp0aGlzLnhSb3VuZGVyLnJvdW5kKHQpLHk6dGhpcy55Um91bmRlci5yb3VuZChlKX19fV0pLHR9KCksT3U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7YnUodGhpcyx0KSx0aGlzLnRyZWU9bmV3IF91LHRoaXMucm91bmQoMCl9cmV0dXJuIEl1KHQsW3trZXk6InJvdW5kIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnRyZWUuYWRkKHQpLG49dGhpcy50cmVlLnByZXYoZSk7aWYobnVsbCE9PW4mJjA9PT1NdShlLmtleSxuLmtleSkpcmV0dXJuIHRoaXMudHJlZS5yZW1vdmUodCksbi5rZXk7dmFyIHI9dGhpcy50cmVlLm5leHQoZSk7cmV0dXJuIG51bGwhPT1yJiYwPT09TXUoZS5rZXksci5rZXkpPyh0aGlzLnRyZWUucmVtb3ZlKHQpLHIua2V5KTp0fX1dKSx0fSgpLFJ1PW5ldyBMdSxUdT1mdW5jdGlvbih0LGUpe3JldHVybiB0LngqZS55LXQueSplLnh9LEF1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueCplLngrdC55KmUueX0sRHU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXt4OmUueC10LngseTplLnktdC55fSxpPXt4Om4ueC10LngseTpuLnktdC55fSxvPVR1KHIsaSk7cmV0dXJuIE11KG8sMCl9LEZ1PWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoQXUodCx0KSl9LGt1PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj17eDplLngtdC54LHk6ZS55LXQueX0saT17eDpuLngtdC54LHk6bi55LXQueX07cmV0dXJuIEF1KGkscikvRnUoaSkvRnUocil9LEd1PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gMD09PWUueT9udWxsOnt4OnQueCtlLngvZS55KihuLXQueSkseTpufX0scXU9ZnVuY3Rpb24odCxlLG4pe3JldHVybiAwPT09ZS54P251bGw6e3g6bix5OnQueStlLnkvZS54KihuLXQueCl9fSxCdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtidSh0aGlzLHQpLHZvaWQgMD09PWUuZXZlbnRzP2UuZXZlbnRzPVt0aGlzXTplLmV2ZW50cy5wdXNoKHRoaXMpLHRoaXMucG9pbnQ9ZSx0aGlzLmlzTGVmdD1ufXJldHVybiBJdSh0LG51bGwsW3trZXk6ImNvbXBhcmUiLHZhbHVlOmZ1bmN0aW9uKGUsbil7dmFyIHI9dC5jb21wYXJlUG9pbnRzKGUucG9pbnQsbi5wb2ludCk7cmV0dXJuIDAhPT1yP3I6KGUucG9pbnQhPT1uLnBvaW50JiZlLmxpbmsobiksZS5pc0xlZnQhPT1uLmlzTGVmdD9lLmlzTGVmdD8xOi0xOmp1LmNvbXBhcmUoZS5zZWdtZW50LG4uc2VnbWVudCkpfX0se2tleToiY29tcGFyZVBvaW50cyIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC54PGUueD8tMTp0Lng+ZS54PzE6dC55PGUueT8tMTp0Lnk+ZS55PzE6MH19XSksSXUodCxbe2tleToibGluayIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodC5wb2ludD09PXRoaXMucG9pbnQpdGhyb3cgbmV3IEVycm9yKCJUcmllZCB0byBsaW5rIGFscmVhZHkgbGlua2VkIGV2ZW50cyIpO2Zvcih2YXIgZT10LnBvaW50LmV2ZW50cyxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXt2YXIgaT1lW25dO3RoaXMucG9pbnQuZXZlbnRzLnB1c2goaSksaS5wb2ludD10aGlzLnBvaW50fXRoaXMuY2hlY2tGb3JDb25zdW1pbmcoKX19LHtrZXk6ImNoZWNrRm9yQ29uc3VtaW5nIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBvaW50LmV2ZW50cy5sZW5ndGgsZT0wO2U8dDtlKyspe3ZhciBuPXRoaXMucG9pbnQuZXZlbnRzW2VdO2lmKHZvaWQgMD09PW4uc2VnbWVudC5jb25zdW1lZEJ5KWZvcih2YXIgcj1lKzE7cjx0O3IrKyl7dmFyIGk9dGhpcy5wb2ludC5ldmVudHNbcl07dm9pZCAwPT09aS5jb25zdW1lZEJ5JiYobi5vdGhlclNFLnBvaW50LmV2ZW50cz09PWkub3RoZXJTRS5wb2ludC5ldmVudHMmJm4uc2VnbWVudC5jb25zdW1lKGkuc2VnbWVudCkpfX19fSx7a2V5OiJnZXRBdmFpbGFibGVMaW5rZWRFdmVudHMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMucG9pbnQuZXZlbnRzLmxlbmd0aDtlPG47ZSsrKXt2YXIgcj10aGlzLnBvaW50LmV2ZW50c1tlXTtyIT09dGhpcyYmIXIuc2VnbWVudC5yaW5nT3V0JiZyLnNlZ21lbnQuaXNJblJlc3VsdCgpJiZ0LnB1c2gocil9cmV0dXJuIHR9fSx7a2V5OiJnZXRMZWZ0bW9zdENvbXBhcmF0b3IiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1uZXcgTWFwLHI9ZnVuY3Rpb24ocil7dmFyIGksbyxzLGEsdSxsPXIub3RoZXJTRTtuLnNldChyLHtzaW5lOihpPWUucG9pbnQsbz10LnBvaW50LHM9bC5wb2ludCxhPXt4Om8ueC1pLngseTpvLnktaS55fSx1PXt4OnMueC1pLngseTpzLnktaS55fSxUdSh1LGEpL0Z1KHUpL0Z1KGEpKSxjb3NpbmU6a3UoZS5wb2ludCx0LnBvaW50LGwucG9pbnQpfSl9O3JldHVybiBmdW5jdGlvbih0LGUpe24uaGFzKHQpfHxyKHQpLG4uaGFzKGUpfHxyKGUpO3ZhciBpPW4uZ2V0KHQpLG89aS5zaW5lLHM9aS5jb3NpbmUsYT1uLmdldChlKSx1PWEuc2luZSxsPWEuY29zaW5lO3JldHVybiBvPj0wJiZ1Pj0wP3M8bD8xOnM+bD8tMTowOm88MCYmdTwwP3M8bD8tMTpzPmw/MTowOnU8bz8tMTp1Pm8/MTowfX19XSksdH0oKSx6dT0wLGp1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4scixpKXtidSh0aGlzLHQpLHRoaXMuaWQ9Kyt6dSx0aGlzLmxlZnRTRT1lLGUuc2VnbWVudD10aGlzLGUub3RoZXJTRT1uLHRoaXMucmlnaHRTRT1uLG4uc2VnbWVudD10aGlzLG4ub3RoZXJTRT1lLHRoaXMucmluZ3M9cix0aGlzLndpbmRpbmdzPWl9cmV0dXJuIEl1KHQsbnVsbCxbe2tleToiY29tcGFyZSIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgbj10LmxlZnRTRS5wb2ludC54LHI9ZS5sZWZ0U0UucG9pbnQueCxpPXQucmlnaHRTRS5wb2ludC54LG89ZS5yaWdodFNFLnBvaW50Lng7aWYobzxuKXJldHVybiAxO2lmKGk8cilyZXR1cm4tMTt2YXIgcz10LmxlZnRTRS5wb2ludC55LGE9ZS5sZWZ0U0UucG9pbnQueSx1PXQucmlnaHRTRS5wb2ludC55LGw9ZS5yaWdodFNFLnBvaW50Lnk7aWYobjxyKXtpZihhPHMmJmE8dSlyZXR1cm4gMTtpZihhPnMmJmE+dSlyZXR1cm4tMTt2YXIgYz10LmNvbXBhcmVQb2ludChlLmxlZnRTRS5wb2ludCk7aWYoYzwwKXJldHVybiAxO2lmKGM+MClyZXR1cm4tMTt2YXIgaD1lLmNvbXBhcmVQb2ludCh0LnJpZ2h0U0UucG9pbnQpO3JldHVybiAwIT09aD9oOi0xfWlmKG4+cil7aWYoczxhJiZzPGwpcmV0dXJuLTE7aWYocz5hJiZzPmwpcmV0dXJuIDE7dmFyIHA9ZS5jb21wYXJlUG9pbnQodC5sZWZ0U0UucG9pbnQpO2lmKDAhPT1wKXJldHVybiBwO3ZhciBmPXQuY29tcGFyZVBvaW50KGUucmlnaHRTRS5wb2ludCk7cmV0dXJuIGY8MD8xOmY+MD8tMToxfWlmKHM8YSlyZXR1cm4tMTtpZihzPmEpcmV0dXJuIDE7aWYoaTxvKXt2YXIgZz1lLmNvbXBhcmVQb2ludCh0LnJpZ2h0U0UucG9pbnQpO2lmKDAhPT1nKXJldHVybiBnfWlmKGk+byl7dmFyIGQ9dC5jb21wYXJlUG9pbnQoZS5yaWdodFNFLnBvaW50KTtpZihkPDApcmV0dXJuIDE7aWYoZD4wKXJldHVybi0xfWlmKGkhPT1vKXt2YXIgeT11LXMsdj1pLW4sXz1sLWEsbT1vLXI7aWYoeT52JiZfPG0pcmV0dXJuIDE7aWYoeTx2JiZfPm0pcmV0dXJuLTF9cmV0dXJuIGk+bz8xOmk8b3x8dTxsPy0xOnU+bD8xOnQuaWQ8ZS5pZD8tMTp0LmlkPmUuaWQ/MTowfX1dKSxJdSh0LFt7a2V5OiJyZXBsYWNlUmlnaHRTRSIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yaWdodFNFPXQsdGhpcy5yaWdodFNFLnNlZ21lbnQ9dGhpcyx0aGlzLnJpZ2h0U0Uub3RoZXJTRT10aGlzLmxlZnRTRSx0aGlzLmxlZnRTRS5vdGhlclNFPXRoaXMucmlnaHRTRX19LHtrZXk6ImJib3giLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sZWZ0U0UucG9pbnQueSxlPXRoaXMucmlnaHRTRS5wb2ludC55O3JldHVybntsbDp7eDp0aGlzLmxlZnRTRS5wb2ludC54LHk6dDxlP3Q6ZX0sdXI6e3g6dGhpcy5yaWdodFNFLnBvaW50LngseTp0PmU/dDplfX19fSx7a2V5OiJ2ZWN0b3IiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue3g6dGhpcy5yaWdodFNFLnBvaW50LngtdGhpcy5sZWZ0U0UucG9pbnQueCx5OnRoaXMucmlnaHRTRS5wb2ludC55LXRoaXMubGVmdFNFLnBvaW50Lnl9fX0se2tleToiaXNBbkVuZHBvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC54PT09dGhpcy5sZWZ0U0UucG9pbnQueCYmdC55PT09dGhpcy5sZWZ0U0UucG9pbnQueXx8dC54PT09dGhpcy5yaWdodFNFLnBvaW50LngmJnQueT09PXRoaXMucmlnaHRTRS5wb2ludC55fX0se2tleToiY29tcGFyZVBvaW50Iix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmlzQW5FbmRwb2ludCh0KSlyZXR1cm4gMDt2YXIgZT10aGlzLmxlZnRTRS5wb2ludCxuPXRoaXMucmlnaHRTRS5wb2ludCxyPXRoaXMudmVjdG9yKCk7aWYoZS54PT09bi54KXJldHVybiB0Lng9PT1lLng/MDp0Lng8ZS54PzE6LTE7dmFyIGk9KHQueS1lLnkpL3IueSxvPWUueCtpKnIueDtpZih0Lng9PT1vKXJldHVybiAwO3ZhciBzPSh0LngtZS54KS9yLngsYT1lLnkrcypyLnk7cmV0dXJuIHQueT09PWE/MDp0Lnk8YT8tMToxfX0se2tleToiZ2V0SW50ZXJzZWN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJib3goKSxuPXQuYmJveCgpLHI9U3UoZSxuKTtpZihudWxsPT09cilyZXR1cm4gbnVsbDt2YXIgaT10aGlzLmxlZnRTRS5wb2ludCxvPXRoaXMucmlnaHRTRS5wb2ludCxzPXQubGVmdFNFLnBvaW50LGE9dC5yaWdodFNFLnBvaW50LHU9TnUoZSxzKSYmMD09PXRoaXMuY29tcGFyZVBvaW50KHMpLGw9TnUobixpKSYmMD09PXQuY29tcGFyZVBvaW50KGkpLGM9TnUoZSxhKSYmMD09PXRoaXMuY29tcGFyZVBvaW50KGEpLGg9TnUobixvKSYmMD09PXQuY29tcGFyZVBvaW50KG8pO2lmKGwmJnUpcmV0dXJuIGgmJiFjP286IWgmJmM/YTpudWxsO2lmKGwpcmV0dXJuIGMmJmkueD09PWEueCYmaS55PT09YS55P251bGw6aTtpZih1KXJldHVybiBoJiZvLng9PT1zLngmJm8ueT09PXMueT9udWxsOnM7aWYoaCYmYylyZXR1cm4gbnVsbDtpZihoKXJldHVybiBvO2lmKGMpcmV0dXJuIGE7dmFyIHA9ZnVuY3Rpb24odCxlLG4scil7aWYoMD09PWUueClyZXR1cm4gcXUobixyLHQueCk7aWYoMD09PXIueClyZXR1cm4gcXUodCxlLG4ueCk7aWYoMD09PWUueSlyZXR1cm4gR3UobixyLHQueSk7aWYoMD09PXIueSlyZXR1cm4gR3UodCxlLG4ueSk7dmFyIGk9VHUoZSxyKTtpZigwPT1pKXJldHVybiBudWxsO3ZhciBvPXt4Om4ueC10LngseTpuLnktdC55fSxzPVR1KG8sZSkvaSxhPVR1KG8scikvaTtyZXR1cm57eDoodC54K2EqZS54KyhuLngrcypyLngpKS8yLHk6KHQueSthKmUueSsobi55K3Mqci55KSkvMn19KGksdGhpcy52ZWN0b3IoKSxzLHQudmVjdG9yKCkpO3JldHVybiBudWxsPT09cD9udWxsOk51KHIscCk/UnUucm91bmQocC54LHAueSk6bnVsbH19LHtrZXk6InNwbGl0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgbj1bXSxyPXZvaWQgMCE9PWUuZXZlbnRzLGk9bmV3IEJ1KGUsITApLG89bmV3IEJ1KGUsITEpLHM9dGhpcy5yaWdodFNFO3RoaXMucmVwbGFjZVJpZ2h0U0Uobyksbi5wdXNoKG8pLG4ucHVzaChpKTt2YXIgYT1uZXcgdChpLHMsdGhpcy5yaW5ncy5zbGljZSgpLHRoaXMud2luZGluZ3Muc2xpY2UoKSk7cmV0dXJuIEJ1LmNvbXBhcmVQb2ludHMoYS5sZWZ0U0UucG9pbnQsYS5yaWdodFNFLnBvaW50KT4wJiZhLnN3YXBFdmVudHMoKSxCdS5jb21wYXJlUG9pbnRzKHRoaXMubGVmdFNFLnBvaW50LHRoaXMucmlnaHRTRS5wb2ludCk+MCYmdGhpcy5zd2FwRXZlbnRzKCksciYmKGkuY2hlY2tGb3JDb25zdW1pbmcoKSxvLmNoZWNrRm9yQ29uc3VtaW5nKCkpLG59fSx7a2V5OiJzd2FwRXZlbnRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmlnaHRTRTt0aGlzLnJpZ2h0U0U9dGhpcy5sZWZ0U0UsdGhpcy5sZWZ0U0U9dCx0aGlzLmxlZnRTRS5pc0xlZnQ9ITAsdGhpcy5yaWdodFNFLmlzTGVmdD0hMTtmb3IodmFyIGU9MCxuPXRoaXMud2luZGluZ3MubGVuZ3RoO2U8bjtlKyspdGhpcy53aW5kaW5nc1tlXSo9LTF9fSx7a2V5OiJjb25zdW1lIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIG49dGhpcyxyPWU7bi5jb25zdW1lZEJ5OyluPW4uY29uc3VtZWRCeTtmb3IoO3IuY29uc3VtZWRCeTspcj1yLmNvbnN1bWVkQnk7dmFyIGk9dC5jb21wYXJlKG4scik7aWYoMCE9PWkpe2lmKGk+MCl7dmFyIG89bjtuPXIscj1vfWlmKG4ucHJldj09PXIpe3ZhciBzPW47bj1yLHI9c31mb3IodmFyIGE9MCx1PXIucmluZ3MubGVuZ3RoO2E8dTthKyspe3ZhciBsPXIucmluZ3NbYV0sYz1yLndpbmRpbmdzW2FdLGg9bi5yaW5ncy5pbmRleE9mKGwpOy0xPT09aD8obi5yaW5ncy5wdXNoKGwpLG4ud2luZGluZ3MucHVzaChjKSk6bi53aW5kaW5nc1toXSs9Y31yLnJpbmdzPW51bGwsci53aW5kaW5ncz1udWxsLHIuY29uc3VtZWRCeT1uLHIubGVmdFNFLmNvbnN1bWVkQnk9bi5sZWZ0U0Usci5yaWdodFNFLmNvbnN1bWVkQnk9bi5yaWdodFNFfX19LHtrZXk6InByZXZJblJlc3VsdCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fcHJldkluUmVzdWx0fHwodGhpcy5wcmV2P3RoaXMucHJldi5pc0luUmVzdWx0KCk/dGhpcy5fcHJldkluUmVzdWx0PXRoaXMucHJldjp0aGlzLl9wcmV2SW5SZXN1bHQ9dGhpcy5wcmV2LnByZXZJblJlc3VsdCgpOnRoaXMuX3ByZXZJblJlc3VsdD1udWxsKSx0aGlzLl9wcmV2SW5SZXN1bHR9fSx7a2V5OiJiZWZvcmVTdGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzLl9iZWZvcmVTdGF0ZSlyZXR1cm4gdGhpcy5fYmVmb3JlU3RhdGU7aWYodGhpcy5wcmV2KXt2YXIgdD10aGlzLnByZXYuY29uc3VtZWRCeXx8dGhpcy5wcmV2O3RoaXMuX2JlZm9yZVN0YXRlPXQuYWZ0ZXJTdGF0ZSgpfWVsc2UgdGhpcy5fYmVmb3JlU3RhdGU9e3JpbmdzOltdLHdpbmRpbmdzOltdLG11bHRpUG9seXM6W119O3JldHVybiB0aGlzLl9iZWZvcmVTdGF0ZX19LHtrZXk6ImFmdGVyU3RhdGUiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dGhpcy5fYWZ0ZXJTdGF0ZSlyZXR1cm4gdGhpcy5fYWZ0ZXJTdGF0ZTt2YXIgdD10aGlzLmJlZm9yZVN0YXRlKCk7dGhpcy5fYWZ0ZXJTdGF0ZT17cmluZ3M6dC5yaW5ncy5zbGljZSgwKSx3aW5kaW5nczp0LndpbmRpbmdzLnNsaWNlKDApLG11bHRpUG9seXM6W119O2Zvcih2YXIgZT10aGlzLl9hZnRlclN0YXRlLnJpbmdzLG49dGhpcy5fYWZ0ZXJTdGF0ZS53aW5kaW5ncyxyPXRoaXMuX2FmdGVyU3RhdGUubXVsdGlQb2x5cyxpPTAsbz10aGlzLnJpbmdzLmxlbmd0aDtpPG87aSsrKXt2YXIgcz10aGlzLnJpbmdzW2ldLGE9dGhpcy53aW5kaW5nc1tpXSx1PWUuaW5kZXhPZihzKTstMT09PXU/KGUucHVzaChzKSxuLnB1c2goYSkpOm5bdV0rPWF9Zm9yKHZhciBsPVtdLGM9W10saD0wLHA9ZS5sZW5ndGg7aDxwO2grKylpZigwIT09bltoXSl7dmFyIGY9ZVtoXSxnPWYucG9seTtpZigtMT09PWMuaW5kZXhPZihnKSlpZihmLmlzRXh0ZXJpb3IpbC5wdXNoKGcpO2Vsc2V7LTE9PT1jLmluZGV4T2YoZykmJmMucHVzaChnKTt2YXIgZD1sLmluZGV4T2YoZi5wb2x5KTstMSE9PWQmJmwuc3BsaWNlKGQsMSl9fWZvcih2YXIgeT0wLHY9bC5sZW5ndGg7eTx2O3krKyl7dmFyIF89bFt5XS5tdWx0aVBvbHk7LTE9PT1yLmluZGV4T2YoXykmJnIucHVzaChfKX1yZXR1cm4gdGhpcy5fYWZ0ZXJTdGF0ZX19LHtrZXk6ImlzSW5SZXN1bHQiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5jb25zdW1lZEJ5KXJldHVybiExO2lmKHZvaWQgMCE9PXRoaXMuX2lzSW5SZXN1bHQpcmV0dXJuIHRoaXMuX2lzSW5SZXN1bHQ7dmFyIHQ9dGhpcy5iZWZvcmVTdGF0ZSgpLm11bHRpUG9seXMsZT10aGlzLmFmdGVyU3RhdGUoKS5tdWx0aVBvbHlzO3N3aXRjaChRdS50eXBlKXtjYXNlInVuaW9uIjp2YXIgbj0wPT09dC5sZW5ndGgscj0wPT09ZS5sZW5ndGg7dGhpcy5faXNJblJlc3VsdD1uIT09cjticmVhaztjYXNlImludGVyc2VjdGlvbiI6dmFyIGksbzt0Lmxlbmd0aDxlLmxlbmd0aD8oaT10Lmxlbmd0aCxvPWUubGVuZ3RoKTooaT1lLmxlbmd0aCxvPXQubGVuZ3RoKSx0aGlzLl9pc0luUmVzdWx0PW89PT1RdS5udW1NdWx0aVBvbHlzJiZpPG87YnJlYWs7Y2FzZSJ4b3IiOnZhciBzPU1hdGguYWJzKHQubGVuZ3RoLWUubGVuZ3RoKTt0aGlzLl9pc0luUmVzdWx0PXMlMj09MTticmVhaztjYXNlImRpZmZlcmVuY2UiOnZhciBhPWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dC5sZW5ndGgmJnRbMF0uaXNTdWJqZWN0fTt0aGlzLl9pc0luUmVzdWx0PWEodCkhPT1hKGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgb3BlcmF0aW9uIHR5cGUgZm91bmQgIi5jb25jYXQoUXUudHlwZSkpfXJldHVybiB0aGlzLl9pc0luUmVzdWx0fX1dLFt7a2V5OiJmcm9tUmluZyIsdmFsdWU6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG8scyxhPUJ1LmNvbXBhcmVQb2ludHMoZSxuKTtpZihhPDApaT1lLG89bixzPTE7ZWxzZXtpZighKGE+MCkpdGhyb3cgbmV3IEVycm9yKCJUcmllZCB0byBjcmVhdGUgZGVnZW5lcmF0ZSBzZWdtZW50IGF0IFsiLmNvbmNhdChlLngsIiwgIikuY29uY2F0KGUueSwiXSIpKTtpPW4sbz1lLHM9LTF9cmV0dXJuIG5ldyB0KG5ldyBCdShpLCEwKSxuZXcgQnUobywhMSksW3JdLFtzXSl9fV0pLHR9KCksVXU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbixyKXtpZihidSh0aGlzLHQpLCFBcnJheS5pc0FycmF5KGUpfHwwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvbiIpO2lmKHRoaXMucG9seT1uLHRoaXMuaXNFeHRlcmlvcj1yLHRoaXMuc2VnbWVudHM9W10sIm51bWJlciIhPXR5cGVvZiBlWzBdWzBdfHwibnVtYmVyIiE9dHlwZW9mIGVbMF1bMV0pdGhyb3cgbmV3IEVycm9yKCJJbnB1dCBnZW9tZXRyeSBpcyBub3QgYSB2YWxpZCBQb2x5Z29uIG9yIE11bHRpUG9seWdvbiIpO3ZhciBpPVJ1LnJvdW5kKGVbMF1bMF0sZVswXVsxXSk7dGhpcy5iYm94PXtsbDp7eDppLngseTppLnl9LHVyOnt4OmkueCx5OmkueX19O2Zvcih2YXIgbz1pLHM9MSxhPWUubGVuZ3RoO3M8YTtzKyspe2lmKCJudW1iZXIiIT10eXBlb2YgZVtzXVswXXx8Im51bWJlciIhPXR5cGVvZiBlW3NdWzFdKXRocm93IG5ldyBFcnJvcigiSW5wdXQgZ2VvbWV0cnkgaXMgbm90IGEgdmFsaWQgUG9seWdvbiBvciBNdWx0aVBvbHlnb24iKTt2YXIgdT1SdS5yb3VuZChlW3NdWzBdLGVbc11bMV0pO3UueD09PW8ueCYmdS55PT09by55fHwodGhpcy5zZWdtZW50cy5wdXNoKGp1LmZyb21SaW5nKG8sdSx0aGlzKSksdS54PHRoaXMuYmJveC5sbC54JiYodGhpcy5iYm94LmxsLng9dS54KSx1Lnk8dGhpcy5iYm94LmxsLnkmJih0aGlzLmJib3gubGwueT11LnkpLHUueD50aGlzLmJib3gudXIueCYmKHRoaXMuYmJveC51ci54PXUueCksdS55PnRoaXMuYmJveC51ci55JiYodGhpcy5iYm94LnVyLnk9dS55KSxvPXUpfWkueD09PW8ueCYmaS55PT09by55fHx0aGlzLnNlZ21lbnRzLnB1c2goanUuZnJvbVJpbmcobyxpLHRoaXMpKX1yZXR1cm4gSXUodCxbe2tleToiZ2V0U3dlZXBFdmVudHMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMuc2VnbWVudHMubGVuZ3RoO2U8bjtlKyspe3ZhciByPXRoaXMuc2VnbWVudHNbZV07dC5wdXNoKHIubGVmdFNFKSx0LnB1c2goci5yaWdodFNFKX1yZXR1cm4gdH19XSksdH0oKSxWdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtpZihidSh0aGlzLHQpLCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcigiSW5wdXQgZ2VvbWV0cnkgaXMgbm90IGEgdmFsaWQgUG9seWdvbiBvciBNdWx0aVBvbHlnb24iKTt0aGlzLmV4dGVyaW9yUmluZz1uZXcgVXUoZVswXSx0aGlzLCEwKSx0aGlzLmJib3g9e2xsOnt4OnRoaXMuZXh0ZXJpb3JSaW5nLmJib3gubGwueCx5OnRoaXMuZXh0ZXJpb3JSaW5nLmJib3gubGwueX0sdXI6e3g6dGhpcy5leHRlcmlvclJpbmcuYmJveC51ci54LHk6dGhpcy5leHRlcmlvclJpbmcuYmJveC51ci55fX0sdGhpcy5pbnRlcmlvclJpbmdzPVtdO2Zvcih2YXIgcj0xLGk9ZS5sZW5ndGg7cjxpO3IrKyl7dmFyIG89bmV3IFV1KGVbcl0sdGhpcywhMSk7by5iYm94LmxsLng8dGhpcy5iYm94LmxsLngmJih0aGlzLmJib3gubGwueD1vLmJib3gubGwueCksby5iYm94LmxsLnk8dGhpcy5iYm94LmxsLnkmJih0aGlzLmJib3gubGwueT1vLmJib3gubGwueSksby5iYm94LnVyLng+dGhpcy5iYm94LnVyLngmJih0aGlzLmJib3gudXIueD1vLmJib3gudXIueCksby5iYm94LnVyLnk+dGhpcy5iYm94LnVyLnkmJih0aGlzLmJib3gudXIueT1vLmJib3gudXIueSksdGhpcy5pbnRlcmlvclJpbmdzLnB1c2gobyl9dGhpcy5tdWx0aVBvbHk9bn1yZXR1cm4gSXUodCxbe2tleToiZ2V0U3dlZXBFdmVudHMiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZXh0ZXJpb3JSaW5nLmdldFN3ZWVwRXZlbnRzKCksZT0wLG49dGhpcy5pbnRlcmlvclJpbmdzLmxlbmd0aDtlPG47ZSsrKWZvcih2YXIgcj10aGlzLmludGVyaW9yUmluZ3NbZV0uZ2V0U3dlZXBFdmVudHMoKSxpPTAsbz1yLmxlbmd0aDtpPG87aSsrKXQucHVzaChyW2ldKTtyZXR1cm4gdH19XSksdH0oKSxYdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxuKXtpZihidSh0aGlzLHQpLCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcigiSW5wdXQgZ2VvbWV0cnkgaXMgbm90IGEgdmFsaWQgUG9seWdvbiBvciBNdWx0aVBvbHlnb24iKTt0cnl7Im51bWJlciI9PXR5cGVvZiBlWzBdWzBdWzBdJiYoZT1bZV0pfWNhdGNoKHQpe310aGlzLnBvbHlzPVtdLHRoaXMuYmJveD17bGw6e3g6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx1cjp7eDpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkseTpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFl9fTtmb3IodmFyIHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe3ZhciBvPW5ldyBWdShlW3JdLHRoaXMpO28uYmJveC5sbC54PHRoaXMuYmJveC5sbC54JiYodGhpcy5iYm94LmxsLng9by5iYm94LmxsLngpLG8uYmJveC5sbC55PHRoaXMuYmJveC5sbC55JiYodGhpcy5iYm94LmxsLnk9by5iYm94LmxsLnkpLG8uYmJveC51ci54PnRoaXMuYmJveC51ci54JiYodGhpcy5iYm94LnVyLng9by5iYm94LnVyLngpLG8uYmJveC51ci55PnRoaXMuYmJveC51ci55JiYodGhpcy5iYm94LnVyLnk9by5iYm94LnVyLnkpLHRoaXMucG9seXMucHVzaChvKX10aGlzLmlzU3ViamVjdD1ufXJldHVybiBJdSh0LFt7a2V5OiJnZXRTd2VlcEV2ZW50cyIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wLG49dGhpcy5wb2x5cy5sZW5ndGg7ZTxuO2UrKylmb3IodmFyIHI9dGhpcy5wb2x5c1tlXS5nZXRTd2VlcEV2ZW50cygpLGk9MCxvPXIubGVuZ3RoO2k8bztpKyspdC5wdXNoKHJbaV0pO3JldHVybiB0fX1dKSx0fSgpLFl1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtidSh0aGlzLHQpLHRoaXMuZXZlbnRzPWU7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWVbbl0uc2VnbWVudC5yaW5nT3V0PXRoaXM7dGhpcy5wb2x5PW51bGx9cmV0dXJuIEl1KHQsbnVsbCxbe2tleToiZmFjdG9yeSIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPVtdLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspe3ZhciBvPWVbcl07aWYoby5pc0luUmVzdWx0KCkmJiFvLnJpbmdPdXQpe2Zvcih2YXIgcz1udWxsLGE9by5sZWZ0U0UsdT1vLnJpZ2h0U0UsbD1bYV0sYz1hLnBvaW50LGg9W107cz1hLGE9dSxsLnB1c2goYSksYS5wb2ludCE9PWM7KWZvcig7Oyl7dmFyIHA9YS5nZXRBdmFpbGFibGVMaW5rZWRFdmVudHMoKTtpZigwPT09cC5sZW5ndGgpe3ZhciBmPWxbMF0ucG9pbnQsZz1sW2wubGVuZ3RoLTFdLnBvaW50O3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNvbXBsZXRlIG91dHB1dCByaW5nIHN0YXJ0aW5nIGF0IFsiLmNvbmNhdChmLngsIiwiKSsiICIuY29uY2F0KGYueSwiXS4gTGFzdCBtYXRjaGluZyBzZWdtZW50IGZvdW5kIGVuZHMgYXQiKSsiIFsiLmNvbmNhdChnLngsIiwgIikuY29uY2F0KGcueSwiXS4iKSl9aWYoMT09PXAubGVuZ3RoKXt1PXBbMF0ub3RoZXJTRTticmVha31mb3IodmFyIGQ9bnVsbCx5PTAsdj1oLmxlbmd0aDt5PHY7eSsrKWlmKGhbeV0ucG9pbnQ9PT1hLnBvaW50KXtkPXk7YnJlYWt9aWYobnVsbD09PWQpe2gucHVzaCh7aW5kZXg6bC5sZW5ndGgscG9pbnQ6YS5wb2ludH0pO3ZhciBfPWEuZ2V0TGVmdG1vc3RDb21wYXJhdG9yKHMpO3U9cC5zb3J0KF8pWzBdLm90aGVyU0U7YnJlYWt9dmFyIG09aC5zcGxpY2UoZClbMF0seD1sLnNwbGljZShtLmluZGV4KTt4LnVuc2hpZnQoeFswXS5vdGhlclNFKSxuLnB1c2gobmV3IHQoeC5yZXZlcnNlKCkpKX1uLnB1c2gobmV3IHQobCkpfX1yZXR1cm4gbn19XSksSXUodCxbe2tleToiZ2V0R2VvbSIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5ldmVudHNbMF0ucG9pbnQsZT1bdF0sbj0xLHI9dGhpcy5ldmVudHMubGVuZ3RoLTE7bjxyO24rKyl7dmFyIGk9dGhpcy5ldmVudHNbbl0ucG9pbnQsbz10aGlzLmV2ZW50c1tuKzFdLnBvaW50OzAhPT1EdShpLHQsbykmJihlLnB1c2goaSksdD1pKX1pZigxPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHM9ZVswXSxhPWVbMV07MD09PUR1KHMsdCxhKSYmZS5zaGlmdCgpLGUucHVzaChlWzBdKTtmb3IodmFyIHU9dGhpcy5pc0V4dGVyaW9yUmluZygpPzE6LTEsbD10aGlzLmlzRXh0ZXJpb3JSaW5nKCk/MDplLmxlbmd0aC0xLGM9dGhpcy5pc0V4dGVyaW9yUmluZygpP2UubGVuZ3RoOi0xLGg9W10scD1sO3AhPWM7cCs9dSloLnB1c2goW2VbcF0ueCxlW3BdLnldKTtyZXR1cm4gaH19LHtrZXk6ImlzRXh0ZXJpb3JSaW5nIix2YWx1ZTpmdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMuX2lzRXh0ZXJpb3JSaW5nKXt2YXIgdD10aGlzLmVuY2xvc2luZ1JpbmcoKTt0aGlzLl9pc0V4dGVyaW9yUmluZz0hdHx8IXQuaXNFeHRlcmlvclJpbmcoKX1yZXR1cm4gdGhpcy5faXNFeHRlcmlvclJpbmd9fSx7a2V5OiJlbmNsb3NpbmdSaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9lbmNsb3NpbmdSaW5nJiYodGhpcy5fZW5jbG9zaW5nUmluZz10aGlzLl9jYWxjRW5jbG9zaW5nUmluZygpKSx0aGlzLl9lbmNsb3NpbmdSaW5nfX0se2tleToiX2NhbGNFbmNsb3NpbmdSaW5nIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmV2ZW50c1swXSxlPTEsbj10aGlzLmV2ZW50cy5sZW5ndGg7ZTxuO2UrKyl7dmFyIHI9dGhpcy5ldmVudHNbZV07QnUuY29tcGFyZSh0LHIpPjAmJih0PXIpfWZvcih2YXIgaT10LnNlZ21lbnQucHJldkluUmVzdWx0KCksbz1pP2kucHJldkluUmVzdWx0KCk6bnVsbDs7KXtpZighaSlyZXR1cm4gbnVsbDtpZighbylyZXR1cm4gaS5yaW5nT3V0O2lmKG8ucmluZ091dCE9PWkucmluZ091dClyZXR1cm4gby5yaW5nT3V0LmVuY2xvc2luZ1JpbmcoKSE9PWkucmluZ091dD9pLnJpbmdPdXQ6aS5yaW5nT3V0LmVuY2xvc2luZ1JpbmcoKTtpPW8ucHJldkluUmVzdWx0KCksbz1pP2kucHJldkluUmVzdWx0KCk6bnVsbH19fV0pLHR9KCksSHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2J1KHRoaXMsdCksdGhpcy5leHRlcmlvclJpbmc9ZSxlLnBvbHk9dGhpcyx0aGlzLmludGVyaW9yUmluZ3M9W119cmV0dXJuIEl1KHQsW3trZXk6ImFkZEludGVyaW9yIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmludGVyaW9yUmluZ3MucHVzaCh0KSx0LnBvbHk9dGhpc319LHtrZXk6ImdldEdlb20iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9W3RoaXMuZXh0ZXJpb3JSaW5nLmdldEdlb20oKV07aWYobnVsbD09PXRbMF0pcmV0dXJuIG51bGw7Zm9yKHZhciBlPTAsbj10aGlzLmludGVyaW9yUmluZ3MubGVuZ3RoO2U8bjtlKyspe3ZhciByPXRoaXMuaW50ZXJpb3JSaW5nc1tlXS5nZXRHZW9tKCk7bnVsbCE9PXImJnQucHVzaChyKX1yZXR1cm4gdH19XSksdH0oKSxXdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7YnUodGhpcyx0KSx0aGlzLnJpbmdzPWUsdGhpcy5wb2x5cz10aGlzLl9jb21wb3NlUG9seXMoZSl9cmV0dXJuIEl1KHQsW3trZXk6ImdldEdlb20iLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMucG9seXMubGVuZ3RoO2U8bjtlKyspe3ZhciByPXRoaXMucG9seXNbZV0uZ2V0R2VvbSgpO251bGwhPT1yJiZ0LnB1c2gocil9cmV0dXJuIHR9fSx7a2V5OiJfY29tcG9zZVBvbHlzIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl7dmFyIGk9dFtuXTtpZighaS5wb2x5KWlmKGkuaXNFeHRlcmlvclJpbmcoKSllLnB1c2gobmV3IEh1KGkpKTtlbHNle3ZhciBvPWkuZW5jbG9zaW5nUmluZygpO28ucG9seXx8ZS5wdXNoKG5ldyBIdShvKSksby5wb2x5LmFkZEludGVyaW9yKGkpfX1yZXR1cm4gZX19XSksdH0oKSxKdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmp1LmNvbXBhcmU7YnUodGhpcyx0KSx0aGlzLnF1ZXVlPWUsdGhpcy50cmVlPW5ldyBfdShuKSx0aGlzLnNlZ21lbnRzPVtdfXJldHVybiBJdSh0LFt7a2V5OiJwcm9jZXNzIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10LnNlZ21lbnQsbj1bXTtpZih0LmNvbnN1bWVkQnkpcmV0dXJuIHQuaXNMZWZ0P3RoaXMucXVldWUucmVtb3ZlKHQub3RoZXJTRSk6dGhpcy50cmVlLnJlbW92ZShlKSxuO3ZhciByPXQuaXNMZWZ0P3RoaXMudHJlZS5pbnNlcnQoZSk6dGhpcy50cmVlLmZpbmQoZSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZmluZCBzZWdtZW50ICMiLmNvbmNhdChlLmlkLCIgIikrIlsiLmNvbmNhdChlLmxlZnRTRS5wb2ludC54LCIsICIpLmNvbmNhdChlLmxlZnRTRS5wb2ludC55LCJdIC0+ICIpKyJbIi5jb25jYXQoZS5yaWdodFNFLnBvaW50LngsIiwgIikuY29uY2F0KGUucmlnaHRTRS5wb2ludC55LCJdICIpKyJpbiBTd2VlcExpbmUgdHJlZS4gUGxlYXNlIHN1Ym1pdCBhIGJ1ZyByZXBvcnQuIik7Zm9yKHZhciBpPXIsbz1yLHM9dm9pZCAwLGE9dm9pZCAwO3ZvaWQgMD09PXM7KW51bGw9PT0oaT10aGlzLnRyZWUucHJldihpKSk/cz1udWxsOnZvaWQgMD09PWkua2V5LmNvbnN1bWVkQnkmJihzPWkua2V5KTtmb3IoO3ZvaWQgMD09PWE7KW51bGw9PT0obz10aGlzLnRyZWUubmV4dChvKSk/YT1udWxsOnZvaWQgMD09PW8ua2V5LmNvbnN1bWVkQnkmJihhPW8ua2V5KTtpZih0LmlzTGVmdCl7dmFyIHU9bnVsbDtpZihzKXt2YXIgbD1zLmdldEludGVyc2VjdGlvbihlKTtpZihudWxsIT09bCYmKGUuaXNBbkVuZHBvaW50KGwpfHwodT1sKSwhcy5pc0FuRW5kcG9pbnQobCkpKWZvcih2YXIgYz10aGlzLl9zcGxpdFNhZmVseShzLGwpLGg9MCxwPWMubGVuZ3RoO2g8cDtoKyspbi5wdXNoKGNbaF0pfXZhciBmPW51bGw7aWYoYSl7dmFyIGc9YS5nZXRJbnRlcnNlY3Rpb24oZSk7aWYobnVsbCE9PWcmJihlLmlzQW5FbmRwb2ludChnKXx8KGY9ZyksIWEuaXNBbkVuZHBvaW50KGcpKSlmb3IodmFyIGQ9dGhpcy5fc3BsaXRTYWZlbHkoYSxnKSx5PTAsdj1kLmxlbmd0aDt5PHY7eSsrKW4ucHVzaChkW3ldKX1pZihudWxsIT09dXx8bnVsbCE9PWYpe3ZhciBfPW51bGw7aWYobnVsbD09PXUpXz1mO2Vsc2UgaWYobnVsbD09PWYpXz11O2Vsc2V7Xz1CdS5jb21wYXJlUG9pbnRzKHUsZik8PTA/dTpmfXRoaXMucXVldWUucmVtb3ZlKGUucmlnaHRTRSksbi5wdXNoKGUucmlnaHRTRSk7Zm9yKHZhciBtPWUuc3BsaXQoXykseD0wLEU9bS5sZW5ndGg7eDxFO3grKyluLnB1c2gobVt4XSl9bi5sZW5ndGg+MD8odGhpcy50cmVlLnJlbW92ZShlKSxuLnB1c2godCkpOih0aGlzLnNlZ21lbnRzLnB1c2goZSksZS5wcmV2PXMpfWVsc2V7aWYocyYmYSl7dmFyIGI9cy5nZXRJbnRlcnNlY3Rpb24oYSk7aWYobnVsbCE9PWIpe2lmKCFzLmlzQW5FbmRwb2ludChiKSlmb3IodmFyIHc9dGhpcy5fc3BsaXRTYWZlbHkocyxiKSxJPTAsTj13Lmxlbmd0aDtJPE47SSsrKW4ucHVzaCh3W0ldKTtpZighYS5pc0FuRW5kcG9pbnQoYikpZm9yKHZhciBTPXRoaXMuX3NwbGl0U2FmZWx5KGEsYiksQz0wLFA9Uy5sZW5ndGg7QzxQO0MrKyluLnB1c2goU1tDXSl9fXRoaXMudHJlZS5yZW1vdmUoZSl9cmV0dXJuIG59fSx7a2V5OiJfc3BsaXRTYWZlbHkiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy50cmVlLnJlbW92ZSh0KTt2YXIgbj10LnJpZ2h0U0U7dGhpcy5xdWV1ZS5yZW1vdmUobik7dmFyIHI9dC5zcGxpdChlKTtyZXR1cm4gci5wdXNoKG4pLHZvaWQgMD09PXQuY29uc3VtZWRCeSYmdGhpcy50cmVlLmluc2VydCh0KSxyfX1dKSx0fSgpLFp1PSJ1bmRlZmluZWQiIT10eXBlb2YgcHJvY2VzcyYmcHJvY2Vzcy5lbnYuUE9MWUdPTl9DTElQUElOR19NQVhfUVVFVUVfU0laRXx8MWU2LEt1PSJ1bmRlZmluZWQiIT10eXBlb2YgcHJvY2VzcyYmcHJvY2Vzcy5lbnYuUE9MWUdPTl9DTElQUElOR19NQVhfU1dFRVBMSU5FX1NFR01FTlRTfHwxZTYsUXU9bmV3KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2J1KHRoaXMsdCl9cmV0dXJuIEl1KHQsW3trZXk6InJ1biIsdmFsdWU6ZnVuY3Rpb24odCxlLG4pe1F1LnR5cGU9dCxSdS5yZXNldCgpO2Zvcih2YXIgcj1bbmV3IFh1KGUsITApXSxpPTAsbz1uLmxlbmd0aDtpPG87aSsrKXIucHVzaChuZXcgWHUobltpXSwhMSkpO2lmKFF1Lm51bU11bHRpUG9seXM9ci5sZW5ndGgsImRpZmZlcmVuY2UiPT09UXUudHlwZSlmb3IodmFyIHM9clswXSxhPTE7YTxyLmxlbmd0aDspbnVsbCE9PVN1KHJbYV0uYmJveCxzLmJib3gpP2ErKzpyLnNwbGljZShhLDEpO2lmKCJpbnRlcnNlY3Rpb24iPT09UXUudHlwZSlmb3IodmFyIHU9MCxsPXIubGVuZ3RoO3U8bDt1KyspZm9yKHZhciBjPXJbdV0saD11KzEscD1yLmxlbmd0aDtoPHA7aCsrKWlmKG51bGw9PT1TdShjLmJib3gscltoXS5iYm94KSlyZXR1cm5bXTtmb3IodmFyIGY9bmV3IF91KEJ1LmNvbXBhcmUpLGc9MCxkPXIubGVuZ3RoO2c8ZDtnKyspZm9yKHZhciB5PXJbZ10uZ2V0U3dlZXBFdmVudHMoKSx2PTAsXz15Lmxlbmd0aDt2PF87disrKWlmKGYuaW5zZXJ0KHlbdl0pLGYuc2l6ZT5adSl0aHJvdyBuZXcgRXJyb3IoIkluZmluaXRlIGxvb3Agd2hlbiBwdXR0aW5nIHNlZ21lbnQgZW5kcG9pbnRzIGluIGEgcHJpb3JpdHkgcXVldWUgKHF1ZXVlIHNpemUgdG9vIGJpZykuIFBsZWFzZSBmaWxlIGEgYnVnIHJlcG9ydC4iKTtmb3IodmFyIG09bmV3IEp1KGYpLHg9Zi5zaXplLEU9Zi5wb3AoKTtFOyl7dmFyIGI9RS5rZXk7aWYoZi5zaXplPT09eCl7dmFyIHc9Yi5zZWdtZW50O3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIHBvcCgpICIuY29uY2F0KGIuaXNMZWZ0PyJsZWZ0IjoicmlnaHQiLCIgU3dlZXBFdmVudCAiKSsiWyIuY29uY2F0KGIucG9pbnQueCwiLCAiKS5jb25jYXQoYi5wb2ludC55LCJdIGZyb20gc2VnbWVudCAjIikuY29uY2F0KHcuaWQsIiAiKSsiWyIuY29uY2F0KHcubGVmdFNFLnBvaW50LngsIiwgIikuY29uY2F0KHcubGVmdFNFLnBvaW50LnksIl0gLT4gIikrIlsiLmNvbmNhdCh3LnJpZ2h0U0UucG9pbnQueCwiLCAiKS5jb25jYXQody5yaWdodFNFLnBvaW50LnksIl0gZnJvbSBxdWV1ZS4gIikrIlBsZWFzZSBmaWxlIGEgYnVnIHJlcG9ydC4iKX1pZihmLnNpemU+WnUpdGhyb3cgbmV3IEVycm9yKCJJbmZpbml0ZSBsb29wIHdoZW4gcGFzc2luZyBzd2VlcCBsaW5lIG92ZXIgZW5kcG9pbnRzIChxdWV1ZSBzaXplIHRvbyBiaWcpLiBQbGVhc2UgZmlsZSBhIGJ1ZyByZXBvcnQuIik7aWYobS5zZWdtZW50cy5sZW5ndGg+S3UpdGhyb3cgbmV3IEVycm9yKCJJbmZpbml0ZSBsb29wIHdoZW4gcGFzc2luZyBzd2VlcCBsaW5lIG92ZXIgZW5kcG9pbnRzICh0b28gbWFueSBzd2VlcCBsaW5lIHNlZ21lbnRzKS4gUGxlYXNlIGZpbGUgYSBidWcgcmVwb3J0LiIpO2Zvcih2YXIgST1tLnByb2Nlc3MoYiksTj0wLFM9SS5sZW5ndGg7TjxTO04rKyl7dmFyIEM9SVtOXTt2b2lkIDA9PT1DLmNvbnN1bWVkQnkmJmYuaW5zZXJ0KEMpfXg9Zi5zaXplLEU9Zi5wb3AoKX1SdS5yZXNldCgpO3ZhciBQPVl1LmZhY3RvcnkobS5zZWdtZW50cyk7cmV0dXJuIG5ldyBXdShQKS5nZXRHZW9tKCl9fV0pLHR9KCkpLCR1PXt1bmlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLHI9MTtyPGU7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIFF1LnJ1bigidW5pb24iLHQsbil9LGludGVyc2VjdGlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLHI9MTtyPGU7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIFF1LnJ1bigiaW50ZXJzZWN0aW9uIix0LG4pfSx4b3I6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxyPTE7cjxlO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBRdS5ydW4oInhvciIsdCxuKX0sZGlmZmVyZW5jZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLHI9MTtyPGU7cisrKW5bci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIFF1LnJ1bigiZGlmZmVyZW5jZSIsdCxuKX19OyJmaWxsImluIEFycmF5LnByb3RvdHlwZXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwiZmlsbCIse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTpmdW5jdGlvbih0KXtpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IodGhpcysiIGlzIG5vdCBhbiBvYmplY3QiKTt2YXIgZT1PYmplY3QodGhpcyksbj1NYXRoLm1heChNYXRoLm1pbihlLmxlbmd0aCw5MDA3MTk5MjU0NzQwOTkxKSwwKXx8MCxyPTEgaW4gYXJndW1lbnRzJiZwYXJzZUludChOdW1iZXIoYXJndW1lbnRzWzFdKSwxMCl8fDA7cj1yPDA/TWF0aC5tYXgobityLDApOk1hdGgubWluKHIsbik7dmFyIGk9MiBpbiBhcmd1bWVudHMmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9wYXJzZUludChOdW1iZXIoYXJndW1lbnRzWzJdKSwxMCl8fDA6bjtmb3IoaT1pPDA/TWF0aC5tYXgobithcmd1bWVudHNbMl0sMCk6TWF0aC5taW4oaSxuKTtyPGk7KWVbcl09dCwrK3I7cmV0dXJuIGV9LHdyaXRhYmxlOiEwfSksTnVtYmVyLmlzRmluaXRlPU51bWJlci5pc0Zpbml0ZXx8ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0JiZpc0Zpbml0ZSh0KX0sTnVtYmVyLmlzSW50ZWdlcj1OdW1iZXIuaXNJbnRlZ2VyfHxmdW5jdGlvbih0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHQmJmlzRmluaXRlKHQpJiZNYXRoLmZsb29yKHQpPT09dH0sTnVtYmVyLnBhcnNlRmxvYXQ9TnVtYmVyLnBhcnNlRmxvYXR8fHBhcnNlRmxvYXQsTnVtYmVyLmlzTmFOPU51bWJlci5pc05hTnx8ZnVuY3Rpb24odCl7cmV0dXJuIHQhPXR9LE1hdGgudHJ1bmM9TWF0aC50cnVuY3x8ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD9NYXRoLmNlaWwodCk6TWF0aC5mbG9vcih0KX07dmFyIHRsPWZ1bmN0aW9uKCl7fTt0bC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdGwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRsfSx0bC5wcm90b3R5cGUuZXF1YWxzV2l0aFRvbGVyYW5jZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIE1hdGguYWJzKHQtZSk8PW59O3ZhciBlbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3QuY2FsbCh0aGlzLGUpLHRoaXMubmFtZT0iSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIix0aGlzLm1lc3NhZ2U9ZSx0aGlzLnN0YWNrPShuZXcgdCkuc3RhY2t9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGV9KEVycm9yKSxubD1mdW5jdGlvbigpe30scmw9e01BWF9WQUxVRTp7Y29uZmlndXJhYmxlOiEwfX07bmwuaXNOYU49ZnVuY3Rpb24odCl7cmV0dXJuIE51bWJlci5pc05hTih0KX0sbmwuZG91YmxlVG9Mb25nQml0cz1mdW5jdGlvbih0KXtyZXR1cm4gdH0sbmwubG9uZ0JpdHNUb0RvdWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sbmwuaXNJbmZpbml0ZT1mdW5jdGlvbih0KXtyZXR1cm4hTnVtYmVyLmlzRmluaXRlKHQpfSxybC5NQVhfVkFMVUUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE51bWJlci5NQVhfVkFMVUV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5sLHJsKTt2YXIgaWw9ZnVuY3Rpb24oKXt9LG9sPWZ1bmN0aW9uKCl7fSxzbD1mdW5jdGlvbigpe307ZnVuY3Rpb24gYWwoKXt9dmFyIHVsPWZ1bmN0aW9uIHQoKXtpZih0aGlzLng9bnVsbCx0aGlzLnk9bnVsbCx0aGlzLno9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLng9MCx0aGlzLnk9MCx0aGlzLno9dC5OVUxMX09SRElOQVRFO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLng9ZS54LHRoaXMueT1lLnksdGhpcy56PWUuen1lbHNlIDI9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLng9YXJndW1lbnRzWzBdLHRoaXMueT1hcmd1bWVudHNbMV0sdGhpcy56PXQuTlVMTF9PUkRJTkFURSk6Mz09PWFyZ3VtZW50cy5sZW5ndGgmJih0aGlzLng9YXJndW1lbnRzWzBdLHRoaXMueT1hcmd1bWVudHNbMV0sdGhpcy56PWFyZ3VtZW50c1syXSl9LGxsPXtEaW1lbnNpb25hbENvbXBhcmF0b3I6e2NvbmZpZ3VyYWJsZTohMH0sc2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfSxOVUxMX09SRElOQVRFOntjb25maWd1cmFibGU6ITB9LFg6e2NvbmZpZ3VyYWJsZTohMH0sWTp7Y29uZmlndXJhYmxlOiEwfSxaOntjb25maWd1cmFibGU6ITB9fTt1bC5wcm90b3R5cGUuc2V0T3JkaW5hdGU9ZnVuY3Rpb24odCxlKXtzd2l0Y2godCl7Y2FzZSB1bC5YOnRoaXMueD1lO2JyZWFrO2Nhc2UgdWwuWTp0aGlzLnk9ZTticmVhaztjYXNlIHVsLlo6dGhpcy56PWU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgZWwoIkludmFsaWQgb3JkaW5hdGUgaW5kZXg6ICIrdCl9fSx1bC5wcm90b3R5cGUuZXF1YWxzMkQ9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLng9PT10LngmJnRoaXMueT09PXQueX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiEhdGwuZXF1YWxzV2l0aFRvbGVyYW5jZSh0aGlzLngsZS54LG4pJiYhIXRsLmVxdWFsc1dpdGhUb2xlcmFuY2UodGhpcy55LGUueSxuKX19LHVsLnByb3RvdHlwZS5nZXRPcmRpbmF0ZT1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSB1bC5YOnJldHVybiB0aGlzLng7Y2FzZSB1bC5ZOnJldHVybiB0aGlzLnk7Y2FzZSB1bC5aOnJldHVybiB0aGlzLnp9dGhyb3cgbmV3IGVsKCJJbnZhbGlkIG9yZGluYXRlIGluZGV4OiAiK3QpfSx1bC5wcm90b3R5cGUuZXF1YWxzM0Q9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD09PXQueCYmdGhpcy55PT09dC55JiYodGhpcy56PT09dC56fHxubC5pc05hTih0aGlzLnopKSYmbmwuaXNOYU4odC56KX0sdWwucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHVsJiZ0aGlzLmVxdWFsczJEKHQpfSx1bC5wcm90b3R5cGUuZXF1YWxJblo9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGwuZXF1YWxzV2l0aFRvbGVyYW5jZSh0aGlzLnosdC56LGUpfSx1bC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJuIHRoaXMueDxlLng/LTE6dGhpcy54PmUueD8xOnRoaXMueTxlLnk/LTE6dGhpcy55PmUueT8xOjB9LHVsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe30sdWwucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHVsKHRoaXMpfSx1bC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iKCIrdGhpcy54KyIsICIrdGhpcy55KyIsICIrdGhpcy56KyIpIn0sdWwucHJvdG90eXBlLmRpc3RhbmNlM0Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LXQueCxuPXRoaXMueS10Lnkscj10aGlzLnotdC56O3JldHVybiBNYXRoLnNxcnQoZSplK24qbityKnIpfSx1bC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54LXQueCxuPXRoaXMueS10Lnk7cmV0dXJuIE1hdGguc3FydChlKmUrbipuKX0sdWwucHJvdG90eXBlLmhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9MTc7cmV0dXJuIHQ9MzcqKHQ9MzcqdCt1bC5oYXNoQ29kZSh0aGlzLngpKSt1bC5oYXNoQ29kZSh0aGlzLnkpfSx1bC5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZT1mdW5jdGlvbih0KXt0aGlzLng9dC54LHRoaXMueT10LnksdGhpcy56PXQuen0sdWwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsLG9sLGFsXX0sdWwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHVsfSx1bC5oYXNoQ29kZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1ubC5kb3VibGVUb0xvbmdCaXRzKHQpO3JldHVybiBNYXRoLnRydW5jKChlXmUpPj4+MzIpfX0sbGwuRGltZW5zaW9uYWxDb21wYXJhdG9yLmdldD1mdW5jdGlvbigpe3JldHVybiBjbH0sbGwuc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMHg1Y2JmMmMyMzVjN2U1ODAwfSxsbC5OVUxMX09SRElOQVRFLmdldD1mdW5jdGlvbigpe3JldHVybiBubC5OYU59LGxsLlguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGxsLlkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LGxsLlouZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHVsLGxsKTt2YXIgY2w9ZnVuY3Rpb24odCl7aWYodGhpcy5fZGltZW5zaW9uc1RvVGVzdD0yLDA9PT1hcmd1bWVudHMubGVuZ3RoKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07aWYoMiE9PWUmJjMhPT1lKXRocm93IG5ldyBlbCgib25seSAyIG9yIDMgZGltZW5zaW9ucyBtYXkgYmUgc3BlY2lmaWVkIik7dGhpcy5fZGltZW5zaW9uc1RvVGVzdD1lfX07Y2wucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LHI9ZSxpPWNsLmNvbXBhcmUobi54LHIueCk7aWYoMCE9PWkpcmV0dXJuIGk7dmFyIG89Y2wuY29tcGFyZShuLnksci55KTtyZXR1cm4gMCE9PW8/bzp0aGlzLl9kaW1lbnNpb25zVG9UZXN0PD0yPzA6Y2wuY29tcGFyZShuLnosci56KX0sY2wucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW3NsXX0sY2wucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGNsfSxjbC5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTpubC5pc05hTih0KT9ubC5pc05hTihlKT8wOi0xOm5sLmlzTmFOKGUpPzE6MH07dmFyIGhsPWZ1bmN0aW9uKCl7fTtobC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7fSxobC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0saGwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGhsfTt2YXIgcGw9ZnVuY3Rpb24oKXt9LGZsPXtJTlRFUklPUjp7Y29uZmlndXJhYmxlOiEwfSxCT1VOREFSWTp7Y29uZmlndXJhYmxlOiEwfSxFWFRFUklPUjp7Y29uZmlndXJhYmxlOiEwfSxOT05FOntjb25maWd1cmFibGU6ITB9fTtwbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0scGwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHBsfSxwbC50b0xvY2F0aW9uU3ltYm9sPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIHBsLkVYVEVSSU9SOnJldHVybiJlIjtjYXNlIHBsLkJPVU5EQVJZOnJldHVybiJiIjtjYXNlIHBsLklOVEVSSU9SOnJldHVybiJpIjtjYXNlIHBsLk5PTkU6cmV0dXJuIi0ifXRocm93IG5ldyBlbCgiVW5rbm93biBsb2NhdGlvbiB2YWx1ZTogIit0KX0sZmwuSU5URVJJT1IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGZsLkJPVU5EQVJZLmdldD1mdW5jdGlvbigpe3JldHVybiAxfSxmbC5FWFRFUklPUi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMn0sZmwuTk9ORS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4tMX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocGwsZmwpO3ZhciBnbD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmludGVyZmFjZXNfJiZ0LmludGVyZmFjZXNfKCkuaW5kZXhPZihlKT4tMX0sZGw9ZnVuY3Rpb24oKXt9LHlsPXtMT0dfMTA6e2NvbmZpZ3VyYWJsZTohMH19O2RsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxkbC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZGx9LGRsLmxvZzEwPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgubG9nKHQpO3JldHVybiBubC5pc0luZmluaXRlKGUpfHxubC5pc05hTihlKT9lOmUvZGwuTE9HXzEwfSxkbC5taW49ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dDtyZXR1cm4gZTxpJiYoaT1lKSxuPGkmJihpPW4pLHI8aSYmKGk9ciksaX0sZGwuY2xhbXA9ZnVuY3Rpb24oKXtpZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1syXSYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJiJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzFdKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl07cmV0dXJuIHQ8ZT9lOnQ+bj9uOnR9aWYoTnVtYmVyLmlzSW50ZWdlcihhcmd1bWVudHNbMl0pJiZOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1swXSkmJk51bWJlci5pc0ludGVnZXIoYXJndW1lbnRzWzFdKSl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdO3JldHVybiByPGk/aTpyPm8/bzpyfX0sZGwud3JhcD1mdW5jdGlvbih0LGUpe3JldHVybiB0PDA/ZS0gLXQlZTp0JWV9LGRsLm1heD1mdW5jdGlvbigpe2lmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl0scj10O3JldHVybiBlPnImJihyPWUpLG4+ciYmKHI9bikscn1pZig0PT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdLGE9YXJndW1lbnRzWzNdLHU9aTtyZXR1cm4gbz51JiYodT1vKSxzPnUmJih1PXMpLGE+dSYmKHU9YSksdX19LGRsLmF2ZXJhZ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4odCtlKS8yfSx5bC5MT0dfMTAuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubG9nKDEwKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGwseWwpO3ZhciB2bD1mdW5jdGlvbih0KXt0aGlzLnN0cj10fTt2bC5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQpe3RoaXMuc3RyKz10fSx2bC5wcm90b3R5cGUuc2V0Q2hhckF0PWZ1bmN0aW9uKHQsZSl7dGhpcy5zdHI9dGhpcy5zdHIuc3Vic3RyKDAsdCkrZSt0aGlzLnN0ci5zdWJzdHIodCsxKX0sdmwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0cn07dmFyIF9sPWZ1bmN0aW9uKHQpe3RoaXMudmFsdWU9dH07X2wucHJvdG90eXBlLmludFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LF9sLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmFsdWU8dD8tMTp0aGlzLnZhbHVlPnQ/MTowfSxfbC5pc05hTj1mdW5jdGlvbih0KXtyZXR1cm4gTnVtYmVyLmlzTmFOKHQpfTt2YXIgbWw9ZnVuY3Rpb24oKXt9O21sLmlzV2hpdGVzcGFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdDw9MzImJnQ+PTB8fDEyNz09PXR9LG1sLnRvVXBwZXJDYXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9O3ZhciB4bD1mdW5jdGlvbiB0KCl7aWYodGhpcy5faGk9MCx0aGlzLl9sbz0wLDA9PT1hcmd1bWVudHMubGVuZ3RoKXRoaXMuaW5pdCgwKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuaW5pdChlKX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdCl7dmFyIG49YXJndW1lbnRzWzBdO3RoaXMuaW5pdChuKX1lbHNlIGlmKCJzdHJpbmciPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgcj1hcmd1bWVudHNbMF07dC5jYWxsKHRoaXMsdC5wYXJzZShyKSl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXTt0aGlzLmluaXQoaSxvKX19LEVsPXtQSTp7Y29uZmlndXJhYmxlOiEwfSxUV09fUEk6e2NvbmZpZ3VyYWJsZTohMH0sUElfMjp7Y29uZmlndXJhYmxlOiEwfSxFOntjb25maWd1cmFibGU6ITB9LE5hTjp7Y29uZmlndXJhYmxlOiEwfSxFUFM6e2NvbmZpZ3VyYWJsZTohMH0sU1BMSVQ6e2NvbmZpZ3VyYWJsZTohMH0sTUFYX1BSSU5UX0RJR0lUUzp7Y29uZmlndXJhYmxlOiEwfSxURU46e2NvbmZpZ3VyYWJsZTohMH0sT05FOntjb25maWd1cmFibGU6ITB9LFNDSV9OT1RfRVhQT05FTlRfQ0hBUjp7Y29uZmlndXJhYmxlOiEwfSxTQ0lfTk9UX1pFUk86e2NvbmZpZ3VyYWJsZTohMH19O3hsLnByb3RvdHlwZS5sZT1mdW5jdGlvbih0KXtyZXR1cm4odGhpcy5faGk8dC5faGl8fHRoaXMuX2hpPT09dC5faGkpJiZ0aGlzLl9sbzw9dC5fbG99LHhsLnByb3RvdHlwZS5leHRyYWN0U2lnbmlmaWNhbnREaWdpdHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmFicygpLHI9eGwubWFnbml0dWRlKG4uX2hpKSxpPXhsLlRFTi5wb3cocik7KG49bi5kaXZpZGUoaSkpLmd0KHhsLlRFTik/KG49bi5kaXZpZGUoeGwuVEVOKSxyKz0xKTpuLmx0KHhsLk9ORSkmJihuPW4ubXVsdGlwbHkoeGwuVEVOKSxyLT0xKTtmb3IodmFyIG89cisxLHM9bmV3IHZsLGE9eGwuTUFYX1BSSU5UX0RJR0lUUy0xLHU9MDt1PD1hO3UrKyl7dCYmdT09PW8mJnMuYXBwZW5kKCIuIik7dmFyIGw9TWF0aC50cnVuYyhuLl9oaSk7aWYobDwwKWJyZWFrO3ZhciBjPSExLGg9MDtsPjk/KGM9ITAsaD0iOSIpOmg9IjAiK2wscy5hcHBlbmQoaCksbj1uLnN1YnRyYWN0KHhsLnZhbHVlT2YobCkpLm11bHRpcGx5KHhsLlRFTiksYyYmbi5zZWxmQWRkKHhsLlRFTik7dmFyIHA9ITAsZj14bC5tYWduaXR1ZGUobi5faGkpO2lmKGY8MCYmTWF0aC5hYnMoZik+PWEtdSYmKHA9ITEpLCFwKWJyZWFrfXJldHVybiBlWzBdPXIscy50b1N0cmluZygpfSx4bC5wcm90b3R5cGUuc3FyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubXVsdGlwbHkodGhpcyl9LHhsLnByb3RvdHlwZS5kb3VibGVWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaSt0aGlzLl9sb30seGwucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmFkZCh0Lm5lZ2F0ZSgpKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmFkZCgtZSl9fSx4bC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5faGk9PT10Ll9oaSYmdGhpcy5fbG89PT10Ll9sb319LHhsLnByb3RvdHlwZS5pc1plcm89ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX2hpJiYwPT09dGhpcy5fbG99LHhsLnByb3RvdHlwZS5zZWxmU3VidHJhY3Q9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHhsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuaXNOYU4oKT90aGlzOnRoaXMuc2VsZkFkZCgtdC5faGksLXQuX2xvKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmlzTmFOKCk/dGhpczp0aGlzLnNlbGZBZGQoLWUsMCl9fSx4bC5wcm90b3R5cGUuZ2V0U3BlY2lhbE51bWJlclN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzWmVybygpPyIwLjAiOnRoaXMuaXNOYU4oKT8iTmFOICI6bnVsbH0seGwucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZSh0KT90aGlzOnR9LHhsLnByb3RvdHlwZS5zZWxmRGl2aWRlPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgeGwpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5zZWxmRGl2aWRlKHQuX2hpLHQuX2xvKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLnNlbGZEaXZpZGUoZSwwKX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdLGk9bnVsbCxvPW51bGwscz1udWxsLGE9bnVsbCx1PW51bGwsbD1udWxsLGM9bnVsbCxoPW51bGw7cmV0dXJuIHU9dGhpcy5faGkvbixoPShpPShsPXhsLlNQTElUKnUpLShpPWwtdSkpKihzPShoPXhsLlNQTElUKm4pLShzPWgtbikpLShjPXUqbikraSooYT1uLXMpKyhvPXUtaSkqcytvKmEsaD11KyhsPSh0aGlzLl9oaS1jLWgrdGhpcy5fbG8tdSpyKS9uKSx0aGlzLl9oaT1oLHRoaXMuX2xvPXUtaCtsLHRoaXN9fSx4bC5wcm90b3R5cGUuZHVtcD1mdW5jdGlvbigpe3JldHVybiJERDwiK3RoaXMuX2hpKyIsICIrdGhpcy5fbG8rIj4ifSx4bC5wcm90b3R5cGUuZGl2aWRlPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9bnVsbCxuPW51bGwscj1udWxsLGk9bnVsbCxvPW51bGwscz1udWxsLGE9bnVsbCx1PW51bGw7bj0obz10aGlzLl9oaS90Ll9oaSktKGU9KHM9eGwuU1BMSVQqbyktKGU9cy1vKSksdT1lKihyPSh1PXhsLlNQTElUKnQuX2hpKS0ocj11LXQuX2hpKSktKGE9byp0Ll9oaSkrZSooaT10Ll9oaS1yKStuKnIrbippO3ZhciBsPXU9bysocz0odGhpcy5faGktYS11K3RoaXMuX2xvLW8qdC5fbG8pL3QuX2hpKSxjPW8tdStzO3JldHVybiBuZXcgeGwobCxjKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGg9YXJndW1lbnRzWzBdO3JldHVybiBubC5pc05hTihoKT94bC5jcmVhdGVOYU4oKTp4bC5jb3B5KHRoaXMpLnNlbGZEaXZpZGUoaCwwKX19LHhsLnByb3RvdHlwZS5nZT1mdW5jdGlvbih0KXtyZXR1cm4odGhpcy5faGk+dC5faGl8fHRoaXMuX2hpPT09dC5faGkpJiZ0aGlzLl9sbz49dC5fbG99LHhsLnByb3RvdHlwZS5wb3c9ZnVuY3Rpb24odCl7aWYoMD09PXQpcmV0dXJuIHhsLnZhbHVlT2YoMSk7dmFyIGU9bmV3IHhsKHRoaXMpLG49eGwudmFsdWVPZigxKSxyPU1hdGguYWJzKHQpO2lmKHI+MSlmb3IoO3I+MDspciUyPT0xJiZuLnNlbGZNdWx0aXBseShlKSwoci89Mik+MCYmKGU9ZS5zcXIoKSk7ZWxzZSBuPWU7cmV0dXJuIHQ8MD9uLnJlY2lwcm9jYWwoKTpufSx4bC5wcm90b3R5cGUuY2VpbD1mdW5jdGlvbigpe2lmKHRoaXMuaXNOYU4oKSlyZXR1cm4geGwuTmFOO3ZhciB0PU1hdGguY2VpbCh0aGlzLl9oaSksZT0wO3JldHVybiB0PT09dGhpcy5faGkmJihlPU1hdGguY2VpbCh0aGlzLl9sbykpLG5ldyB4bCh0LGUpfSx4bC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJuIHRoaXMuX2hpPGUuX2hpPy0xOnRoaXMuX2hpPmUuX2hpPzE6dGhpcy5fbG88ZS5fbG8/LTE6dGhpcy5fbG8+ZS5fbG8/MTowfSx4bC5wcm90b3R5cGUucmludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTmFOKCk/dGhpczp0aGlzLmFkZCguNSkuZmxvb3IoKX0seGwucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmluaXQodCksdGhpc31pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmluaXQoZSksdGhpc319LHhsLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2UodCk/dGhpczp0fSx4bC5wcm90b3R5cGUuc3FydD1mdW5jdGlvbigpe2lmKHRoaXMuaXNaZXJvKCkpcmV0dXJuIHhsLnZhbHVlT2YoMCk7aWYodGhpcy5pc05lZ2F0aXZlKCkpcmV0dXJuIHhsLk5hTjt2YXIgdD0xL01hdGguc3FydCh0aGlzLl9oaSksZT10aGlzLl9oaSp0LG49eGwudmFsdWVPZihlKSxyPXRoaXMuc3VidHJhY3Qobi5zcXIoKSkuX2hpKiguNSp0KTtyZXR1cm4gbi5hZGQocil9LHhsLnByb3RvdHlwZS5zZWxmQWRkPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgeGwpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5zZWxmQWRkKHQuX2hpLHQuX2xvKX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdLG49bnVsbCxyPW51bGwsaT1udWxsLG89bnVsbCxzPW51bGwsYT1udWxsO3JldHVybiBvPShpPXRoaXMuX2hpK2UpLShzPWktdGhpcy5faGkpLHI9KGE9KG89ZS1zKyh0aGlzLl9oaS1vKSkrdGhpcy5fbG8pKyhpLShuPWkrYSkpLHRoaXMuX2hpPW4rcix0aGlzLl9sbz1yKyhuLXRoaXMuX2hpKSx0aGlzfX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdT1hcmd1bWVudHNbMF0sbD1hcmd1bWVudHNbMV0sYz1udWxsLGg9bnVsbCxwPW51bGwsZj1udWxsLGc9bnVsbCxkPW51bGwseT1udWxsO2Y9dGhpcy5faGkrdSxoPXRoaXMuX2xvK2wsZz1mLShkPWYtdGhpcy5faGkpLHA9aC0oeT1oLXRoaXMuX2xvKTt2YXIgdj0oYz1mKyhkPShnPXUtZCsodGhpcy5faGktZykpK2gpKSsoZD0ocD1sLXkrKHRoaXMuX2xvLXApKSsoZCsoZi1jKSkpLF89ZCsoYy12KTtyZXR1cm4gdGhpcy5faGk9dix0aGlzLl9sbz1fLHRoaXN9fSx4bC5wcm90b3R5cGUuc2VsZk11bHRpcGx5PWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgeGwpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5zZWxmTXVsdGlwbHkodC5faGksdC5fbG8pfWlmKCJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuc2VsZk11bHRpcGx5KGUsMCl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPW51bGwsbz1udWxsLHM9bnVsbCxhPW51bGwsdT1udWxsLGw9bnVsbDtpPSh1PXhsLlNQTElUKnRoaXMuX2hpKS10aGlzLl9oaSxsPXhsLlNQTElUKm4saT11LWksbz10aGlzLl9oaS1pLHM9bC1uO3ZhciBjPSh1PXRoaXMuX2hpKm4pKyhsPWkqKHM9bC1zKS11K2kqKGE9bi1zKStvKnMrbyphKyh0aGlzLl9oaSpyK3RoaXMuX2xvKm4pKSxoPWwrKGk9dS1jKTtyZXR1cm4gdGhpcy5faGk9Yyx0aGlzLl9sbz1oLHRoaXN9fSx4bC5wcm90b3R5cGUuc2VsZlNxcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGZNdWx0aXBseSh0aGlzKX0seGwucHJvdG90eXBlLmZsb29yPWZ1bmN0aW9uKCl7aWYodGhpcy5pc05hTigpKXJldHVybiB4bC5OYU47dmFyIHQ9TWF0aC5mbG9vcih0aGlzLl9oaSksZT0wO3JldHVybiB0PT09dGhpcy5faGkmJihlPU1hdGguZmxvb3IodGhpcy5fbG8pKSxuZXcgeGwodCxlKX0seGwucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTmFOKCk/dGhpczpuZXcgeGwoLXRoaXMuX2hpLC10aGlzLl9sbyl9LHhsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe30seGwucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0LmlzTmFOKCk/eGwuY3JlYXRlTmFOKCk6eGwuY29weSh0aGlzKS5zZWxmTXVsdGlwbHkodCl9aWYoIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gbmwuaXNOYU4oZSk/eGwuY3JlYXRlTmFOKCk6eGwuY29weSh0aGlzKS5zZWxmTXVsdGlwbHkoZSwwKX19LHhsLnByb3RvdHlwZS5pc05hTj1mdW5jdGlvbigpe3JldHVybiBubC5pc05hTih0aGlzLl9oaSl9LHhsLnByb3RvdHlwZS5pbnRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiBNYXRoLnRydW5jKHRoaXMuX2hpKX0seGwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9eGwubWFnbml0dWRlKHRoaXMuX2hpKTtyZXR1cm4gdD49LTMmJnQ8PTIwP3RoaXMudG9TdGFuZGFyZE5vdGF0aW9uKCk6dGhpcy50b1NjaU5vdGF0aW9uKCl9LHhsLnByb3RvdHlwZS50b1N0YW5kYXJkTm90YXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNwZWNpYWxOdW1iZXJTdHJpbmcoKTtpZihudWxsIT09dClyZXR1cm4gdDt2YXIgZT1uZXcgQXJyYXkoMSkuZmlsbChudWxsKSxuPXRoaXMuZXh0cmFjdFNpZ25pZmljYW50RGlnaXRzKCEwLGUpLHI9ZVswXSsxLGk9bjtpZigiLiI9PT1uLmNoYXJBdCgwKSlpPSIwIituO2Vsc2UgaWYocjwwKWk9IjAuIit4bC5zdHJpbmdPZkNoYXIoIjAiLC1yKStuO2Vsc2UgaWYoLTE9PT1uLmluZGV4T2YoIi4iKSl7dmFyIG89ci1uLmxlbmd0aDtpPW4reGwuc3RyaW5nT2ZDaGFyKCIwIixvKSsiLjAifXJldHVybiB0aGlzLmlzTmVnYXRpdmUoKT8iLSIraTppfSx4bC5wcm90b3R5cGUucmVjaXByb2NhbD1mdW5jdGlvbigpe3ZhciB0LGUsbixyLGk9bnVsbCxvPW51bGwscz1udWxsLGE9bnVsbDt0PShuPTEvdGhpcy5faGkpLShpPShzPXhsLlNQTElUKm4pLShpPXMtbikpLG89KGE9eGwuU1BMSVQqdGhpcy5faGkpLXRoaXMuX2hpO3ZhciB1PW4rKHM9KDEtKHI9bip0aGlzLl9oaSktKGE9aSoobz1hLW8pLXIraSooZT10aGlzLl9oaS1vKSt0Km8rdCplKS1uKnRoaXMuX2xvKS90aGlzLl9oaSk7cmV0dXJuIG5ldyB4bCh1LG4tdStzKX0seGwucHJvdG90eXBlLnRvU2NpTm90YXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLmlzWmVybygpKXJldHVybiB4bC5TQ0lfTk9UX1pFUk87dmFyIHQ9dGhpcy5nZXRTcGVjaWFsTnVtYmVyU3RyaW5nKCk7aWYobnVsbCE9PXQpcmV0dXJuIHQ7dmFyIGU9bmV3IEFycmF5KDEpLmZpbGwobnVsbCksbj10aGlzLmV4dHJhY3RTaWduaWZpY2FudERpZ2l0cyghMSxlKSxyPXhsLlNDSV9OT1RfRVhQT05FTlRfQ0hBUitlWzBdO2lmKCIwIj09PW4uY2hhckF0KDApKXRocm93IG5ldyBFcnJvcigiRm91bmQgbGVhZGluZyB6ZXJvOiAiK24pO3ZhciBpPSIiO24ubGVuZ3RoPjEmJihpPW4uc3Vic3RyaW5nKDEpKTt2YXIgbz1uLmNoYXJBdCgwKSsiLiIraTtyZXR1cm4gdGhpcy5pc05lZ2F0aXZlKCk/Ii0iK28rcjpvK3J9LHhsLnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc05hTigpP3hsLk5hTjp0aGlzLmlzTmVnYXRpdmUoKT90aGlzLm5lZ2F0ZSgpOm5ldyB4bCh0aGlzKX0seGwucHJvdG90eXBlLmlzUG9zaXRpdmU9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5faGk+MHx8MD09PXRoaXMuX2hpKSYmdGhpcy5fbG8+MH0seGwucHJvdG90eXBlLmx0PWZ1bmN0aW9uKHQpe3JldHVybih0aGlzLl9oaTx0Ll9oaXx8dGhpcy5faGk9PT10Ll9oaSkmJnRoaXMuX2xvPHQuX2xvfSx4bC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB4bCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB4bC5jb3B5KHRoaXMpLnNlbGZBZGQodCl9aWYoIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4geGwuY29weSh0aGlzKS5zZWxmQWRkKGUpfX0seGwucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9oaT10LHRoaXMuX2xvPTB9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHhsKXt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5faGk9ZS5faGksdGhpcy5fbG89ZS5fbG99fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTt0aGlzLl9oaT1uLHRoaXMuX2xvPXJ9fSx4bC5wcm90b3R5cGUuZ3Q9ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXMuX2hpPnQuX2hpfHx0aGlzLl9oaT09PXQuX2hpKSYmdGhpcy5fbG8+dC5fbG99LHhsLnByb3RvdHlwZS5pc05lZ2F0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuX2hpPDB8fDA9PT10aGlzLl9oaSkmJnRoaXMuX2xvPDB9LHhsLnByb3RvdHlwZS50cnVuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTmFOKCk/eGwuTmFOOnRoaXMuaXNQb3NpdGl2ZSgpP3RoaXMuZmxvb3IoKTp0aGlzLmNlaWwoKX0seGwucHJvdG90eXBlLnNpZ251bT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaT4wPzE6dGhpcy5faGk8MD8tMTp0aGlzLl9sbz4wPzE6dGhpcy5fbG88MD8tMTowfSx4bC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bYWwsaWwsb2xdfSx4bC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4geGx9LHhsLnNxcj1mdW5jdGlvbih0KXtyZXR1cm4geGwudmFsdWVPZih0KS5zZWxmTXVsdGlwbHkodCl9LHhsLnZhbHVlT2Y9ZnVuY3Rpb24oKXtpZigic3RyaW5nIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB4bC5wYXJzZSh0KX1pZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiBuZXcgeGwoZSl9fSx4bC5zcXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB4bC52YWx1ZU9mKHQpLnNxcnQoKX0seGwucGFyc2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDttbC5pc1doaXRlc3BhY2UodC5jaGFyQXQoZSkpOyllKys7dmFyIHI9ITE7aWYoZTxuKXt2YXIgaT10LmNoYXJBdChlKTsiLSIhPT1pJiYiKyIhPT1pfHwoZSsrLCItIj09PWkmJihyPSEwKSl9Zm9yKHZhciBvPW5ldyB4bCxzPTAsYT0wLHU9MDshKGU+PW4pOyl7dmFyIGw9dC5jaGFyQXQoZSk7aWYoZSsrLG1sLmlzRGlnaXQobCkpe3ZhciBjPWwtIjAiO28uc2VsZk11bHRpcGx5KHhsLlRFTiksby5zZWxmQWRkKGMpLHMrK31lbHNle2lmKCIuIiE9PWwpe2lmKCJlIj09PWx8fCJFIj09PWwpe3ZhciBoPXQuc3Vic3RyaW5nKGUpO3RyeXt1PV9sLnBhcnNlSW50KGgpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBFcnJvcj9uZXcgRXJyb3IoIkludmFsaWQgZXhwb25lbnQgIitoKyIgaW4gc3RyaW5nICIrdCk6ZX1icmVha310aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgY2hhcmFjdGVyICciK2wrIicgYXQgcG9zaXRpb24gIitlKyIgaW4gc3RyaW5nICIrdCl9YT1zfX12YXIgcD1vLGY9cy1hLXU7aWYoMD09PWYpcD1vO2Vsc2UgaWYoZj4wKXt2YXIgZz14bC5URU4ucG93KGYpO3A9by5kaXZpZGUoZyl9ZWxzZSBpZihmPDApe3ZhciBkPXhsLlRFTi5wb3coLWYpO3A9by5tdWx0aXBseShkKX1yZXR1cm4gcj9wLm5lZ2F0ZSgpOnB9LHhsLmNyZWF0ZU5hTj1mdW5jdGlvbigpe3JldHVybiBuZXcgeGwobmwuTmFOLG5sLk5hTil9LHhsLmNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB4bCh0KX0seGwubWFnbml0dWRlPWZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguYWJzKHQpLG49TWF0aC5sb2coZSkvTWF0aC5sb2coMTApLHI9TWF0aC50cnVuYyhNYXRoLmZsb29yKG4pKTtyZXR1cm4gMTAqTWF0aC5wb3coMTAscik8PWUmJihyKz0xKSxyfSx4bC5zdHJpbmdPZkNoYXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IHZsLHI9MDtyPGU7cisrKW4uYXBwZW5kKHQpO3JldHVybiBuLnRvU3RyaW5nKCl9LEVsLlBJLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgeGwoMy4xNDE1OTI2NTM1ODk3OTMsMTIyNDY0Njc5OTE0NzM1MzJlLTMyKX0sRWwuVFdPX1BJLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgeGwoNi4yODMxODUzMDcxNzk1ODYsMjQ0OTI5MzU5ODI5NDcwNjRlLTMyKX0sRWwuUElfMi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHhsKDEuNTcwNzk2MzI2Nzk0ODk2Niw2MTIzMjMzOTk1NzM2NzY2ZS0zMil9LEVsLkUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4bCgyLjcxODI4MTgyODQ1OTA0NSwxNDQ1NjQ2ODkxNzI5MjUwMmUtMzIpfSxFbC5OYU4uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4bChubC5OYU4sbmwuTmFOKX0sRWwuRVBTLmdldD1mdW5jdGlvbigpe3JldHVybiAxMjMyNTk1MTY0NDA3ODNlLTQ2fSxFbC5TUExJVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMTM0MjE3NzI5fSxFbC5NQVhfUFJJTlRfRElHSVRTLmdldD1mdW5jdGlvbigpe3JldHVybiAzMn0sRWwuVEVOLmdldD1mdW5jdGlvbigpe3JldHVybiB4bC52YWx1ZU9mKDEwKX0sRWwuT05FLmdldD1mdW5jdGlvbigpe3JldHVybiB4bC52YWx1ZU9mKDEpfSxFbC5TQ0lfTk9UX0VYUE9ORU5UX0NIQVIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIkUifSxFbC5TQ0lfTk9UX1pFUk8uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIjAuMEUwIn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoeGwsRWwpO3ZhciBibD1mdW5jdGlvbigpe30sd2w9e0RQX1NBRkVfRVBTSUxPTjp7Y29uZmlndXJhYmxlOiEwfX07YmwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGJsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBibH0sYmwub3JpZW50YXRpb25JbmRleD1mdW5jdGlvbih0LGUsbil7dmFyIHI9Ymwub3JpZW50YXRpb25JbmRleEZpbHRlcih0LGUsbik7aWYocjw9MSlyZXR1cm4gcjt2YXIgaT14bC52YWx1ZU9mKGUueCkuc2VsZkFkZCgtdC54KSxvPXhsLnZhbHVlT2YoZS55KS5zZWxmQWRkKC10LnkpLHM9eGwudmFsdWVPZihuLngpLnNlbGZBZGQoLWUueCksYT14bC52YWx1ZU9mKG4ueSkuc2VsZkFkZCgtZS55KTtyZXR1cm4gaS5zZWxmTXVsdGlwbHkoYSkuc2VsZlN1YnRyYWN0KG8uc2VsZk11bHRpcGx5KHMpKS5zaWdudW0oKX0sYmwuc2lnbk9mRGV0MngyPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0Lm11bHRpcGx5KHIpLnNlbGZTdWJ0cmFjdChlLm11bHRpcGx5KG4pKS5zaWdudW0oKX0sYmwuaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPXhsLnZhbHVlT2Yoci55KS5zZWxmU3VidHJhY3Qobi55KS5zZWxmTXVsdGlwbHkoeGwudmFsdWVPZihlLngpLnNlbGZTdWJ0cmFjdCh0LngpKSxvPXhsLnZhbHVlT2Yoci54KS5zZWxmU3VidHJhY3Qobi54KS5zZWxmTXVsdGlwbHkoeGwudmFsdWVPZihlLnkpLnNlbGZTdWJ0cmFjdCh0LnkpKSxzPWkuc3VidHJhY3QobyksYT14bC52YWx1ZU9mKHIueCkuc2VsZlN1YnRyYWN0KG4ueCkuc2VsZk11bHRpcGx5KHhsLnZhbHVlT2YodC55KS5zZWxmU3VidHJhY3Qobi55KSksdT14bC52YWx1ZU9mKHIueSkuc2VsZlN1YnRyYWN0KG4ueSkuc2VsZk11bHRpcGx5KHhsLnZhbHVlT2YodC54KS5zZWxmU3VidHJhY3Qobi54KSksbD1hLnN1YnRyYWN0KHUpLnNlbGZEaXZpZGUocykuZG91YmxlVmFsdWUoKSxjPXhsLnZhbHVlT2YodC54KS5zZWxmQWRkKHhsLnZhbHVlT2YoZS54KS5zZWxmU3VidHJhY3QodC54KS5zZWxmTXVsdGlwbHkobCkpLmRvdWJsZVZhbHVlKCksaD14bC52YWx1ZU9mKGUueCkuc2VsZlN1YnRyYWN0KHQueCkuc2VsZk11bHRpcGx5KHhsLnZhbHVlT2YodC55KS5zZWxmU3VidHJhY3Qobi55KSkscD14bC52YWx1ZU9mKGUueSkuc2VsZlN1YnRyYWN0KHQueSkuc2VsZk11bHRpcGx5KHhsLnZhbHVlT2YodC54KS5zZWxmU3VidHJhY3Qobi54KSksZj1oLnN1YnRyYWN0KHApLnNlbGZEaXZpZGUocykuZG91YmxlVmFsdWUoKSxnPXhsLnZhbHVlT2Yobi55KS5zZWxmQWRkKHhsLnZhbHVlT2Yoci55KS5zZWxmU3VidHJhY3Qobi55KS5zZWxmTXVsdGlwbHkoZikpLmRvdWJsZVZhbHVlKCk7cmV0dXJuIG5ldyB1bChjLGcpfSxibC5vcmllbnRhdGlvbkluZGV4RmlsdGVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1udWxsLGk9KHQueC1uLngpKihlLnktbi55KSxvPSh0Lnktbi55KSooZS54LW4ueCkscz1pLW87aWYoaT4wKXtpZihvPD0wKXJldHVybiBibC5zaWdudW0ocyk7cj1pK299ZWxzZXtpZighKGk8MCkpcmV0dXJuIGJsLnNpZ251bShzKTtpZihvPj0wKXJldHVybiBibC5zaWdudW0ocyk7cj0taS1vfXZhciBhPWJsLkRQX1NBRkVfRVBTSUxPTipyO3JldHVybiBzPj1hfHwtcz49YT9ibC5zaWdudW0ocyk6Mn0sYmwuc2lnbnVtPWZ1bmN0aW9uKHQpe3JldHVybiB0PjA/MTp0PDA/LTE6MH0sd2wuRFBfU0FGRV9FUFNJTE9OLmdldD1mdW5jdGlvbigpe3JldHVybiAxZS0xNX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYmwsd2wpO3ZhciBJbD1mdW5jdGlvbigpe30sTmw9e1g6e2NvbmZpZ3VyYWJsZTohMH0sWTp7Y29uZmlndXJhYmxlOiEwfSxaOntjb25maWd1cmFibGU6ITB9LE06e2NvbmZpZ3VyYWJsZTohMH19O05sLlguZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LE5sLlkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LE5sLlouZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDJ9LE5sLk0uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDN9LElsLnByb3RvdHlwZS5zZXRPcmRpbmF0ZT1mdW5jdGlvbih0LGUsbil7fSxJbC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe30sSWwucHJvdG90eXBlLmdldE9yZGluYXRlPWZ1bmN0aW9uKHQsZSl7fSxJbC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe30sSWwucHJvdG90eXBlLmdldENvb3JkaW5hdGVDb3B5PWZ1bmN0aW9uKHQpe30sSWwucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbigpe30sSWwucHJvdG90eXBlLmdldFg9ZnVuY3Rpb24odCl7fSxJbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt9LElsLnByb3RvdHlwZS5leHBhbmRFbnZlbG9wZT1mdW5jdGlvbih0KXt9LElsLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7fSxJbC5wcm90b3R5cGUuZ2V0WT1mdW5jdGlvbih0KXt9LElsLnByb3RvdHlwZS50b0Nvb3JkaW5hdGVBcnJheT1mdW5jdGlvbigpe30sSWwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW29sXX0sSWwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIElsfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhJbCxObCk7dmFyIFNsPWZ1bmN0aW9uKCl7fSxDbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMsIlByb2plY3RpdmUgcG9pbnQgbm90IHJlcHJlc2VudGFibGUgb24gdGhlIENhcnRlc2lhbiBwbGFuZS4iKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0oU2wpLFBsPWZ1bmN0aW9uKCl7fTtQbC5hcnJheWNvcHk9ZnVuY3Rpb24odCxlLG4scixpKXtmb3IodmFyIG89MCxzPWU7czxlK2k7cysrKW5bcitvXT10W3NdLG8rK30sUGwuZ2V0UHJvcGVydHk9ZnVuY3Rpb24odCl7cmV0dXJueyJsaW5lLnNlcGFyYXRvciI6IlxuIn1bdF19O3ZhciBNbD1mdW5jdGlvbiB0KCl7aWYodGhpcy54PW51bGwsdGhpcy55PW51bGwsdGhpcy53PW51bGwsMD09PWFyZ3VtZW50cy5sZW5ndGgpdGhpcy54PTAsdGhpcy55PTAsdGhpcy53PTE7ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLnc9MX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXtpZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTt0aGlzLng9bix0aGlzLnk9cix0aGlzLnc9MX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0KXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV07dGhpcy54PWkueSpvLnctby55Kmkudyx0aGlzLnk9by54Kmkudy1pLngqby53LHRoaXMudz1pLngqby55LW8ueCppLnl9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgcz1hcmd1bWVudHNbMF0sYT1hcmd1bWVudHNbMV07dGhpcy54PXMueS1hLnksdGhpcy55PWEueC1zLngsdGhpcy53PXMueCphLnktYS54KnMueX19ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHU9YXJndW1lbnRzWzBdLGw9YXJndW1lbnRzWzFdLGM9YXJndW1lbnRzWzJdO3RoaXMueD11LHRoaXMueT1sLHRoaXMudz1jfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBoPWFyZ3VtZW50c1swXSxwPWFyZ3VtZW50c1sxXSxmPWFyZ3VtZW50c1syXSxnPWFyZ3VtZW50c1szXSxkPWgueS1wLnkseT1wLngtaC54LHY9aC54KnAueS1wLngqaC55LF89Zi55LWcueSxtPWcueC1mLngseD1mLngqZy55LWcueCpmLnk7dGhpcy54PXkqeC1tKnYsdGhpcy55PV8qdi1kKngsdGhpcy53PWQqbS1fKnl9fTtNbC5wcm90b3R5cGUuZ2V0WT1mdW5jdGlvbigpe3ZhciB0PXRoaXMueS90aGlzLnc7aWYobmwuaXNOYU4odCl8fG5sLmlzSW5maW5pdGUodCkpdGhyb3cgbmV3IENsO3JldHVybiB0fSxNbC5wcm90b3R5cGUuZ2V0WD1mdW5jdGlvbigpe3ZhciB0PXRoaXMueC90aGlzLnc7aWYobmwuaXNOYU4odCl8fG5sLmlzSW5maW5pdGUodCkpdGhyb3cgbmV3IENsO3JldHVybiB0fSxNbC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3ZhciB0PW5ldyB1bDtyZXR1cm4gdC54PXRoaXMuZ2V0WCgpLHQueT10aGlzLmdldFkoKSx0fSxNbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sTWwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIE1sfSxNbC5pbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dC55LWUueSxvPWUueC10Lngscz10LngqZS55LWUueCp0LnksYT1uLnktci55LHU9ci54LW4ueCxsPW4ueCpyLnktci54Km4ueSxjPWkqdS1hKm8saD0obypsLXUqcykvYyxwPShhKnMtaSpsKS9jO2lmKG5sLmlzTmFOKGgpfHxubC5pc0luZmluaXRlKGgpfHxubC5pc05hTihwKXx8bmwuaXNJbmZpbml0ZShwKSl0aHJvdyBuZXcgQ2w7cmV0dXJuIG5ldyB1bChoLHApfTt2YXIgTGw9ZnVuY3Rpb24gdCgpe2lmKHRoaXMuX21pbng9bnVsbCx0aGlzLl9tYXh4PW51bGwsdGhpcy5fbWlueT1udWxsLHRoaXMuX21heHk9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLmluaXQoKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5pbml0KGUueCxlLngsZS55LGUueSl9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHQpe3ZhciBuPWFyZ3VtZW50c1swXTt0aGlzLmluaXQobil9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXTt0aGlzLmluaXQoci54LGkueCxyLnksaS55KX1lbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1hcmd1bWVudHNbMl0sdT1hcmd1bWVudHNbM107dGhpcy5pbml0KG8scyxhLHUpfX0sT2w9e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O0xsLnByb3RvdHlwZS5nZXRBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0V2lkdGgoKSp0aGlzLmdldEhlaWdodCgpfSxMbC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIExsKSlyZXR1cm4hMTt2YXIgZT10O3JldHVybiB0aGlzLmlzTnVsbCgpP2UuaXNOdWxsKCk6dGhpcy5fbWF4eD09PWUuZ2V0TWF4WCgpJiZ0aGlzLl9tYXh5PT09ZS5nZXRNYXhZKCkmJnRoaXMuX21pbng9PT1lLmdldE1pblgoKSYmdGhpcy5fbWlueT09PWUuZ2V0TWluWSgpfSxMbC5wcm90b3R5cGUuaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNOdWxsKCl8fHQuaXNOdWxsKCl8fCF0aGlzLmludGVyc2VjdHModCkpcmV0dXJuIG5ldyBMbDt2YXIgZT10aGlzLl9taW54PnQuX21pbng/dGhpcy5fbWlueDp0Ll9taW54LG49dGhpcy5fbWlueT50Ll9taW55P3RoaXMuX21pbnk6dC5fbWlueSxyPXRoaXMuX21heHg8dC5fbWF4eD90aGlzLl9tYXh4OnQuX21heHgsaT10aGlzLl9tYXh5PHQuX21heHk/dGhpcy5fbWF4eTp0Ll9tYXh5O3JldHVybiBuZXcgTGwoZSxyLG4saSl9LExsLnByb3RvdHlwZS5pc051bGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4eDx0aGlzLl9taW54fSxMbC5wcm90b3R5cGUuZ2V0TWF4WD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXh4fSxMbC5wcm90b3R5cGUuY292ZXJzPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jb3ZlcnModC54LHQueSl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBMbCl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiF0aGlzLmlzTnVsbCgpJiYhZS5pc051bGwoKSYmKGUuZ2V0TWluWCgpPj10aGlzLl9taW54JiZlLmdldE1heFgoKTw9dGhpcy5fbWF4eCYmZS5nZXRNaW5ZKCk+PXRoaXMuX21pbnkmJmUuZ2V0TWF4WSgpPD10aGlzLl9tYXh5KX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdO3JldHVybiF0aGlzLmlzTnVsbCgpJiYobj49dGhpcy5fbWlueCYmbjw9dGhpcy5fbWF4eCYmcj49dGhpcy5fbWlueSYmcjw9dGhpcy5fbWF4eSl9fSxMbC5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIExsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIXRoaXMuaXNOdWxsKCkmJiF0LmlzTnVsbCgpJiYhKHQuX21pbng+dGhpcy5fbWF4eHx8dC5fbWF4eDx0aGlzLl9taW54fHx0Ll9taW55PnRoaXMuX21heHl8fHQuX21heHk8dGhpcy5fbWlueSl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB1bCl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmludGVyc2VjdHMoZS54LGUueSl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtyZXR1cm4hdGhpcy5pc051bGwoKSYmIShuPnRoaXMuX21heHh8fG48dGhpcy5fbWlueHx8cj50aGlzLl9tYXh5fHxyPHRoaXMuX21pbnkpfX0sTGwucHJvdG90eXBlLmdldE1pblk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlueX0sTGwucHJvdG90eXBlLmdldE1pblg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlueH0sTGwucHJvdG90eXBlLmV4cGFuZFRvSW5jbHVkZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5leHBhbmRUb0luY2x1ZGUodC54LHQueSl9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIExsKXt2YXIgZT1hcmd1bWVudHNbMF07aWYoZS5pc051bGwoKSlyZXR1cm4gbnVsbDt0aGlzLmlzTnVsbCgpPyh0aGlzLl9taW54PWUuZ2V0TWluWCgpLHRoaXMuX21heHg9ZS5nZXRNYXhYKCksdGhpcy5fbWlueT1lLmdldE1pblkoKSx0aGlzLl9tYXh5PWUuZ2V0TWF4WSgpKTooZS5fbWlueDx0aGlzLl9taW54JiYodGhpcy5fbWlueD1lLl9taW54KSxlLl9tYXh4PnRoaXMuX21heHgmJih0aGlzLl9tYXh4PWUuX21heHgpLGUuX21pbnk8dGhpcy5fbWlueSYmKHRoaXMuX21pbnk9ZS5fbWlueSksZS5fbWF4eT50aGlzLl9tYXh5JiYodGhpcy5fbWF4eT1lLl9tYXh5KSl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTt0aGlzLmlzTnVsbCgpPyh0aGlzLl9taW54PW4sdGhpcy5fbWF4eD1uLHRoaXMuX21pbnk9cix0aGlzLl9tYXh5PXIpOihuPHRoaXMuX21pbngmJih0aGlzLl9taW54PW4pLG4+dGhpcy5fbWF4eCYmKHRoaXMuX21heHg9bikscjx0aGlzLl9taW55JiYodGhpcy5fbWlueT1yKSxyPnRoaXMuX21heHkmJih0aGlzLl9tYXh5PXIpKX19LExsLnByb3RvdHlwZS5taW5FeHRlbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTnVsbCgpKXJldHVybiAwO3ZhciB0PXRoaXMuZ2V0V2lkdGgoKSxlPXRoaXMuZ2V0SGVpZ2h0KCk7cmV0dXJuIHQ8ZT90OmV9LExsLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTnVsbCgpPzA6dGhpcy5fbWF4eC10aGlzLl9taW54fSxMbC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJuIHRoaXMuaXNOdWxsKCk/ZS5pc051bGwoKT8wOi0xOmUuaXNOdWxsKCk/MTp0aGlzLl9taW54PGUuX21pbng/LTE6dGhpcy5fbWlueD5lLl9taW54PzE6dGhpcy5fbWlueTxlLl9taW55Py0xOnRoaXMuX21pbnk+ZS5fbWlueT8xOnRoaXMuX21heHg8ZS5fbWF4eD8tMTp0aGlzLl9tYXh4PmUuX21heHg/MTp0aGlzLl9tYXh5PGUuX21heHk/LTE6dGhpcy5fbWF4eT5lLl9tYXh5PzE6MH0sTGwucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaXNOdWxsKCkpcmV0dXJuIG51bGw7dGhpcy5pbml0KHRoaXMuZ2V0TWluWCgpK3QsdGhpcy5nZXRNYXhYKCkrdCx0aGlzLmdldE1pblkoKStlLHRoaXMuZ2V0TWF4WSgpK2UpfSxMbC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iRW52WyIrdGhpcy5fbWlueCsiIDogIit0aGlzLl9tYXh4KyIsICIrdGhpcy5fbWlueSsiIDogIit0aGlzLl9tYXh5KyJdIn0sTGwucHJvdG90eXBlLnNldFRvTnVsbD1mdW5jdGlvbigpe3RoaXMuX21pbng9MCx0aGlzLl9tYXh4PS0xLHRoaXMuX21pbnk9MCx0aGlzLl9tYXh5PS0xfSxMbC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNOdWxsKCk/MDp0aGlzLl9tYXh5LXRoaXMuX21pbnl9LExsLnByb3RvdHlwZS5tYXhFeHRlbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTnVsbCgpKXJldHVybiAwO3ZhciB0PXRoaXMuZ2V0V2lkdGgoKSxlPXRoaXMuZ2V0SGVpZ2h0KCk7cmV0dXJuIHQ+ZT90OmV9LExsLnByb3RvdHlwZS5leHBhbmRCeT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5leHBhbmRCeSh0LHQpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZih0aGlzLmlzTnVsbCgpKXJldHVybiBudWxsO3RoaXMuX21pbngtPWUsdGhpcy5fbWF4eCs9ZSx0aGlzLl9taW55LT1uLHRoaXMuX21heHkrPW4sKHRoaXMuX21pbng+dGhpcy5fbWF4eHx8dGhpcy5fbWlueT50aGlzLl9tYXh5KSYmdGhpcy5zZXRUb051bGwoKX19LExsLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIExsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuY292ZXJzKHQpfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jb3ZlcnMoZSl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5jb3ZlcnMobixyKX19LExsLnByb3RvdHlwZS5jZW50cmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc051bGwoKT9udWxsOm5ldyB1bCgodGhpcy5nZXRNaW5YKCkrdGhpcy5nZXRNYXhYKCkpLzIsKHRoaXMuZ2V0TWluWSgpK3RoaXMuZ2V0TWF4WSgpKS8yKX0sTGwucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLnNldFRvTnVsbCgpO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLmluaXQodC54LHQueCx0LnksdC55KX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgTGwpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLl9taW54PWUuX21pbngsdGhpcy5fbWF4eD1lLl9tYXh4LHRoaXMuX21pbnk9ZS5fbWlueSx0aGlzLl9tYXh5PWUuX21heHl9fWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTt0aGlzLmluaXQobi54LHIueCxuLnksci55KX1lbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0scz1hcmd1bWVudHNbMl0sYT1hcmd1bWVudHNbM107aTxvPyh0aGlzLl9taW54PWksdGhpcy5fbWF4eD1vKToodGhpcy5fbWlueD1vLHRoaXMuX21heHg9aSksczxhPyh0aGlzLl9taW55PXMsdGhpcy5fbWF4eT1hKToodGhpcy5fbWlueT1hLHRoaXMuX21heHk9cyl9fSxMbC5wcm90b3R5cGUuZ2V0TWF4WT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXh5fSxMbC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCl7aWYodGhpcy5pbnRlcnNlY3RzKHQpKXJldHVybiAwO3ZhciBlPTA7dGhpcy5fbWF4eDx0Ll9taW54P2U9dC5fbWlueC10aGlzLl9tYXh4OnRoaXMuX21pbng+dC5fbWF4eCYmKGU9dGhpcy5fbWlueC10Ll9tYXh4KTt2YXIgbj0wO3JldHVybiB0aGlzLl9tYXh5PHQuX21pbnk/bj10Ll9taW55LXRoaXMuX21heHk6dGhpcy5fbWlueT50Ll9tYXh5JiYobj10aGlzLl9taW55LXQuX21heHkpLDA9PT1lP246MD09PW4/ZTpNYXRoLnNxcnQoZSplK24qbil9LExsLnByb3RvdHlwZS5oYXNoQ29kZT1mdW5jdGlvbigpe3ZhciB0PTE3O3JldHVybiB0PTM3Kih0PTM3Kih0PTM3Kih0PTM3KnQrdWwuaGFzaENvZGUodGhpcy5fbWlueCkpK3VsLmhhc2hDb2RlKHRoaXMuX21heHgpKSt1bC5oYXNoQ29kZSh0aGlzLl9taW55KSkrdWwuaGFzaENvZGUodGhpcy5fbWF4eSl9LExsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbCxhbF19LExsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBMbH0sTGwuaW50ZXJzZWN0cz1mdW5jdGlvbigpe2lmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl07cmV0dXJuIG4ueD49KHQueDxlLng/dC54OmUueCkmJm4ueDw9KHQueD5lLng/dC54OmUueCkmJm4ueT49KHQueTxlLnk/dC55OmUueSkmJm4ueTw9KHQueT5lLnk/dC55OmUueSl9aWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXSxzPWFyZ3VtZW50c1szXSxhPU1hdGgubWluKG8ueCxzLngpLHU9TWF0aC5tYXgoby54LHMueCksbD1NYXRoLm1pbihyLngsaS54KSxjPU1hdGgubWF4KHIueCxpLngpO3JldHVybiEobD51KSYmKCEoYzxhKSYmKGE9TWF0aC5taW4oby55LHMueSksdT1NYXRoLm1heChvLnkscy55KSxsPU1hdGgubWluKHIueSxpLnkpLGM9TWF0aC5tYXgoci55LGkueSksIShsPnUpJiYhKGM8YSkpKX19LE9sLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB4NTE4NDVjZDU1MjE4OTgwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTGwsT2wpO3ZhciBSbD17dHlwZVN0cjovXlxzKihcdyspXHMqXChccyooLiopXHMqXClccyokLyxlbXB0eVR5cGVTdHI6L15ccyooXHcrKVxzKkVNUFRZXHMqJC8sc3BhY2VzOi9ccysvLHBhcmVuQ29tbWE6L1wpXHMqLFxzKlwoLyxkb3VibGVQYXJlbkNvbW1hOi9cKVxzKlwpXHMqLFxzKlwoXHMqXCgvLHRyaW1QYXJlbnM6L15ccypcKD8oLio/KVwpP1xzKiQvfSxUbD1mdW5jdGlvbih0KXt0aGlzLmdlb21ldHJ5RmFjdG9yeT10fHxuZXcgX2h9O1RsLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe3ZhciBlLG4scjt0PXQucmVwbGFjZSgvW1xuXHJdL2csIiAiKTt2YXIgaT1SbC50eXBlU3RyLmV4ZWModCk7aWYoLTEhPT10LnNlYXJjaCgiRU1QVFkiKSYmKChpPVJsLmVtcHR5VHlwZVN0ci5leGVjKHQpKVsyXT12b2lkIDApLGkmJihuPWlbMV0udG9Mb3dlckNhc2UoKSxyPWlbMl0sRGxbbl0mJihlPURsW25dLmFwcGx5KHRoaXMsW3JdKSkpLHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgcGFyc2UgV0tUICIrdCk7cmV0dXJuIGV9LFRsLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5leHRyYWN0R2VvbWV0cnkodCl9LFRsLnByb3RvdHlwZS5leHRyYWN0R2VvbWV0cnk9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRHZW9tZXRyeVR5cGUoKS50b0xvd2VyQ2FzZSgpO2lmKCFBbFtlXSlyZXR1cm4gbnVsbDt2YXIgbj1lLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHQuaXNFbXB0eSgpP24rIiBFTVBUWSI6bisiKCIrQWxbZV0uYXBwbHkodGhpcyxbdF0pKyIpIn07dmFyIEFsPXtjb29yZGluYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0LngrIiAiK3QueX0scG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIEFsLmNvb3JkaW5hdGUuY2FsbCh0aGlzLHQuX2Nvb3JkaW5hdGVzLl9jb29yZGluYXRlc1swXSl9LG11bHRpcG9pbnQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPXQuX2dlb21ldHJpZXMubGVuZ3RoO248cjsrK24pZS5wdXNoKCIoIitBbC5wb2ludC5hcHBseSh0aGlzLFt0Ll9nZW9tZXRyaWVzW25dXSkrIikiKTtyZXR1cm4gZS5qb2luKCIsIil9LGxpbmVzdHJpbmc6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPXQuX3BvaW50cy5fY29vcmRpbmF0ZXMubGVuZ3RoO248cjsrK24pZS5wdXNoKEFsLmNvb3JkaW5hdGUuYXBwbHkodGhpcyxbdC5fcG9pbnRzLl9jb29yZGluYXRlc1tuXV0pKTtyZXR1cm4gZS5qb2luKCIsIil9LGxpbmVhcnJpbmc6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPXQuX3BvaW50cy5fY29vcmRpbmF0ZXMubGVuZ3RoO248cjsrK24pZS5wdXNoKEFsLmNvb3JkaW5hdGUuYXBwbHkodGhpcyxbdC5fcG9pbnRzLl9jb29yZGluYXRlc1tuXV0pKTtyZXR1cm4gZS5qb2luKCIsIil9LG11bHRpbGluZXN0cmluZzpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5fZ2VvbWV0cmllcy5sZW5ndGg7bjxyOysrbillLnB1c2goIigiK0FsLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbdC5fZ2VvbWV0cmllc1tuXV0pKyIpIik7cmV0dXJuIGUuam9pbigiLCIpfSxwb2x5Z29uOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO2UucHVzaCgiKCIrQWwubGluZXN0cmluZy5hcHBseSh0aGlzLFt0Ll9zaGVsbF0pKyIpIik7Zm9yKHZhciBuPTAscj10Ll9ob2xlcy5sZW5ndGg7bjxyOysrbillLnB1c2goIigiK0FsLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbdC5faG9sZXNbbl1dKSsiKSIpO3JldHVybiBlLmpvaW4oIiwiKX0sbXVsdGlwb2x5Z29uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTAscj10Ll9nZW9tZXRyaWVzLmxlbmd0aDtuPHI7KytuKWUucHVzaCgiKCIrQWwucG9seWdvbi5hcHBseSh0aGlzLFt0Ll9nZW9tZXRyaWVzW25dXSkrIikiKTtyZXR1cm4gZS5qb2luKCIsIil9LGdlb21ldHJ5Y29sbGVjdGlvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5fZ2VvbWV0cmllcy5sZW5ndGg7bjxyOysrbillLnB1c2godGhpcy5leHRyYWN0R2VvbWV0cnkodC5fZ2VvbWV0cmllc1tuXSkpO3JldHVybiBlLmpvaW4oIiwiKX19LERsPXtwb2ludDpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVQb2ludCgpO3ZhciBlPXQudHJpbSgpLnNwbGl0KFJsLnNwYWNlcyk7cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZVBvaW50KG5ldyB1bChOdW1iZXIucGFyc2VGbG9hdChlWzBdKSxOdW1iZXIucGFyc2VGbG9hdChlWzFdKSkpfSxtdWx0aXBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpUG9pbnQoKTtmb3IodmFyIG49dC50cmltKCkuc3BsaXQoIiwiKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnJlcGxhY2UoUmwudHJpbVBhcmVucywiJDEiKSxyLnB1c2goRGwucG9pbnQuYXBwbHkodGhpcyxbZV0pKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTXVsdGlQb2ludChyKX0sbGluZXN0cmluZzpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lU3RyaW5nKCk7Zm9yKHZhciBlLG49dC50cmltKCkuc3BsaXQoIiwiKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnRyaW0oKS5zcGxpdChSbC5zcGFjZXMpLHIucHVzaChuZXcgdWwoTnVtYmVyLnBhcnNlRmxvYXQoZVswXSksTnVtYmVyLnBhcnNlRmxvYXQoZVsxXSkpKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTGluZVN0cmluZyhyKX0sbGluZWFycmluZzpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lYXJSaW5nKCk7Zm9yKHZhciBlLG49dC50cmltKCkuc3BsaXQoIiwiKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnRyaW0oKS5zcGxpdChSbC5zcGFjZXMpLHIucHVzaChuZXcgdWwoTnVtYmVyLnBhcnNlRmxvYXQoZVswXSksTnVtYmVyLnBhcnNlRmxvYXQoZVsxXSkpKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTGluZWFyUmluZyhyKX0sbXVsdGlsaW5lc3RyaW5nOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpTGluZVN0cmluZygpO2Zvcih2YXIgbj10LnRyaW0oKS5zcGxpdChSbC5wYXJlbkNvbW1hKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnJlcGxhY2UoUmwudHJpbVBhcmVucywiJDEiKSxyLnB1c2goRGwubGluZXN0cmluZy5hcHBseSh0aGlzLFtlXSkpO3JldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVNdWx0aUxpbmVTdHJpbmcocil9LHBvbHlnb246ZnVuY3Rpb24odCl7dmFyIGUsbixyO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZVBvbHlnb24oKTtmb3IodmFyIGksbz10LnRyaW0oKS5zcGxpdChSbC5wYXJlbkNvbW1hKSxzPVtdLGE9MCx1PW8ubGVuZ3RoO2E8dTsrK2EpZT1vW2FdLnJlcGxhY2UoUmwudHJpbVBhcmVucywiJDEiKSxuPURsLmxpbmVzdHJpbmcuYXBwbHkodGhpcyxbZV0pLHI9dGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTGluZWFyUmluZyhuLl9wb2ludHMpLDA9PT1hP2k9cjpzLnB1c2gocik7cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZVBvbHlnb24oaSxzKX0sbXVsdGlwb2x5Z29uOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpUG9seWdvbigpO2Zvcih2YXIgbj10LnRyaW0oKS5zcGxpdChSbC5kb3VibGVQYXJlbkNvbW1hKSxyPVtdLGk9MCxvPW4ubGVuZ3RoO2k8bzsrK2kpZT1uW2ldLnJlcGxhY2UoUmwudHJpbVBhcmVucywiJDEiKSxyLnB1c2goRGwucG9seWdvbi5hcHBseSh0aGlzLFtlXSkpO3JldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVNdWx0aVBvbHlnb24ocil9LGdlb21ldHJ5Y29sbGVjdGlvbjpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVHZW9tZXRyeUNvbGxlY3Rpb24oKTtmb3IodmFyIGU9KHQ9dC5yZXBsYWNlKC8sXHMqKFtBLVphLXpdKS9nLCJ8JDEiKSkudHJpbSgpLnNwbGl0KCJ8Iiksbj1bXSxyPTAsaT1lLmxlbmd0aDtyPGk7KytyKW4ucHVzaCh0aGlzLnJlYWQoZVtyXSkpO3JldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVHZW9tZXRyeUNvbGxlY3Rpb24obil9fSxGbD1mdW5jdGlvbih0KXt0aGlzLnBhcnNlcj1uZXcgVGwodCl9O0ZsLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXJzZXIud3JpdGUodCl9LEZsLnRvTGluZVN0cmluZz1mdW5jdGlvbih0LGUpe2lmKDIhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiTm90IGltcGxlbWVudGVkIik7cmV0dXJuIkxJTkVTVFJJTkcgKCAiK3QueCsiICIrdC55KyIsICIrZS54KyIgIitlLnkrIiApIn07dmFyIGtsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMsZSksdGhpcy5uYW1lPSJSdW50aW1lRXhjZXB0aW9uIix0aGlzLm1lc3NhZ2U9ZSx0aGlzLnN0YWNrPShuZXcgdCkuc3RhY2t9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGV9KEVycm9yKSxHbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7aWYodC5jYWxsKHRoaXMpLDA9PT1hcmd1bWVudHMubGVuZ3RoKXQuY2FsbCh0aGlzKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07dC5jYWxsKHRoaXMsZSl9fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShrbCkscWw9ZnVuY3Rpb24oKXt9O3FsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxxbC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gcWx9LHFsLnNob3VsZE5ldmVyUmVhY2hIZXJlPWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcWwuc2hvdWxkTmV2ZXJSZWFjaEhlcmUobnVsbCk7ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3Rocm93IG5ldyBHbCgiU2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUiKyhudWxsIT09dD8iOiAiK3Q6IiIpKX19LHFsLmlzVHJ1ZT1mdW5jdGlvbigpe3ZhciB0O2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXFsLmlzVHJ1ZShhcmd1bWVudHNbMF0sbnVsbCk7ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCYmKHQ9YXJndW1lbnRzWzFdLCFhcmd1bWVudHNbMF0pKXRocm93IG51bGw9PT10P25ldyBHbDpuZXcgR2wodCl9LHFsLmVxdWFscz1mdW5jdGlvbigpe3ZhciB0LGUsbjtpZigyPT09YXJndW1lbnRzLmxlbmd0aClxbC5lcXVhbHModD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbnVsbCk7ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCYmKHQ9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzJdLCEoZT1hcmd1bWVudHNbMV0pLmVxdWFscyh0KSkpdGhyb3cgbmV3IEdsKCJFeHBlY3RlZCAiK3QrIiBidXQgZW5jb3VudGVyZWQgIitlKyhudWxsIT09bj8iOiAiK246IiIpKX07dmFyIEJsPWZ1bmN0aW9uKCl7dGhpcy5fcmVzdWx0PW51bGwsdGhpcy5faW5wdXRMaW5lcz1BcnJheSgyKS5maWxsKCkubWFwKChmdW5jdGlvbigpe3JldHVybiBBcnJheSgyKX0pKSx0aGlzLl9pbnRQdD1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9pbnRMaW5lSW5kZXg9bnVsbCx0aGlzLl9pc1Byb3Blcj1udWxsLHRoaXMuX3BhPW51bGwsdGhpcy5fcGI9bnVsbCx0aGlzLl9wcmVjaXNpb25Nb2RlbD1udWxsLHRoaXMuX2ludFB0WzBdPW5ldyB1bCx0aGlzLl9pbnRQdFsxXT1uZXcgdWwsdGhpcy5fcGE9dGhpcy5faW50UHRbMF0sdGhpcy5fcGI9dGhpcy5faW50UHRbMV0sdGhpcy5fcmVzdWx0PTB9LHpsPXtET05UX0lOVEVSU0VDVDp7Y29uZmlndXJhYmxlOiEwfSxET19JTlRFUlNFQ1Q6e2NvbmZpZ3VyYWJsZTohMH0sQ09MTElORUFSOntjb25maWd1cmFibGU6ITB9LE5PX0lOVEVSU0VDVElPTjp7Y29uZmlndXJhYmxlOiEwfSxQT0lOVF9JTlRFUlNFQ1RJT046e2NvbmZpZ3VyYWJsZTohMH0sQ09MTElORUFSX0lOVEVSU0VDVElPTjp7Y29uZmlndXJhYmxlOiEwfX07QmwucHJvdG90eXBlLmdldEluZGV4QWxvbmdTZWdtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29tcHV0ZUludExpbmVJbmRleCgpLHRoaXMuX2ludExpbmVJbmRleFt0XVtlXX0sQmwucHJvdG90eXBlLmdldFRvcG9sb2d5U3VtbWFyeT1mdW5jdGlvbigpe3ZhciB0PW5ldyB2bDtyZXR1cm4gdGhpcy5pc0VuZFBvaW50KCkmJnQuYXBwZW5kKCIgZW5kcG9pbnQiKSx0aGlzLl9pc1Byb3BlciYmdC5hcHBlbmQoIiBwcm9wZXIiKSx0aGlzLmlzQ29sbGluZWFyKCkmJnQuYXBwZW5kKCIgY29sbGluZWFyIiksdC50b1N0cmluZygpfSxCbC5wcm90b3R5cGUuY29tcHV0ZUludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUsbixyKXt0aGlzLl9pbnB1dExpbmVzWzBdWzBdPXQsdGhpcy5faW5wdXRMaW5lc1swXVsxXT1lLHRoaXMuX2lucHV0TGluZXNbMV1bMF09bix0aGlzLl9pbnB1dExpbmVzWzFdWzFdPXIsdGhpcy5fcmVzdWx0PXRoaXMuY29tcHV0ZUludGVyc2VjdCh0LGUsbixyKX0sQmwucHJvdG90eXBlLmdldEludGVyc2VjdGlvbk51bT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHR9LEJsLnByb3RvdHlwZS5jb21wdXRlSW50TGluZUluZGV4PWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpbnVsbD09PXRoaXMuX2ludExpbmVJbmRleCYmKHRoaXMuX2ludExpbmVJbmRleD1BcnJheSgyKS5maWxsKCkubWFwKChmdW5jdGlvbigpe3JldHVybiBBcnJheSgyKX0pKSx0aGlzLmNvbXB1dGVJbnRMaW5lSW5kZXgoMCksdGhpcy5jb21wdXRlSW50TGluZUluZGV4KDEpKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT10aGlzLmdldEVkZ2VEaXN0YW5jZSh0LDApLG49dGhpcy5nZXRFZGdlRGlzdGFuY2UodCwxKTtlPm4/KHRoaXMuX2ludExpbmVJbmRleFt0XVswXT0wLHRoaXMuX2ludExpbmVJbmRleFt0XVsxXT0xKToodGhpcy5faW50TGluZUluZGV4W3RdWzBdPTEsdGhpcy5faW50TGluZUluZGV4W3RdWzFdPTApfX0sQmwucHJvdG90eXBlLmlzUHJvcGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzSW50ZXJzZWN0aW9uKCkmJnRoaXMuX2lzUHJvcGVyfSxCbC5wcm90b3R5cGUuc2V0UHJlY2lzaW9uTW9kZWw9ZnVuY3Rpb24odCl7dGhpcy5fcHJlY2lzaW9uTW9kZWw9dH0sQmwucHJvdG90eXBlLmlzSW50ZXJpb3JJbnRlcnNlY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiEhdGhpcy5pc0ludGVyaW9ySW50ZXJzZWN0aW9uKDApfHwhIXRoaXMuaXNJbnRlcmlvckludGVyc2VjdGlvbigxKTtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPTA7bjx0aGlzLl9yZXN1bHQ7bisrKWlmKCF0Ll9pbnRQdFtuXS5lcXVhbHMyRCh0Ll9pbnB1dExpbmVzW2VdWzBdKSYmIXQuX2ludFB0W25dLmVxdWFsczJEKHQuX2lucHV0TGluZXNbZV1bMV0pKXJldHVybiEwO3JldHVybiExfX0sQmwucHJvdG90eXBlLmdldEludGVyc2VjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW50UHRbdF19LEJsLnByb3RvdHlwZS5pc0VuZFBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzSW50ZXJzZWN0aW9uKCkmJiF0aGlzLl9pc1Byb3Blcn0sQmwucHJvdG90eXBlLmhhc0ludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN1bHQhPT1CbC5OT19JTlRFUlNFQ1RJT059LEJsLnByb3RvdHlwZS5nZXRFZGdlRGlzdGFuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gQmwuY29tcHV0ZUVkZ2VEaXN0YW5jZSh0aGlzLl9pbnRQdFtlXSx0aGlzLl9pbnB1dExpbmVzW3RdWzBdLHRoaXMuX2lucHV0TGluZXNbdF1bMV0pfSxCbC5wcm90b3R5cGUuaXNDb2xsaW5lYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVzdWx0PT09QmwuQ09MTElORUFSX0lOVEVSU0VDVElPTn0sQmwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEZsLnRvTGluZVN0cmluZyh0aGlzLl9pbnB1dExpbmVzWzBdWzBdLHRoaXMuX2lucHV0TGluZXNbMF1bMV0pKyIgLSAiK0ZsLnRvTGluZVN0cmluZyh0aGlzLl9pbnB1dExpbmVzWzFdWzBdLHRoaXMuX2lucHV0TGluZXNbMV1bMV0pK3RoaXMuZ2V0VG9wb2xvZ3lTdW1tYXJ5KCl9LEJsLnByb3RvdHlwZS5nZXRFbmRwb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9pbnB1dExpbmVzW3RdW2VdfSxCbC5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9yZXN1bHQ7ZSsrKWlmKHRoaXMuX2ludFB0W2VdLmVxdWFsczJEKHQpKXJldHVybiEwO3JldHVybiExfSxCbC5wcm90b3R5cGUuZ2V0SW50ZXJzZWN0aW9uQWxvbmdTZWdtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY29tcHV0ZUludExpbmVJbmRleCgpLHRoaXMuX2ludFB0W3RoaXMuX2ludExpbmVJbmRleFt0XVtlXV19LEJsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxCbC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gQmx9LEJsLmNvbXB1dGVFZGdlRGlzdGFuY2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPU1hdGguYWJzKG4ueC1lLngpLGk9TWF0aC5hYnMobi55LWUueSksbz0tMTtpZih0LmVxdWFscyhlKSlvPTA7ZWxzZSBpZih0LmVxdWFscyhuKSlvPXI+aT9yOmk7ZWxzZXt2YXIgcz1NYXRoLmFicyh0LngtZS54KSxhPU1hdGguYWJzKHQueS1lLnkpOzAhPT0obz1yPmk/czphKXx8dC5lcXVhbHMoZSl8fChvPU1hdGgubWF4KHMsYSkpfXJldHVybiBxbC5pc1RydWUoISgwPT09byYmIXQuZXF1YWxzKGUpKSwiQmFkIGRpc3RhbmNlIGNhbGN1bGF0aW9uIiksb30sQmwubm9uUm9idXN0Q29tcHV0ZUVkZ2VEaXN0YW5jZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC54LWUueCxpPXQueS1lLnksbz1NYXRoLnNxcnQocipyK2kqaSk7cmV0dXJuIHFsLmlzVHJ1ZSghKDA9PT1vJiYhdC5lcXVhbHMoZSkpLCJJbnZhbGlkIGRpc3RhbmNlIGNhbGN1bGF0aW9uIiksb30semwuRE9OVF9JTlRFUlNFQ1QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LHpsLkRPX0lOVEVSU0VDVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0semwuQ09MTElORUFSLmdldD1mdW5jdGlvbigpe3JldHVybiAyfSx6bC5OT19JTlRFUlNFQ1RJT04uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LHpsLlBPSU5UX0lOVEVSU0VDVElPTi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0semwuQ09MTElORUFSX0lOVEVSU0VDVElPTi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQmwsemwpO3ZhciBqbD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmlzSW5TZWdtZW50RW52ZWxvcGVzPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBMbCh0aGlzLl9pbnB1dExpbmVzWzBdWzBdLHRoaXMuX2lucHV0TGluZXNbMF1bMV0pLG49bmV3IExsKHRoaXMuX2lucHV0TGluZXNbMV1bMF0sdGhpcy5faW5wdXRMaW5lc1sxXVsxXSk7cmV0dXJuIGUuY29udGFpbnModCkmJm4uY29udGFpbnModCl9LGUucHJvdG90eXBlLmNvbXB1dGVJbnRlcnNlY3Rpb249ZnVuY3Rpb24oKXtpZigzIT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC5wcm90b3R5cGUuY29tcHV0ZUludGVyc2VjdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO2lmKHRoaXMuX2lzUHJvcGVyPSExLExsLmludGVyc2VjdHMobixyLGUpJiYwPT09WGwub3JpZW50YXRpb25JbmRleChuLHIsZSkmJjA9PT1YbC5vcmllbnRhdGlvbkluZGV4KHIsbixlKSlyZXR1cm4gdGhpcy5faXNQcm9wZXI9ITAsKGUuZXF1YWxzKG4pfHxlLmVxdWFscyhyKSkmJih0aGlzLl9pc1Byb3Blcj0hMSksdGhpcy5fcmVzdWx0PXQuUE9JTlRfSU5URVJTRUNUSU9OLG51bGw7dGhpcy5fcmVzdWx0PXQuTk9fSU5URVJTRUNUSU9OfSxlLnByb3RvdHlwZS5ub3JtYWxpemVUb01pbmltdW09ZnVuY3Rpb24odCxlLG4scixpKXtpLng9dGhpcy5zbWFsbGVzdEluQWJzVmFsdWUodC54LGUueCxuLngsci54KSxpLnk9dGhpcy5zbWFsbGVzdEluQWJzVmFsdWUodC55LGUueSxuLnksci55KSx0LngtPWkueCx0LnktPWkueSxlLngtPWkueCxlLnktPWkueSxuLngtPWkueCxuLnktPWkueSxyLngtPWkueCxyLnktPWkueX0sZS5wcm90b3R5cGUuc2FmZUhDb29yZGluYXRlSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvPW51bGw7dHJ5e289TWwuaW50ZXJzZWN0aW9uKHQsbixyLGkpfWNhdGNoKHMpe2lmKCEocyBpbnN0YW5jZW9mIENsKSl0aHJvdyBzO289ZS5uZWFyZXN0RW5kcG9pbnQodCxuLHIsaSl9cmV0dXJuIG99LGUucHJvdG90eXBlLmludGVyc2VjdGlvbj1mdW5jdGlvbih0LG4scixpKXt2YXIgbz10aGlzLmludGVyc2VjdGlvbldpdGhOb3JtYWxpemF0aW9uKHQsbixyLGkpO3JldHVybiB0aGlzLmlzSW5TZWdtZW50RW52ZWxvcGVzKG8pfHwobz1uZXcgdWwoZS5uZWFyZXN0RW5kcG9pbnQodCxuLHIsaSkpKSxudWxsIT09dGhpcy5fcHJlY2lzaW9uTW9kZWwmJnRoaXMuX3ByZWNpc2lvbk1vZGVsLm1ha2VQcmVjaXNlKG8pLG99LGUucHJvdG90eXBlLnNtYWxsZXN0SW5BYnNWYWx1ZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10LG89TWF0aC5hYnMoaSk7cmV0dXJuIE1hdGguYWJzKGUpPG8mJihpPWUsbz1NYXRoLmFicyhlKSksTWF0aC5hYnMobik8byYmKGk9bixvPU1hdGguYWJzKG4pKSxNYXRoLmFicyhyKTxvJiYoaT1yKSxpfSxlLnByb3RvdHlwZS5jaGVja0REPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89YmwuaW50ZXJzZWN0aW9uKHQsZSxuLHIpLHM9dGhpcy5pc0luU2VnbWVudEVudmVsb3BlcyhvKTtQbC5vdXQucHJpbnRsbigiREQgaW4gZW52ID0gIitzKyIgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSAiK28pLGkuZGlzdGFuY2Uobyk+MWUtNCYmUGwub3V0LnByaW50bG4oIkRpc3RhbmNlID0gIitpLmRpc3RhbmNlKG8pKX0sZS5wcm90b3R5cGUuaW50ZXJzZWN0aW9uV2l0aE5vcm1hbGl6YXRpb249ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9bmV3IHVsKHQpLG89bmV3IHVsKGUpLHM9bmV3IHVsKG4pLGE9bmV3IHVsKHIpLHU9bmV3IHVsO3RoaXMubm9ybWFsaXplVG9FbnZDZW50cmUoaSxvLHMsYSx1KTt2YXIgbD10aGlzLnNhZmVIQ29vcmRpbmF0ZUludGVyc2VjdGlvbihpLG8scyxhKTtyZXR1cm4gbC54Kz11LngsbC55Kz11LnksbH0sZS5wcm90b3R5cGUuY29tcHV0ZUNvbGxpbmVhckludGVyc2VjdGlvbj1mdW5jdGlvbihlLG4scixpKXt2YXIgbz1MbC5pbnRlcnNlY3RzKGUsbixyKSxzPUxsLmludGVyc2VjdHMoZSxuLGkpLGE9TGwuaW50ZXJzZWN0cyhyLGksZSksdT1MbC5pbnRlcnNlY3RzKHIsaSxuKTtyZXR1cm4gbyYmcz8odGhpcy5faW50UHRbMF09cix0aGlzLl9pbnRQdFsxXT1pLHQuQ09MTElORUFSX0lOVEVSU0VDVElPTik6YSYmdT8odGhpcy5faW50UHRbMF09ZSx0aGlzLl9pbnRQdFsxXT1uLHQuQ09MTElORUFSX0lOVEVSU0VDVElPTik6byYmYT8odGhpcy5faW50UHRbMF09cix0aGlzLl9pbnRQdFsxXT1lLCFyLmVxdWFscyhlKXx8c3x8dT90LkNPTExJTkVBUl9JTlRFUlNFQ1RJT046dC5QT0lOVF9JTlRFUlNFQ1RJT04pOm8mJnU/KHRoaXMuX2ludFB0WzBdPXIsdGhpcy5faW50UHRbMV09biwhci5lcXVhbHMobil8fHN8fGE/dC5DT0xMSU5FQVJfSU5URVJTRUNUSU9OOnQuUE9JTlRfSU5URVJTRUNUSU9OKTpzJiZhPyh0aGlzLl9pbnRQdFswXT1pLHRoaXMuX2ludFB0WzFdPWUsIWkuZXF1YWxzKGUpfHxvfHx1P3QuQ09MTElORUFSX0lOVEVSU0VDVElPTjp0LlBPSU5UX0lOVEVSU0VDVElPTik6cyYmdT8odGhpcy5faW50UHRbMF09aSx0aGlzLl9pbnRQdFsxXT1uLCFpLmVxdWFscyhuKXx8b3x8YT90LkNPTExJTkVBUl9JTlRFUlNFQ1RJT046dC5QT0lOVF9JTlRFUlNFQ1RJT04pOnQuTk9fSU5URVJTRUNUSU9OfSxlLnByb3RvdHlwZS5ub3JtYWxpemVUb0VudkNlbnRyZT1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPXQueDxlLng/dC54OmUueCxzPXQueTxlLnk/dC55OmUueSxhPXQueD5lLng/dC54OmUueCx1PXQueT5lLnk/dC55OmUueSxsPW4ueDxyLng/bi54OnIueCxjPW4ueTxyLnk/bi55OnIueSxoPW4ueD5yLng/bi54OnIueCxwPW4ueT5yLnk/bi55OnIueSxmPSgobz5sP286bCkrKGE8aD9hOmgpKS8yLGc9KChzPmM/czpjKSsodTxwP3U6cCkpLzI7aS54PWYsaS55PWcsdC54LT1pLngsdC55LT1pLnksZS54LT1pLngsZS55LT1pLnksbi54LT1pLngsbi55LT1pLnksci54LT1pLngsci55LT1pLnl9LGUucHJvdG90eXBlLmNvbXB1dGVJbnRlcnNlY3Q9ZnVuY3Rpb24oZSxuLHIsaSl7aWYodGhpcy5faXNQcm9wZXI9ITEsIUxsLmludGVyc2VjdHMoZSxuLHIsaSkpcmV0dXJuIHQuTk9fSU5URVJTRUNUSU9OO3ZhciBvPVhsLm9yaWVudGF0aW9uSW5kZXgoZSxuLHIpLHM9WGwub3JpZW50YXRpb25JbmRleChlLG4saSk7aWYobz4wJiZzPjB8fG88MCYmczwwKXJldHVybiB0Lk5PX0lOVEVSU0VDVElPTjt2YXIgYT1YbC5vcmllbnRhdGlvbkluZGV4KHIsaSxlKSx1PVhsLm9yaWVudGF0aW9uSW5kZXgocixpLG4pO3JldHVybiBhPjAmJnU+MHx8YTwwJiZ1PDA/dC5OT19JTlRFUlNFQ1RJT046MD09PW8mJjA9PT1zJiYwPT09YSYmMD09PXU/dGhpcy5jb21wdXRlQ29sbGluZWFySW50ZXJzZWN0aW9uKGUsbixyLGkpOigwPT09b3x8MD09PXN8fDA9PT1hfHwwPT09dT8odGhpcy5faXNQcm9wZXI9ITEsZS5lcXVhbHMyRChyKXx8ZS5lcXVhbHMyRChpKT90aGlzLl9pbnRQdFswXT1lOm4uZXF1YWxzMkQocil8fG4uZXF1YWxzMkQoaSk/dGhpcy5faW50UHRbMF09bjowPT09bz90aGlzLl9pbnRQdFswXT1uZXcgdWwocik6MD09PXM/dGhpcy5faW50UHRbMF09bmV3IHVsKGkpOjA9PT1hP3RoaXMuX2ludFB0WzBdPW5ldyB1bChlKTowPT09dSYmKHRoaXMuX2ludFB0WzBdPW5ldyB1bChuKSkpOih0aGlzLl9pc1Byb3Blcj0hMCx0aGlzLl9pbnRQdFswXT10aGlzLmludGVyc2VjdGlvbihlLG4scixpKSksdC5QT0lOVF9JTlRFUlNFQ1RJT04pfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlLm5lYXJlc3RFbmRwb2ludD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10LG89WGwuZGlzdGFuY2VQb2ludExpbmUodCxuLHIpLHM9WGwuZGlzdGFuY2VQb2ludExpbmUoZSxuLHIpO3JldHVybiBzPG8mJihvPXMsaT1lKSwocz1YbC5kaXN0YW5jZVBvaW50TGluZShuLHQsZSkpPG8mJihvPXMsaT1uKSwocz1YbC5kaXN0YW5jZVBvaW50TGluZShyLHQsZSkpPG8mJihvPXMsaT1yKSxpfSxlfShCbCksVWw9ZnVuY3Rpb24oKXt9O1VsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxVbC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gVWx9LFVsLm9yaWVudGF0aW9uSW5kZXg9ZnVuY3Rpb24odCxlLG4pe3ZhciByPWUueC10LngsaT1lLnktdC55LG89bi54LWUueCxzPW4ueS1lLnk7cmV0dXJuIFVsLnNpZ25PZkRldDJ4MihyLGksbyxzKX0sVWwuc2lnbk9mRGV0MngyPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW51bGwsbz1udWxsLHM9bnVsbDtpZihpPTEsMD09PXR8fDA9PT1yKXJldHVybiAwPT09ZXx8MD09PW4/MDplPjA/bj4wPy1pOmk6bj4wP2k6LWk7aWYoMD09PWV8fDA9PT1uKXJldHVybiByPjA/dD4wP2k6LWk6dD4wPy1pOmk7aWYoZT4wP3I+MD9lPD1yfHwoaT0taSxvPXQsdD1uLG49byxvPWUsZT1yLHI9byk6ZTw9LXI/KGk9LWksbj0tbixyPS1yKToobz10LHQ9LW4sbj1vLG89ZSxlPS1yLHI9byk6cj4wPy1lPD1yPyhpPS1pLHQ9LXQsZT0tZSk6KG89LXQsdD1uLG49byxvPS1lLGU9cixyPW8pOmU+PXI/KHQ9LXQsZT0tZSxuPS1uLHI9LXIpOihpPS1pLG89LXQsdD0tbixuPW8sbz0tZSxlPS1yLHI9byksdD4wKXtpZighKG4+MCkpcmV0dXJuIGk7aWYoISh0PD1uKSlyZXR1cm4gaX1lbHNle2lmKG4+MClyZXR1cm4taTtpZighKHQ+PW4pKXJldHVybi1pO2k9LWksdD0tdCxuPS1ufWZvcig7Oyl7aWYoKHItPShzPU1hdGguZmxvb3Iobi90KSkqZSk8MClyZXR1cm4taTtpZihyPmUpcmV0dXJuIGk7aWYodD4obi09cyp0KStuKXtpZihlPHIrcilyZXR1cm4gaX1lbHNle2lmKGU+cityKXJldHVybi1pO249dC1uLHI9ZS1yLGk9LWl9aWYoMD09PXIpcmV0dXJuIDA9PT1uPzA6LWk7aWYoMD09PW4pcmV0dXJuIGk7aWYoKGUtPShzPU1hdGguZmxvb3IodC9uKSkqcik8MClyZXR1cm4gaTtpZihlPnIpcmV0dXJuLWk7aWYobj4odC09cypuKSt0KXtpZihyPGUrZSlyZXR1cm4taX1lbHNle2lmKHI+ZStlKXJldHVybiBpO3Q9bi10LGU9ci1lLGk9LWl9aWYoMD09PWUpcmV0dXJuIDA9PT10PzA6aTtpZigwPT09dClyZXR1cm4taX19O3ZhciBWbD1mdW5jdGlvbigpe3RoaXMuX3A9bnVsbCx0aGlzLl9jcm9zc2luZ0NvdW50PTAsdGhpcy5faXNQb2ludE9uU2VnbWVudD0hMTt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fcD10fTtWbC5wcm90b3R5cGUuY291bnRTZWdtZW50PWZ1bmN0aW9uKHQsZSl7aWYodC54PHRoaXMuX3AueCYmZS54PHRoaXMuX3AueClyZXR1cm4gbnVsbDtpZih0aGlzLl9wLng9PT1lLngmJnRoaXMuX3AueT09PWUueSlyZXR1cm4gdGhpcy5faXNQb2ludE9uU2VnbWVudD0hMCxudWxsO2lmKHQueT09PXRoaXMuX3AueSYmZS55PT09dGhpcy5fcC55KXt2YXIgbj10Lngscj1lLng7cmV0dXJuIG4+ciYmKG49ZS54LHI9dC54KSx0aGlzLl9wLng+PW4mJnRoaXMuX3AueDw9ciYmKHRoaXMuX2lzUG9pbnRPblNlZ21lbnQ9ITApLG51bGx9aWYodC55PnRoaXMuX3AueSYmZS55PD10aGlzLl9wLnl8fGUueT50aGlzLl9wLnkmJnQueTw9dGhpcy5fcC55KXt2YXIgaT10LngtdGhpcy5fcC54LG89dC55LXRoaXMuX3AueSxzPWUueC10aGlzLl9wLngsYT1lLnktdGhpcy5fcC55LHU9VWwuc2lnbk9mRGV0MngyKGksbyxzLGEpO2lmKDA9PT11KXJldHVybiB0aGlzLl9pc1BvaW50T25TZWdtZW50PSEwLG51bGw7YTxvJiYodT0tdSksdT4wJiZ0aGlzLl9jcm9zc2luZ0NvdW50Kyt9fSxWbC5wcm90b3R5cGUuaXNQb2ludEluUG9seWdvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExvY2F0aW9uKCkhPT1wbC5FWFRFUklPUn0sVmwucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUG9pbnRPblNlZ21lbnQ/cGwuQk9VTkRBUlk6dGhpcy5fY3Jvc3NpbmdDb3VudCUyPT0xP3BsLklOVEVSSU9SOnBsLkVYVEVSSU9SfSxWbC5wcm90b3R5cGUuaXNPblNlZ21lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNQb2ludE9uU2VnbWVudH0sVmwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFZsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBWbH0sVmwubG9jYXRlUG9pbnRJblJpbmc9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZnbChhcmd1bWVudHNbMV0sSWwpKXtmb3IodmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49bmV3IFZsKHQpLHI9bmV3IHVsLGk9bmV3IHVsLG89MTtvPGUuc2l6ZSgpO28rKylpZihlLmdldENvb3JkaW5hdGUobyxyKSxlLmdldENvb3JkaW5hdGUoby0xLGkpLG4uY291bnRTZWdtZW50KHIsaSksbi5pc09uU2VnbWVudCgpKXJldHVybiBuLmdldExvY2F0aW9uKCk7cmV0dXJuIG4uZ2V0TG9jYXRpb24oKX1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIEFycmF5KXtmb3IodmFyIHM9YXJndW1lbnRzWzBdLGE9YXJndW1lbnRzWzFdLHU9bmV3IFZsKHMpLGw9MTtsPGEubGVuZ3RoO2wrKyl7dmFyIGM9YVtsXSxoPWFbbC0xXTtpZih1LmNvdW50U2VnbWVudChjLGgpLHUuaXNPblNlZ21lbnQoKSlyZXR1cm4gdS5nZXRMb2NhdGlvbigpfXJldHVybiB1LmdldExvY2F0aW9uKCl9fTt2YXIgWGw9ZnVuY3Rpb24oKXt9LFlsPXtDTE9DS1dJU0U6e2NvbmZpZ3VyYWJsZTohMH0sUklHSFQ6e2NvbmZpZ3VyYWJsZTohMH0sQ09VTlRFUkNMT0NLV0lTRTp7Y29uZmlndXJhYmxlOiEwfSxMRUZUOntjb25maWd1cmFibGU6ITB9LENPTExJTkVBUjp7Y29uZmlndXJhYmxlOiEwfSxTVFJBSUdIVDp7Y29uZmlndXJhYmxlOiEwfX07WGwucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFhsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBYbH0sWGwub3JpZW50YXRpb25JbmRleD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGJsLm9yaWVudGF0aW9uSW5kZXgodCxlLG4pfSxYbC5zaWduZWRBcmVhPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBBcnJheSl7dmFyIHQ9YXJndW1lbnRzWzBdO2lmKHQubGVuZ3RoPDMpcmV0dXJuIDA7Zm9yKHZhciBlPTAsbj10WzBdLngscj0xO3I8dC5sZW5ndGgtMTtyKyspe3ZhciBpPXRbcl0ueC1uLG89dFtyKzFdLnkscz10W3ItMV0ueTtlKz1pKihzLW8pfXJldHVybiBlLzJ9aWYoZ2woYXJndW1lbnRzWzBdLElsKSl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YS5zaXplKCk7aWYodTwzKXJldHVybiAwO3ZhciBsPW5ldyB1bCxjPW5ldyB1bCxoPW5ldyB1bDthLmdldENvb3JkaW5hdGUoMCxjKSxhLmdldENvb3JkaW5hdGUoMSxoKTt2YXIgcD1jLng7aC54LT1wO2Zvcih2YXIgZj0wLGc9MTtnPHUtMTtnKyspbC55PWMueSxjLng9aC54LGMueT1oLnksYS5nZXRDb29yZGluYXRlKGcrMSxoKSxoLngtPXAsZis9Yy54KihsLnktaC55KTtyZXR1cm4gZi8yfX0sWGwuZGlzdGFuY2VMaW5lTGluZT1mdW5jdGlvbih0LGUsbixyKXtpZih0LmVxdWFscyhlKSlyZXR1cm4gWGwuZGlzdGFuY2VQb2ludExpbmUodCxuLHIpO2lmKG4uZXF1YWxzKHIpKXJldHVybiBYbC5kaXN0YW5jZVBvaW50TGluZShyLHQsZSk7dmFyIGk9ITE7aWYoTGwuaW50ZXJzZWN0cyh0LGUsbixyKSl7dmFyIG89KGUueC10LngpKihyLnktbi55KS0oZS55LXQueSkqKHIueC1uLngpO2lmKDA9PT1vKWk9ITA7ZWxzZXt2YXIgcz0odC55LW4ueSkqKHIueC1uLngpLSh0Lngtbi54KSooci55LW4ueSksYT0oKHQueS1uLnkpKihlLngtdC54KS0odC54LW4ueCkqKGUueS10LnkpKS9vLHU9cy9vOyh1PDB8fHU+MXx8YTwwfHxhPjEpJiYoaT0hMCl9fWVsc2UgaT0hMDtyZXR1cm4gaT9kbC5taW4oWGwuZGlzdGFuY2VQb2ludExpbmUodCxuLHIpLFhsLmRpc3RhbmNlUG9pbnRMaW5lKGUsbixyKSxYbC5kaXN0YW5jZVBvaW50TGluZShuLHQsZSksWGwuZGlzdGFuY2VQb2ludExpbmUocix0LGUpKTowfSxYbC5pc1BvaW50SW5SaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFhsLmxvY2F0ZVBvaW50SW5SaW5nKHQsZSkhPT1wbC5FWFRFUklPUn0sWGwuY29tcHV0ZUxlbmd0aD1mdW5jdGlvbih0KXt2YXIgZT10LnNpemUoKTtpZihlPD0xKXJldHVybiAwO3ZhciBuPTAscj1uZXcgdWw7dC5nZXRDb29yZGluYXRlKDAscik7Zm9yKHZhciBpPXIueCxvPXIueSxzPTE7czxlO3MrKyl7dC5nZXRDb29yZGluYXRlKHMscik7dmFyIGE9ci54LHU9ci55LGw9YS1pLGM9dS1vO24rPU1hdGguc3FydChsKmwrYypjKSxpPWEsbz11fXJldHVybiBufSxYbC5pc0NDVz1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aC0xO2lmKGU8Myl0aHJvdyBuZXcgZWwoIlJpbmcgaGFzIGZld2VyIHRoYW4gNCBwb2ludHMsIHNvIG9yaWVudGF0aW9uIGNhbm5vdCBiZSBkZXRlcm1pbmVkIik7Zm9yKHZhciBuPXRbMF0scj0wLGk9MTtpPD1lO2krKyl7dmFyIG89dFtpXTtvLnk+bi55JiYobj1vLHI9aSl9dmFyIHM9cjtkb3socy09MSk8MCYmKHM9ZSl9d2hpbGUodFtzXS5lcXVhbHMyRChuKSYmcyE9PXIpO3ZhciBhPXI7ZG97YT0oYSsxKSVlfXdoaWxlKHRbYV0uZXF1YWxzMkQobikmJmEhPT1yKTt2YXIgdT10W3NdLGw9dFthXTtpZih1LmVxdWFsczJEKG4pfHxsLmVxdWFsczJEKG4pfHx1LmVxdWFsczJEKGwpKXJldHVybiExO3ZhciBjPVhsLmNvbXB1dGVPcmllbnRhdGlvbih1LG4sbCksaD0hMTtyZXR1cm4gaD0wPT09Yz91Lng+bC54OmM+MCxofSxYbC5sb2NhdGVQb2ludEluUmluZz1mdW5jdGlvbih0LGUpe3JldHVybiBWbC5sb2NhdGVQb2ludEluUmluZyh0LGUpfSxYbC5kaXN0YW5jZVBvaW50TGluZVBlcnBlbmRpY3VsYXI9ZnVuY3Rpb24odCxlLG4pe3ZhciByPShuLngtZS54KSoobi54LWUueCkrKG4ueS1lLnkpKihuLnktZS55KSxpPSgoZS55LXQueSkqKG4ueC1lLngpLShlLngtdC54KSoobi55LWUueSkpL3I7cmV0dXJuIE1hdGguYWJzKGkpKk1hdGguc3FydChyKX0sWGwuY29tcHV0ZU9yaWVudGF0aW9uPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gWGwub3JpZW50YXRpb25JbmRleCh0LGUsbil9LFhsLmRpc3RhbmNlUG9pbnRMaW5lPWZ1bmN0aW9uKCl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTtpZigwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IGVsKCJMaW5lIGFycmF5IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgdmVydGV4Iik7Zm9yKHZhciBuPXQuZGlzdGFuY2UoZVswXSkscj0wO3I8ZS5sZW5ndGgtMTtyKyspe3ZhciBpPVhsLmRpc3RhbmNlUG9pbnRMaW5lKHQsZVtyXSxlW3IrMV0pO2k8biYmKG49aSl9cmV0dXJuIG59aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXSxhPWFyZ3VtZW50c1syXTtpZihzLng9PT1hLngmJnMueT09PWEueSlyZXR1cm4gby5kaXN0YW5jZShzKTt2YXIgdT0oYS54LXMueCkqKGEueC1zLngpKyhhLnktcy55KSooYS55LXMueSksbD0oKG8ueC1zLngpKihhLngtcy54KSsoby55LXMueSkqKGEueS1zLnkpKS91O2lmKGw8PTApcmV0dXJuIG8uZGlzdGFuY2Uocyk7aWYobD49MSlyZXR1cm4gby5kaXN0YW5jZShhKTt2YXIgYz0oKHMueS1vLnkpKihhLngtcy54KS0ocy54LW8ueCkqKGEueS1zLnkpKS91O3JldHVybiBNYXRoLmFicyhjKSpNYXRoLnNxcnQodSl9fSxYbC5pc09uTGluZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgamwscj0xO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3ItMV0sbz1lW3JdO2lmKG4uY29tcHV0ZUludGVyc2VjdGlvbih0LGksbyksbi5oYXNJbnRlcnNlY3Rpb24oKSlyZXR1cm4hMH1yZXR1cm4hMX0sWWwuQ0xPQ0tXSVNFLmdldD1mdW5jdGlvbigpe3JldHVybi0xfSxZbC5SSUdIVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gWGwuQ0xPQ0tXSVNFfSxZbC5DT1VOVEVSQ0xPQ0tXSVNFLmdldD1mdW5jdGlvbigpe3JldHVybiAxfSxZbC5MRUZULmdldD1mdW5jdGlvbigpe3JldHVybiBYbC5DT1VOVEVSQ0xPQ0tXSVNFfSxZbC5DT0xMSU5FQVIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LFlsLlNUUkFJR0hULmdldD1mdW5jdGlvbigpe3JldHVybiBYbC5DT0xMSU5FQVJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFhsLFlsKTt2YXIgSGw9ZnVuY3Rpb24oKXt9O0hsLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7fSxIbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSGwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEhsfTt2YXIgV2w9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fZW52ZWxvcGU9bnVsbCx0aGlzLl9mYWN0b3J5PW51bGwsdGhpcy5fU1JJRD1udWxsLHRoaXMuX3VzZXJEYXRhPW51bGwsdGhpcy5fZmFjdG9yeT10LHRoaXMuX1NSSUQ9dC5nZXRTUklEKCl9LEpsPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9LFNPUlRJTkRFWF9QT0lOVDp7Y29uZmlndXJhYmxlOiEwfSxTT1JUSU5ERVhfTVVMVElQT0lOVDp7Y29uZmlndXJhYmxlOiEwfSxTT1JUSU5ERVhfTElORVNUUklORzp7Y29uZmlndXJhYmxlOiEwfSxTT1JUSU5ERVhfTElORUFSUklORzp7Y29uZmlndXJhYmxlOiEwfSxTT1JUSU5ERVhfTVVMVElMSU5FU1RSSU5HOntjb25maWd1cmFibGU6ITB9LFNPUlRJTkRFWF9QT0xZR09OOntjb25maWd1cmFibGU6ITB9LFNPUlRJTkRFWF9NVUxUSVBPTFlHT046e2NvbmZpZ3VyYWJsZTohMH0sU09SVElOREVYX0dFT01FVFJZQ09MTEVDVElPTjp7Y29uZmlndXJhYmxlOiEwfSxnZW9tZXRyeUNoYW5nZWRGaWx0ZXI6e2NvbmZpZ3VyYWJsZTohMH19O1dsLnByb3RvdHlwZS5pc0dlb21ldHJ5Q29sbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvcnRJbmRleCgpPT09V2wuU09SVElOREVYX0dFT01FVFJZQ09MTEVDVElPTn0sV2wucHJvdG90eXBlLmdldEZhY3Rvcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFjdG9yeX0sV2wucHJvdG90eXBlLmdldEdlb21ldHJ5Tj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc30sV2wucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sV2wucHJvdG90eXBlLmlzUmVjdGFuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LFdsLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFdsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIG51bGwhPT10JiZ0aGlzLmVxdWFsc1RvcG8odCl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBlPWFyZ3VtZW50c1swXTtpZighKGUgaW5zdGFuY2VvZiBXbCkpcmV0dXJuITE7dmFyIG49ZTtyZXR1cm4gdGhpcy5lcXVhbHNFeGFjdChuKX19LFdsLnByb3RvdHlwZS5lcXVhbHNFeGFjdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHRoaXMuZXF1YWxzRXhhY3QodCwwKX0sV2wucHJvdG90eXBlLmdlb21ldHJ5Q2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuYXBwbHkoV2wuZ2VvbWV0cnlDaGFuZ2VkRmlsdGVyKX0sV2wucHJvdG90eXBlLmdlb21ldHJ5Q2hhbmdlZEFjdGlvbj1mdW5jdGlvbigpe3RoaXMuX2VudmVsb3BlPW51bGx9LFdsLnByb3RvdHlwZS5lcXVhbHNOb3JtPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dCYmdGhpcy5ub3JtKCkuZXF1YWxzRXhhY3QodC5ub3JtKCkpfSxXbC5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LFdsLnByb3RvdHlwZS5nZXROdW1HZW9tZXRyaWVzPWZ1bmN0aW9uKCl7cmV0dXJuIDF9LFdsLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9dDtyZXR1cm4gdGhpcy5nZXRTb3J0SW5kZXgoKSE9PWUuZ2V0U29ydEluZGV4KCk/dGhpcy5nZXRTb3J0SW5kZXgoKS1lLmdldFNvcnRJbmRleCgpOnRoaXMuaXNFbXB0eSgpJiZlLmlzRW1wdHkoKT8wOnRoaXMuaXNFbXB0eSgpPy0xOmUuaXNFbXB0eSgpPzE6dGhpcy5jb21wYXJlVG9TYW1lQ2xhc3ModCl9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5nZXRTb3J0SW5kZXgoKSE9PW4uZ2V0U29ydEluZGV4KCk/dGhpcy5nZXRTb3J0SW5kZXgoKS1uLmdldFNvcnRJbmRleCgpOnRoaXMuaXNFbXB0eSgpJiZuLmlzRW1wdHkoKT8wOnRoaXMuaXNFbXB0eSgpPy0xOm4uaXNFbXB0eSgpPzE6dGhpcy5jb21wYXJlVG9TYW1lQ2xhc3MobixyKX19LFdsLnByb3RvdHlwZS5nZXRVc2VyRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VyRGF0YX0sV2wucHJvdG90eXBlLmdldFNSSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fU1JJRH0sV2wucHJvdG90eXBlLmdldEVudmVsb3BlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLnRvR2VvbWV0cnkodGhpcy5nZXRFbnZlbG9wZUludGVybmFsKCkpfSxXbC5wcm90b3R5cGUuY2hlY2tOb3RHZW9tZXRyeUNvbGxlY3Rpb249ZnVuY3Rpb24odCl7aWYodC5nZXRTb3J0SW5kZXgoKT09PVdsLlNPUlRJTkRFWF9HRU9NRVRSWUNPTExFQ1RJT04pdGhyb3cgbmV3IGVsKCJUaGlzIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0IEdlb21ldHJ5Q29sbGVjdGlvbiBhcmd1bWVudHMiKX0sV2wucHJvdG90eXBlLmVxdWFsPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gMD09PW4/dC5lcXVhbHMoZSk6dC5kaXN0YW5jZShlKTw9bn0sV2wucHJvdG90eXBlLm5vcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvcHkoKTtyZXR1cm4gdC5ub3JtYWxpemUoKSx0fSxXbC5wcm90b3R5cGUuZ2V0UHJlY2lzaW9uTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmFjdG9yeS5nZXRQcmVjaXNpb25Nb2RlbCgpfSxXbC5wcm90b3R5cGUuZ2V0RW52ZWxvcGVJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fZW52ZWxvcGUmJih0aGlzLl9lbnZlbG9wZT10aGlzLmNvbXB1dGVFbnZlbG9wZUludGVybmFsKCkpLG5ldyBMbCh0aGlzLl9lbnZlbG9wZSl9LFdsLnByb3RvdHlwZS5zZXRTUklEPWZ1bmN0aW9uKHQpe3RoaXMuX1NSSUQ9dH0sV2wucHJvdG90eXBlLnNldFVzZXJEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX3VzZXJEYXRhPXR9LFdsLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuaXRlcmF0b3IoKSxyPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKSYmci5oYXNOZXh0KCk7KXt2YXIgaT1uLm5leHQoKSxvPXIubmV4dCgpLHM9aS5jb21wYXJlVG8obyk7aWYoMCE9PXMpcmV0dXJuIHN9cmV0dXJuIG4uaGFzTmV4dCgpPzE6ci5oYXNOZXh0KCk/LTE6MH0sV2wucHJvdG90eXBlLmhhc2hDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpLmhhc2hDb2RlKCl9LFdsLnByb3RvdHlwZS5pc0dlb21ldHJ5Q29sbGVjdGlvbk9yRGVyaXZlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNvcnRJbmRleCgpPT09V2wuU09SVElOREVYX0dFT01FVFJZQ09MTEVDVElPTnx8dGhpcy5nZXRTb3J0SW5kZXgoKT09PVdsLlNPUlRJTkRFWF9NVUxUSVBPSU5UfHx0aGlzLmdldFNvcnRJbmRleCgpPT09V2wuU09SVElOREVYX01VTFRJTElORVNUUklOR3x8dGhpcy5nZXRTb3J0SW5kZXgoKT09PVdsLlNPUlRJTkRFWF9NVUxUSVBPTFlHT059LFdsLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltvbCxpbCxhbF19LFdsLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBXbH0sV2wuaGFzTm9uRW1wdHlFbGVtZW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZighdFtlXS5pc0VtcHR5KCkpcmV0dXJuITA7cmV0dXJuITF9LFdsLmhhc051bGxFbGVtZW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKylpZihudWxsPT09dFtlXSlyZXR1cm4hMDtyZXR1cm4hMX0sSmwuc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMHg3OTllYTQ2NTIyODU0YzAwfSxKbC5TT1JUSU5ERVhfUE9JTlQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LEpsLlNPUlRJTkRFWF9NVUxUSVBPSU5ULmdldD1mdW5jdGlvbigpe3JldHVybiAxfSxKbC5TT1JUSU5ERVhfTElORVNUUklORy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMn0sSmwuU09SVElOREVYX0xJTkVBUlJJTkcuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDN9LEpsLlNPUlRJTkRFWF9NVUxUSUxJTkVTVFJJTkcuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDR9LEpsLlNPUlRJTkRFWF9QT0xZR09OLmdldD1mdW5jdGlvbigpe3JldHVybiA1fSxKbC5TT1JUSU5ERVhfTVVMVElQT0xZR09OLmdldD1mdW5jdGlvbigpe3JldHVybiA2fSxKbC5TT1JUSU5ERVhfR0VPTUVUUllDT0xMRUNUSU9OLmdldD1mdW5jdGlvbigpe3JldHVybiA3fSxKbC5nZW9tZXRyeUNoYW5nZWRGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFpsfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhXbCxKbCk7dmFyIFpsPWZ1bmN0aW9uKCl7fTtabC5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltIbF19LFpsLmZpbHRlcj1mdW5jdGlvbih0KXt0Lmdlb21ldHJ5Q2hhbmdlZEFjdGlvbigpfTt2YXIgS2w9ZnVuY3Rpb24oKXt9O0tsLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7fSxLbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sS2wucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEtsfTt2YXIgUWw9ZnVuY3Rpb24oKXt9LCRsPXtNb2QyQm91bmRhcnlOb2RlUnVsZTp7Y29uZmlndXJhYmxlOiEwfSxFbmRQb2ludEJvdW5kYXJ5Tm9kZVJ1bGU6e2NvbmZpZ3VyYWJsZTohMH0sTXVsdGlWYWxlbnRFbmRQb2ludEJvdW5kYXJ5Tm9kZVJ1bGU6e2NvbmZpZ3VyYWJsZTohMH0sTW9ub1ZhbGVudEVuZFBvaW50Qm91bmRhcnlOb2RlUnVsZTp7Y29uZmlndXJhYmxlOiEwfSxNT0QyX0JPVU5EQVJZX1JVTEU6e2NvbmZpZ3VyYWJsZTohMH0sRU5EUE9JTlRfQk9VTkRBUllfUlVMRTp7Y29uZmlndXJhYmxlOiEwfSxNVUxUSVZBTEVOVF9FTkRQT0lOVF9CT1VOREFSWV9SVUxFOntjb25maWd1cmFibGU6ITB9LE1PTk9WQUxFTlRfRU5EUE9JTlRfQk9VTkRBUllfUlVMRTp7Y29uZmlndXJhYmxlOiEwfSxPR0NfU0ZTX0JPVU5EQVJZX1JVTEU6e2NvbmZpZ3VyYWJsZTohMH19O1FsLnByb3RvdHlwZS5pc0luQm91bmRhcnk9ZnVuY3Rpb24odCl7fSxRbC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sUWwucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFFsfSwkbC5Nb2QyQm91bmRhcnlOb2RlUnVsZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGN9LCRsLkVuZFBvaW50Qm91bmRhcnlOb2RlUnVsZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZWN9LCRsLk11bHRpVmFsZW50RW5kUG9pbnRCb3VuZGFyeU5vZGVSdWxlLmdldD1mdW5jdGlvbigpe3JldHVybiBuY30sJGwuTW9ub1ZhbGVudEVuZFBvaW50Qm91bmRhcnlOb2RlUnVsZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gcmN9LCRsLk1PRDJfQk9VTkRBUllfUlVMRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRjfSwkbC5FTkRQT0lOVF9CT1VOREFSWV9SVUxFLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgZWN9LCRsLk1VTFRJVkFMRU5UX0VORFBPSU5UX0JPVU5EQVJZX1JVTEUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuY30sJGwuTU9OT1ZBTEVOVF9FTkRQT0lOVF9CT1VOREFSWV9SVUxFLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgcmN9LCRsLk9HQ19TRlNfQk9VTkRBUllfUlVMRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gUWwuTU9EMl9CT1VOREFSWV9SVUxFfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhRbCwkbCk7dmFyIHRjPWZ1bmN0aW9uKCl7fTt0Yy5wcm90b3R5cGUuaXNJbkJvdW5kYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0JTI9PTF9LHRjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltRbF19LHRjLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB0Y307dmFyIGVjPWZ1bmN0aW9uKCl7fTtlYy5wcm90b3R5cGUuaXNJbkJvdW5kYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0PjB9LGVjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltRbF19LGVjLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlY307dmFyIG5jPWZ1bmN0aW9uKCl7fTtuYy5wcm90b3R5cGUuaXNJbkJvdW5kYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0PjF9LG5jLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltRbF19LG5jLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBuY307dmFyIHJjPWZ1bmN0aW9uKCl7fTtyYy5wcm90b3R5cGUuaXNJbkJvdW5kYXJ5PWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dH0scmMucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW1FsXX0scmMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHJjfTt2YXIgaWM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIG9jKHQpe3RoaXMubWVzc2FnZT10fHwiIn1pYy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKCl7fSxpYy5wcm90b3R5cGUuYWRkQWxsPWZ1bmN0aW9uKCl7fSxpYy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe30saWMucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7fSxpYy5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe30saWMucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXt9LGljLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt9LG9jLnByb3RvdHlwZT1uZXcgRXJyb3Isb2MucHJvdG90eXBlLm5hbWU9IkluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24iO3ZhciBzYz1mdW5jdGlvbigpe307c2MucHJvdG90eXBlLmhhc05leHQ9ZnVuY3Rpb24oKXt9LHNjLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7fSxzYy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7fTt2YXIgYWM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe30sZX0oaWMpO2Z1bmN0aW9uIHVjKHQpe3RoaXMubWVzc2FnZT10fHwiIn11Yy5wcm90b3R5cGU9bmV3IEVycm9yLHVjLnByb3RvdHlwZS5uYW1lPSJOb1N1Y2hFbGVtZW50RXhjZXB0aW9uIjt2YXIgbGM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzKSx0aGlzLmFycmF5Xz1bXSxhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGljJiZ0aGlzLmFkZEFsbChhcmd1bWVudHNbMF0pfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5lbnN1cmVDYXBhY2l0eT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bdCxpY119LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5hcnJheV8ucHVzaCh0KTp0aGlzLmFycmF5Xy5zcGxpY2UoYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSksITB9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5hcnJheV89W119LGUucHJvdG90eXBlLmFkZEFsbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl0aGlzLmFkZChlLm5leHQoKSk7cmV0dXJuITB9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuYXJyYXlfW3RdO3JldHVybiB0aGlzLmFycmF5X1t0XT1lLG59LGUucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBjYyh0aGlzKX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5zaXplKCkpdGhyb3cgbmV3IG9jO3JldHVybiB0aGlzLmFycmF5X1t0XX0sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5hcnJheV8ubGVuZ3RofSxlLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlfLmxlbmd0aH0sZS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsbj10aGlzLmFycmF5Xy5sZW5ndGg7ZTxuO2UrKyl0LnB1c2godGhpcy5hcnJheV9bZV0pO3JldHVybiB0fSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSExLG49MCxyPXRoaXMuYXJyYXlfLmxlbmd0aDtuPHI7bisrKWlmKHRoaXMuYXJyYXlfW25dPT09dCl7dGhpcy5hcnJheV8uc3BsaWNlKG4sMSksZT0hMDticmVha31yZXR1cm4gZX0sZX0oYWMpLGNjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMuYXJyYXlMaXN0Xz1lLHRoaXMucG9zaXRpb25fPTB9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBvc2l0aW9uXz09PXRoaXMuYXJyYXlMaXN0Xy5zaXplKCkpdGhyb3cgbmV3IHVjO3JldHVybiB0aGlzLmFycmF5TGlzdF8uZ2V0KHRoaXMucG9zaXRpb25fKyspfSxlLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25fPHRoaXMuYXJyYXlMaXN0Xy5zaXplKCl9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcnJheUxpc3RfLnNldCh0aGlzLnBvc2l0aW9uXy0xLHQpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmFycmF5TGlzdF8ucmVtb3ZlKHRoaXMuYXJyYXlMaXN0Xy5nZXQodGhpcy5wb3NpdGlvbl8pKX0sZX0oc2MpLGhjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpZih0LmNhbGwodGhpcyksMD09PWFyZ3VtZW50cy5sZW5ndGgpO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLmVuc3VyZUNhcGFjaXR5KGUubGVuZ3RoKSx0aGlzLmFkZChlLCEwKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07dGhpcy5lbnN1cmVDYXBhY2l0eShuLmxlbmd0aCksdGhpcy5hZGQobixyKX19dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e2Nvb3JkQXJyYXlUeXBlOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gbi5jb29yZEFycmF5VHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFycmF5KDApLmZpbGwobnVsbCl9LGUucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0KHQpfSxlLnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdLGk9ITEsbz1uLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KWUuYWRkKG8ubmV4dCgpLHIpLGk9ITA7cmV0dXJuIGl9cmV0dXJuIHQucHJvdG90eXBlLmFkZEFsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXQucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyksbj0wO248dGhpcy5zaXplKCk7bisrKWUuYWRkKG4sdGhpcy5nZXQobikuY29weSgpKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUudG9Db29yZGluYXRlQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KGUuY29vcmRBcnJheVR5cGUpfSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF07dC5wcm90b3R5cGUuYWRkLmNhbGwodGhpcyxuKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5JiYiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5hZGQocixpLCEwKSwhMH1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiYiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXTtpZighcyYmdGhpcy5zaXplKCk+PTEpe3ZhciBhPXRoaXMuZ2V0KHRoaXMuc2l6ZSgpLTEpO2lmKGEuZXF1YWxzMkQobykpcmV0dXJuIG51bGx9dC5wcm90b3R5cGUuYWRkLmNhbGwodGhpcyxvKX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgT2JqZWN0JiYiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciB1PWFyZ3VtZW50c1swXSxsPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5hZGQodSxsKSwhMH19ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoImJvb2xlYW4iPT10eXBlb2YgYXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5JiYiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBjPWFyZ3VtZW50c1swXSxoPWFyZ3VtZW50c1sxXSxwPWFyZ3VtZW50c1syXTtpZihwKWZvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKWUuYWRkKGNbZl0saCk7ZWxzZSBmb3IodmFyIGc9Yy5sZW5ndGgtMTtnPj0wO2ctLSllLmFkZChjW2ddLGgpO3JldHVybiEwfWlmKCJib29sZWFuIj09dHlwZW9mIGFyZ3VtZW50c1syXSYmTnVtYmVyLmlzSW50ZWdlcihhcmd1bWVudHNbMF0pJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgZD1hcmd1bWVudHNbMF0seT1hcmd1bWVudHNbMV0sdj1hcmd1bWVudHNbMl07aWYoIXYpe3ZhciBfPXRoaXMuc2l6ZSgpO2lmKF8+MCl7aWYoZD4wKXt2YXIgbT10aGlzLmdldChkLTEpO2lmKG0uZXF1YWxzMkQoeSkpcmV0dXJuIG51bGx9aWYoZDxfKXt2YXIgeD10aGlzLmdldChkKTtpZih4LmVxdWFsczJEKHkpKXJldHVybiBudWxsfX19dC5wcm90b3R5cGUuYWRkLmNhbGwodGhpcyxkLHkpfX1lbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgRT1hcmd1bWVudHNbMF0sYj1hcmd1bWVudHNbMV0sdz1hcmd1bWVudHNbMl0sST1hcmd1bWVudHNbM10sTj0xO3c+SSYmKE49LTEpO2Zvcih2YXIgUz13O1MhPT1JO1MrPU4pZS5hZGQoRVtTXSxiKTtyZXR1cm4hMH19LGUucHJvdG90eXBlLmNsb3NlUmluZz1mdW5jdGlvbigpe3RoaXMuc2l6ZSgpPjAmJnRoaXMuYWRkKG5ldyB1bCh0aGlzLmdldCgwKSksITEpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLG4pLGV9KGxjKSxwYz1mdW5jdGlvbigpe30sZmM9e0ZvcndhcmRDb21wYXJhdG9yOntjb25maWd1cmFibGU6ITB9LEJpZGlyZWN0aW9uYWxDb21wYXJhdG9yOntjb25maWd1cmFibGU6ITB9LGNvb3JkQXJyYXlUeXBlOntjb25maWd1cmFibGU6ITB9fTtmYy5Gb3J3YXJkQ29tcGFyYXRvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZ2N9LGZjLkJpZGlyZWN0aW9uYWxDb21wYXJhdG9yLmdldD1mdW5jdGlvbigpe3JldHVybiBkY30sZmMuY29vcmRBcnJheVR5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBcnJheSgwKS5maWxsKG51bGwpfSxwYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0scGMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHBjfSxwYy5pc1Jpbmc9ZnVuY3Rpb24odCl7cmV0dXJuISh0Lmxlbmd0aDw0KSYmISF0WzBdLmVxdWFsczJEKHRbdC5sZW5ndGgtMV0pfSxwYy5wdE5vdEluTGlzdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO2lmKHBjLmluZGV4T2YocixlKTwwKXJldHVybiByfXJldHVybiBudWxsfSxwYy5zY3JvbGw9ZnVuY3Rpb24odCxlKXt2YXIgbj1wYy5pbmRleE9mKGUsdCk7aWYobjwwKXJldHVybiBudWxsO3ZhciByPW5ldyBBcnJheSh0Lmxlbmd0aCkuZmlsbChudWxsKTtQbC5hcnJheWNvcHkodCxuLHIsMCx0Lmxlbmd0aC1uKSxQbC5hcnJheWNvcHkodCwwLHIsdC5sZW5ndGgtbixuKSxQbC5hcnJheWNvcHkociwwLHQsMCx0Lmxlbmd0aCl9LHBjLmVxdWFscz1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07aWYodD09PWUpcmV0dXJuITA7aWYobnVsbD09PXR8fG51bGw9PT1lKXJldHVybiExO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoIXRbbl0uZXF1YWxzKGVbbl0pKXJldHVybiExO3JldHVybiEwfWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl07aWYocj09PWkpcmV0dXJuITA7aWYobnVsbD09PXJ8fG51bGw9PT1pKXJldHVybiExO2lmKHIubGVuZ3RoIT09aS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspaWYoMCE9PW8uY29tcGFyZShyW3NdLGlbc10pKXJldHVybiExO3JldHVybiEwfX0scGMuaW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW5ldyBoYyxyPTA7cjx0Lmxlbmd0aDtyKyspZS5pbnRlcnNlY3RzKHRbcl0pJiZuLmFkZCh0W3JdLCEwKTtyZXR1cm4gbi50b0Nvb3JkaW5hdGVBcnJheSgpfSxwYy5oYXNSZXBlYXRlZFBvaW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPHQubGVuZ3RoO2UrKylpZih0W2UtMV0uZXF1YWxzKHRbZV0pKXJldHVybiEwO3JldHVybiExfSxwYy5yZW1vdmVSZXBlYXRlZFBvaW50cz1mdW5jdGlvbih0KXtyZXR1cm4gcGMuaGFzUmVwZWF0ZWRQb2ludHModCk/bmV3IGhjKHQsITEpLnRvQ29vcmRpbmF0ZUFycmF5KCk6dH0scGMucmV2ZXJzZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgtMSxuPU1hdGgudHJ1bmMoZS8yKSxyPTA7cjw9bjtyKyspe3ZhciBpPXRbcl07dFtyXT10W2Utcl0sdFtlLXJdPWl9fSxwYy5yZW1vdmVOdWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49MDtuPHQubGVuZ3RoO24rKyludWxsIT09dFtuXSYmZSsrO3ZhciByPW5ldyBBcnJheShlKS5maWxsKG51bGwpO2lmKDA9PT1lKXJldHVybiByO2Zvcih2YXIgaT0wLG89MDtvPHQubGVuZ3RoO28rKyludWxsIT09dFtvXSYmKHJbaSsrXT10W29dKTtyZXR1cm4gcn0scGMuY29weURlZXA9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciB0PWFyZ3VtZW50c1swXSxlPW5ldyBBcnJheSh0Lmxlbmd0aCkuZmlsbChudWxsKSxuPTA7bjx0Lmxlbmd0aDtuKyspZVtuXT1uZXcgdWwodFtuXSk7cmV0dXJuIGV9aWYoNT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXSxzPWFyZ3VtZW50c1szXSxhPWFyZ3VtZW50c1s0XSx1PTA7dTxhO3UrKylvW3MrdV09bmV3IHVsKHJbaSt1XSl9LHBjLmlzRXF1YWxSZXZlcnNlZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLGk9ZVt0Lmxlbmd0aC1uLTFdO2lmKDAhPT1yLmNvbXBhcmVUbyhpKSlyZXR1cm4hMX1yZXR1cm4hMH0scGMuZW52ZWxvcGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBMbCxuPTA7bjx0Lmxlbmd0aDtuKyspZS5leHBhbmRUb0luY2x1ZGUodFtuXSk7cmV0dXJuIGV9LHBjLnRvQ29vcmRpbmF0ZUFycmF5PWZ1bmN0aW9uKHQpe3JldHVybiB0LnRvQXJyYXkocGMuY29vcmRBcnJheVR5cGUpfSxwYy5hdExlYXN0TkNvb3JkaW5hdGVzT3JOb3RoaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUubGVuZ3RoPj10P2U6W119LHBjLmluZGV4T2Y9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZih0LmVxdWFscyhlW25dKSlyZXR1cm4gbjtyZXR1cm4tMX0scGMuaW5jcmVhc2luZ0RpcmVjdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPE1hdGgudHJ1bmModC5sZW5ndGgvMik7ZSsrKXt2YXIgbj10Lmxlbmd0aC0xLWUscj10W2VdLmNvbXBhcmVUbyh0W25dKTtpZigwIT09cilyZXR1cm4gcn1yZXR1cm4gMX0scGMuY29tcGFyZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dC5sZW5ndGgmJm48ZS5sZW5ndGg7KXt2YXIgcj10W25dLmNvbXBhcmVUbyhlW25dKTtpZigwIT09cilyZXR1cm4gcjtuKyt9cmV0dXJuIG48ZS5sZW5ndGg/LTE6bjx0Lmxlbmd0aD8xOjB9LHBjLm1pbkNvb3JkaW5hdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwsbj0wO248dC5sZW5ndGg7bisrKShudWxsPT09ZXx8ZS5jb21wYXJlVG8odFtuXSk+MCkmJihlPXRbbl0pO3JldHVybiBlfSxwYy5leHRyYWN0PWZ1bmN0aW9uKHQsZSxuKXtlPWRsLmNsYW1wKGUsMCx0Lmxlbmd0aCk7dmFyIHI9KG49ZGwuY2xhbXAobiwtMSx0Lmxlbmd0aCkpLWUrMTtuPDAmJihyPTApLGU+PXQubGVuZ3RoJiYocj0wKSxuPGUmJihyPTApO3ZhciBpPW5ldyBBcnJheShyKS5maWxsKG51bGwpO2lmKDA9PT1yKXJldHVybiBpO2Zvcih2YXIgbz0wLHM9ZTtzPD1uO3MrKylpW28rK109dFtzXTtyZXR1cm4gaX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocGMsZmMpO3ZhciBnYz1mdW5jdGlvbigpe307Z2MucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcGMuY29tcGFyZSh0LGUpfSxnYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bc2xdfSxnYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZ2N9O3ZhciBkYz1mdW5jdGlvbigpe307ZGMucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LHI9ZTtpZihuLmxlbmd0aDxyLmxlbmd0aClyZXR1cm4tMTtpZihuLmxlbmd0aD5yLmxlbmd0aClyZXR1cm4gMTtpZigwPT09bi5sZW5ndGgpcmV0dXJuIDA7dmFyIGk9cGMuY29tcGFyZShuLHIpO3JldHVybiBwYy5pc0VxdWFsUmV2ZXJzZWQobixyKT8wOml9LGRjLnByb3RvdHlwZS5PTERjb21wYXJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCxyPWU7aWYobi5sZW5ndGg8ci5sZW5ndGgpcmV0dXJuLTE7aWYobi5sZW5ndGg+ci5sZW5ndGgpcmV0dXJuIDE7aWYoMD09PW4ubGVuZ3RoKXJldHVybiAwO2Zvcih2YXIgaT1wYy5pbmNyZWFzaW5nRGlyZWN0aW9uKG4pLG89cGMuaW5jcmVhc2luZ0RpcmVjdGlvbihyKSxzPWk+MD8wOm4ubGVuZ3RoLTEsYT1vPjA/MDpuLmxlbmd0aC0xLHU9MDt1PG4ubGVuZ3RoO3UrKyl7dmFyIGw9bltzXS5jb21wYXJlVG8oclthXSk7aWYoMCE9PWwpcmV0dXJuIGw7cys9aSxhKz1vfXJldHVybiAwfSxkYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bc2xdfSxkYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZGN9O3ZhciB5Yz1mdW5jdGlvbigpe307eWMucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe30seWMucHJvdG90eXBlLnB1dD1mdW5jdGlvbigpe30seWMucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXt9LHljLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXt9LHljLnByb3RvdHlwZS5lbnRyeVNldD1mdW5jdGlvbigpe307dmFyIHZjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZX0oeWMpO2Z1bmN0aW9uIF9jKHQpe3RoaXMubWVzc2FnZT10fHwiIn1mdW5jdGlvbiBtYygpe31fYy5wcm90b3R5cGU9bmV3IEVycm9yLF9jLnByb3RvdHlwZS5uYW1lPSJPcGVyYXRpb25Ob3RTdXBwb3J0ZWQiLG1jLnByb3RvdHlwZT1uZXcgaWMsbWMucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKCl7fTt2YXIgeGM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzKSx0aGlzLmFycmF5Xz1bXSxhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGljJiZ0aGlzLmFkZEFsbChhcmd1bWVudHNbMF0pfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuYXJyYXlfLmxlbmd0aDtlPG47ZSsrKXtpZih0aGlzLmFycmF5X1tlXT09PXQpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5jb250YWlucyh0KSYmKHRoaXMuYXJyYXlfLnB1c2godCksITApfSxlLnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspdGhpcy5hZGQoZS5uZXh0KCkpO3JldHVybiEwfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yfSxlLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlfLmxlbmd0aH0sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5hcnJheV8ubGVuZ3RofSxlLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxuPXRoaXMuYXJyYXlfLmxlbmd0aDtlPG47ZSsrKXQucHVzaCh0aGlzLmFycmF5X1tlXSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFYyh0aGlzKX0sZX0obWMpLEVjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dC5jYWxsKHRoaXMpLHRoaXMuaGFzaFNldF89ZSx0aGlzLnBvc2l0aW9uXz0wfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5wb3NpdGlvbl89PT10aGlzLmhhc2hTZXRfLnNpemUoKSl0aHJvdyBuZXcgdWM7cmV0dXJuIHRoaXMuaGFzaFNldF8uYXJyYXlfW3RoaXMucG9zaXRpb25fKytdfSxlLnByb3RvdHlwZS5oYXNOZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25fPHRoaXMuaGFzaFNldF8uc2l6ZSgpfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgX2N9LGV9KHNjKTtmdW5jdGlvbiBiYyh0KXtyZXR1cm4gbnVsbD09PXQ/MDp0LmNvbG9yfWZ1bmN0aW9uIHdjKHQpe3JldHVybiBudWxsPT09dD9udWxsOnQucGFyZW50fWZ1bmN0aW9uIEljKHQsZSl7bnVsbCE9PXQmJih0LmNvbG9yPWUpfWZ1bmN0aW9uIE5jKHQpe3JldHVybiBudWxsPT09dD9udWxsOnQubGVmdH1mdW5jdGlvbiBTYyh0KXtyZXR1cm4gbnVsbD09PXQ/bnVsbDp0LnJpZ2h0fWZ1bmN0aW9uIENjKCl7dGhpcy5yb290Xz1udWxsLHRoaXMuc2l6ZV89MH1DYy5wcm90b3R5cGU9bmV3IHZjLENjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMucm9vdF87bnVsbCE9PWU7KXt2YXIgbj10LmNvbXBhcmVUbyhlLmtleSk7aWYobjwwKWU9ZS5sZWZ0O2Vsc2V7aWYoIShuPjApKXJldHVybiBlLnZhbHVlO2U9ZS5yaWdodH19cmV0dXJuIG51bGx9LENjLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24odCxlKXtpZihudWxsPT09dGhpcy5yb290XylyZXR1cm4gdGhpcy5yb290Xz17a2V5OnQsdmFsdWU6ZSxsZWZ0Om51bGwscmlnaHQ6bnVsbCxwYXJlbnQ6bnVsbCxjb2xvcjowLGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LGdldEtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmtleX19LHRoaXMuc2l6ZV89MSxudWxsO3ZhciBuLHIsaT10aGlzLnJvb3RfO2Rve2lmKG49aSwocj10LmNvbXBhcmVUbyhpLmtleSkpPDApaT1pLmxlZnQ7ZWxzZXtpZighKHI+MCkpe3ZhciBvPWkudmFsdWU7cmV0dXJuIGkudmFsdWU9ZSxvfWk9aS5yaWdodH19d2hpbGUobnVsbCE9PWkpO3ZhciBzPXtrZXk6dCxsZWZ0Om51bGwscmlnaHQ6bnVsbCx2YWx1ZTplLHBhcmVudDpuLGNvbG9yOjAsZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0sZ2V0S2V5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5fX07cmV0dXJuIHI8MD9uLmxlZnQ9czpuLnJpZ2h0PXMsdGhpcy5maXhBZnRlckluc2VydGlvbihzKSx0aGlzLnNpemVfKyssbnVsbH0sQ2MucHJvdG90eXBlLmZpeEFmdGVySW5zZXJ0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7Zm9yKHQuY29sb3I9MTtudWxsIT10JiZ0IT09dGhpcy5yb290XyYmMT09PXQucGFyZW50LmNvbG9yOylpZih3Yyh0KT09PU5jKHdjKHdjKHQpKSkpe3ZhciBuPVNjKHdjKHdjKHQpKSk7MT09PWJjKG4pPyhJYyh3Yyh0KSwwKSxJYyhuLDApLEljKHdjKHdjKHQpKSwxKSx0PXdjKHdjKHQpKSk6KHQ9PT1TYyh3Yyh0KSkmJih0PXdjKHQpLGUucm90YXRlTGVmdCh0KSksSWMod2ModCksMCksSWMod2Mod2ModCkpLDEpLGUucm90YXRlUmlnaHQod2Mod2ModCkpKSl9ZWxzZXt2YXIgcj1OYyh3Yyh3Yyh0KSkpOzE9PT1iYyhyKT8oSWMod2ModCksMCksSWMociwwKSxJYyh3Yyh3Yyh0KSksMSksdD13Yyh3Yyh0KSkpOih0PT09TmMod2ModCkpJiYodD13Yyh0KSxlLnJvdGF0ZVJpZ2h0KHQpKSxJYyh3Yyh0KSwwKSxJYyh3Yyh3Yyh0KSksMSksZS5yb3RhdGVMZWZ0KHdjKHdjKHQpKSkpfXRoaXMucm9vdF8uY29sb3I9MH0sQ2MucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0PW5ldyBsYyxlPXRoaXMuZ2V0Rmlyc3RFbnRyeSgpO2lmKG51bGwhPT1lKWZvcih0LmFkZChlLnZhbHVlKTtudWxsIT09KGU9Q2Muc3VjY2Vzc29yKGUpKTspdC5hZGQoZS52YWx1ZSk7cmV0dXJuIHR9LENjLnByb3RvdHlwZS5lbnRyeVNldD1mdW5jdGlvbigpe3ZhciB0PW5ldyB4YyxlPXRoaXMuZ2V0Rmlyc3RFbnRyeSgpO2lmKG51bGwhPT1lKWZvcih0LmFkZChlKTtudWxsIT09KGU9Q2Muc3VjY2Vzc29yKGUpKTspdC5hZGQoZSk7cmV0dXJuIHR9LENjLnByb3RvdHlwZS5yb3RhdGVMZWZ0PWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpe3ZhciBlPXQucmlnaHQ7dC5yaWdodD1lLmxlZnQsbnVsbCE9ZS5sZWZ0JiYoZS5sZWZ0LnBhcmVudD10KSxlLnBhcmVudD10LnBhcmVudCxudWxsPT09dC5wYXJlbnQ/dGhpcy5yb290Xz1lOnQucGFyZW50LmxlZnQ9PT10P3QucGFyZW50LmxlZnQ9ZTp0LnBhcmVudC5yaWdodD1lLGUubGVmdD10LHQucGFyZW50PWV9fSxDYy5wcm90b3R5cGUucm90YXRlUmlnaHQ9ZnVuY3Rpb24odCl7aWYobnVsbCE9dCl7dmFyIGU9dC5sZWZ0O3QubGVmdD1lLnJpZ2h0LG51bGwhPWUucmlnaHQmJihlLnJpZ2h0LnBhcmVudD10KSxlLnBhcmVudD10LnBhcmVudCxudWxsPT09dC5wYXJlbnQ/dGhpcy5yb290Xz1lOnQucGFyZW50LnJpZ2h0PT09dD90LnBhcmVudC5yaWdodD1lOnQucGFyZW50LmxlZnQ9ZSxlLnJpZ2h0PXQsdC5wYXJlbnQ9ZX19LENjLnByb3RvdHlwZS5nZXRGaXJzdEVudHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yb290XztpZihudWxsIT10KWZvcig7bnVsbCE9dC5sZWZ0Oyl0PXQubGVmdDtyZXR1cm4gdH0sQ2Muc3VjY2Vzc29yPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXJldHVybiBudWxsO2lmKG51bGwhPT10LnJpZ2h0KXtmb3IodmFyIGU9dC5yaWdodDtudWxsIT09ZS5sZWZ0OyllPWUubGVmdDtyZXR1cm4gZX1mb3IodmFyIG49dC5wYXJlbnQscj10O251bGwhPT1uJiZyPT09bi5yaWdodDspcj1uLG49bi5wYXJlbnQ7cmV0dXJuIG59LENjLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZV99O3ZhciBQYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gTWMoKXt9ZnVuY3Rpb24gTGMoKXt0aGlzLmFycmF5Xz1bXSxhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGljJiZ0aGlzLmFkZEFsbChhcmd1bWVudHNbMF0pfVBjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxQYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gUGN9LE1jLnByb3RvdHlwZT1uZXcgbWMsTGMucHJvdG90eXBlPW5ldyBNYyxMYy5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLmFycmF5Xy5sZW5ndGg7ZTxuO2UrKyl7aWYoMD09PXRoaXMuYXJyYXlfW2VdLmNvbXBhcmVUbyh0KSlyZXR1cm4hMH1yZXR1cm4hMX0sTGMucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtpZih0aGlzLmNvbnRhaW5zKHQpKXJldHVybiExO2Zvcih2YXIgZT0wLG49dGhpcy5hcnJheV8ubGVuZ3RoO2U8bjtlKyspe2lmKDE9PT10aGlzLmFycmF5X1tlXS5jb21wYXJlVG8odCkpcmV0dXJuIHRoaXMuYXJyYXlfLnNwbGljZShlLDAsdCksITB9cmV0dXJuIHRoaXMuYXJyYXlfLnB1c2godCksITB9LExjLnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspdGhpcy5hZGQoZS5uZXh0KCkpO3JldHVybiEwfSxMYy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBfY30sTGMucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcnJheV8ubGVuZ3RofSxMYy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5hcnJheV8ubGVuZ3RofSxMYy5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsbj10aGlzLmFycmF5Xy5sZW5ndGg7ZTxuO2UrKyl0LnB1c2godGhpcy5hcnJheV9bZV0pO3JldHVybiB0fSxMYy5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE9jKHRoaXMpfTt2YXIgT2M9ZnVuY3Rpb24odCl7dGhpcy50cmVlU2V0Xz10LHRoaXMucG9zaXRpb25fPTB9O09jLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5wb3NpdGlvbl89PT10aGlzLnRyZWVTZXRfLnNpemUoKSl0aHJvdyBuZXcgdWM7cmV0dXJuIHRoaXMudHJlZVNldF8uYXJyYXlfW3RoaXMucG9zaXRpb25fKytdfSxPYy5wcm90b3R5cGUuaGFzTmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uXzx0aGlzLnRyZWVTZXRfLnNpemUoKX0sT2MucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3Rocm93IG5ldyBfY307dmFyIFJjPWZ1bmN0aW9uKCl7fTtSYy5zb3J0PWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHIsaT1hcmd1bWVudHNbMF07aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbXBhcmVUbyhlKX0saS5zb3J0KHIpO2Vsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpbj1hcmd1bWVudHNbMV0scj1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNvbXBhcmUodCxlKX0saS5zb3J0KHIpO2Vsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpeyhlPWkuc2xpY2UoYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSkpLnNvcnQoKTt2YXIgbz1pLnNsaWNlKDAsYXJndW1lbnRzWzFdKS5jb25jYXQoZSxpLnNsaWNlKGFyZ3VtZW50c1syXSxpLmxlbmd0aCkpO2ZvcihpLnNwbGljZSgwLGkubGVuZ3RoKSx0PTA7dDxvLmxlbmd0aDt0KyspaS5wdXNoKG9bdF0pfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKGU9aS5zbGljZShhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKSxuPWFyZ3VtZW50c1szXSxyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uY29tcGFyZSh0LGUpfSxlLnNvcnQociksbz1pLnNsaWNlKDAsYXJndW1lbnRzWzFdKS5jb25jYXQoZSxpLnNsaWNlKGFyZ3VtZW50c1syXSxpLmxlbmd0aCkpLGkuc3BsaWNlKDAsaS5sZW5ndGgpLHQ9MDt0PG8ubGVuZ3RoO3QrKylpLnB1c2gob1t0XSl9LFJjLmFzTGlzdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49MCxyPXQubGVuZ3RoO248cjtuKyspZS5hZGQodFtuXSk7cmV0dXJuIGV9O3ZhciBUYz1mdW5jdGlvbigpe30sQWM9e1A6e2NvbmZpZ3VyYWJsZTohMH0sTDp7Y29uZmlndXJhYmxlOiEwfSxBOntjb25maWd1cmFibGU6ITB9LEZBTFNFOntjb25maWd1cmFibGU6ITB9LFRSVUU6e2NvbmZpZ3VyYWJsZTohMH0sRE9OVENBUkU6e2NvbmZpZ3VyYWJsZTohMH0sU1lNX0ZBTFNFOntjb25maWd1cmFibGU6ITB9LFNZTV9UUlVFOntjb25maWd1cmFibGU6ITB9LFNZTV9ET05UQ0FSRTp7Y29uZmlndXJhYmxlOiEwfSxTWU1fUDp7Y29uZmlndXJhYmxlOiEwfSxTWU1fTDp7Y29uZmlndXJhYmxlOiEwfSxTWU1fQTp7Y29uZmlndXJhYmxlOiEwfX07QWMuUC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sQWMuTC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0sQWMuQS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMn0sQWMuRkFMU0UuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTF9LEFjLlRSVUUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTJ9LEFjLkRPTlRDQVJFLmdldD1mdW5jdGlvbigpe3JldHVybi0zfSxBYy5TWU1fRkFMU0UuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIkYifSxBYy5TWU1fVFJVRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4iVCJ9LEFjLlNZTV9ET05UQ0FSRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4iKiJ9LEFjLlNZTV9QLmdldD1mdW5jdGlvbigpe3JldHVybiIwIn0sQWMuU1lNX0wuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIjEifSxBYy5TWU1fQS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4iMiJ9LFRjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxUYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gVGN9LFRjLnRvRGltZW5zaW9uU3ltYm9sPWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIFRjLkZBTFNFOnJldHVybiBUYy5TWU1fRkFMU0U7Y2FzZSBUYy5UUlVFOnJldHVybiBUYy5TWU1fVFJVRTtjYXNlIFRjLkRPTlRDQVJFOnJldHVybiBUYy5TWU1fRE9OVENBUkU7Y2FzZSBUYy5QOnJldHVybiBUYy5TWU1fUDtjYXNlIFRjLkw6cmV0dXJuIFRjLlNZTV9MO2Nhc2UgVGMuQTpyZXR1cm4gVGMuU1lNX0F9dGhyb3cgbmV3IGVsKCJVbmtub3duIGRpbWVuc2lvbiB2YWx1ZTogIit0KX0sVGMudG9EaW1lbnNpb25WYWx1ZT1mdW5jdGlvbih0KXtzd2l0Y2gobWwudG9VcHBlckNhc2UodCkpe2Nhc2UgVGMuU1lNX0ZBTFNFOnJldHVybiBUYy5GQUxTRTtjYXNlIFRjLlNZTV9UUlVFOnJldHVybiBUYy5UUlVFO2Nhc2UgVGMuU1lNX0RPTlRDQVJFOnJldHVybiBUYy5ET05UQ0FSRTtjYXNlIFRjLlNZTV9QOnJldHVybiBUYy5QO2Nhc2UgVGMuU1lNX0w6cmV0dXJuIFRjLkw7Y2FzZSBUYy5TWU1fQTpyZXR1cm4gVGMuQX10aHJvdyBuZXcgZWwoIlVua25vd24gZGltZW5zaW9uIHN5bWJvbDogIit0KX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVGMsQWMpO3ZhciBEYz1mdW5jdGlvbigpe307RGMucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXt9LERjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxEYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gRGN9O3ZhciBGYz1mdW5jdGlvbigpe307RmMucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0LGUpe30sRmMucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe30sRmMucHJvdG90eXBlLmlzR2VvbWV0cnlDaGFuZ2VkPWZ1bmN0aW9uKCl7fSxGYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRmMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEZjfTt2YXIga2M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe2lmKHQuY2FsbCh0aGlzLG4pLHRoaXMuX2dlb21ldHJpZXM9ZXx8W10sdC5oYXNOdWxsRWxlbWVudHModGhpcy5fZ2VvbWV0cmllcykpdGhyb3cgbmV3IGVsKCJnZW9tZXRyaWVzIG11c3Qgbm90IGNvbnRhaW4gbnVsbCBlbGVtZW50cyIpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUuY29tcHV0ZUVudmVsb3BlSW50ZXJuYWw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IExsLGU9MDtlPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO2UrKyl0LmV4cGFuZFRvSW5jbHVkZSh0aGlzLl9nZW9tZXRyaWVzW2VdLmdldEVudmVsb3BlSW50ZXJuYWwoKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5Tj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2VvbWV0cmllc1t0XX0sZS5wcm90b3R5cGUuZ2V0U29ydEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHQuU09SVElOREVYX0dFT01FVFJZQ09MTEVDVElPTn0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IEFycmF5KHRoaXMuZ2V0TnVtUG9pbnRzKCkpLmZpbGwobnVsbCksZT0tMSxuPTA7bjx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtuKyspZm9yKHZhciByPXRoaXMuX2dlb21ldHJpZXNbbl0uZ2V0Q29vcmRpbmF0ZXMoKSxpPTA7aTxyLmxlbmd0aDtpKyspdFsrK2VdPXJbaV07cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtlKyspdCs9dGhpcy5fZ2VvbWV0cmllc1tlXS5nZXRBcmVhKCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmVxdWFsc0V4YWN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdO2lmKCF0aGlzLmlzRXF1aXZhbGVudENsYXNzKG4pKXJldHVybiExO3ZhciBpPW47aWYodGhpcy5fZ2VvbWV0cmllcy5sZW5ndGghPT1pLl9nZW9tZXRyaWVzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG89MDtvPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO28rKylpZighZS5fZ2VvbWV0cmllc1tvXS5lcXVhbHNFeGFjdChpLl9nZW9tZXRyaWVzW29dLHIpKXJldHVybiExO3JldHVybiEwfXJldHVybiB0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7dCsrKXRoaXMuX2dlb21ldHJpZXNbdF0ubm9ybWFsaXplKCk7UmMuc29ydCh0aGlzLl9nZW9tZXRyaWVzKX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW1wdHkoKT9udWxsOnRoaXMuX2dlb21ldHJpZXNbMF0uZ2V0Q29vcmRpbmF0ZSgpfSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeURpbWVuc2lvbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1UYy5GQUxTRSxlPTA7ZTx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtlKyspdD1NYXRoLm1heCh0LHRoaXMuX2dlb21ldHJpZXNbZV0uZ2V0Qm91bmRhcnlEaW1lbnNpb24oKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1UYy5GQUxTRSxlPTA7ZTx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtlKyspdD1NYXRoLm1heCh0LHRoaXMuX2dlb21ldHJpZXNbZV0uZ2V0RGltZW5zaW9uKCkpO3JldHVybiB0fSxlLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtlKyspdCs9dGhpcy5fZ2VvbWV0cmllc1tlXS5nZXRMZW5ndGgoKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0TnVtUG9pbnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7ZSsrKXQrPXRoaXMuX2dlb21ldHJpZXNbZV0uZ2V0TnVtUG9pbnRzKCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldE51bUdlb21ldHJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cmllcy5sZW5ndGh9LGUucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGgsZT1uZXcgQXJyYXkodCkuZmlsbChudWxsKSxuPTA7bjx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtuKyspZVtuXT10aGlzLl9nZW9tZXRyaWVzW25dLnJldmVyc2UoKTtyZXR1cm4gdGhpcy5nZXRGYWN0b3J5KCkuY3JlYXRlR2VvbWV0cnlDb2xsZWN0aW9uKGUpfSxlLnByb3RvdHlwZS5jb21wYXJlVG9TYW1lQ2xhc3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1uZXcgTGMoUmMuYXNMaXN0KHRoaXMuX2dlb21ldHJpZXMpKSxyPW5ldyBMYyhSYy5hc0xpc3QoZS5fZ2VvbWV0cmllcykpO3JldHVybiB0aGlzLmNvbXBhcmUobixyKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWksYT10aGlzLmdldE51bUdlb21ldHJpZXMoKSx1PXMuZ2V0TnVtR2VvbWV0cmllcygpLGw9MDtsPGEmJmw8dTspe3ZhciBjPXQuZ2V0R2VvbWV0cnlOKGwpLGg9cy5nZXRHZW9tZXRyeU4obCkscD1jLmNvbXBhcmVUb1NhbWVDbGFzcyhoLG8pO2lmKDAhPT1wKXJldHVybiBwO2wrK31yZXR1cm4gbDxhPzE6bDx1Py0xOjB9fSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoZ2woYXJndW1lbnRzWzBdLEtsKSlmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49MDtuPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO24rKyl0Ll9nZW9tZXRyaWVzW25dLmFwcGx5KGUpO2Vsc2UgaWYoZ2woYXJndW1lbnRzWzBdLEZjKSl7dmFyIHI9YXJndW1lbnRzWzBdO2lmKDA9PT10aGlzLl9nZW9tZXRyaWVzLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGk9MDtpPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoJiYodC5fZ2VvbWV0cmllc1tpXS5hcHBseShyKSwhci5pc0RvbmUoKSk7aSsrKTtyLmlzR2VvbWV0cnlDaGFuZ2VkKCkmJnRoaXMuZ2VvbWV0cnlDaGFuZ2VkKCl9ZWxzZSBpZihnbChhcmd1bWVudHNbMF0sRGMpKXt2YXIgbz1hcmd1bWVudHNbMF07by5maWx0ZXIodGhpcyk7Zm9yKHZhciBzPTA7czx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDtzKyspdC5fZ2VvbWV0cmllc1tzXS5hcHBseShvKX1lbHNlIGlmKGdsKGFyZ3VtZW50c1swXSxIbCkpe3ZhciBhPWFyZ3VtZW50c1swXTthLmZpbHRlcih0aGlzKTtmb3IodmFyIHU9MDt1PHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO3UrKyl0Ll9nZW9tZXRyaWVzW3VdLmFwcGx5KGEpfX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja05vdEdlb21ldHJ5Q29sbGVjdGlvbih0aGlzKSxxbC5zaG91bGROZXZlclJlYWNoSGVyZSgpLG51bGx9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9dC5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzKTtlLl9nZW9tZXRyaWVzPW5ldyBBcnJheSh0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aCkuZmlsbChudWxsKTtmb3IodmFyIG49MDtuPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO24rKyllLl9nZW9tZXRyaWVzW25dPXRoaXMuX2dlb21ldHJpZXNbbl0uY2xvbmUoKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIkdlb21ldHJ5Q29sbGVjdGlvbiJ9LGUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IEFycmF5KHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoKS5maWxsKG51bGwpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPXRoaXMuX2dlb21ldHJpZXNbbl0uY29weSgpO3JldHVybiBuZXcgZSh0LHRoaXMuX2ZhY3RvcnkpfSxlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9nZW9tZXRyaWVzLmxlbmd0aDt0KyspaWYoIXRoaXMuX2dlb21ldHJpZXNbdF0uaXNFbXB0eSgpKXJldHVybiExO3JldHVybiEwfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxuLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTB4NGYwN2JjYjFmODU3ZDgwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxuKSxlfShXbCksR2M9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUuZ2V0U29ydEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIFdsLlNPUlRJTkRFWF9NVUxUSUxJTkVTVFJJTkd9LGUucHJvdG90eXBlLmVxdWFsc0V4YWN0PWZ1bmN0aW9uKCl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtyZXR1cm4hIXRoaXMuaXNFcXVpdmFsZW50Q2xhc3MoZSkmJnQucHJvdG90eXBlLmVxdWFsc0V4YWN0LmNhbGwodGhpcyxlLG4pfXJldHVybiB0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5RGltZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNDbG9zZWQoKT9UYy5GQUxTRTowfSxlLnByb3RvdHlwZS5pc0Nsb3NlZD1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiExO2Zvcih2YXIgdD0wO3Q8dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7dCsrKWlmKCF0aGlzLl9nZW9tZXRyaWVzW3RdLmlzQ2xvc2VkKCkpcmV0dXJuITE7cmV0dXJuITB9LGUucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiAxfSxlLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2dlb21ldHJpZXMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLmZpbGwobnVsbCksbj0wO248dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7bisrKWVbdC0xLW5dPXRoaXMuX2dlb21ldHJpZXNbbl0ucmV2ZXJzZSgpO3JldHVybiB0aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVNdWx0aUxpbmVTdHJpbmcoZSl9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxYyh0aGlzKS5nZXRCb3VuZGFyeSgpfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iTXVsdGlMaW5lU3RyaW5nIn0sZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQXJyYXkodGhpcy5fZ2VvbWV0cmllcy5sZW5ndGgpLmZpbGwobnVsbCksbj0wO248dC5sZW5ndGg7bisrKXRbbl09dGhpcy5fZ2VvbWV0cmllc1tuXS5jb3B5KCk7cmV0dXJuIG5ldyBlKHQsdGhpcy5fZmFjdG9yeSl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW1BjXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybiAweDcxNTVkMmFiNGFmYTgwMDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbiksZX0oa2MpLHFjPWZ1bmN0aW9uKCl7aWYodGhpcy5fZ2VvbT1udWxsLHRoaXMuX2dlb21GYWN0PW51bGwsdGhpcy5fYm5SdWxlPW51bGwsdGhpcy5fZW5kcG9pbnRNYXA9bnVsbCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9UWwuTU9EMl9CT1VOREFSWV9SVUxFO3RoaXMuX2dlb209dCx0aGlzLl9nZW9tRmFjdD10LmdldEZhY3RvcnkoKSx0aGlzLl9iblJ1bGU9ZX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07dGhpcy5fZ2VvbT1uLHRoaXMuX2dlb21GYWN0PW4uZ2V0RmFjdG9yeSgpLHRoaXMuX2JuUnVsZT1yfX07cWMucHJvdG90eXBlLmJvdW5kYXJ5TXVsdGlMaW5lU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2dlb20uaXNFbXB0eSgpKXJldHVybiB0aGlzLmdldEVtcHR5TXVsdGlQb2ludCgpO3ZhciBlPXRoaXMuY29tcHV0ZUJvdW5kYXJ5Q29vcmRpbmF0ZXModCk7cmV0dXJuIDE9PT1lLmxlbmd0aD90aGlzLl9nZW9tRmFjdC5jcmVhdGVQb2ludChlWzBdKTp0aGlzLl9nZW9tRmFjdC5jcmVhdGVNdWx0aVBvaW50RnJvbUNvb3JkcyhlKX0scWMucHJvdG90eXBlLmdldEJvdW5kYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb20gaW5zdGFuY2VvZiBaYz90aGlzLmJvdW5kYXJ5TGluZVN0cmluZyh0aGlzLl9nZW9tKTp0aGlzLl9nZW9tIGluc3RhbmNlb2YgR2M/dGhpcy5ib3VuZGFyeU11bHRpTGluZVN0cmluZyh0aGlzLl9nZW9tKTp0aGlzLl9nZW9tLmdldEJvdW5kYXJ5KCl9LHFjLnByb3RvdHlwZS5ib3VuZGFyeUxpbmVTdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2dlb20uaXNFbXB0eSgpP3RoaXMuZ2V0RW1wdHlNdWx0aVBvaW50KCk6dC5pc0Nsb3NlZCgpP3RoaXMuX2JuUnVsZS5pc0luQm91bmRhcnkoMik/dC5nZXRTdGFydFBvaW50KCk6dGhpcy5fZ2VvbUZhY3QuY3JlYXRlTXVsdGlQb2ludCgpOnRoaXMuX2dlb21GYWN0LmNyZWF0ZU11bHRpUG9pbnQoW3QuZ2V0U3RhcnRQb2ludCgpLHQuZ2V0RW5kUG9pbnQoKV0pfSxxYy5wcm90b3R5cGUuZ2V0RW1wdHlNdWx0aVBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21GYWN0LmNyZWF0ZU11bHRpUG9pbnQoKX0scWMucHJvdG90eXBlLmNvbXB1dGVCb3VuZGFyeUNvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1uZXcgbGM7dGhpcy5fZW5kcG9pbnRNYXA9bmV3IENjO2Zvcih2YXIgcj0wO3I8dC5nZXROdW1HZW9tZXRyaWVzKCk7cisrKXt2YXIgaT10LmdldEdlb21ldHJ5TihyKTswIT09aS5nZXROdW1Qb2ludHMoKSYmKGUuYWRkRW5kcG9pbnQoaS5nZXRDb29yZGluYXRlTigwKSksZS5hZGRFbmRwb2ludChpLmdldENvb3JkaW5hdGVOKGkuZ2V0TnVtUG9pbnRzKCktMSkpKX1mb3IodmFyIG89dGhpcy5fZW5kcG9pbnRNYXAuZW50cnlTZXQoKS5pdGVyYXRvcigpO28uaGFzTmV4dCgpOyl7dmFyIHM9by5uZXh0KCksYT1zLmdldFZhbHVlKCkuY291bnQ7ZS5fYm5SdWxlLmlzSW5Cb3VuZGFyeShhKSYmbi5hZGQocy5nZXRLZXkoKSl9cmV0dXJuIHBjLnRvQ29vcmRpbmF0ZUFycmF5KG4pfSxxYy5wcm90b3R5cGUuYWRkRW5kcG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZW5kcG9pbnRNYXAuZ2V0KHQpO251bGw9PT1lJiYoZT1uZXcgQmMsdGhpcy5fZW5kcG9pbnRNYXAucHV0KHQsZSkpLGUuY291bnQrK30scWMucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHFjLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBxY30scWMuZ2V0Qm91bmRhcnk9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9bmV3IHFjKHQpO3JldHVybiBlLmdldEJvdW5kYXJ5KCl9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPW5ldyBxYyhuLHIpO3JldHVybiBpLmdldEJvdW5kYXJ5KCl9fTt2YXIgQmM9ZnVuY3Rpb24oKXt0aGlzLmNvdW50PW51bGx9O2Z1bmN0aW9uIHpjKCl7fWZ1bmN0aW9uIGpjKCl7fUJjLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxCYy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gQmN9O3ZhciBVYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gVmMoKXt9ZnVuY3Rpb24gWGMoKXt9ZnVuY3Rpb24gWWMoKXt9dmFyIEhjPWZ1bmN0aW9uKCl7fSxXYz17TkVXTElORTp7Y29uZmlndXJhYmxlOiEwfSxTSU1QTEVfT1JESU5BVEVfRk9STUFUOntjb25maWd1cmFibGU6ITB9fTtIYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSGMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEhjfSxIYy5jaGFycz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgQXJyYXkoZSkuZmlsbChudWxsKSxyPTA7cjxlO3IrKyluW3JdPXQ7cmV0dXJuIFN0cmluZyhuKX0sSGMuZ2V0U3RhY2tUcmFjZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1uZXcgVmMsbj1uZXcgemMoZSk7cmV0dXJuIHQucHJpbnRTdGFja1RyYWNlKG4pLGUudG9TdHJpbmcoKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPSIiLHM9bmV3IGpjKEhjLmdldFN0YWNrVHJhY2UocikpLGE9bmV3IFljKHMpLHU9MDt1PGk7dSsrKXRyeXtvKz1hLnJlYWRMaW5lKCkrSGMuTkVXTElORX1jYXRjaCh0KXtpZighKHQgaW5zdGFuY2VvZiBYYykpdGhyb3cgdDtxbC5zaG91bGROZXZlclJlYWNoSGVyZSgpfXJldHVybiBvfX0sSGMuc3BsaXQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5sZW5ndGgscj1uZXcgbGMsaT0iIit0LG89aS5pbmRleE9mKGUpO28+PTA7KXt2YXIgcz1pLnN1YnN0cmluZygwLG8pO3IuYWRkKHMpLG89KGk9aS5zdWJzdHJpbmcobytuKSkuaW5kZXhPZihlKX1pLmxlbmd0aD4wJiZyLmFkZChpKTtmb3IodmFyIGE9bmV3IEFycmF5KHIuc2l6ZSgpKS5maWxsKG51bGwpLHU9MDt1PGEubGVuZ3RoO3UrKylhW3VdPXIuZ2V0KHUpO3JldHVybiBhfSxIYy50b1N0cmluZz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIEhjLlNJTVBMRV9PUkRJTkFURV9GT1JNQVQuZm9ybWF0KHQpfX0sSGMuc3BhY2VzPWZ1bmN0aW9uKHQpe3JldHVybiBIYy5jaGFycygiICIsdCl9LFdjLk5FV0xJTkUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFBsLmdldFByb3BlcnR5KCJsaW5lLnNlcGFyYXRvciIpfSxXYy5TSU1QTEVfT1JESU5BVEVfRk9STUFULmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgVWMoIjAuIyIpfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhIYyxXYyk7dmFyIEpjPWZ1bmN0aW9uKCl7fTtKYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSmMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEpjfSxKYy5jb3B5Q29vcmQ9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPU1hdGgubWluKHQuZ2V0RGltZW5zaW9uKCksbi5nZXREaW1lbnNpb24oKSksbz0wO288aTtvKyspbi5zZXRPcmRpbmF0ZShyLG8sdC5nZXRPcmRpbmF0ZShlLG8pKX0sSmMuaXNSaW5nPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc2l6ZSgpO3JldHVybiAwPT09ZXx8IShlPD0zKSYmKHQuZ2V0T3JkaW5hdGUoMCxJbC5YKT09PXQuZ2V0T3JkaW5hdGUoZS0xLElsLlgpJiZ0LmdldE9yZGluYXRlKDAsSWwuWSk9PT10LmdldE9yZGluYXRlKGUtMSxJbC5ZKSl9LEpjLmlzRXF1YWw9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnNpemUoKTtpZihuIT09ZS5zaXplKCkpcmV0dXJuITE7Zm9yKHZhciByPU1hdGgubWluKHQuZ2V0RGltZW5zaW9uKCksZS5nZXREaW1lbnNpb24oKSksaT0wO2k8bjtpKyspZm9yKHZhciBvPTA7bzxyO28rKyl7dmFyIHM9dC5nZXRPcmRpbmF0ZShpLG8pLGE9ZS5nZXRPcmRpbmF0ZShpLG8pO2lmKHQuZ2V0T3JkaW5hdGUoaSxvKSE9PWUuZ2V0T3JkaW5hdGUoaSxvKSYmKCFubC5pc05hTihzKXx8IW5sLmlzTmFOKGEpKSlyZXR1cm4hMX1yZXR1cm4hMH0sSmMuZXh0ZW5kPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmNyZWF0ZShuLGUuZ2V0RGltZW5zaW9uKCkpLGk9ZS5zaXplKCk7aWYoSmMuY29weShlLDAsciwwLGkpLGk+MClmb3IodmFyIG89aTtvPG47bysrKUpjLmNvcHkoZSxpLTEscixvLDEpO3JldHVybiByfSxKYy5yZXZlcnNlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnNpemUoKS0xLG49TWF0aC50cnVuYyhlLzIpLHI9MDtyPD1uO3IrKylKYy5zd2FwKHQscixlLXIpfSxKYy5zd2FwPWZ1bmN0aW9uKHQsZSxuKXtpZihlPT09bilyZXR1cm4gbnVsbDtmb3IodmFyIHI9MDtyPHQuZ2V0RGltZW5zaW9uKCk7cisrKXt2YXIgaT10LmdldE9yZGluYXRlKGUscik7dC5zZXRPcmRpbmF0ZShlLHIsdC5nZXRPcmRpbmF0ZShuLHIpKSx0LnNldE9yZGluYXRlKG4scixpKX19LEpjLmNvcHk9ZnVuY3Rpb24odCxlLG4scixpKXtmb3IodmFyIG89MDtvPGk7bysrKUpjLmNvcHlDb29yZCh0LGUrbyxuLHIrbyl9LEpjLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPXQuc2l6ZSgpO2lmKDA9PT1lKXJldHVybiIoKSI7dmFyIG49dC5nZXREaW1lbnNpb24oKSxyPW5ldyB2bDtyLmFwcGVuZCgiKCIpO2Zvcih2YXIgaT0wO2k8ZTtpKyspe2k+MCYmci5hcHBlbmQoIiAiKTtmb3IodmFyIG89MDtvPG47bysrKW8+MCYmci5hcHBlbmQoIiwiKSxyLmFwcGVuZChIYy50b1N0cmluZyh0LmdldE9yZGluYXRlKGksbykpKX1yZXR1cm4gci5hcHBlbmQoIikiKSxyLnRvU3RyaW5nKCl9fSxKYy5lbnN1cmVWYWxpZFJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLnNpemUoKTtyZXR1cm4gMD09PW4/ZTpuPD0zP0pjLmNyZWF0ZUNsb3NlZFJpbmcodCxlLDQpOmUuZ2V0T3JkaW5hdGUoMCxJbC5YKT09PWUuZ2V0T3JkaW5hdGUobi0xLElsLlgpJiZlLmdldE9yZGluYXRlKDAsSWwuWSk9PT1lLmdldE9yZGluYXRlKG4tMSxJbC5ZKT9lOkpjLmNyZWF0ZUNsb3NlZFJpbmcodCxlLG4rMSl9LEpjLmNyZWF0ZUNsb3NlZFJpbmc9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuY3JlYXRlKG4sZS5nZXREaW1lbnNpb24oKSksaT1lLnNpemUoKTtKYy5jb3B5KGUsMCxyLDAsaSk7Zm9yKHZhciBvPWk7bzxuO28rKylKYy5jb3B5KGUsMCxyLG8sMSk7cmV0dXJuIHJ9O3ZhciBaYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsbil7dC5jYWxsKHRoaXMsbiksdGhpcy5fcG9pbnRzPW51bGwsdGhpcy5pbml0KGUpfXQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lO3ZhciBuPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUuY29tcHV0ZUVudmVsb3BlSW50ZXJuYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/bmV3IExsOnRoaXMuX3BvaW50cy5leHBhbmRFbnZlbG9wZShuZXcgTGwpfSxlLnByb3RvdHlwZS5pc1Jpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Nsb3NlZCgpJiZ0aGlzLmlzU2ltcGxlKCl9LGUucHJvdG90eXBlLmdldFNvcnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0LlNPUlRJTkRFWF9MSU5FU1RSSU5HfSxlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludHMudG9Db29yZGluYXRlQXJyYXkoKX0sZS5wcm90b3R5cGUuZXF1YWxzRXhhY3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07aWYoIXRoaXMuaXNFcXVpdmFsZW50Q2xhc3MobikpcmV0dXJuITE7dmFyIGk9bjtpZih0aGlzLl9wb2ludHMuc2l6ZSgpIT09aS5fcG9pbnRzLnNpemUoKSlyZXR1cm4hMTtmb3IodmFyIG89MDtvPHRoaXMuX3BvaW50cy5zaXplKCk7bysrKWlmKCFlLmVxdWFsKGUuX3BvaW50cy5nZXRDb29yZGluYXRlKG8pLGkuX3BvaW50cy5nZXRDb29yZGluYXRlKG8pLHIpKXJldHVybiExO3JldHVybiEwfXJldHVybiB0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9MDtlPE1hdGgudHJ1bmModGhpcy5fcG9pbnRzLnNpemUoKS8yKTtlKyspe3ZhciBuPXQuX3BvaW50cy5zaXplKCktMS1lO2lmKCF0Ll9wb2ludHMuZ2V0Q29vcmRpbmF0ZShlKS5lcXVhbHModC5fcG9pbnRzLmdldENvb3JkaW5hdGUobikpKXJldHVybiB0Ll9wb2ludHMuZ2V0Q29vcmRpbmF0ZShlKS5jb21wYXJlVG8odC5fcG9pbnRzLmdldENvb3JkaW5hdGUobikpPjAmJkpjLnJldmVyc2UodC5fcG9pbnRzKSxudWxsfX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW1wdHkoKT9udWxsOnRoaXMuX3BvaW50cy5nZXRDb29yZGluYXRlKDApfSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeURpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQ2xvc2VkKCk/VGMuRkFMU0U6MH0sZS5wcm90b3R5cGUuaXNDbG9zZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0VtcHR5KCkmJnRoaXMuZ2V0Q29vcmRpbmF0ZU4oMCkuZXF1YWxzMkQodGhpcy5nZXRDb29yZGluYXRlTih0aGlzLmdldE51bVBvaW50cygpLTEpKX0sZS5wcm90b3R5cGUuZ2V0RW5kUG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/bnVsbDp0aGlzLmdldFBvaW50Tih0aGlzLmdldE51bVBvaW50cygpLTEpfSxlLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMX0sZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIFhsLmNvbXB1dGVMZW5ndGgodGhpcy5fcG9pbnRzKX0sZS5wcm90b3R5cGUuZ2V0TnVtUG9pbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50cy5zaXplKCl9LGUucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wb2ludHMuY29weSgpO3JldHVybiBKYy5yZXZlcnNlKHQpLHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZUxpbmVTdHJpbmcodCl9LGUucHJvdG90eXBlLmNvbXBhcmVUb1NhbWVDbGFzcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT1hcmd1bWVudHNbMF0sbj1lLHI9MCxpPTA7cjx0aGlzLl9wb2ludHMuc2l6ZSgpJiZpPG4uX3BvaW50cy5zaXplKCk7KXt2YXIgbz10Ll9wb2ludHMuZ2V0Q29vcmRpbmF0ZShyKS5jb21wYXJlVG8obi5fcG9pbnRzLmdldENvb3JkaW5hdGUoaSkpO2lmKDAhPT1vKXJldHVybiBvO3IrKyxpKyt9cmV0dXJuIHI8dGhpcy5fcG9pbnRzLnNpemUoKT8xOmk8bi5fcG9pbnRzLnNpemUoKT8tMTowfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcz1hcmd1bWVudHNbMF0sYT1hcmd1bWVudHNbMV0sdT1zO3JldHVybiBhLmNvbXBhcmUodGhpcy5fcG9pbnRzLHUuX3BvaW50cyl9fSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoZ2woYXJndW1lbnRzWzBdLEtsKSlmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49MDtuPHRoaXMuX3BvaW50cy5zaXplKCk7bisrKWUuZmlsdGVyKHQuX3BvaW50cy5nZXRDb29yZGluYXRlKG4pKTtlbHNlIGlmKGdsKGFyZ3VtZW50c1swXSxGYykpe3ZhciByPWFyZ3VtZW50c1swXTtpZigwPT09dGhpcy5fcG9pbnRzLnNpemUoKSlyZXR1cm4gbnVsbDtmb3IodmFyIGk9MDtpPHRoaXMuX3BvaW50cy5zaXplKCkmJihyLmZpbHRlcih0Ll9wb2ludHMsaSksIXIuaXNEb25lKCkpO2krKyk7ci5pc0dlb21ldHJ5Q2hhbmdlZCgpJiZ0aGlzLmdlb21ldHJ5Q2hhbmdlZCgpfWVsc2UgaWYoZ2woYXJndW1lbnRzWzBdLERjKSl7dmFyIG89YXJndW1lbnRzWzBdO28uZmlsdGVyKHRoaXMpfWVsc2UgaWYoZ2woYXJndW1lbnRzWzBdLEhsKSl7dmFyIHM9YXJndW1lbnRzWzBdO3MuZmlsdGVyKHRoaXMpfX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHFjKHRoaXMpLmdldEJvdW5kYXJ5KCl9LGUucHJvdG90eXBlLmlzRXF1aXZhbGVudENsYXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9wb2ludHM9dGhpcy5fcG9pbnRzLmNsb25lKCksZX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZU49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3BvaW50cy5nZXRDb29yZGluYXRlKHQpfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iTGluZVN0cmluZyJ9LGUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcy5fcG9pbnRzLmNvcHkoKSx0aGlzLl9mYWN0b3J5KX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50c30sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcG9pbnRzLnNpemUoKX0sZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXtpZihudWxsPT09dCYmKHQ9dGhpcy5nZXRGYWN0b3J5KCkuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShbXSkpLDE9PT10LnNpemUoKSl0aHJvdyBuZXcgZWwoIkludmFsaWQgbnVtYmVyIG9mIHBvaW50cyBpbiBMaW5lU3RyaW5nIChmb3VuZCAiK3Quc2l6ZSgpKyIgLSBtdXN0IGJlIDAgb3IgPj0gMikiKTt0aGlzLl9wb2ludHM9dH0sZS5wcm90b3R5cGUuaXNDb29yZGluYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fcG9pbnRzLnNpemUoKTtlKyspaWYodGhpcy5fcG9pbnRzLmdldENvb3JkaW5hdGUoZSkuZXF1YWxzKHQpKXJldHVybiEwO3JldHVybiExfSxlLnByb3RvdHlwZS5nZXRTdGFydFBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP251bGw6dGhpcy5nZXRQb2ludE4oMCl9LGUucHJvdG90eXBlLmdldFBvaW50Tj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRGYWN0b3J5KCkuY3JlYXRlUG9pbnQodGhpcy5fcG9pbnRzLmdldENvb3JkaW5hdGUodCkpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltQY119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LG4uc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMHgyYjJiNTFiYTQzNWM4ZTAwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLG4pLGV9KFdsKSxLYz1mdW5jdGlvbigpe307S2MucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEtjLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBLY307dmFyIFFjPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt0LmNhbGwodGhpcyxuKSx0aGlzLl9jb29yZGluYXRlcz1lfHxudWxsLHRoaXMuaW5pdCh0aGlzLl9jb29yZGluYXRlcyl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5jb21wdXRlRW52ZWxvcGVJbnRlcm5hbD1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiBuZXcgTGw7dmFyIHQ9bmV3IExsO3JldHVybiB0LmV4cGFuZFRvSW5jbHVkZSh0aGlzLl9jb29yZGluYXRlcy5nZXRYKDApLHRoaXMuX2Nvb3JkaW5hdGVzLmdldFkoMCkpLHR9LGUucHJvdG90eXBlLmdldFNvcnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0LlNPUlRJTkRFWF9QT0lOVH0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/W106W3RoaXMuZ2V0Q29vcmRpbmF0ZSgpXX0sZS5wcm90b3R5cGUuZXF1YWxzRXhhY3Q9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiEhdGhpcy5pc0VxdWl2YWxlbnRDbGFzcyhlKSYmKCEoIXRoaXMuaXNFbXB0eSgpfHwhZS5pc0VtcHR5KCkpfHx0aGlzLmlzRW1wdHkoKT09PWUuaXNFbXB0eSgpJiZ0aGlzLmVxdWFsKGUuZ2V0Q29vcmRpbmF0ZSgpLHRoaXMuZ2V0Q29vcmRpbmF0ZSgpLG4pKX1yZXR1cm4gdC5wcm90b3R5cGUuZXF1YWxzRXhhY3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMuX2Nvb3JkaW5hdGVzLnNpemUoKT90aGlzLl9jb29yZGluYXRlcy5nZXRDb29yZGluYXRlKDApOm51bGx9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5RGltZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIFRjLkZBTFNFfSxlLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUuZ2V0TnVtUG9pbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpPzA6MX0sZS5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvcHkoKX0sZS5wcm90b3R5cGUuZ2V0WD1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLmdldENvb3JkaW5hdGUoKSl0aHJvdyBuZXcgRXJyb3IoImdldFggY2FsbGVkIG9uIGVtcHR5IFBvaW50Iik7cmV0dXJuIHRoaXMuZ2V0Q29vcmRpbmF0ZSgpLnh9LGUucHJvdG90eXBlLmNvbXBhcmVUb1NhbWVDbGFzcz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT10O3JldHVybiB0aGlzLmdldENvb3JkaW5hdGUoKS5jb21wYXJlVG8oZS5nZXRDb29yZGluYXRlKCkpfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT1uO3JldHVybiByLmNvbXBhcmUodGhpcy5fY29vcmRpbmF0ZXMsaS5fY29vcmRpbmF0ZXMpfX0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oKXtpZihnbChhcmd1bWVudHNbMF0sS2wpKXt2YXIgdD1hcmd1bWVudHNbMF07aWYodGhpcy5pc0VtcHR5KCkpcmV0dXJuIG51bGw7dC5maWx0ZXIodGhpcy5nZXRDb29yZGluYXRlKCkpfWVsc2UgaWYoZ2woYXJndW1lbnRzWzBdLEZjKSl7dmFyIGU9YXJndW1lbnRzWzBdO2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiBudWxsO2UuZmlsdGVyKHRoaXMuX2Nvb3JkaW5hdGVzLDApLGUuaXNHZW9tZXRyeUNoYW5nZWQoKSYmdGhpcy5nZW9tZXRyeUNoYW5nZWQoKX1lbHNlIGlmKGdsKGFyZ3VtZW50c1swXSxEYykpe3ZhciBuPWFyZ3VtZW50c1swXTtuLmZpbHRlcih0aGlzKX1lbHNlIGlmKGdsKGFyZ3VtZW50c1swXSxIbCkpe3ZhciByPWFyZ3VtZW50c1swXTtyLmZpbHRlcih0aGlzKX19LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihudWxsKX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLl9jb29yZGluYXRlcz10aGlzLl9jb29yZGluYXRlcy5jbG9uZSgpLGV9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiJQb2ludCJ9LGUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodGhpcy5fY29vcmRpbmF0ZXMuY29weSgpLHRoaXMuX2ZhY3RvcnkpfSxlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlU2VxdWVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXN9LGUucHJvdG90eXBlLmdldFk9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5nZXRDb29yZGluYXRlKCkpdGhyb3cgbmV3IEVycm9yKCJnZXRZIGNhbGxlZCBvbiBlbXB0eSBQb2ludCIpO3JldHVybiB0aGlzLmdldENvb3JkaW5hdGUoKS55fSxlLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9jb29yZGluYXRlcy5zaXplKCl9LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7bnVsbD09PXQmJih0PXRoaXMuZ2V0RmFjdG9yeSgpLmdldENvb3JkaW5hdGVTZXF1ZW5jZUZhY3RvcnkoKS5jcmVhdGUoW10pKSxxbC5pc1RydWUodC5zaXplKCk8PTEpLHRoaXMuX2Nvb3JkaW5hdGVzPXR9LGUucHJvdG90eXBlLmlzU2ltcGxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0tjXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybiAweDQ0MDc3YmFkMTYxY2JjMDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbiksZX0oV2wpLCRjPWZ1bmN0aW9uKCl7fTskYy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sJGMucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuICRjfTt2YXIgdGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4scil7aWYodC5jYWxsKHRoaXMsciksdGhpcy5fc2hlbGw9bnVsbCx0aGlzLl9ob2xlcz1udWxsLG51bGw9PT1lJiYoZT10aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVMaW5lYXJSaW5nKCkpLG51bGw9PT1uJiYobj1bXSksdC5oYXNOdWxsRWxlbWVudHMobikpdGhyb3cgbmV3IGVsKCJob2xlcyBtdXN0IG5vdCBjb250YWluIG51bGwgZWxlbWVudHMiKTtpZihlLmlzRW1wdHkoKSYmdC5oYXNOb25FbXB0eUVsZW1lbnRzKG4pKXRocm93IG5ldyBlbCgic2hlbGwgaXMgZW1wdHkgYnV0IGhvbGVzIGFyZSBub3QiKTt0aGlzLl9zaGVsbD1lLHRoaXMuX2hvbGVzPW59dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5jb21wdXRlRW52ZWxvcGVJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGVsbC5nZXRFbnZlbG9wZUludGVybmFsKCl9LGUucHJvdG90eXBlLmdldFNvcnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0LlNPUlRJTkRFWF9QT0xZR09OfSxlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybltdO2Zvcih2YXIgdD1uZXcgQXJyYXkodGhpcy5nZXROdW1Qb2ludHMoKSkuZmlsbChudWxsKSxlPS0xLG49dGhpcy5fc2hlbGwuZ2V0Q29vcmRpbmF0ZXMoKSxyPTA7cjxuLmxlbmd0aDtyKyspdFsrK2VdPW5bcl07Zm9yKHZhciBpPTA7aTx0aGlzLl9ob2xlcy5sZW5ndGg7aSsrKWZvcih2YXIgbz10aGlzLl9ob2xlc1tpXS5nZXRDb29yZGluYXRlcygpLHM9MDtzPG8ubGVuZ3RoO3MrKyl0WysrZV09b1tzXTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZ2V0QXJlYT1mdW5jdGlvbigpe3ZhciB0PTA7dCs9TWF0aC5hYnMoWGwuc2lnbmVkQXJlYSh0aGlzLl9zaGVsbC5nZXRDb29yZGluYXRlU2VxdWVuY2UoKSkpO2Zvcih2YXIgZT0wO2U8dGhpcy5faG9sZXMubGVuZ3RoO2UrKyl0LT1NYXRoLmFicyhYbC5zaWduZWRBcmVhKHRoaXMuX2hvbGVzW2VdLmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpKSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmlzUmVjdGFuZ2xlPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuZ2V0TnVtSW50ZXJpb3JSaW5nKCkpcmV0dXJuITE7aWYobnVsbD09PXRoaXMuX3NoZWxsKXJldHVybiExO2lmKDUhPT10aGlzLl9zaGVsbC5nZXROdW1Qb2ludHMoKSlyZXR1cm4hMTtmb3IodmFyIHQ9dGhpcy5fc2hlbGwuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCksZT10aGlzLmdldEVudmVsb3BlSW50ZXJuYWwoKSxuPTA7bjw1O24rKyl7dmFyIHI9dC5nZXRYKG4pO2lmKHIhPT1lLmdldE1pblgoKSYmciE9PWUuZ2V0TWF4WCgpKXJldHVybiExO3ZhciBpPXQuZ2V0WShuKTtpZihpIT09ZS5nZXRNaW5ZKCkmJmkhPT1lLmdldE1heFkoKSlyZXR1cm4hMX1mb3IodmFyIG89dC5nZXRYKDApLHM9dC5nZXRZKDApLGE9MTthPD00O2ErKyl7dmFyIHU9dC5nZXRYKGEpLGw9dC5nZXRZKGEpO2lmKHUhPT1vPT09KGwhPT1zKSlyZXR1cm4hMTtvPXUscz1sfXJldHVybiEwfSxlLnByb3RvdHlwZS5lcXVhbHNFeGFjdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtpZighdGhpcy5pc0VxdWl2YWxlbnRDbGFzcyhuKSlyZXR1cm4hMTt2YXIgaT1uLG89dGhpcy5fc2hlbGwscz1pLl9zaGVsbDtpZighby5lcXVhbHNFeGFjdChzLHIpKXJldHVybiExO2lmKHRoaXMuX2hvbGVzLmxlbmd0aCE9PWkuX2hvbGVzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPHRoaXMuX2hvbGVzLmxlbmd0aDthKyspaWYoIWUuX2hvbGVzW2FdLmVxdWFsc0V4YWN0KGkuX2hvbGVzW2FdLHIpKXJldHVybiExO3JldHVybiEwfXJldHVybiB0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe3RoaXMubm9ybWFsaXplKHRoaXMuX3NoZWxsLCEwKTtmb3IodmFyIGU9MDtlPHRoaXMuX2hvbGVzLmxlbmd0aDtlKyspdC5ub3JtYWxpemUodC5faG9sZXNbZV0sITEpO1JjLnNvcnQodGhpcy5faG9sZXMpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXTtpZihuLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDt2YXIgaT1uZXcgQXJyYXkobi5nZXRDb29yZGluYXRlcygpLmxlbmd0aC0xKS5maWxsKG51bGwpO1BsLmFycmF5Y29weShuLmdldENvb3JkaW5hdGVzKCksMCxpLDAsaS5sZW5ndGgpO3ZhciBvPXBjLm1pbkNvb3JkaW5hdGUobi5nZXRDb29yZGluYXRlcygpKTtwYy5zY3JvbGwoaSxvKSxQbC5hcnJheWNvcHkoaSwwLG4uZ2V0Q29vcmRpbmF0ZXMoKSwwLGkubGVuZ3RoKSxuLmdldENvb3JkaW5hdGVzKClbaS5sZW5ndGhdPWlbMF0sWGwuaXNDQ1cobi5nZXRDb29yZGluYXRlcygpKT09PXImJnBjLnJldmVyc2Uobi5nZXRDb29yZGluYXRlcygpKX19LGUucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hlbGwuZ2V0Q29vcmRpbmF0ZSgpfSxlLnByb3RvdHlwZS5nZXROdW1JbnRlcmlvclJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faG9sZXMubGVuZ3RofSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeURpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiAxfSxlLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMn0sZS5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIHQ9MDt0Kz10aGlzLl9zaGVsbC5nZXRMZW5ndGgoKTtmb3IodmFyIGU9MDtlPHRoaXMuX2hvbGVzLmxlbmd0aDtlKyspdCs9dGhpcy5faG9sZXNbZV0uZ2V0TGVuZ3RoKCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmdldE51bVBvaW50cz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9zaGVsbC5nZXROdW1Qb2ludHMoKSxlPTA7ZTx0aGlzLl9ob2xlcy5sZW5ndGg7ZSsrKXQrPXRoaXMuX2hvbGVzW2VdLmdldE51bVBvaW50cygpO3JldHVybiB0fSxlLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb3B5KCk7dC5fc2hlbGw9dGhpcy5fc2hlbGwuY29weSgpLnJldmVyc2UoKSx0Ll9ob2xlcz1uZXcgQXJyYXkodGhpcy5faG9sZXMubGVuZ3RoKS5maWxsKG51bGwpO2Zvcih2YXIgZT0wO2U8dGhpcy5faG9sZXMubGVuZ3RoO2UrKyl0Ll9ob2xlc1tlXT10aGlzLl9ob2xlc1tlXS5jb3B5KCkucmV2ZXJzZSgpO3JldHVybiB0fSxlLnByb3RvdHlwZS5jb252ZXhIdWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RXh0ZXJpb3JSaW5nKCkuY29udmV4SHVsbCgpfSxlLnByb3RvdHlwZS5jb21wYXJlVG9TYW1lQ2xhc3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj10aGlzLl9zaGVsbCxyPWUuX3NoZWxsO3JldHVybiBuLmNvbXBhcmVUb1NhbWVDbGFzcyhyKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9aSxhPXRoaXMuX3NoZWxsLHU9cy5fc2hlbGwsbD1hLmNvbXBhcmVUb1NhbWVDbGFzcyh1LG8pO2lmKDAhPT1sKXJldHVybiBsO2Zvcih2YXIgYz10aGlzLmdldE51bUludGVyaW9yUmluZygpLGg9cy5nZXROdW1JbnRlcmlvclJpbmcoKSxwPTA7cDxjJiZwPGg7KXt2YXIgZj10LmdldEludGVyaW9yUmluZ04ocCksZz1zLmdldEludGVyaW9yUmluZ04ocCksZD1mLmNvbXBhcmVUb1NhbWVDbGFzcyhnLG8pO2lmKDAhPT1kKXJldHVybiBkO3ArK31yZXR1cm4gcDxjPzE6cDxoPy0xOjB9fSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKGdsKHQsS2wpKXt0aGlzLl9zaGVsbC5hcHBseSh0KTtmb3IodmFyIG49MDtuPHRoaXMuX2hvbGVzLmxlbmd0aDtuKyspZS5faG9sZXNbbl0uYXBwbHkodCl9ZWxzZSBpZihnbCh0LEZjKSl7aWYodGhpcy5fc2hlbGwuYXBwbHkodCksIXQuaXNEb25lKCkpZm9yKHZhciByPTA7cjx0aGlzLl9ob2xlcy5sZW5ndGgmJihlLl9ob2xlc1tyXS5hcHBseSh0KSwhdC5pc0RvbmUoKSk7cisrKTt0LmlzR2VvbWV0cnlDaGFuZ2VkKCkmJnRoaXMuZ2VvbWV0cnlDaGFuZ2VkKCl9ZWxzZSBpZihnbCh0LERjKSl0LmZpbHRlcih0aGlzKTtlbHNlIGlmKGdsKHQsSGwpKXt0LmZpbHRlcih0aGlzKSx0aGlzLl9zaGVsbC5hcHBseSh0KTtmb3IodmFyIGk9MDtpPHRoaXMuX2hvbGVzLmxlbmd0aDtpKyspZS5faG9sZXNbaV0uYXBwbHkodCl9fSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeT1mdW5jdGlvbigpe2lmKHRoaXMuaXNFbXB0eSgpKXJldHVybiB0aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVNdWx0aUxpbmVTdHJpbmcoKTt2YXIgdD1uZXcgQXJyYXkodGhpcy5faG9sZXMubGVuZ3RoKzEpLmZpbGwobnVsbCk7dFswXT10aGlzLl9zaGVsbDtmb3IodmFyIGU9MDtlPHRoaXMuX2hvbGVzLmxlbmd0aDtlKyspdFtlKzFdPXRoaXMuX2hvbGVzW2VdO3JldHVybiB0Lmxlbmd0aDw9MT90aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVMaW5lYXJSaW5nKHRbMF0uZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCkpOnRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZU11bHRpTGluZVN0cmluZyh0KX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT10LnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMpO2UuX3NoZWxsPXRoaXMuX3NoZWxsLmNsb25lKCksZS5faG9sZXM9bmV3IEFycmF5KHRoaXMuX2hvbGVzLmxlbmd0aCkuZmlsbChudWxsKTtmb3IodmFyIG49MDtuPHRoaXMuX2hvbGVzLmxlbmd0aDtuKyspZS5faG9sZXNbbl09dGhpcy5faG9sZXNbbl0uY2xvbmUoKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIlBvbHlnb24ifSxlLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3NoZWxsLmNvcHkoKSxuPW5ldyBBcnJheSh0aGlzLl9ob2xlcy5sZW5ndGgpLmZpbGwobnVsbCkscj0wO3I8bi5sZW5ndGg7cisrKW5bcl09dGhpcy5faG9sZXNbcl0uY29weSgpO3JldHVybiBuZXcgZSh0LG4sdGhpcy5fZmFjdG9yeSl9LGUucHJvdG90eXBlLmdldEV4dGVyaW9yUmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGVsbH0sZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGVsbC5pc0VtcHR5KCl9LGUucHJvdG90eXBlLmdldEludGVyaW9yUmluZ049ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2hvbGVzW3RdfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVyblskY119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LG4uc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4tMHgzMDdmZmVmZDhkYzk3MjAwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLG4pLGV9KFdsKSxlaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5nZXRTb3J0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gV2wuU09SVElOREVYX01VTFRJUE9JTlR9LGUucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5wcm90b3R5cGUuZXF1YWxzRXhhY3Q9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiEhdGhpcy5pc0VxdWl2YWxlbnRDbGFzcyhlKSYmdC5wcm90b3R5cGUuZXF1YWxzRXhhY3QuY2FsbCh0aGlzLGUsbil9cmV0dXJuIHQucHJvdG90eXBlLmVxdWFsc0V4YWN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX2dlb21ldHJpZXNbZV0uZ2V0Q29vcmRpbmF0ZSgpfXJldHVybiB0LnByb3RvdHlwZS5nZXRDb29yZGluYXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnlEaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gVGMuRkFMU0V9LGUucHJvdG90eXBlLmdldERpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVHZW9tZXRyeUNvbGxlY3Rpb24obnVsbCl9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiJNdWx0aVBvaW50In0sZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQXJyYXkodGhpcy5fZ2VvbWV0cmllcy5sZW5ndGgpLmZpbGwobnVsbCksbj0wO248dC5sZW5ndGg7bisrKXRbbl09dGhpcy5fZ2VvbWV0cmllc1tuXS5jb3B5KCk7cmV0dXJuIG5ldyBlKHQsdGhpcy5fZmFjdG9yeSl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0tjXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weDZmYjFlZDQxNjJlMGZjMDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbiksZX0oa2MpLG5oPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXtlIGluc3RhbmNlb2YgdWwmJm4gaW5zdGFuY2VvZiBfaCYmKGU9bi5nZXRDb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5KCkuY3JlYXRlKGUpKSx0LmNhbGwodGhpcyxlLG4pLHRoaXMudmFsaWRhdGVDb25zdHJ1Y3Rpb24oKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17TUlOSU1VTV9WQUxJRF9TSVpFOntjb25maWd1cmFibGU6ITB9LHNlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiBlLnByb3RvdHlwZS5nZXRTb3J0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gV2wuU09SVElOREVYX0xJTkVBUlJJTkd9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5RGltZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIFRjLkZBTFNFfSxlLnByb3RvdHlwZS5pc0Nsb3NlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5pc0VtcHR5KCl8fHQucHJvdG90eXBlLmlzQ2xvc2VkLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wb2ludHMuY29weSgpO3JldHVybiBKYy5yZXZlcnNlKHQpLHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZUxpbmVhclJpbmcodCl9LGUucHJvdG90eXBlLnZhbGlkYXRlQ29uc3RydWN0aW9uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNFbXB0eSgpJiYhdC5wcm90b3R5cGUuaXNDbG9zZWQuY2FsbCh0aGlzKSl0aHJvdyBuZXcgZWwoIlBvaW50cyBvZiBMaW5lYXJSaW5nIGRvIG5vdCBmb3JtIGEgY2xvc2VkIGxpbmVzdHJpbmciKTtpZih0aGlzLmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLnNpemUoKT49MSYmdGhpcy5nZXRDb29yZGluYXRlU2VxdWVuY2UoKS5zaXplKCk8ZS5NSU5JTVVNX1ZBTElEX1NJWkUpdGhyb3cgbmV3IGVsKCJJbnZhbGlkIG51bWJlciBvZiBwb2ludHMgaW4gTGluZWFyUmluZyAoZm91bmQgIit0aGlzLmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLnNpemUoKSsiIC0gbXVzdCBiZSAwIG9yID49IDQpIil9LGUucHJvdG90eXBlLmdldEdlb21ldHJ5VHlwZT1mdW5jdGlvbigpe3JldHVybiJMaW5lYXJSaW5nIn0sZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe3JldHVybiBuZXcgZSh0aGlzLl9wb2ludHMuY29weSgpLHRoaXMuX2ZhY3RvcnkpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxuLk1JTklNVU1fVkFMSURfU0laRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gNH0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weDNiMjI5ZTI2MjM2N2E2MDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsbiksZX0oWmMpLHJoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX10JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZTt2YXIgbj17c2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLmdldFNvcnRJbmRleD1mdW5jdGlvbigpe3JldHVybiBXbC5TT1JUSU5ERVhfTVVMVElQT0xZR09OfSxlLnByb3RvdHlwZS5lcXVhbHNFeGFjdD1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07cmV0dXJuISF0aGlzLmlzRXF1aXZhbGVudENsYXNzKGUpJiZ0LnByb3RvdHlwZS5lcXVhbHNFeGFjdC5jYWxsKHRoaXMsZSxuKX1yZXR1cm4gdC5wcm90b3R5cGUuZXF1YWxzRXhhY3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5nZXRCb3VuZGFyeURpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiAxfSxlLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gMn0sZS5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9nZW9tZXRyaWVzLmxlbmd0aCxlPW5ldyBBcnJheSh0KS5maWxsKG51bGwpLG49MDtuPHRoaXMuX2dlb21ldHJpZXMubGVuZ3RoO24rKyllW25dPXRoaXMuX2dlb21ldHJpZXNbbl0ucmV2ZXJzZSgpO3JldHVybiB0aGlzLmdldEZhY3RvcnkoKS5jcmVhdGVNdWx0aVBvbHlnb24oZSl9LGUucHJvdG90eXBlLmdldEJvdW5kYXJ5PWZ1bmN0aW9uKCl7aWYodGhpcy5pc0VtcHR5KCkpcmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZU11bHRpTGluZVN0cmluZygpO2Zvcih2YXIgdD1uZXcgbGMsZT0wO2U8dGhpcy5fZ2VvbWV0cmllcy5sZW5ndGg7ZSsrKWZvcih2YXIgbj10aGlzLl9nZW9tZXRyaWVzW2VdLmdldEJvdW5kYXJ5KCkscj0wO3I8bi5nZXROdW1HZW9tZXRyaWVzKCk7cisrKXQuYWRkKG4uZ2V0R2VvbWV0cnlOKHIpKTt2YXIgaT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHRoaXMuZ2V0RmFjdG9yeSgpLmNyZWF0ZU11bHRpTGluZVN0cmluZyh0LnRvQXJyYXkoaSkpfSxlLnByb3RvdHlwZS5nZXRHZW9tZXRyeVR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iTXVsdGlQb2x5Z29uIn0sZS5wcm90b3R5cGUuY29weT1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgQXJyYXkodGhpcy5fZ2VvbWV0cmllcy5sZW5ndGgpLmZpbGwobnVsbCksbj0wO248dC5sZW5ndGg7bisrKXRbbl09dGhpcy5fZ2VvbWV0cmllc1tuXS5jb3B5KCk7cmV0dXJuIG5ldyBlKHQsdGhpcy5fZmFjdG9yeSl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuWyRjXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sbi5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weDdhNWFhMTM2OTE3MTk4MH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxuKSxlfShrYyksaWg9ZnVuY3Rpb24odCl7dGhpcy5fZmFjdG9yeT10fHxudWxsLHRoaXMuX2lzVXNlckRhdGFDb3BpZWQ9ITF9LG9oPXtOb09wR2VvbWV0cnlPcGVyYXRpb246e2NvbmZpZ3VyYWJsZTohMH0sQ29vcmRpbmF0ZU9wZXJhdGlvbjp7Y29uZmlndXJhYmxlOiEwfSxDb29yZGluYXRlU2VxdWVuY2VPcGVyYXRpb246e2NvbmZpZ3VyYWJsZTohMH19O2loLnByb3RvdHlwZS5zZXRDb3B5VXNlckRhdGE9ZnVuY3Rpb24odCl7dGhpcy5faXNVc2VyRGF0YUNvcGllZD10fSxpaC5wcm90b3R5cGUuZWRpdD1mdW5jdGlvbih0LGUpe2lmKG51bGw9PT10KXJldHVybiBudWxsO3ZhciBuPXRoaXMuZWRpdEludGVybmFsKHQsZSk7cmV0dXJuIHRoaXMuX2lzVXNlckRhdGFDb3BpZWQmJm4uc2V0VXNlckRhdGEodC5nZXRVc2VyRGF0YSgpKSxufSxpaC5wcm90b3R5cGUuZWRpdEludGVybmFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PT10aGlzLl9mYWN0b3J5JiYodGhpcy5fZmFjdG9yeT10LmdldEZhY3RvcnkoKSksdCBpbnN0YW5jZW9mIGtjP3RoaXMuZWRpdEdlb21ldHJ5Q29sbGVjdGlvbih0LGUpOnQgaW5zdGFuY2VvZiB0aD90aGlzLmVkaXRQb2x5Z29uKHQsZSk6dCBpbnN0YW5jZW9mIFFjfHx0IGluc3RhbmNlb2YgWmM/ZS5lZGl0KHQsdGhpcy5fZmFjdG9yeSk6KHFsLnNob3VsZE5ldmVyUmVhY2hIZXJlKCJVbnN1cHBvcnRlZCBHZW9tZXRyeSBjbGFzczogIit0LmdldENsYXNzKCkuZ2V0TmFtZSgpKSxudWxsKX0saWgucHJvdG90eXBlLmVkaXRHZW9tZXRyeUNvbGxlY3Rpb249ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5lZGl0KHQsdGhpcy5fZmFjdG9yeSkscj1uZXcgbGMsaT0wO2k8bi5nZXROdW1HZW9tZXRyaWVzKCk7aSsrKXt2YXIgbz10aGlzLmVkaXQobi5nZXRHZW9tZXRyeU4oaSksZSk7bnVsbD09PW98fG8uaXNFbXB0eSgpfHxyLmFkZChvKX1yZXR1cm4gbi5nZXRDbGFzcygpPT09ZWg/dGhpcy5fZmFjdG9yeS5jcmVhdGVNdWx0aVBvaW50KHIudG9BcnJheShbXSkpOm4uZ2V0Q2xhc3MoKT09PUdjP3RoaXMuX2ZhY3RvcnkuY3JlYXRlTXVsdGlMaW5lU3RyaW5nKHIudG9BcnJheShbXSkpOm4uZ2V0Q2xhc3MoKT09PXJoP3RoaXMuX2ZhY3RvcnkuY3JlYXRlTXVsdGlQb2x5Z29uKHIudG9BcnJheShbXSkpOnRoaXMuX2ZhY3RvcnkuY3JlYXRlR2VvbWV0cnlDb2xsZWN0aW9uKHIudG9BcnJheShbXSkpfSxpaC5wcm90b3R5cGUuZWRpdFBvbHlnb249ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmVkaXQodCx0aGlzLl9mYWN0b3J5KTtpZihudWxsPT09biYmKG49dGhpcy5fZmFjdG9yeS5jcmVhdGVQb2x5Z29uKG51bGwpKSxuLmlzRW1wdHkoKSlyZXR1cm4gbjt2YXIgcj10aGlzLmVkaXQobi5nZXRFeHRlcmlvclJpbmcoKSxlKTtpZihudWxsPT09cnx8ci5pc0VtcHR5KCkpcmV0dXJuIHRoaXMuX2ZhY3RvcnkuY3JlYXRlUG9seWdvbigpO2Zvcih2YXIgaT1uZXcgbGMsbz0wO288bi5nZXROdW1JbnRlcmlvclJpbmcoKTtvKyspe3ZhciBzPXRoaXMuZWRpdChuLmdldEludGVyaW9yUmluZ04obyksZSk7bnVsbD09PXN8fHMuaXNFbXB0eSgpfHxpLmFkZChzKX1yZXR1cm4gdGhpcy5fZmFjdG9yeS5jcmVhdGVQb2x5Z29uKHIsaS50b0FycmF5KFtdKSl9LGloLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxpaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gaWh9LGloLkdlb21ldHJ5RWRpdG9yT3BlcmF0aW9uPWZ1bmN0aW9uKCl7fSxvaC5Ob09wR2VvbWV0cnlPcGVyYXRpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHNofSxvaC5Db29yZGluYXRlT3BlcmF0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiBhaH0sb2guQ29vcmRpbmF0ZVNlcXVlbmNlT3BlcmF0aW9uLmdldD1mdW5jdGlvbigpe3JldHVybiB1aH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaWgsb2gpO3ZhciBzaD1mdW5jdGlvbigpe307c2gucHJvdG90eXBlLmVkaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sc2gucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2loLkdlb21ldHJ5RWRpdG9yT3BlcmF0aW9uXX0sc2gucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHNofTt2YXIgYWg9ZnVuY3Rpb24oKXt9O2FoLnByb3RvdHlwZS5lZGl0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5lZGl0Q29vcmRpbmF0ZXModC5nZXRDb29yZGluYXRlcygpLHQpO3JldHVybiBudWxsPT09bj90OnQgaW5zdGFuY2VvZiBuaD9lLmNyZWF0ZUxpbmVhclJpbmcobik6dCBpbnN0YW5jZW9mIFpjP2UuY3JlYXRlTGluZVN0cmluZyhuKTp0IGluc3RhbmNlb2YgUWM/bi5sZW5ndGg+MD9lLmNyZWF0ZVBvaW50KG5bMF0pOmUuY3JlYXRlUG9pbnQoKTp0fSxhaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5baWguR2VvbWV0cnlFZGl0b3JPcGVyYXRpb25dfSxhaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYWh9O3ZhciB1aD1mdW5jdGlvbigpe307dWgucHJvdG90eXBlLmVkaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIG5oP2UuY3JlYXRlTGluZWFyUmluZyh0aGlzLmVkaXQodC5nZXRDb29yZGluYXRlU2VxdWVuY2UoKSx0KSk6dCBpbnN0YW5jZW9mIFpjP2UuY3JlYXRlTGluZVN0cmluZyh0aGlzLmVkaXQodC5nZXRDb29yZGluYXRlU2VxdWVuY2UoKSx0KSk6dCBpbnN0YW5jZW9mIFFjP2UuY3JlYXRlUG9pbnQodGhpcy5lZGl0KHQuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCksdCkpOnR9LHVoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpaC5HZW9tZXRyeUVkaXRvck9wZXJhdGlvbl19LHVoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB1aH07dmFyIGxoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLl9kaW1lbnNpb249Myx0aGlzLl9jb29yZGluYXRlcz1udWxsLDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5KXRoaXMuX2Nvb3JkaW5hdGVzPWFyZ3VtZW50c1swXSx0aGlzLl9kaW1lbnNpb249MztlbHNlIGlmKE51bWJlci5pc0ludGVnZXIoYXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuX2Nvb3JkaW5hdGVzPW5ldyBBcnJheShlKS5maWxsKG51bGwpO2Zvcih2YXIgbj0wO248ZTtuKyspdC5fY29vcmRpbmF0ZXNbbl09bmV3IHVsfWVsc2UgaWYoZ2woYXJndW1lbnRzWzBdLElsKSl7dmFyIHI9YXJndW1lbnRzWzBdO2lmKG51bGw9PT1yKXJldHVybiB0aGlzLl9jb29yZGluYXRlcz1uZXcgQXJyYXkoMCkuZmlsbChudWxsKSxudWxsO3RoaXMuX2RpbWVuc2lvbj1yLmdldERpbWVuc2lvbigpLHRoaXMuX2Nvb3JkaW5hdGVzPW5ldyBBcnJheShyLnNpemUoKSkuZmlsbChudWxsKTtmb3IodmFyIGk9MDtpPHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aDtpKyspdC5fY29vcmRpbmF0ZXNbaV09ci5nZXRDb29yZGluYXRlQ29weShpKX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aClpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5JiZOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1sxXSkpe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXTt0aGlzLl9jb29yZGluYXRlcz1vLHRoaXMuX2RpbWVuc2lvbj1zLG51bGw9PT1vJiYodGhpcy5fY29vcmRpbmF0ZXM9bmV3IEFycmF5KDApLmZpbGwobnVsbCkpfWVsc2UgaWYoTnVtYmVyLmlzSW50ZWdlcihhcmd1bWVudHNbMF0pJiZOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1sxXSkpe3ZhciBhPWFyZ3VtZW50c1swXSx1PWFyZ3VtZW50c1sxXTt0aGlzLl9jb29yZGluYXRlcz1uZXcgQXJyYXkoYSkuZmlsbChudWxsKSx0aGlzLl9kaW1lbnNpb249dTtmb3IodmFyIGw9MDtsPGE7bCsrKXQuX2Nvb3JkaW5hdGVzW2xdPW5ldyB1bH19LGNoPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTtsaC5wcm90b3R5cGUuc2V0T3JkaW5hdGU9ZnVuY3Rpb24odCxlLG4pe3N3aXRjaChlKXtjYXNlIElsLlg6dGhpcy5fY29vcmRpbmF0ZXNbdF0ueD1uO2JyZWFrO2Nhc2UgSWwuWTp0aGlzLl9jb29yZGluYXRlc1t0XS55PW47YnJlYWs7Y2FzZSBJbC5aOnRoaXMuX2Nvb3JkaW5hdGVzW3RdLno9bjticmVhaztkZWZhdWx0OnRocm93IG5ldyBlbCgiaW52YWxpZCBvcmRpbmF0ZUluZGV4Iil9fSxsaC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGh9LGxoLnByb3RvdHlwZS5nZXRPcmRpbmF0ZT1mdW5jdGlvbih0LGUpe3N3aXRjaChlKXtjYXNlIElsLlg6cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzW3RdLng7Y2FzZSBJbC5ZOnJldHVybiB0aGlzLl9jb29yZGluYXRlc1t0XS55O2Nhc2UgSWwuWjpyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNbdF0uen1yZXR1cm4gbmwuTmFOfSxsaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzW3RdfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07bi54PXRoaXMuX2Nvb3JkaW5hdGVzW2VdLngsbi55PXRoaXMuX2Nvb3JkaW5hdGVzW2VdLnksbi56PXRoaXMuX2Nvb3JkaW5hdGVzW2VdLnp9fSxsaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUNvcHk9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB1bCh0aGlzLl9jb29yZGluYXRlc1t0XSl9LGxoLnByb3RvdHlwZS5nZXREaW1lbnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGltZW5zaW9ufSxsaC5wcm90b3R5cGUuZ2V0WD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNbdF0ueH0sbGgucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSh0aGlzLnNpemUoKSkuZmlsbChudWxsKSxlPTA7ZTx0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7ZSsrKXRbZV09dGhpcy5fY29vcmRpbmF0ZXNbZV0uY2xvbmUoKTtyZXR1cm4gbmV3IGxoKHQsdGhpcy5fZGltZW5zaW9uKX0sbGgucHJvdG90eXBlLmV4cGFuZEVudmVsb3BlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoO2UrKyl0LmV4cGFuZFRvSW5jbHVkZSh0aGlzLl9jb29yZGluYXRlc1tlXSk7cmV0dXJuIHR9LGxoLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSh0aGlzLnNpemUoKSkuZmlsbChudWxsKSxlPTA7ZTx0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7ZSsrKXRbZV09dGhpcy5fY29vcmRpbmF0ZXNbZV0uY29weSgpO3JldHVybiBuZXcgbGgodCx0aGlzLl9kaW1lbnNpb24pfSxsaC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg+MCl7dmFyIHQ9bmV3IHZsKDE3KnRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCk7dC5hcHBlbmQoIigiKSx0LmFwcGVuZCh0aGlzLl9jb29yZGluYXRlc1swXSk7Zm9yKHZhciBlPTE7ZTx0aGlzLl9jb29yZGluYXRlcy5sZW5ndGg7ZSsrKXQuYXBwZW5kKCIsICIpLHQuYXBwZW5kKHRoaXMuX2Nvb3JkaW5hdGVzW2VdKTtyZXR1cm4gdC5hcHBlbmQoIikiKSx0LnRvU3RyaW5nKCl9cmV0dXJuIigpIn0sbGgucHJvdG90eXBlLmdldFk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzW3RdLnl9LGxoLnByb3RvdHlwZS50b0Nvb3JkaW5hdGVBcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZGluYXRlc30sbGgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0lsLGFsXX0sbGgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGxofSxjaC5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weGNiNDRhNzc4ZGIxOGUwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobGgsY2gpO3ZhciBoaD1mdW5jdGlvbigpe30scGg9e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH0saW5zdGFuY2VPYmplY3Q6e2NvbmZpZ3VyYWJsZTohMH19O2hoLnByb3RvdHlwZS5yZWFkUmVzb2x2ZT1mdW5jdGlvbigpe3JldHVybiBoaC5pbnN0YW5jZSgpfSxoaC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gbmV3IGxoKHQpfWlmKGdsKGFyZ3VtZW50c1swXSxJbCkpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gbmV3IGxoKGUpfX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07cmV0dXJuIHI+MyYmKHI9MykscjwyP25ldyBsaChuKTpuZXcgbGgobixyKX19LGhoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltobCxhbF19LGhoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBoaH0saGguaW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gaGguaW5zdGFuY2VPYmplY3R9LHBoLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTB4MzhlNDlmYTZjZjZmMmUwMH0scGguaW5zdGFuY2VPYmplY3QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBoaH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaGgscGgpO3ZhciBmaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMpLHRoaXMubWFwXz1uZXcgTWFwfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubWFwXy5nZXQodCl8fG51bGx9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1hcF8uc2V0KHQsZSksZX0sZS5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBsYyxlPXRoaXMubWFwXy52YWx1ZXMoKSxuPWUubmV4dCgpOyFuLmRvbmU7KXQuYWRkKG4udmFsdWUpLG49ZS5uZXh0KCk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmVudHJ5U2V0PWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHhjO3JldHVybiB0aGlzLm1hcF8uZW50cmllcygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFkZChlKX0pKSx0fSxlLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwXy5zaXplKCl9LGV9KHljKSxnaD1mdW5jdGlvbiB0KCl7aWYodGhpcy5fbW9kZWxUeXBlPW51bGwsdGhpcy5fc2NhbGU9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLl9tb2RlbFR5cGU9dC5GTE9BVElORztlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgeWgpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLl9tb2RlbFR5cGU9ZSxlPT09dC5GSVhFRCYmdGhpcy5zZXRTY2FsZSgxKX1lbHNlIGlmKCJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgbj1hcmd1bWVudHNbMF07dGhpcy5fbW9kZWxUeXBlPXQuRklYRUQsdGhpcy5zZXRTY2FsZShuKX1lbHNlIGlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdCl7dmFyIHI9YXJndW1lbnRzWzBdO3RoaXMuX21vZGVsVHlwZT1yLl9tb2RlbFR5cGUsdGhpcy5fc2NhbGU9ci5fc2NhbGV9fSxkaD17c2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfSxtYXhpbXVtUHJlY2lzZVZhbHVlOntjb25maWd1cmFibGU6ITB9fTtnaC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIGdoKSlyZXR1cm4hMTt2YXIgZT10O3JldHVybiB0aGlzLl9tb2RlbFR5cGU9PT1lLl9tb2RlbFR5cGUmJnRoaXMuX3NjYWxlPT09ZS5fc2NhbGV9LGdoLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dCxuPXRoaXMuZ2V0TWF4aW11bVNpZ25pZmljYW50RGlnaXRzKCkscj1lLmdldE1heGltdW1TaWduaWZpY2FudERpZ2l0cygpO3JldHVybiBuZXcgX2wobikuY29tcGFyZVRvKG5ldyBfbChyKSl9LGdoLnByb3RvdHlwZS5nZXRTY2FsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2FsZX0sZ2gucHJvdG90eXBlLmlzRmxvYXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWxUeXBlPT09Z2guRkxPQVRJTkd8fHRoaXMuX21vZGVsVHlwZT09PWdoLkZMT0FUSU5HX1NJTkdMRX0sZ2gucHJvdG90eXBlLmdldFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9kZWxUeXBlfSxnaC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD0iVU5LTk9XTiI7cmV0dXJuIHRoaXMuX21vZGVsVHlwZT09PWdoLkZMT0FUSU5HP3Q9IkZsb2F0aW5nIjp0aGlzLl9tb2RlbFR5cGU9PT1naC5GTE9BVElOR19TSU5HTEU/dD0iRmxvYXRpbmctU2luZ2xlIjp0aGlzLl9tb2RlbFR5cGU9PT1naC5GSVhFRCYmKHQ9IkZpeGVkIChTY2FsZT0iK3RoaXMuZ2V0U2NhbGUoKSsiKSIpLHR9LGdoLnByb3RvdHlwZS5tYWtlUHJlY2lzZT1mdW5jdGlvbigpe2lmKCJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgdD1hcmd1bWVudHNbMF07aWYobmwuaXNOYU4odCkpcmV0dXJuIHQ7aWYodGhpcy5fbW9kZWxUeXBlPT09Z2guRkxPQVRJTkdfU0lOR0xFKXtyZXR1cm4gdH1yZXR1cm4gdGhpcy5fbW9kZWxUeXBlPT09Z2guRklYRUQ/TWF0aC5yb3VuZCh0KnRoaXMuX3NjYWxlKS90aGlzLl9zY2FsZTp0fWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciBlPWFyZ3VtZW50c1swXTtpZih0aGlzLl9tb2RlbFR5cGU9PT1naC5GTE9BVElORylyZXR1cm4gbnVsbDtlLng9dGhpcy5tYWtlUHJlY2lzZShlLngpLGUueT10aGlzLm1ha2VQcmVjaXNlKGUueSl9fSxnaC5wcm90b3R5cGUuZ2V0TWF4aW11bVNpZ25pZmljYW50RGlnaXRzPWZ1bmN0aW9uKCl7dmFyIHQ9MTY7cmV0dXJuIHRoaXMuX21vZGVsVHlwZT09PWdoLkZMT0FUSU5HP3Q9MTY6dGhpcy5fbW9kZWxUeXBlPT09Z2guRkxPQVRJTkdfU0lOR0xFP3Q9Njp0aGlzLl9tb2RlbFR5cGU9PT1naC5GSVhFRCYmKHQ9MStNYXRoLnRydW5jKE1hdGguY2VpbChNYXRoLmxvZyh0aGlzLmdldFNjYWxlKCkpL01hdGgubG9nKDEwKSkpKSx0fSxnaC5wcm90b3R5cGUuc2V0U2NhbGU9ZnVuY3Rpb24odCl7dGhpcy5fc2NhbGU9TWF0aC5hYnModCl9LGdoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVyblthbCxpbF19LGdoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBnaH0sZ2gubW9zdFByZWNpc2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb21wYXJlVG8oZSk+PTA/dDplfSxkaC5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybiAweDZiZWU2NDA0ZTlhMjVjMDB9LGRoLm1heGltdW1QcmVjaXNlVmFsdWUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDkwMDcxOTkyNTQ3NDA5OTJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGdoLGRoKTt2YXIgeWg9ZnVuY3Rpb24gdChlKXt0aGlzLl9uYW1lPWV8fG51bGwsdC5uYW1lVG9UeXBlTWFwLnB1dChlLHRoaXMpfSx2aD17c2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfSxuYW1lVG9UeXBlTWFwOntjb25maWd1cmFibGU6ITB9fTt5aC5wcm90b3R5cGUucmVhZFJlc29sdmU9ZnVuY3Rpb24oKXtyZXR1cm4geWgubmFtZVRvVHlwZU1hcC5nZXQodGhpcy5fbmFtZSl9LHloLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSx5aC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bYWxdfSx5aC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4geWh9LHZoLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTU1Mjg2MDI2MzE3MzE1OWU0fSx2aC5uYW1lVG9UeXBlTWFwLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgZmh9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHloLHZoKSxnaC5UeXBlPXloLGdoLkZJWEVEPW5ldyB5aCgiRklYRUQiKSxnaC5GTE9BVElORz1uZXcgeWgoIkZMT0FUSU5HIiksZ2guRkxPQVRJTkdfU0lOR0xFPW5ldyB5aCgiRkxPQVRJTkcgU0lOR0xFIik7dmFyIF9oPWZ1bmN0aW9uIHQoKXt0aGlzLl9wcmVjaXNpb25Nb2RlbD1uZXcgZ2gsdGhpcy5fU1JJRD0wLHRoaXMuX2Nvb3JkaW5hdGVTZXF1ZW5jZUZhY3Rvcnk9dC5nZXREZWZhdWx0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLDA9PT1hcmd1bWVudHMubGVuZ3RofHwoMT09PWFyZ3VtZW50cy5sZW5ndGg/Z2woYXJndW1lbnRzWzBdLGhsKT90aGlzLl9jb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5PWFyZ3VtZW50c1swXTphcmd1bWVudHNbMF1pbnN0YW5jZW9mIGdoJiYodGhpcy5fcHJlY2lzaW9uTW9kZWw9YXJndW1lbnRzWzBdKToyPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcHJlY2lzaW9uTW9kZWw9YXJndW1lbnRzWzBdLHRoaXMuX1NSSUQ9YXJndW1lbnRzWzFdKTozPT09YXJndW1lbnRzLmxlbmd0aCYmKHRoaXMuX3ByZWNpc2lvbk1vZGVsPWFyZ3VtZW50c1swXSx0aGlzLl9TUklEPWFyZ3VtZW50c1sxXSx0aGlzLl9jb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5PWFyZ3VtZW50c1syXSkpfSxtaD17c2VyaWFsVmVyc2lvblVJRDp7Y29uZmlndXJhYmxlOiEwfX07X2gucHJvdG90eXBlLnRvR2VvbWV0cnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNOdWxsKCk/dGhpcy5jcmVhdGVQb2ludChudWxsKTp0LmdldE1pblgoKT09PXQuZ2V0TWF4WCgpJiZ0LmdldE1pblkoKT09PXQuZ2V0TWF4WSgpP3RoaXMuY3JlYXRlUG9pbnQobmV3IHVsKHQuZ2V0TWluWCgpLHQuZ2V0TWluWSgpKSk6dC5nZXRNaW5YKCk9PT10LmdldE1heFgoKXx8dC5nZXRNaW5ZKCk9PT10LmdldE1heFkoKT90aGlzLmNyZWF0ZUxpbmVTdHJpbmcoW25ldyB1bCh0LmdldE1pblgoKSx0LmdldE1pblkoKSksbmV3IHVsKHQuZ2V0TWF4WCgpLHQuZ2V0TWF4WSgpKV0pOnRoaXMuY3JlYXRlUG9seWdvbih0aGlzLmNyZWF0ZUxpbmVhclJpbmcoW25ldyB1bCh0LmdldE1pblgoKSx0LmdldE1pblkoKSksbmV3IHVsKHQuZ2V0TWluWCgpLHQuZ2V0TWF4WSgpKSxuZXcgdWwodC5nZXRNYXhYKCksdC5nZXRNYXhZKCkpLG5ldyB1bCh0LmdldE1heFgoKSx0LmdldE1pblkoKSksbmV3IHVsKHQuZ2V0TWluWCgpLHQuZ2V0TWluWSgpKV0pLG51bGwpfSxfaC5wcm90b3R5cGUuY3JlYXRlTGluZVN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdD90IGluc3RhbmNlb2YgQXJyYXk/bmV3IFpjKHRoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZSh0KSx0aGlzKTpnbCh0LElsKT9uZXcgWmModCx0aGlzKTp2b2lkIDA6bmV3IFpjKHRoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShbXSksdGhpcyl9LF9oLnByb3RvdHlwZS5jcmVhdGVNdWx0aUxpbmVTdHJpbmc9ZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbmV3IEdjKG51bGwsdGhpcyk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gbmV3IEdjKHQsdGhpcyl9fSxfaC5wcm90b3R5cGUuYnVpbGRHZW9tZXRyeT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bnVsbCxuPSExLHI9ITEsaT10Lml0ZXJhdG9yKCk7aS5oYXNOZXh0KCk7KXt2YXIgbz1pLm5leHQoKSxzPW8uZ2V0Q2xhc3MoKTtudWxsPT09ZSYmKGU9cykscyE9PWUmJihuPSEwKSxvLmlzR2VvbWV0cnlDb2xsZWN0aW9uT3JEZXJpdmVkKCkmJihyPSEwKX1pZihudWxsPT09ZSlyZXR1cm4gdGhpcy5jcmVhdGVHZW9tZXRyeUNvbGxlY3Rpb24oKTtpZihufHxyKXJldHVybiB0aGlzLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihfaC50b0dlb21ldHJ5QXJyYXkodCkpO3ZhciBhPXQuaXRlcmF0b3IoKS5uZXh0KCk7aWYodC5zaXplKCk+MSl7aWYoYSBpbnN0YW5jZW9mIHRoKXJldHVybiB0aGlzLmNyZWF0ZU11bHRpUG9seWdvbihfaC50b1BvbHlnb25BcnJheSh0KSk7aWYoYSBpbnN0YW5jZW9mIFpjKXJldHVybiB0aGlzLmNyZWF0ZU11bHRpTGluZVN0cmluZyhfaC50b0xpbmVTdHJpbmdBcnJheSh0KSk7aWYoYSBpbnN0YW5jZW9mIFFjKXJldHVybiB0aGlzLmNyZWF0ZU11bHRpUG9pbnQoX2gudG9Qb2ludEFycmF5KHQpKTtxbC5zaG91bGROZXZlclJlYWNoSGVyZSgiVW5oYW5kbGVkIGNsYXNzOiAiK2EuZ2V0Q2xhc3MoKS5nZXROYW1lKCkpfXJldHVybiBhfSxfaC5wcm90b3R5cGUuY3JlYXRlTXVsdGlQb2ludEZyb21Db29yZHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3JlYXRlTXVsdGlQb2ludChudWxsIT09dD90aGlzLmdldENvb3JkaW5hdGVTZXF1ZW5jZUZhY3RvcnkoKS5jcmVhdGUodCk6bnVsbCl9LF9oLnByb3RvdHlwZS5jcmVhdGVQb2ludD1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmNyZWF0ZVBvaW50KHRoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShbXSkpO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuY3JlYXRlUG9pbnQobnVsbCE9PXQ/dGhpcy5nZXRDb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5KCkuY3JlYXRlKFt0XSk6bnVsbCl9aWYoZ2woYXJndW1lbnRzWzBdLElsKSl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiBuZXcgUWMoZSx0aGlzKX19fSxfaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5fSxfaC5wcm90b3R5cGUuY3JlYXRlUG9seWdvbj1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuZXcgdGgobnVsbCxudWxsLHRoaXMpO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihnbChhcmd1bWVudHNbMF0sSWwpKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuY3JlYXRlUG9seWdvbih0aGlzLmNyZWF0ZUxpbmVhclJpbmcodCkpfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jcmVhdGVQb2x5Z29uKHRoaXMuY3JlYXRlTGluZWFyUmluZyhlKSl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBuaCl7dmFyIG49YXJndW1lbnRzWzBdO3JldHVybiB0aGlzLmNyZWF0ZVBvbHlnb24obixudWxsKX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdO3JldHVybiBuZXcgdGgocixpLHRoaXMpfX0sX2gucHJvdG90eXBlLmdldFNSSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fU1JJRH0sX2gucHJvdG90eXBlLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbj1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuZXcga2MobnVsbCx0aGlzKTtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiBuZXcga2ModCx0aGlzKX19LF9oLnByb3RvdHlwZS5jcmVhdGVHZW9tZXRyeT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGloKHRoaXMpLmVkaXQodCx7ZWRpdDpmdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVTZXF1ZW5jZUZhY3RvcnkuY3JlYXRlKHQpfX19KX0sX2gucHJvdG90eXBlLmdldFByZWNpc2lvbk1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZWNpc2lvbk1vZGVsfSxfaC5wcm90b3R5cGUuY3JlYXRlTGluZWFyUmluZz1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmNyZWF0ZUxpbmVhclJpbmcodGhpcy5nZXRDb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5KCkuY3JlYXRlKFtdKSk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jcmVhdGVMaW5lYXJSaW5nKG51bGwhPT10P3RoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZSh0KTpudWxsKX1pZihnbChhcmd1bWVudHNbMF0sSWwpKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIG5ldyBuaChlLHRoaXMpfX19LF9oLnByb3RvdHlwZS5jcmVhdGVNdWx0aVBvbHlnb249ZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gbmV3IHJoKG51bGwsdGhpcyk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gbmV3IHJoKHQsdGhpcyl9fSxfaC5wcm90b3R5cGUuY3JlYXRlTXVsdGlQb2ludD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG5ldyBlaChudWxsLHRoaXMpO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5KXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIG5ldyBlaChlLHRoaXMpfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe3ZhciBuPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5jcmVhdGVNdWx0aVBvaW50KG51bGwhPT1uP3RoaXMuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShuKTpudWxsKX1pZihnbChhcmd1bWVudHNbMF0sSWwpKXt2YXIgcj1hcmd1bWVudHNbMF07aWYobnVsbD09PXIpcmV0dXJuIHRoaXMuY3JlYXRlTXVsdGlQb2ludChuZXcgQXJyYXkoMCkuZmlsbChudWxsKSk7Zm9yKHZhciBpPW5ldyBBcnJheShyLnNpemUoKSkuZmlsbChudWxsKSxvPTA7bzxyLnNpemUoKTtvKyspe3ZhciBzPXQuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZSgxLHIuZ2V0RGltZW5zaW9uKCkpO0pjLmNvcHkocixvLHMsMCwxKSxpW29dPXQuY3JlYXRlUG9pbnQocyl9cmV0dXJuIHRoaXMuY3JlYXRlTXVsdGlQb2ludChpKX19fSxfaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bYWxdfSxfaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gX2h9LF9oLnRvTXVsdGlQb2x5Z29uQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KHQuc2l6ZSgpKS5maWxsKG51bGwpO3JldHVybiB0LnRvQXJyYXkoZSl9LF9oLnRvR2VvbWV0cnlBcnJheT1mdW5jdGlvbih0KXtpZihudWxsPT09dClyZXR1cm4gbnVsbDt2YXIgZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHQudG9BcnJheShlKX0sX2guZ2V0RGVmYXVsdENvb3JkaW5hdGVTZXF1ZW5jZUZhY3Rvcnk9ZnVuY3Rpb24oKXtyZXR1cm4gaGguaW5zdGFuY2UoKX0sX2gudG9NdWx0aUxpbmVTdHJpbmdBcnJheT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHQudG9BcnJheShlKX0sX2gudG9MaW5lU3RyaW5nQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KHQuc2l6ZSgpKS5maWxsKG51bGwpO3JldHVybiB0LnRvQXJyYXkoZSl9LF9oLnRvTXVsdGlQb2ludEFycmF5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheSh0LnNpemUoKSkuZmlsbChudWxsKTtyZXR1cm4gdC50b0FycmF5KGUpfSxfaC50b0xpbmVhclJpbmdBcnJheT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHQudG9BcnJheShlKX0sX2gudG9Qb2ludEFycmF5PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheSh0LnNpemUoKSkuZmlsbChudWxsKTtyZXR1cm4gdC50b0FycmF5KGUpfSxfaC50b1BvbHlnb25BcnJheT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCk7cmV0dXJuIHQudG9BcnJheShlKX0sX2guY3JlYXRlUG9pbnRGcm9tSW50ZXJuYWxDb29yZD1mdW5jdGlvbih0LGUpe3JldHVybiBlLmdldFByZWNpc2lvbk1vZGVsKCkubWFrZVByZWNpc2UodCksZS5nZXRGYWN0b3J5KCkuY3JlYXRlUG9pbnQodCl9LG1oLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuLTB4NWVhNzVmMjA1MWVlYjQwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX2gsbWgpO3ZhciB4aD1bIlBvaW50IiwiTXVsdGlQb2ludCIsIkxpbmVTdHJpbmciLCJNdWx0aUxpbmVTdHJpbmciLCJQb2x5Z29uIiwiTXVsdGlQb2x5Z29uIl0sRWg9ZnVuY3Rpb24odCl7dGhpcy5nZW9tZXRyeUZhY3Rvcnk9dHx8bmV3IF9ofTtFaC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXt2YXIgZSxuPShlPSJzdHJpbmciPT10eXBlb2YgdD9KU09OLnBhcnNlKHQpOnQpLnR5cGU7aWYoIWJoW25dKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBHZW9KU09OIHR5cGU6ICIrZS50eXBlKTtyZXR1cm4tMSE9PXhoLmluZGV4T2Yobik/Ymhbbl0uYXBwbHkodGhpcyxbZS5jb29yZGluYXRlc10pOiJHZW9tZXRyeUNvbGxlY3Rpb24iPT09bj9iaFtuXS5hcHBseSh0aGlzLFtlLmdlb21ldHJpZXNdKTpiaFtuXS5hcHBseSh0aGlzLFtlXSl9LEVoLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt2YXIgZT10LmdldEdlb21ldHJ5VHlwZSgpO2lmKCF3aFtlXSl0aHJvdyBuZXcgRXJyb3IoIkdlb21ldHJ5IGlzIG5vdCBzdXBwb3J0ZWQiKTtyZXR1cm4gd2hbZV0uYXBwbHkodGhpcyxbdF0pfTt2YXIgYmg9e0ZlYXR1cmU6ZnVuY3Rpb24odCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpZVtuXT10W25dO2lmKHQuZ2VvbWV0cnkpe3ZhciByPXQuZ2VvbWV0cnkudHlwZTtpZighYmhbcl0pdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIEdlb0pTT04gdHlwZTogIit0LnR5cGUpO2UuZ2VvbWV0cnk9dGhpcy5yZWFkKHQuZ2VvbWV0cnkpfXJldHVybiB0LmJib3gmJihlLmJib3g9YmguYmJveC5hcHBseSh0aGlzLFt0LmJib3hdKSksZX0sRmVhdHVyZUNvbGxlY3Rpb246ZnVuY3Rpb24odCl7dmFyIGU9e307aWYodC5mZWF0dXJlcyl7ZS5mZWF0dXJlcz1bXTtmb3IodmFyIG49MDtuPHQuZmVhdHVyZXMubGVuZ3RoOysrbillLmZlYXR1cmVzLnB1c2godGhpcy5yZWFkKHQuZmVhdHVyZXNbbl0pKX1yZXR1cm4gdC5iYm94JiYoZS5iYm94PXRoaXMucGFyc2UuYmJveC5hcHBseSh0aGlzLFt0LmJib3hdKSksZX0sY29vcmRpbmF0ZXM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoOysrbil7dmFyIHI9dFtuXTtlLnB1c2gobmV3IHVsKHJbMF0sclsxXSkpfXJldHVybiBlfSxiYm94OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lYXJSaW5nKFtuZXcgdWwodFswXSx0WzFdKSxuZXcgdWwodFsyXSx0WzFdKSxuZXcgdWwodFsyXSx0WzNdKSxuZXcgdWwodFswXSx0WzNdKSxuZXcgdWwodFswXSx0WzFdKV0pfSxQb2ludDpmdW5jdGlvbih0KXt2YXIgZT1uZXcgdWwodFswXSx0WzFdKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlUG9pbnQoZSl9LE11bHRpUG9pbnQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQubGVuZ3RoOysrbillLnB1c2goYmguUG9pbnQuYXBwbHkodGhpcyxbdFtuXV0pKTtyZXR1cm4gdGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTXVsdGlQb2ludChlKX0sTGluZVN0cmluZzpmdW5jdGlvbih0KXt2YXIgZT1iaC5jb29yZGluYXRlcy5hcHBseSh0aGlzLFt0XSk7cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZUxpbmVTdHJpbmcoZSl9LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7KytuKWUucHVzaChiaC5MaW5lU3RyaW5nLmFwcGx5KHRoaXMsW3Rbbl1dKSk7cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpTGluZVN0cmluZyhlKX0sUG9seWdvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9YmguY29vcmRpbmF0ZXMuYXBwbHkodGhpcyxbdFswXV0pLG49dGhpcy5nZW9tZXRyeUZhY3RvcnkuY3JlYXRlTGluZWFyUmluZyhlKSxyPVtdLGk9MTtpPHQubGVuZ3RoOysraSl7dmFyIG89dFtpXSxzPWJoLmNvb3JkaW5hdGVzLmFwcGx5KHRoaXMsW29dKSxhPXRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZUxpbmVhclJpbmcocyk7ci5wdXNoKGEpfXJldHVybiB0aGlzLmdlb21ldHJ5RmFjdG9yeS5jcmVhdGVQb2x5Z29uKG4scil9LE11bHRpUG9seWdvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5sZW5ndGg7KytuKXt2YXIgcj10W25dO2UucHVzaChiaC5Qb2x5Z29uLmFwcGx5KHRoaXMsW3JdKSl9cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZU11bHRpUG9seWdvbihlKX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDsrK24pe3ZhciByPXRbbl07ZS5wdXNoKHRoaXMucmVhZChyKSl9cmV0dXJuIHRoaXMuZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihlKX19LHdoPXtjb29yZGluYXRlOmZ1bmN0aW9uKHQpe3JldHVyblt0LngsdC55XX0sUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6IlBvaW50Iixjb29yZGluYXRlczp3aC5jb29yZGluYXRlLmFwcGx5KHRoaXMsW3QuZ2V0Q29vcmRpbmF0ZSgpXSl9fSxNdWx0aVBvaW50OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Ll9nZW9tZXRyaWVzLmxlbmd0aDsrK24pe3ZhciByPXQuX2dlb21ldHJpZXNbbl0saT13aC5Qb2ludC5hcHBseSh0aGlzLFtyXSk7ZS5wdXNoKGkuY29vcmRpbmF0ZXMpfXJldHVybnt0eXBlOiJNdWx0aVBvaW50Iixjb29yZGluYXRlczplfX0sTGluZVN0cmluZzpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10LmdldENvb3JkaW5hdGVzKCkscj0wO3I8bi5sZW5ndGg7KytyKXt2YXIgaT1uW3JdO2UucHVzaCh3aC5jb29yZGluYXRlLmFwcGx5KHRoaXMsW2ldKSl9cmV0dXJue3R5cGU6IkxpbmVTdHJpbmciLGNvb3JkaW5hdGVzOmV9fSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQuX2dlb21ldHJpZXMubGVuZ3RoOysrbil7dmFyIHI9dC5fZ2VvbWV0cmllc1tuXSxpPXdoLkxpbmVTdHJpbmcuYXBwbHkodGhpcyxbcl0pO2UucHVzaChpLmNvb3JkaW5hdGVzKX1yZXR1cm57dHlwZToiTXVsdGlMaW5lU3RyaW5nIixjb29yZGluYXRlczplfX0sUG9seWdvbjpmdW5jdGlvbih0KXt2YXIgZT1bXSxuPXdoLkxpbmVTdHJpbmcuYXBwbHkodGhpcyxbdC5fc2hlbGxdKTtlLnB1c2gobi5jb29yZGluYXRlcyk7Zm9yKHZhciByPTA7cjx0Ll9ob2xlcy5sZW5ndGg7KytyKXt2YXIgaT10Ll9ob2xlc1tyXSxvPXdoLkxpbmVTdHJpbmcuYXBwbHkodGhpcyxbaV0pO2UucHVzaChvLmNvb3JkaW5hdGVzKX1yZXR1cm57dHlwZToiUG9seWdvbiIsY29vcmRpbmF0ZXM6ZX19LE11bHRpUG9seWdvbjpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wO248dC5fZ2VvbWV0cmllcy5sZW5ndGg7KytuKXt2YXIgcj10Ll9nZW9tZXRyaWVzW25dLGk9d2guUG9seWdvbi5hcHBseSh0aGlzLFtyXSk7ZS5wdXNoKGkuY29vcmRpbmF0ZXMpfXJldHVybnt0eXBlOiJNdWx0aVBvbHlnb24iLGNvb3JkaW5hdGVzOmV9fSxHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MDtuPHQuX2dlb21ldHJpZXMubGVuZ3RoOysrbil7dmFyIHI9dC5fZ2VvbWV0cmllc1tuXSxpPXIuZ2V0R2VvbWV0cnlUeXBlKCk7ZS5wdXNoKHdoW2ldLmFwcGx5KHRoaXMsW3JdKSl9cmV0dXJue3R5cGU6Ikdlb21ldHJ5Q29sbGVjdGlvbiIsZ2VvbWV0cmllczplfX19LEloPWZ1bmN0aW9uKHQpe3RoaXMuZ2VvbWV0cnlGYWN0b3J5PXR8fG5ldyBfaCx0aGlzLnByZWNpc2lvbk1vZGVsPXRoaXMuZ2VvbWV0cnlGYWN0b3J5LmdldFByZWNpc2lvbk1vZGVsKCksdGhpcy5wYXJzZXI9bmV3IEVoKHRoaXMuZ2VvbWV0cnlGYWN0b3J5KX07SWgucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wYXJzZXIucmVhZCh0KTtyZXR1cm4gdGhpcy5wcmVjaXNpb25Nb2RlbC5nZXRUeXBlKCk9PT1naC5GSVhFRCYmdGhpcy5yZWR1Y2VQcmVjaXNpb24oZSksZX0sSWgucHJvdG90eXBlLnJlZHVjZVByZWNpc2lvbj1mdW5jdGlvbih0KXt2YXIgZSxuO2lmKHQuY29vcmRpbmF0ZSl0aGlzLnByZWNpc2lvbk1vZGVsLm1ha2VQcmVjaXNlKHQuY29vcmRpbmF0ZSk7ZWxzZSBpZih0LnBvaW50cylmb3IoZT0wLG49dC5wb2ludHMubGVuZ3RoO2U8bjtlKyspdGhpcy5wcmVjaXNpb25Nb2RlbC5tYWtlUHJlY2lzZSh0LnBvaW50c1tlXSk7ZWxzZSBpZih0Lmdlb21ldHJpZXMpZm9yKGU9MCxuPXQuZ2VvbWV0cmllcy5sZW5ndGg7ZTxuO2UrKyl0aGlzLnJlZHVjZVByZWNpc2lvbih0Lmdlb21ldHJpZXNbZV0pfTt2YXIgTmg9ZnVuY3Rpb24oKXt0aGlzLnBhcnNlcj1uZXcgRWgodGhpcy5nZW9tZXRyeUZhY3RvcnkpfTtOaC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGFyc2VyLndyaXRlKHQpfTt2YXIgU2g9ZnVuY3Rpb24oKXt9LENoPXtPTjp7Y29uZmlndXJhYmxlOiEwfSxMRUZUOntjb25maWd1cmFibGU6ITB9LFJJR0hUOntjb25maWd1cmFibGU6ITB9fTtmdW5jdGlvbiBQaCh0KXt0aGlzLm1lc3NhZ2U9dHx8IiJ9ZnVuY3Rpb24gTWgoKXt0aGlzLmFycmF5Xz1bXX1TaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sU2gucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFNofSxTaC5vcHBvc2l0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PVNoLkxFRlQ/U2guUklHSFQ6dD09PVNoLlJJR0hUP1NoLkxFRlQ6dH0sQ2guT04uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LENoLkxFRlQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LENoLlJJR0hULmdldD1mdW5jdGlvbigpe3JldHVybiAyfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhTaCxDaCksUGgucHJvdG90eXBlPW5ldyBFcnJvcixQaC5wcm90b3R5cGUubmFtZT0iRW1wdHlTdGFja0V4Y2VwdGlvbiIsTWgucHJvdG90eXBlPW5ldyBhYyxNaC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFycmF5Xy5wdXNoKHQpLCEwfSxNaC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5zaXplKCkpdGhyb3cgbmV3IEVycm9yO3JldHVybiB0aGlzLmFycmF5X1t0XX0sTWgucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXJyYXlfLnB1c2godCksdH0sTWgucHJvdG90eXBlLnBvcD1mdW5jdGlvbih0KXtpZigwPT09dGhpcy5hcnJheV8ubGVuZ3RoKXRocm93IG5ldyBQaDtyZXR1cm4gdGhpcy5hcnJheV8ucG9wKCl9LE1oLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMuYXJyYXlfLmxlbmd0aCl0aHJvdyBuZXcgUGg7cmV0dXJuIHRoaXMuYXJyYXlfW3RoaXMuYXJyYXlfLmxlbmd0aC0xXX0sTWgucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmFycmF5Xy5sZW5ndGh9LE1oLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW1wdHkoKX0sTWgucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hcnJheV8uaW5kZXhPZih0KX0sTWgucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcnJheV8ubGVuZ3RofSxNaC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsbj10aGlzLmFycmF5Xy5sZW5ndGg7ZTxuO2UrKyl0LnB1c2godGhpcy5hcnJheV9bZV0pO3JldHVybiB0fTt2YXIgTGg9ZnVuY3Rpb24oKXt0aGlzLl9taW5JbmRleD0tMSx0aGlzLl9taW5Db29yZD1udWxsLHRoaXMuX21pbkRlPW51bGwsdGhpcy5fb3JpZW50ZWREZT1udWxsfTtMaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW5Db29yZH0sTGgucHJvdG90eXBlLmdldFJpZ2h0bW9zdFNpZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmdldFJpZ2h0bW9zdFNpZGVPZlNlZ21lbnQodCxlKTtyZXR1cm4gbjwwJiYobj10aGlzLmdldFJpZ2h0bW9zdFNpZGVPZlNlZ21lbnQodCxlLTEpKSxuPDAmJih0aGlzLl9taW5Db29yZD1udWxsLHRoaXMuY2hlY2tGb3JSaWdodG1vc3RDb29yZGluYXRlKHQpKSxufSxMaC5wcm90b3R5cGUuZmluZFJpZ2h0bW9zdEVkZ2VBdFZlcnRleD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX21pbkRlLmdldEVkZ2UoKS5nZXRDb29yZGluYXRlcygpO3FsLmlzVHJ1ZSh0aGlzLl9taW5JbmRleD4wJiZ0aGlzLl9taW5JbmRleDx0Lmxlbmd0aCwicmlnaHRtb3N0IHBvaW50IGV4cGVjdGVkIHRvIGJlIGludGVyaW9yIHZlcnRleCBvZiBlZGdlIik7dmFyIGU9dFt0aGlzLl9taW5JbmRleC0xXSxuPXRbdGhpcy5fbWluSW5kZXgrMV0scj1YbC5jb21wdXRlT3JpZW50YXRpb24odGhpcy5fbWluQ29vcmQsbixlKSxpPSExOyhlLnk8dGhpcy5fbWluQ29vcmQueSYmbi55PHRoaXMuX21pbkNvb3JkLnkmJnI9PT1YbC5DT1VOVEVSQ0xPQ0tXSVNFfHxlLnk+dGhpcy5fbWluQ29vcmQueSYmbi55PnRoaXMuX21pbkNvb3JkLnkmJnI9PT1YbC5DTE9DS1dJU0UpJiYoaT0hMCksaSYmKHRoaXMuX21pbkluZGV4PXRoaXMuX21pbkluZGV4LTEpfSxMaC5wcm90b3R5cGUuZ2V0UmlnaHRtb3N0U2lkZU9mU2VnbWVudD1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZ2V0RWRnZSgpLmdldENvb3JkaW5hdGVzKCk7aWYoZTwwfHxlKzE+PW4ubGVuZ3RoKXJldHVybi0xO2lmKG5bZV0ueT09PW5bZSsxXS55KXJldHVybi0xO3ZhciByPVNoLkxFRlQ7cmV0dXJuIG5bZV0ueTxuW2UrMV0ueSYmKHI9U2guUklHSFQpLHJ9LExoLnByb3RvdHlwZS5nZXRFZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGVkRGV9LExoLnByb3RvdHlwZS5jaGVja0ZvclJpZ2h0bW9zdENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj10LmdldEVkZ2UoKS5nZXRDb29yZGluYXRlcygpLHI9MDtyPG4ubGVuZ3RoLTE7cisrKShudWxsPT09ZS5fbWluQ29vcmR8fG5bcl0ueD5lLl9taW5Db29yZC54KSYmKGUuX21pbkRlPXQsZS5fbWluSW5kZXg9cixlLl9taW5Db29yZD1uW3JdKX0sTGgucHJvdG90eXBlLmZpbmRSaWdodG1vc3RFZGdlQXROb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbWluRGUuZ2V0Tm9kZSgpLmdldEVkZ2VzKCk7dGhpcy5fbWluRGU9dC5nZXRSaWdodG1vc3RFZGdlKCksdGhpcy5fbWluRGUuaXNGb3J3YXJkKCl8fCh0aGlzLl9taW5EZT10aGlzLl9taW5EZS5nZXRTeW0oKSx0aGlzLl9taW5JbmRleD10aGlzLl9taW5EZS5nZXRFZGdlKCkuZ2V0Q29vcmRpbmF0ZXMoKS5sZW5ndGgtMSl9LExoLnByb3RvdHlwZS5maW5kRWRnZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7bi5pc0ZvcndhcmQoKSYmdGhpcy5jaGVja0ZvclJpZ2h0bW9zdENvb3JkaW5hdGUobil9cWwuaXNUcnVlKDAhPT10aGlzLl9taW5JbmRleHx8dGhpcy5fbWluQ29vcmQuZXF1YWxzKHRoaXMuX21pbkRlLmdldENvb3JkaW5hdGUoKSksImluY29uc2lzdGVuY3kgaW4gcmlnaHRtb3N0IHByb2Nlc3NpbmciKSwwPT09dGhpcy5fbWluSW5kZXg/dGhpcy5maW5kUmlnaHRtb3N0RWRnZUF0Tm9kZSgpOnRoaXMuZmluZFJpZ2h0bW9zdEVkZ2VBdFZlcnRleCgpLHRoaXMuX29yaWVudGVkRGU9dGhpcy5fbWluRGUsdGhpcy5nZXRSaWdodG1vc3RTaWRlKHRoaXMuX21pbkRlLHRoaXMuX21pbkluZGV4KT09PVNoLkxFRlQmJih0aGlzLl9vcmllbnRlZERlPXRoaXMuX21pbkRlLmdldFN5bSgpKX0sTGgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LExoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBMaH07dmFyIE9oPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobixyKXt0LmNhbGwodGhpcyxlLm1zZ1dpdGhDb29yZChuLHIpKSx0aGlzLnB0PXI/bmV3IHVsKHIpOm51bGwsdGhpcy5uYW1lPSJUb3BvbG9neUV4Y2VwdGlvbiJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdH0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZS5tc2dXaXRoQ29vcmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90OnQrIiBbICIrZSsiIF0ifSxlfShrbCksUmg9ZnVuY3Rpb24oKXt0aGlzLmFycmF5Xz1bXX07UmgucHJvdG90eXBlLmFkZExhc3Q9ZnVuY3Rpb24odCl7dGhpcy5hcnJheV8ucHVzaCh0KX0sUmgucHJvdG90eXBlLnJlbW92ZUZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJyYXlfLnNoaWZ0KCl9LFJoLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmFycmF5Xy5sZW5ndGh9O3ZhciBUaD1mdW5jdGlvbigpe3RoaXMuX2ZpbmRlcj1udWxsLHRoaXMuX2RpckVkZ2VMaXN0PW5ldyBsYyx0aGlzLl9ub2Rlcz1uZXcgbGMsdGhpcy5fcmlnaHRNb3N0Q29vcmQ9bnVsbCx0aGlzLl9lbnY9bnVsbCx0aGlzLl9maW5kZXI9bmV3IExofTtUaC5wcm90b3R5cGUuY2xlYXJWaXNpdGVkRWRnZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZGlyRWRnZUxpc3QuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe3QubmV4dCgpLnNldFZpc2l0ZWQoITEpfX0sVGgucHJvdG90eXBlLmdldFJpZ2h0bW9zdENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnaHRNb3N0Q29vcmR9LFRoLnByb3RvdHlwZS5jb21wdXRlTm9kZURlcHRoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLG49dC5nZXRFZGdlcygpLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtpZihyLmlzVmlzaXRlZCgpfHxyLmdldFN5bSgpLmlzVmlzaXRlZCgpKXtlPXI7YnJlYWt9fWlmKG51bGw9PT1lKXRocm93IG5ldyBPaCgidW5hYmxlIHRvIGZpbmQgZWRnZSB0byBjb21wdXRlIGRlcHRocyBhdCAiK3QuZ2V0Q29vcmRpbmF0ZSgpKTt0LmdldEVkZ2VzKCkuY29tcHV0ZURlcHRocyhlKTtmb3IodmFyIGk9dC5nZXRFZGdlcygpLml0ZXJhdG9yKCk7aS5oYXNOZXh0KCk7KXt2YXIgbz1pLm5leHQoKTtvLnNldFZpc2l0ZWQoITApLHRoaXMuY29weVN5bURlcHRocyhvKX19LFRoLnByb3RvdHlwZS5jb21wdXRlRGVwdGg9ZnVuY3Rpb24odCl7dGhpcy5jbGVhclZpc2l0ZWRFZGdlcygpO3ZhciBlPXRoaXMuX2ZpbmRlci5nZXRFZGdlKCk7ZS5zZXRFZGdlRGVwdGhzKFNoLlJJR0hULHQpLHRoaXMuY29weVN5bURlcHRocyhlKSx0aGlzLmNvbXB1dGVEZXB0aHMoZSl9LFRoLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCl7dGhpcy5hZGRSZWFjaGFibGUodCksdGhpcy5fZmluZGVyLmZpbmRFZGdlKHRoaXMuX2RpckVkZ2VMaXN0KSx0aGlzLl9yaWdodE1vc3RDb29yZD10aGlzLl9maW5kZXIuZ2V0Q29vcmRpbmF0ZSgpfSxUaC5wcm90b3R5cGUuZmluZFJlc3VsdEVkZ2VzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2RpckVkZ2VMaXN0Lml0ZXJhdG9yKCk7dC5oYXNOZXh0KCk7KXt2YXIgZT10Lm5leHQoKTtlLmdldERlcHRoKFNoLlJJR0hUKT49MSYmZS5nZXREZXB0aChTaC5MRUZUKTw9MCYmIWUuaXNJbnRlcmlvckFyZWFFZGdlKCkmJmUuc2V0SW5SZXN1bHQoITApfX0sVGgucHJvdG90eXBlLmNvbXB1dGVEZXB0aHM9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHhjLG49bmV3IFJoLHI9dC5nZXROb2RlKCk7Zm9yKG4uYWRkTGFzdChyKSxlLmFkZChyKSx0LnNldFZpc2l0ZWQoITApOyFuLmlzRW1wdHkoKTspe3ZhciBpPW4ucmVtb3ZlRmlyc3QoKTtlLmFkZChpKSx0aGlzLmNvbXB1dGVOb2RlRGVwdGgoaSk7Zm9yKHZhciBvPWkuZ2V0RWRnZXMoKS5pdGVyYXRvcigpO28uaGFzTmV4dCgpOyl7dmFyIHM9by5uZXh0KCkuZ2V0U3ltKCk7aWYoIXMuaXNWaXNpdGVkKCkpe3ZhciBhPXMuZ2V0Tm9kZSgpO2UuY29udGFpbnMoYSl8fChuLmFkZExhc3QoYSksZS5hZGQoYSkpfX19fSxUaC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7cmV0dXJuIHRoaXMuX3JpZ2h0TW9zdENvb3JkLng8ZS5fcmlnaHRNb3N0Q29vcmQueD8tMTp0aGlzLl9yaWdodE1vc3RDb29yZC54PmUuX3JpZ2h0TW9zdENvb3JkLng/MTowfSxUaC5wcm90b3R5cGUuZ2V0RW52ZWxvcGU9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5fZW52KXtmb3IodmFyIHQ9bmV3IExsLGU9dGhpcy5fZGlyRWRnZUxpc3QuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspZm9yKHZhciBuPWUubmV4dCgpLmdldEVkZ2UoKS5nZXRDb29yZGluYXRlcygpLHI9MDtyPG4ubGVuZ3RoLTE7cisrKXQuZXhwYW5kVG9JbmNsdWRlKG5bcl0pO3RoaXMuX2Vudj10fXJldHVybiB0aGlzLl9lbnZ9LFRoLnByb3RvdHlwZS5hZGRSZWFjaGFibGU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE1oO2ZvcihlLmFkZCh0KTshZS5lbXB0eSgpOyl7dmFyIG49ZS5wb3AoKTt0aGlzLmFkZChuLGUpfX0sVGgucHJvdG90eXBlLmNvcHlTeW1EZXB0aHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRTeW0oKTtlLnNldERlcHRoKFNoLkxFRlQsdC5nZXREZXB0aChTaC5SSUdIVCkpLGUuc2V0RGVwdGgoU2guUklHSFQsdC5nZXREZXB0aChTaC5MRUZUKSl9LFRoLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXt0LnNldFZpc2l0ZWQoITApLHRoaXMuX25vZGVzLmFkZCh0KTtmb3IodmFyIG49dC5nZXRFZGdlcygpLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTt0aGlzLl9kaXJFZGdlTGlzdC5hZGQocik7dmFyIGk9ci5nZXRTeW0oKS5nZXROb2RlKCk7aS5pc1Zpc2l0ZWQoKXx8ZS5wdXNoKGkpfX0sVGgucHJvdG90eXBlLmdldE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVzfSxUaC5wcm90b3R5cGUuZ2V0RGlyZWN0ZWRFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXJFZGdlTGlzdH0sVGgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsXX0sVGgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFRofTt2YXIgQWg9ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7aWYodGhpcy5sb2NhdGlvbj1udWxsLDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5KXt2YXIgbj1hcmd1bWVudHNbMF07dGhpcy5pbml0KG4ubGVuZ3RoKX1lbHNlIGlmKE51bWJlci5pc0ludGVnZXIoYXJndW1lbnRzWzBdKSl7dmFyIHI9YXJndW1lbnRzWzBdO3RoaXMuaW5pdCgxKSx0aGlzLmxvY2F0aW9uW1NoLk9OXT1yfWVsc2UgaWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0KXt2YXIgaT1hcmd1bWVudHNbMF07aWYodGhpcy5pbml0KGkubG9jYXRpb24ubGVuZ3RoKSxudWxsIT09aSlmb3IodmFyIG89MDtvPHRoaXMubG9jYXRpb24ubGVuZ3RoO28rKyllLmxvY2F0aW9uW29dPWkubG9jYXRpb25bb119fWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBzPWFyZ3VtZW50c1swXSxhPWFyZ3VtZW50c1sxXSx1PWFyZ3VtZW50c1syXTt0aGlzLmluaXQoMyksdGhpcy5sb2NhdGlvbltTaC5PTl09cyx0aGlzLmxvY2F0aW9uW1NoLkxFRlRdPWEsdGhpcy5sb2NhdGlvbltTaC5SSUdIVF09dX19O0FoLnByb3RvdHlwZS5zZXRBbGxMb2NhdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmxvY2F0aW9uLmxlbmd0aDtlKyspdGhpcy5sb2NhdGlvbltlXT10fSxBaC5wcm90b3R5cGUuaXNOdWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmxvY2F0aW9uLmxlbmd0aDt0KyspaWYodGhpcy5sb2NhdGlvblt0XSE9PXBsLk5PTkUpcmV0dXJuITE7cmV0dXJuITB9LEFoLnByb3RvdHlwZS5zZXRBbGxMb2NhdGlvbnNJZk51bGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmxvY2F0aW9uLmxlbmd0aDtlKyspdGhpcy5sb2NhdGlvbltlXT09PXBsLk5PTkUmJih0aGlzLmxvY2F0aW9uW2VdPXQpfSxBaC5wcm90b3R5cGUuaXNMaW5lPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLmxvY2F0aW9uLmxlbmd0aH0sQWgucHJvdG90eXBlLm1lcmdlPWZ1bmN0aW9uKHQpe2lmKHQubG9jYXRpb24ubGVuZ3RoPnRoaXMubG9jYXRpb24ubGVuZ3RoKXt2YXIgZT1uZXcgQXJyYXkoMykuZmlsbChudWxsKTtlW1NoLk9OXT10aGlzLmxvY2F0aW9uW1NoLk9OXSxlW1NoLkxFRlRdPXBsLk5PTkUsZVtTaC5SSUdIVF09cGwuTk9ORSx0aGlzLmxvY2F0aW9uPWV9Zm9yKHZhciBuPTA7bjx0aGlzLmxvY2F0aW9uLmxlbmd0aDtuKyspdGhpcy5sb2NhdGlvbltuXT09PXBsLk5PTkUmJm48dC5sb2NhdGlvbi5sZW5ndGgmJih0aGlzLmxvY2F0aW9uW25dPXQubG9jYXRpb25bbl0pfSxBaC5wcm90b3R5cGUuZ2V0TG9jYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYXRpb259LEFoLnByb3RvdHlwZS5mbGlwPWZ1bmN0aW9uKCl7aWYodGhpcy5sb2NhdGlvbi5sZW5ndGg8PTEpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5sb2NhdGlvbltTaC5MRUZUXTt0aGlzLmxvY2F0aW9uW1NoLkxFRlRdPXRoaXMubG9jYXRpb25bU2guUklHSFRdLHRoaXMubG9jYXRpb25bU2guUklHSFRdPXR9LEFoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PW5ldyB2bDtyZXR1cm4gdGhpcy5sb2NhdGlvbi5sZW5ndGg+MSYmdC5hcHBlbmQocGwudG9Mb2NhdGlvblN5bWJvbCh0aGlzLmxvY2F0aW9uW1NoLkxFRlRdKSksdC5hcHBlbmQocGwudG9Mb2NhdGlvblN5bWJvbCh0aGlzLmxvY2F0aW9uW1NoLk9OXSkpLHRoaXMubG9jYXRpb24ubGVuZ3RoPjEmJnQuYXBwZW5kKHBsLnRvTG9jYXRpb25TeW1ib2wodGhpcy5sb2NhdGlvbltTaC5SSUdIVF0pKSx0LnRvU3RyaW5nKCl9LEFoLnByb3RvdHlwZS5zZXRMb2NhdGlvbnM9ZnVuY3Rpb24odCxlLG4pe3RoaXMubG9jYXRpb25bU2guT05dPXQsdGhpcy5sb2NhdGlvbltTaC5MRUZUXT1lLHRoaXMubG9jYXRpb25bU2guUklHSFRdPW59LEFoLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8dGhpcy5sb2NhdGlvbi5sZW5ndGg/dGhpcy5sb2NhdGlvblt0XTpwbC5OT05FfSxBaC5wcm90b3R5cGUuaXNBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYXRpb24ubGVuZ3RoPjF9LEFoLnByb3RvdHlwZS5pc0FueU51bGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubG9jYXRpb24ubGVuZ3RoO3QrKylpZih0aGlzLmxvY2F0aW9uW3RdPT09cGwuTk9ORSlyZXR1cm4hMDtyZXR1cm4hMX0sQWgucHJvdG90eXBlLnNldExvY2F0aW9uPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnNldExvY2F0aW9uKFNoLk9OLHQpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTt0aGlzLmxvY2F0aW9uW2VdPW59fSxBaC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXt0aGlzLmxvY2F0aW9uPW5ldyBBcnJheSh0KS5maWxsKG51bGwpLHRoaXMuc2V0QWxsTG9jYXRpb25zKHBsLk5PTkUpfSxBaC5wcm90b3R5cGUuaXNFcXVhbE9uU2lkZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmxvY2F0aW9uW2VdPT09dC5sb2NhdGlvbltlXX0sQWgucHJvdG90eXBlLmFsbFBvc2l0aW9uc0VxdWFsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5sb2NhdGlvbi5sZW5ndGg7ZSsrKWlmKHRoaXMubG9jYXRpb25bZV0hPT10KXJldHVybiExO3JldHVybiEwfSxBaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sQWgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEFofTt2YXIgRGg9ZnVuY3Rpb24gdCgpe2lmKHRoaXMuZWx0PW5ldyBBcnJheSgyKS5maWxsKG51bGwpLDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1swXSkpe3ZhciBlPWFyZ3VtZW50c1swXTt0aGlzLmVsdFswXT1uZXcgQWgoZSksdGhpcy5lbHRbMV09bmV3IEFoKGUpfWVsc2UgaWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0KXt2YXIgbj1hcmd1bWVudHNbMF07dGhpcy5lbHRbMF09bmV3IEFoKG4uZWx0WzBdKSx0aGlzLmVsdFsxXT1uZXcgQWgobi5lbHRbMV0pfX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV07dGhpcy5lbHRbMF09bmV3IEFoKHBsLk5PTkUpLHRoaXMuZWx0WzFdPW5ldyBBaChwbC5OT05FKSx0aGlzLmVsdFtyXS5zZXRMb2NhdGlvbihpKX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1hcmd1bWVudHNbMl07dGhpcy5lbHRbMF09bmV3IEFoKG8scyxhKSx0aGlzLmVsdFsxXT1uZXcgQWgobyxzLGEpfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB1PWFyZ3VtZW50c1swXSxsPWFyZ3VtZW50c1sxXSxjPWFyZ3VtZW50c1syXSxoPWFyZ3VtZW50c1szXTt0aGlzLmVsdFswXT1uZXcgQWgocGwuTk9ORSxwbC5OT05FLHBsLk5PTkUpLHRoaXMuZWx0WzFdPW5ldyBBaChwbC5OT05FLHBsLk5PTkUscGwuTk9ORSksdGhpcy5lbHRbdV0uc2V0TG9jYXRpb25zKGwsYyxoKX19O0RoLnByb3RvdHlwZS5nZXRHZW9tZXRyeUNvdW50PWZ1bmN0aW9uKCl7dmFyIHQ9MDtyZXR1cm4gdGhpcy5lbHRbMF0uaXNOdWxsKCl8fHQrKyx0aGlzLmVsdFsxXS5pc051bGwoKXx8dCsrLHR9LERoLnByb3RvdHlwZS5zZXRBbGxMb2NhdGlvbnM9ZnVuY3Rpb24odCxlKXt0aGlzLmVsdFt0XS5zZXRBbGxMb2NhdGlvbnMoZSl9LERoLnByb3RvdHlwZS5pc051bGw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWx0W3RdLmlzTnVsbCgpfSxEaC5wcm90b3R5cGUuc2V0QWxsTG9jYXRpb25zSWZOdWxsPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnNldEFsbExvY2F0aW9uc0lmTnVsbCgwLHQpLHRoaXMuc2V0QWxsTG9jYXRpb25zSWZOdWxsKDEsdCl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3RoaXMuZWx0W2VdLnNldEFsbExvY2F0aW9uc0lmTnVsbChuKX19LERoLnByb3RvdHlwZS5pc0xpbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWx0W3RdLmlzTGluZSgpfSxEaC5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj0wO248MjtuKyspbnVsbD09PWUuZWx0W25dJiZudWxsIT09dC5lbHRbbl0/ZS5lbHRbbl09bmV3IEFoKHQuZWx0W25dKTplLmVsdFtuXS5tZXJnZSh0LmVsdFtuXSl9LERoLnByb3RvdHlwZS5mbGlwPWZ1bmN0aW9uKCl7dGhpcy5lbHRbMF0uZmxpcCgpLHRoaXMuZWx0WzFdLmZsaXAoKX0sRGgucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5lbHRbdF0uZ2V0KFNoLk9OKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiB0aGlzLmVsdFtlXS5nZXQobil9fSxEaC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgdmw7cmV0dXJuIG51bGwhPT10aGlzLmVsdFswXSYmKHQuYXBwZW5kKCJBOiIpLHQuYXBwZW5kKHRoaXMuZWx0WzBdLnRvU3RyaW5nKCkpKSxudWxsIT09dGhpcy5lbHRbMV0mJih0LmFwcGVuZCgiIEI6IiksdC5hcHBlbmQodGhpcy5lbHRbMV0udG9TdHJpbmcoKSkpLHQudG9TdHJpbmcoKX0sRGgucHJvdG90eXBlLmlzQXJlYT1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmVsdFswXS5pc0FyZWEoKXx8dGhpcy5lbHRbMV0uaXNBcmVhKCk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5lbHRbdF0uaXNBcmVhKCl9fSxEaC5wcm90b3R5cGUuaXNBbnlOdWxsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVsdFt0XS5pc0FueU51bGwoKX0sRGgucHJvdG90eXBlLnNldExvY2F0aW9uPWZ1bmN0aW9uKCl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTt0aGlzLmVsdFt0XS5zZXRMb2NhdGlvbihTaC5PTixlKX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT1hcmd1bWVudHNbMl07dGhpcy5lbHRbbl0uc2V0TG9jYXRpb24ocixpKX19LERoLnByb3RvdHlwZS5pc0VxdWFsT25TaWRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZWx0WzBdLmlzRXF1YWxPblNpZGUodC5lbHRbMF0sZSkmJnRoaXMuZWx0WzFdLmlzRXF1YWxPblNpZGUodC5lbHRbMV0sZSl9LERoLnByb3RvdHlwZS5hbGxQb3NpdGlvbnNFcXVhbD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmVsdFt0XS5hbGxQb3NpdGlvbnNFcXVhbChlKX0sRGgucHJvdG90eXBlLnRvTGluZT1mdW5jdGlvbih0KXt0aGlzLmVsdFt0XS5pc0FyZWEoKSYmKHRoaXMuZWx0W3RdPW5ldyBBaCh0aGlzLmVsdFt0XS5sb2NhdGlvblswXSkpfSxEaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRGgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIERofSxEaC50b0xpbmVMYWJlbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IERoKHBsLk5PTkUpLG49MDtuPDI7bisrKWUuc2V0TG9jYXRpb24obix0LmdldExvY2F0aW9uKG4pKTtyZXR1cm4gZX07dmFyIEZoPWZ1bmN0aW9uKCl7dGhpcy5fc3RhcnREZT1udWxsLHRoaXMuX21heE5vZGVEZWdyZWU9LTEsdGhpcy5fZWRnZXM9bmV3IGxjLHRoaXMuX3B0cz1uZXcgbGMsdGhpcy5fbGFiZWw9bmV3IERoKHBsLk5PTkUpLHRoaXMuX3Jpbmc9bnVsbCx0aGlzLl9pc0hvbGU9bnVsbCx0aGlzLl9zaGVsbD1udWxsLHRoaXMuX2hvbGVzPW5ldyBsYyx0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fZ2VvbWV0cnlGYWN0b3J5PWUsdGhpcy5jb21wdXRlUG9pbnRzKHQpLHRoaXMuY29tcHV0ZVJpbmcoKX07RmgucHJvdG90eXBlLmNvbXB1dGVSaW5nPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3JpbmcpcmV0dXJuIG51bGw7Zm9yKHZhciB0PW5ldyBBcnJheSh0aGlzLl9wdHMuc2l6ZSgpKS5maWxsKG51bGwpLGU9MDtlPHRoaXMuX3B0cy5zaXplKCk7ZSsrKXRbZV09dGhpcy5fcHRzLmdldChlKTt0aGlzLl9yaW5nPXRoaXMuX2dlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lYXJSaW5nKHQpLHRoaXMuX2lzSG9sZT1YbC5pc0NDVyh0aGlzLl9yaW5nLmdldENvb3JkaW5hdGVzKCkpfSxGaC5wcm90b3R5cGUuaXNJc29sYXRlZD1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5fbGFiZWwuZ2V0R2VvbWV0cnlDb3VudCgpfSxGaC5wcm90b3R5cGUuY29tcHV0ZVBvaW50cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX3N0YXJ0RGU9dDt2YXIgbj10LHI9ITA7ZG97aWYobnVsbD09PW4pdGhyb3cgbmV3IE9oKCJGb3VuZCBudWxsIERpcmVjdGVkRWRnZSIpO2lmKG4uZ2V0RWRnZVJpbmcoKT09PWUpdGhyb3cgbmV3IE9oKCJEaXJlY3RlZCBFZGdlIHZpc2l0ZWQgdHdpY2UgZHVyaW5nIHJpbmctYnVpbGRpbmcgYXQgIituLmdldENvb3JkaW5hdGUoKSk7ZS5fZWRnZXMuYWRkKG4pO3ZhciBpPW4uZ2V0TGFiZWwoKTtxbC5pc1RydWUoaS5pc0FyZWEoKSksZS5tZXJnZUxhYmVsKGkpLGUuYWRkUG9pbnRzKG4uZ2V0RWRnZSgpLG4uaXNGb3J3YXJkKCkscikscj0hMSxlLnNldEVkZ2VSaW5nKG4sZSksbj1lLmdldE5leHQobil9d2hpbGUobiE9PXRoaXMuX3N0YXJ0RGUpfSxGaC5wcm90b3R5cGUuZ2V0TGluZWFyUmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaW5nfSxGaC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcHRzLmdldCh0KX0sRmgucHJvdG90eXBlLmNvbXB1dGVNYXhOb2RlRGVncmVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9tYXhOb2RlRGVncmVlPTA7dmFyIGU9dGhpcy5fc3RhcnREZTtkb3t2YXIgbj1lLmdldE5vZGUoKS5nZXRFZGdlcygpLmdldE91dGdvaW5nRGVncmVlKHQpO24+dC5fbWF4Tm9kZURlZ3JlZSYmKHQuX21heE5vZGVEZWdyZWU9biksZT10LmdldE5leHQoZSl9d2hpbGUoZSE9PXRoaXMuX3N0YXJ0RGUpO3RoaXMuX21heE5vZGVEZWdyZWUqPTJ9LEZoLnByb3RvdHlwZS5hZGRQb2ludHM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuZ2V0Q29vcmRpbmF0ZXMoKTtpZihlKXt2YXIgaT0xO24mJihpPTApO2Zvcih2YXIgbz1pO288ci5sZW5ndGg7bysrKXRoaXMuX3B0cy5hZGQocltvXSl9ZWxzZXt2YXIgcz1yLmxlbmd0aC0yO24mJihzPXIubGVuZ3RoLTEpO2Zvcih2YXIgYT1zO2E+PTA7YS0tKXRoaXMuX3B0cy5hZGQoclthXSl9fSxGaC5wcm90b3R5cGUuaXNIb2xlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSG9sZX0sRmgucHJvdG90eXBlLnNldEluUmVzdWx0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc3RhcnREZTtkb3t0LmdldEVkZ2UoKS5zZXRJblJlc3VsdCghMCksdD10LmdldE5leHQoKX13aGlsZSh0IT09dGhpcy5fc3RhcnREZSl9LEZoLnByb3RvdHlwZS5jb250YWluc1BvaW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TGluZWFyUmluZygpO2lmKCFlLmdldEVudmVsb3BlSW50ZXJuYWwoKS5jb250YWlucyh0KSlyZXR1cm4hMTtpZighWGwuaXNQb2ludEluUmluZyh0LGUuZ2V0Q29vcmRpbmF0ZXMoKSkpcmV0dXJuITE7Zm9yKHZhciBuPXRoaXMuX2hvbGVzLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXtpZihuLm5leHQoKS5jb250YWluc1BvaW50KHQpKXJldHVybiExfXJldHVybiEwfSxGaC5wcm90b3R5cGUuYWRkSG9sZT1mdW5jdGlvbih0KXt0aGlzLl9ob2xlcy5hZGQodCl9LEZoLnByb3RvdHlwZS5pc1NoZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9zaGVsbH0sRmgucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhYmVsfSxGaC5wcm90b3R5cGUuZ2V0RWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRnZXN9LEZoLnByb3RvdHlwZS5nZXRNYXhOb2RlRGVncmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heE5vZGVEZWdyZWU8MCYmdGhpcy5jb21wdXRlTWF4Tm9kZURlZ3JlZSgpLHRoaXMuX21heE5vZGVEZWdyZWV9LEZoLnByb3RvdHlwZS5nZXRTaGVsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGVsbH0sRmgucHJvdG90eXBlLm1lcmdlTGFiZWw9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMubWVyZ2VMYWJlbCh0LDApLHRoaXMubWVyZ2VMYWJlbCh0LDEpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPWUuZ2V0TG9jYXRpb24obixTaC5SSUdIVCk7aWYocj09PXBsLk5PTkUpcmV0dXJuIG51bGw7aWYodGhpcy5fbGFiZWwuZ2V0TG9jYXRpb24obik9PT1wbC5OT05FKXJldHVybiB0aGlzLl9sYWJlbC5zZXRMb2NhdGlvbihuLHIpLG51bGx9fSxGaC5wcm90b3R5cGUuc2V0U2hlbGw9ZnVuY3Rpb24odCl7dGhpcy5fc2hlbGw9dCxudWxsIT09dCYmdC5hZGRIb2xlKHRoaXMpfSxGaC5wcm90b3R5cGUudG9Qb2x5Z29uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodGhpcy5faG9sZXMuc2l6ZSgpKS5maWxsKG51bGwpLG49MDtuPHRoaXMuX2hvbGVzLnNpemUoKTtuKyspZVtuXT10aGlzLl9ob2xlcy5nZXQobikuZ2V0TGluZWFyUmluZygpO3JldHVybiB0LmNyZWF0ZVBvbHlnb24odGhpcy5nZXRMaW5lYXJSaW5nKCksZSl9LEZoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxGaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gRmh9O3ZhciBraD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3QuY2FsbCh0aGlzLGUsbil9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnNldEVkZ2VSaW5nPWZ1bmN0aW9uKHQsZSl7dC5zZXRNaW5FZGdlUmluZyhlKX0sZS5wcm90b3R5cGUuZ2V0TmV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXROZXh0TWluKCl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KEZoKSxHaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3QuY2FsbCh0aGlzLGUsbil9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmJ1aWxkTWluaW1hbFJpbmdzPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGxjLGU9dGhpcy5fc3RhcnREZTtkb3tpZihudWxsPT09ZS5nZXRNaW5FZGdlUmluZygpKXt2YXIgbj1uZXcga2goZSx0aGlzLl9nZW9tZXRyeUZhY3RvcnkpO3QuYWRkKG4pfWU9ZS5nZXROZXh0KCl9d2hpbGUoZSE9PXRoaXMuX3N0YXJ0RGUpO3JldHVybiB0fSxlLnByb3RvdHlwZS5zZXRFZGdlUmluZz1mdW5jdGlvbih0LGUpe3Quc2V0RWRnZVJpbmcoZSl9LGUucHJvdG90eXBlLmxpbmtEaXJlY3RlZEVkZ2VzRm9yTWluaW1hbEVkZ2VSaW5ncz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N0YXJ0RGU7ZG97dC5nZXROb2RlKCkuZ2V0RWRnZXMoKS5saW5rTWluaW1hbERpcmVjdGVkRWRnZXModGhpcyksdD10LmdldE5leHQoKX13aGlsZSh0IT09dGhpcy5fc3RhcnREZSl9LGUucHJvdG90eXBlLmdldE5leHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0TmV4dCgpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShGaCkscWg9ZnVuY3Rpb24oKXtpZih0aGlzLl9sYWJlbD1udWxsLHRoaXMuX2lzSW5SZXN1bHQ9ITEsdGhpcy5faXNDb3ZlcmVkPSExLHRoaXMuX2lzQ292ZXJlZFNldD0hMSx0aGlzLl9pc1Zpc2l0ZWQ9ITEsMD09PWFyZ3VtZW50cy5sZW5ndGgpO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9sYWJlbD10fX07cWgucHJvdG90eXBlLnNldFZpc2l0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5faXNWaXNpdGVkPXR9LHFoLnByb3RvdHlwZS5zZXRJblJlc3VsdD1mdW5jdGlvbih0KXt0aGlzLl9pc0luUmVzdWx0PXR9LHFoLnByb3RvdHlwZS5pc0NvdmVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNDb3ZlcmVkfSxxaC5wcm90b3R5cGUuaXNDb3ZlcmVkU2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ292ZXJlZFNldH0scWgucHJvdG90eXBlLnNldExhYmVsPWZ1bmN0aW9uKHQpe3RoaXMuX2xhYmVsPXR9LHFoLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYWJlbH0scWgucHJvdG90eXBlLnNldENvdmVyZWQ9ZnVuY3Rpb24odCl7dGhpcy5faXNDb3ZlcmVkPXQsdGhpcy5faXNDb3ZlcmVkU2V0PSEwfSxxaC5wcm90b3R5cGUudXBkYXRlSU09ZnVuY3Rpb24odCl7cWwuaXNUcnVlKHRoaXMuX2xhYmVsLmdldEdlb21ldHJ5Q291bnQoKT49MiwiZm91bmQgcGFydGlhbCBsYWJlbCIpLHRoaXMuY29tcHV0ZUlNKHQpfSxxaC5wcm90b3R5cGUuaXNJblJlc3VsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0luUmVzdWx0fSxxaC5wcm90b3R5cGUuaXNWaXNpdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzVmlzaXRlZH0scWgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHFoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBxaH07dmFyIEJoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyksdGhpcy5fY29vcmQ9bnVsbCx0aGlzLl9lZGdlcz1udWxsO3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTt0aGlzLl9jb29yZD1lLHRoaXMuX2VkZ2VzPW4sdGhpcy5fbGFiZWw9bmV3IERoKDAscGwuTk9ORSl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmlzSW5jaWRlbnRFZGdlSW5SZXN1bHQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRFZGdlcygpLmdldEVkZ2VzKCkuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe2lmKHQubmV4dCgpLmdldEVkZ2UoKS5pc0luUmVzdWx0KCkpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLmlzSXNvbGF0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMuX2xhYmVsLmdldEdlb21ldHJ5Q291bnQoKX0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb29yZH0sZS5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24odCl7dC5wcmludGxuKCJub2RlICIrdGhpcy5fY29vcmQrIiBsYmw6ICIrdGhpcy5fbGFiZWwpfSxlLnByb3RvdHlwZS5jb21wdXRlSU09ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5jb21wdXRlTWVyZ2VkTG9jYXRpb249ZnVuY3Rpb24odCxlKXt2YXIgbj1wbC5OT05FO2lmKG49dGhpcy5fbGFiZWwuZ2V0TG9jYXRpb24oZSksIXQuaXNOdWxsKGUpKXt2YXIgcj10LmdldExvY2F0aW9uKGUpO24hPT1wbC5CT1VOREFSWSYmKG49cil9cmV0dXJuIG59LGUucHJvdG90eXBlLnNldExhYmVsPWZ1bmN0aW9uKCl7aWYoMiE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHQucHJvdG90eXBlLnNldExhYmVsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07bnVsbD09PXRoaXMuX2xhYmVsP3RoaXMuX2xhYmVsPW5ldyBEaChlLG4pOnRoaXMuX2xhYmVsLnNldExvY2F0aW9uKGUsbil9LGUucHJvdG90eXBlLmdldEVkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VzfSxlLnByb3RvdHlwZS5tZXJnZUxhYmVsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGUpe3ZhciBuPWFyZ3VtZW50c1swXTt0aGlzLm1lcmdlTGFiZWwobi5fbGFiZWwpfWVsc2UgaWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBEaClmb3IodmFyIHI9YXJndW1lbnRzWzBdLGk9MDtpPDI7aSsrKXt2YXIgbz10LmNvbXB1dGVNZXJnZWRMb2NhdGlvbihyLGkpLHM9dC5fbGFiZWwuZ2V0TG9jYXRpb24oaSk7cz09PXBsLk5PTkUmJnQuX2xhYmVsLnNldExvY2F0aW9uKGksbyl9fSxlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dGhpcy5fZWRnZXMuaW5zZXJ0KHQpLHQuc2V0Tm9kZSh0aGlzKX0sZS5wcm90b3R5cGUuc2V0TGFiZWxCb3VuZGFyeT1mdW5jdGlvbih0KXtpZihudWxsPT09dGhpcy5fbGFiZWwpcmV0dXJuIG51bGw7dmFyIGU9cGwuTk9ORTtudWxsIT09dGhpcy5fbGFiZWwmJihlPXRoaXMuX2xhYmVsLmdldExvY2F0aW9uKHQpKTt2YXIgbj1udWxsO3N3aXRjaChlKXtjYXNlIHBsLkJPVU5EQVJZOm49cGwuSU5URVJJT1I7YnJlYWs7Y2FzZSBwbC5JTlRFUklPUjpkZWZhdWx0Om49cGwuQk9VTkRBUll9dGhpcy5fbGFiZWwuc2V0TG9jYXRpb24odCxuKX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0ocWgpLHpoPWZ1bmN0aW9uKCl7dGhpcy5ub2RlTWFwPW5ldyBDYyx0aGlzLm5vZGVGYWN0PW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMubm9kZUZhY3Q9dH07emgucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9kZU1hcC5nZXQodCl9LHpoLnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB1bCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9dGhpcy5ub2RlTWFwLmdldCh0KTtyZXR1cm4gbnVsbD09PWUmJihlPXRoaXMubm9kZUZhY3QuY3JlYXRlTm9kZSh0KSx0aGlzLm5vZGVNYXAucHV0KHQsZSkpLGV9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBCaCl7dmFyIG49YXJndW1lbnRzWzBdLHI9dGhpcy5ub2RlTWFwLmdldChuLmdldENvb3JkaW5hdGUoKSk7cmV0dXJuIG51bGw9PT1yPyh0aGlzLm5vZGVNYXAucHV0KG4uZ2V0Q29vcmRpbmF0ZSgpLG4pLG4pOihyLm1lcmdlTGFiZWwobikscil9fSx6aC5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe2UubmV4dCgpLnByaW50KHQpfX0semgucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZU1hcC52YWx1ZXMoKS5pdGVyYXRvcigpfSx6aC5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZU1hcC52YWx1ZXMoKX0semgucHJvdG90eXBlLmdldEJvdW5kYXJ5Tm9kZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBsYyxuPXRoaXMuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO3IuZ2V0TGFiZWwoKS5nZXRMb2NhdGlvbih0KT09PXBsLkJPVU5EQVJZJiZlLmFkZChyKX1yZXR1cm4gZX0semgucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10LmdldENvb3JkaW5hdGUoKTt0aGlzLmFkZE5vZGUoZSkuYWRkKHQpfSx6aC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0semgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHpofTt2YXIgamg9ZnVuY3Rpb24oKXt9LFVoPXtORTp7Y29uZmlndXJhYmxlOiEwfSxOVzp7Y29uZmlndXJhYmxlOiEwfSxTVzp7Y29uZmlndXJhYmxlOiEwfSxTRTp7Y29uZmlndXJhYmxlOiEwfX07amgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGpoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBqaH0samguaXNOb3J0aGVybj1mdW5jdGlvbih0KXtyZXR1cm4gdD09PWpoLk5FfHx0PT09amguTld9LGpoLmlzT3Bwb3NpdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCE9PWUmJjI9PT0odC1lKzQpJTR9LGpoLmNvbW1vbkhhbGZQbGFuZT1mdW5jdGlvbih0LGUpe2lmKHQ9PT1lKXJldHVybiB0O2lmKDI9PT0odC1lKzQpJTQpcmV0dXJuLTE7dmFyIG49dDxlP3Q6ZTtyZXR1cm4gMD09PW4mJjM9PT0odD5lP3Q6ZSk/MzpufSxqaC5pc0luSGFsZlBsYW5lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9PT1qaC5TRT90PT09amguU0V8fHQ9PT1qaC5TVzp0PT09ZXx8dD09PWUrMX0samgucXVhZHJhbnQ9ZnVuY3Rpb24oKXtpZigibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTtpZigwPT09dCYmMD09PWUpdGhyb3cgbmV3IGVsKCJDYW5ub3QgY29tcHV0ZSB0aGUgcXVhZHJhbnQgZm9yIHBvaW50ICggIit0KyIsICIrZSsiICkiKTtyZXR1cm4gdD49MD9lPj0wP2poLk5FOmpoLlNFOmU+PTA/amguTlc6amguU1d9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB1bCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB1bCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdO2lmKHIueD09PW4ueCYmci55PT09bi55KXRocm93IG5ldyBlbCgiQ2Fubm90IGNvbXB1dGUgdGhlIHF1YWRyYW50IGZvciB0d28gaWRlbnRpY2FsIHBvaW50cyAiK24pO3JldHVybiByLng+PW4ueD9yLnk+PW4ueT9qaC5ORTpqaC5TRTpyLnk+PW4ueT9qaC5OVzpqaC5TV319LFVoLk5FLmdldD1mdW5jdGlvbigpe3JldHVybiAwfSxVaC5OVy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0sVWguU1cuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDJ9LFVoLlNFLmdldD1mdW5jdGlvbigpe3JldHVybiAzfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhqaCxVaCk7dmFyIFZoPWZ1bmN0aW9uKCl7aWYodGhpcy5fZWRnZT1udWxsLHRoaXMuX2xhYmVsPW51bGwsdGhpcy5fbm9kZT1udWxsLHRoaXMuX3AwPW51bGwsdGhpcy5fcDE9bnVsbCx0aGlzLl9keD1udWxsLHRoaXMuX2R5PW51bGwsdGhpcy5fcXVhZHJhbnQ9bnVsbCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuX2VkZ2U9dH1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl0saT1udWxsO3RoaXMuX2VkZ2U9ZSx0aGlzLmluaXQobixyKSx0aGlzLl9sYWJlbD1pfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXSxhPWFyZ3VtZW50c1syXSx1PWFyZ3VtZW50c1szXTt0aGlzLl9lZGdlPW8sdGhpcy5pbml0KHMsYSksdGhpcy5fbGFiZWw9dX19O1ZoLnByb3RvdHlwZS5jb21wYXJlRGlyZWN0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9keD09PXQuX2R4JiZ0aGlzLl9keT09PXQuX2R5PzA6dGhpcy5fcXVhZHJhbnQ+dC5fcXVhZHJhbnQ/MTp0aGlzLl9xdWFkcmFudDx0Ll9xdWFkcmFudD8tMTpYbC5jb21wdXRlT3JpZW50YXRpb24odC5fcDAsdC5fcDEsdGhpcy5fcDEpfSxWaC5wcm90b3R5cGUuZ2V0RHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHl9LFZoLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3AwfSxWaC5wcm90b3R5cGUuc2V0Tm9kZT1mdW5jdGlvbih0KXt0aGlzLl9ub2RlPXR9LFZoLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmF0YW4yKHRoaXMuX2R5LHRoaXMuX2R4KSxuPXRoaXMuZ2V0Q2xhc3MoKS5nZXROYW1lKCkscj1uLmxhc3RJbmRleE9mKCIuIiksaT1uLnN1YnN0cmluZyhyKzEpO3QucHJpbnQoIiAgIitpKyI6ICIrdGhpcy5fcDArIiAtICIrdGhpcy5fcDErIiAiK3RoaXMuX3F1YWRyYW50KyI6IitlKyIgICAiK3RoaXMuX2xhYmVsKX0sVmgucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiB0aGlzLmNvbXBhcmVEaXJlY3Rpb24oZSl9LFZoLnByb3RvdHlwZS5nZXREaXJlY3RlZENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcDF9LFZoLnByb3RvdHlwZS5nZXREeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9keH0sVmgucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhYmVsfSxWaC5wcm90b3R5cGUuZ2V0RWRnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlfSxWaC5wcm90b3R5cGUuZ2V0UXVhZHJhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVhZHJhbnR9LFZoLnByb3RvdHlwZS5nZXROb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGV9LFZoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PU1hdGguYXRhbjIodGhpcy5fZHksdGhpcy5fZHgpLGU9dGhpcy5nZXRDbGFzcygpLmdldE5hbWUoKSxuPWUubGFzdEluZGV4T2YoIi4iKTtyZXR1cm4iICAiK2Uuc3Vic3RyaW5nKG4rMSkrIjogIit0aGlzLl9wMCsiIC0gIit0aGlzLl9wMSsiICIrdGhpcy5fcXVhZHJhbnQrIjoiK3QrIiAgICIrdGhpcy5fbGFiZWx9LFZoLnByb3RvdHlwZS5jb21wdXRlTGFiZWw9ZnVuY3Rpb24odCl7fSxWaC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3RoaXMuX3AwPXQsdGhpcy5fcDE9ZSx0aGlzLl9keD1lLngtdC54LHRoaXMuX2R5PWUueS10LnksdGhpcy5fcXVhZHJhbnQ9amgucXVhZHJhbnQodGhpcy5fZHgsdGhpcy5fZHkpLHFsLmlzVHJ1ZSghKDA9PT10aGlzLl9keCYmMD09PXRoaXMuX2R5KSwiRWRnZUVuZCB3aXRoIGlkZW50aWNhbCBlbmRwb2ludHMgZm91bmQiKX0sVmgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsXX0sVmgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFZofTt2YXIgWGg9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZih0LmNhbGwodGhpcyxlKSx0aGlzLl9pc0ZvcndhcmQ9bnVsbCx0aGlzLl9pc0luUmVzdWx0PSExLHRoaXMuX2lzVmlzaXRlZD0hMSx0aGlzLl9zeW09bnVsbCx0aGlzLl9uZXh0PW51bGwsdGhpcy5fbmV4dE1pbj1udWxsLHRoaXMuX2VkZ2VSaW5nPW51bGwsdGhpcy5fbWluRWRnZVJpbmc9bnVsbCx0aGlzLl9kZXB0aD1bMCwtOTk5LC05OTldLHRoaXMuX2lzRm9yd2FyZD1uLG4pdGhpcy5pbml0KGUuZ2V0Q29vcmRpbmF0ZSgwKSxlLmdldENvb3JkaW5hdGUoMSkpO2Vsc2V7dmFyIHI9ZS5nZXROdW1Qb2ludHMoKS0xO3RoaXMuaW5pdChlLmdldENvb3JkaW5hdGUociksZS5nZXRDb29yZGluYXRlKHItMSkpfXRoaXMuY29tcHV0ZURpcmVjdGVkTGFiZWwoKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuZ2V0TmV4dE1pbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZXh0TWlufSxlLnByb3RvdHlwZS5nZXREZXB0aD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVwdGhbdF19LGUucHJvdG90eXBlLnNldFZpc2l0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5faXNWaXNpdGVkPXR9LGUucHJvdG90eXBlLmNvbXB1dGVEaXJlY3RlZExhYmVsPWZ1bmN0aW9uKCl7dGhpcy5fbGFiZWw9bmV3IERoKHRoaXMuX2VkZ2UuZ2V0TGFiZWwoKSksdGhpcy5faXNGb3J3YXJkfHx0aGlzLl9sYWJlbC5mbGlwKCl9LGUucHJvdG90eXBlLmdldE5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbmV4dH0sZS5wcm90b3R5cGUuc2V0RGVwdGg9ZnVuY3Rpb24odCxlKXtpZigtOTk5IT09dGhpcy5fZGVwdGhbdF0mJnRoaXMuX2RlcHRoW3RdIT09ZSl0aHJvdyBuZXcgT2goImFzc2lnbmVkIGRlcHRocyBkbyBub3QgbWF0Y2giLHRoaXMuZ2V0Q29vcmRpbmF0ZSgpKTt0aGlzLl9kZXB0aFt0XT1lfSxlLnByb3RvdHlwZS5pc0ludGVyaW9yQXJlYUVkZ2U9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPSEwLG49MDtuPDI7bisrKXQuX2xhYmVsLmlzQXJlYShuKSYmdC5fbGFiZWwuZ2V0TG9jYXRpb24obixTaC5MRUZUKT09PXBsLklOVEVSSU9SJiZ0Ll9sYWJlbC5nZXRMb2NhdGlvbihuLFNoLlJJR0hUKT09PXBsLklOVEVSSU9SfHwoZT0hMSk7cmV0dXJuIGV9LGUucHJvdG90eXBlLnNldE5leHRNaW49ZnVuY3Rpb24odCl7dGhpcy5fbmV4dE1pbj10fSxlLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5wcmludC5jYWxsKHRoaXMsZSksZS5wcmludCgiICIrdGhpcy5fZGVwdGhbU2guTEVGVF0rIi8iK3RoaXMuX2RlcHRoW1NoLlJJR0hUXSksZS5wcmludCgiICgiK3RoaXMuZ2V0RGVwdGhEZWx0YSgpKyIpIiksdGhpcy5faXNJblJlc3VsdCYmZS5wcmludCgiIGluUmVzdWx0Iil9LGUucHJvdG90eXBlLnNldE1pbkVkZ2VSaW5nPWZ1bmN0aW9uKHQpe3RoaXMuX21pbkVkZ2VSaW5nPXR9LGUucHJvdG90eXBlLmlzTGluZUVkZ2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sYWJlbC5pc0xpbmUoMCl8fHRoaXMuX2xhYmVsLmlzTGluZSgxKSxlPSF0aGlzLl9sYWJlbC5pc0FyZWEoMCl8fHRoaXMuX2xhYmVsLmFsbFBvc2l0aW9uc0VxdWFsKDAscGwuRVhURVJJT1IpLG49IXRoaXMuX2xhYmVsLmlzQXJlYSgxKXx8dGhpcy5fbGFiZWwuYWxsUG9zaXRpb25zRXF1YWwoMSxwbC5FWFRFUklPUik7cmV0dXJuIHQmJmUmJm59LGUucHJvdG90eXBlLnNldEVkZ2VSaW5nPWZ1bmN0aW9uKHQpe3RoaXMuX2VkZ2VSaW5nPXR9LGUucHJvdG90eXBlLmdldE1pbkVkZ2VSaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbkVkZ2VSaW5nfSxlLnByb3RvdHlwZS5nZXREZXB0aERlbHRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZWRnZS5nZXREZXB0aERlbHRhKCk7cmV0dXJuIHRoaXMuX2lzRm9yd2FyZHx8KHQ9LXQpLHR9LGUucHJvdG90eXBlLnNldEluUmVzdWx0PWZ1bmN0aW9uKHQpe3RoaXMuX2lzSW5SZXN1bHQ9dH0sZS5wcm90b3R5cGUuZ2V0U3ltPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bX0sZS5wcm90b3R5cGUuaXNGb3J3YXJkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRm9yd2FyZH0sZS5wcm90b3R5cGUuZ2V0RWRnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlfSxlLnByb3RvdHlwZS5wcmludEVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5wcmludCh0KSx0LnByaW50KCIgIiksdGhpcy5faXNGb3J3YXJkP3RoaXMuX2VkZ2UucHJpbnQodCk6dGhpcy5fZWRnZS5wcmludFJldmVyc2UodCl9LGUucHJvdG90eXBlLnNldFN5bT1mdW5jdGlvbih0KXt0aGlzLl9zeW09dH0sZS5wcm90b3R5cGUuc2V0VmlzaXRlZEVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5zZXRWaXNpdGVkKHQpLHRoaXMuX3N5bS5zZXRWaXNpdGVkKHQpfSxlLnByb3RvdHlwZS5zZXRFZGdlRGVwdGhzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXRFZGdlKCkuZ2V0RGVwdGhEZWx0YSgpO3RoaXMuX2lzRm9yd2FyZHx8KG49LW4pO3ZhciByPTE7dD09PVNoLkxFRlQmJihyPS0xKTt2YXIgaT1TaC5vcHBvc2l0ZSh0KSxvPWUrbipyO3RoaXMuc2V0RGVwdGgodCxlKSx0aGlzLnNldERlcHRoKGksbyl9LGUucHJvdG90eXBlLmdldEVkZ2VSaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VSaW5nfSxlLnByb3RvdHlwZS5pc0luUmVzdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSW5SZXN1bHR9LGUucHJvdG90eXBlLnNldE5leHQ9ZnVuY3Rpb24odCl7dGhpcy5fbmV4dD10fSxlLnByb3RvdHlwZS5pc1Zpc2l0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNWaXNpdGVkfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlLmRlcHRoRmFjdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1wbC5FWFRFUklPUiYmZT09PXBsLklOVEVSSU9SPzE6dD09PXBsLklOVEVSSU9SJiZlPT09cGwuRVhURVJJT1I/LTE6MH0sZX0oVmgpLFloPWZ1bmN0aW9uKCl7fTtZaC5wcm90b3R5cGUuY3JlYXRlTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEJoKHQsbnVsbCl9LFloLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxZaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gWWh9O3ZhciBIaD1mdW5jdGlvbigpe2lmKHRoaXMuX2VkZ2VzPW5ldyBsYyx0aGlzLl9ub2Rlcz1udWxsLHRoaXMuX2VkZ2VFbmRMaXN0PW5ldyBsYywwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLl9ub2Rlcz1uZXcgemgobmV3IFloKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fbm9kZXM9bmV3IHpoKHQpfX07SGgucHJvdG90eXBlLnByaW50RWRnZXM9ZnVuY3Rpb24odCl7dC5wcmludGxuKCJFZGdlczoiKTtmb3IodmFyIGU9MDtlPHRoaXMuX2VkZ2VzLnNpemUoKTtlKyspe3QucHJpbnRsbigiZWRnZSAiK2UrIjoiKTt2YXIgbj10aGlzLl9lZGdlcy5nZXQoZSk7bi5wcmludCh0KSxuLmVpTGlzdC5wcmludCh0KX19LEhoLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ub2Rlcy5maW5kKHQpfSxIaC5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbigpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQmgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5fbm9kZXMuYWRkTm9kZSh0KX1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX25vZGVzLmFkZE5vZGUoZSl9fSxIaC5wcm90b3R5cGUuZ2V0Tm9kZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVzLml0ZXJhdG9yKCl9LEhoLnByb3RvdHlwZS5saW5rUmVzdWx0RGlyZWN0ZWRFZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9ub2Rlcy5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dC5uZXh0KCkuZ2V0RWRnZXMoKS5saW5rUmVzdWx0RGlyZWN0ZWRFZGdlcygpfX0sSGgucHJvdG90eXBlLmRlYnVnUHJpbnRsbj1mdW5jdGlvbih0KXtQbC5vdXQucHJpbnRsbih0KX0sSGgucHJvdG90eXBlLmlzQm91bmRhcnlOb2RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fbm9kZXMuZmluZChlKTtpZihudWxsPT09bilyZXR1cm4hMTt2YXIgcj1uLmdldExhYmVsKCk7cmV0dXJuIG51bGwhPT1yJiZyLmdldExvY2F0aW9uKHQpPT09cGwuQk9VTkRBUll9LEhoLnByb3RvdHlwZS5saW5rQWxsRGlyZWN0ZWRFZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9ub2Rlcy5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dC5uZXh0KCkuZ2V0RWRnZXMoKS5saW5rQWxsRGlyZWN0ZWRFZGdlcygpfX0sSGgucHJvdG90eXBlLm1hdGNoSW5TYW1lRGlyZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiEhdC5lcXVhbHMobikmJihYbC5jb21wdXRlT3JpZW50YXRpb24odCxlLHIpPT09WGwuQ09MTElORUFSJiZqaC5xdWFkcmFudCh0LGUpPT09amgucXVhZHJhbnQobixyKSl9LEhoLnByb3RvdHlwZS5nZXRFZGdlRW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlRW5kTGlzdH0sSGgucHJvdG90eXBlLmRlYnVnUHJpbnQ9ZnVuY3Rpb24odCl7UGwub3V0LnByaW50KHQpfSxIaC5wcm90b3R5cGUuZ2V0RWRnZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VzLml0ZXJhdG9yKCl9LEhoLnByb3RvdHlwZS5maW5kRWRnZUluU2FtZURpcmVjdGlvbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLHI9MDtyPHRoaXMuX2VkZ2VzLnNpemUoKTtyKyspe3ZhciBpPW4uX2VkZ2VzLmdldChyKSxvPWkuZ2V0Q29vcmRpbmF0ZXMoKTtpZihuLm1hdGNoSW5TYW1lRGlyZWN0aW9uKHQsZSxvWzBdLG9bMV0pKXJldHVybiBpO2lmKG4ubWF0Y2hJblNhbWVEaXJlY3Rpb24odCxlLG9bby5sZW5ndGgtMV0sb1tvLmxlbmd0aC0yXSkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LEhoLnByb3RvdHlwZS5pbnNlcnRFZGdlPWZ1bmN0aW9uKHQpe3RoaXMuX2VkZ2VzLmFkZCh0KX0sSGgucHJvdG90eXBlLmZpbmRFZGdlRW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmdldEVkZ2VFbmRzKCkuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpO2lmKG4uZ2V0RWRnZSgpPT09dClyZXR1cm4gbn1yZXR1cm4gbnVsbH0sSGgucHJvdG90eXBlLmFkZEVkZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49dC5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7ZS5fZWRnZXMuYWRkKHIpO3ZhciBpPW5ldyBYaChyLCEwKSxvPW5ldyBYaChyLCExKTtpLnNldFN5bShvKSxvLnNldFN5bShpKSxlLmFkZChpKSxlLmFkZChvKX19LEhoLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dGhpcy5fbm9kZXMuYWRkKHQpLHRoaXMuX2VkZ2VFbmRMaXN0LmFkZCh0KX0sSGgucHJvdG90eXBlLmdldE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVzLnZhbHVlcygpfSxIaC5wcm90b3R5cGUuZmluZEVkZ2U9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPHRoaXMuX2VkZ2VzLnNpemUoKTtuKyspe3ZhciByPXRoaXMuX2VkZ2VzLmdldChuKSxpPXIuZ2V0Q29vcmRpbmF0ZXMoKTtpZih0LmVxdWFscyhpWzBdKSYmZS5lcXVhbHMoaVsxXSkpcmV0dXJuIHJ9cmV0dXJuIG51bGx9LEhoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxIaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gSGh9LEhoLmxpbmtSZXN1bHREaXJlY3RlZEVkZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXtlLm5leHQoKS5nZXRFZGdlcygpLmxpbmtSZXN1bHREaXJlY3RlZEVkZ2VzKCl9fTt2YXIgV2g9ZnVuY3Rpb24oKXt0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9bnVsbCx0aGlzLl9zaGVsbExpc3Q9bmV3IGxjO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9dH07V2gucHJvdG90eXBlLnNvcnRTaGVsbHNBbmRIb2xlcz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXQuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpO2kuaXNIb2xlKCk/bi5hZGQoaSk6ZS5hZGQoaSl9fSxXaC5wcm90b3R5cGUuY29tcHV0ZVBvbHlnb25zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbGMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKS50b1BvbHlnb24odGhpcy5fZ2VvbWV0cnlGYWN0b3J5KTtlLmFkZChyKX1yZXR1cm4gZX0sV2gucHJvdG90eXBlLnBsYWNlRnJlZUhvbGVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO2lmKG51bGw9PT1yLmdldFNoZWxsKCkpe3ZhciBpPXRoaXMuZmluZEVkZ2VSaW5nQ29udGFpbmluZyhyLHQpO2lmKG51bGw9PT1pKXRocm93IG5ldyBPaCgidW5hYmxlIHRvIGFzc2lnbiBob2xlIHRvIGEgc2hlbGwiLHIuZ2V0Q29vcmRpbmF0ZSgwKSk7ci5zZXRTaGVsbChpKX19fSxXaC5wcm90b3R5cGUuYnVpbGRNaW5pbWFsRWRnZVJpbmdzPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9bmV3IGxjLGk9dC5pdGVyYXRvcigpO2kuaGFzTmV4dCgpOyl7dmFyIG89aS5uZXh0KCk7aWYoby5nZXRNYXhOb2RlRGVncmVlKCk+Mil7by5saW5rRGlyZWN0ZWRFZGdlc0Zvck1pbmltYWxFZGdlUmluZ3MoKTt2YXIgcz1vLmJ1aWxkTWluaW1hbFJpbmdzKCksYT10aGlzLmZpbmRTaGVsbChzKTtudWxsIT09YT8odGhpcy5wbGFjZVBvbHlnb25Ib2xlcyhhLHMpLGUuYWRkKGEpKTpuLmFkZEFsbChzKX1lbHNlIHIuYWRkKG8pfXJldHVybiByfSxXaC5wcm90b3R5cGUuY29udGFpbnNQb2ludD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fc2hlbGxMaXN0Lml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXtpZihlLm5leHQoKS5jb250YWluc1BvaW50KHQpKXJldHVybiEwfXJldHVybiExfSxXaC5wcm90b3R5cGUuYnVpbGRNYXhpbWFsRWRnZVJpbmdzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbGMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtpZihyLmlzSW5SZXN1bHQoKSYmci5nZXRMYWJlbCgpLmlzQXJlYSgpJiZudWxsPT09ci5nZXRFZGdlUmluZygpKXt2YXIgaT1uZXcgR2gocix0aGlzLl9nZW9tZXRyeUZhY3RvcnkpO2UuYWRkKGkpLGkuc2V0SW5SZXN1bHQoKX19cmV0dXJuIGV9LFdoLnByb3RvdHlwZS5wbGFjZVBvbHlnb25Ib2xlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtyLmlzSG9sZSgpJiZyLnNldFNoZWxsKHQpfX0sV2gucHJvdG90eXBlLmdldFBvbHlnb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZVBvbHlnb25zKHRoaXMuX3NoZWxsTGlzdCl9LFdoLnByb3RvdHlwZS5maW5kRWRnZVJpbmdDb250YWluaW5nPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZ2V0TGluZWFyUmluZygpLHI9bi5nZXRFbnZlbG9wZUludGVybmFsKCksaT1uLmdldENvb3JkaW5hdGVOKDApLG89bnVsbCxzPW51bGwsYT1lLml0ZXJhdG9yKCk7YS5oYXNOZXh0KCk7KXt2YXIgdT1hLm5leHQoKSxsPXUuZ2V0TGluZWFyUmluZygpLGM9bC5nZXRFbnZlbG9wZUludGVybmFsKCk7bnVsbCE9PW8mJihzPW8uZ2V0TGluZWFyUmluZygpLmdldEVudmVsb3BlSW50ZXJuYWwoKSk7dmFyIGg9ITE7Yy5jb250YWlucyhyKSYmWGwuaXNQb2ludEluUmluZyhpLGwuZ2V0Q29vcmRpbmF0ZXMoKSkmJihoPSEwKSxoJiYobnVsbD09PW98fHMuY29udGFpbnMoYykpJiYobz11KX1yZXR1cm4gb30sV2gucHJvdG90eXBlLmZpbmRTaGVsbD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPW51bGwscj10Lml0ZXJhdG9yKCk7ci5oYXNOZXh0KCk7KXt2YXIgaT1yLm5leHQoKTtpLmlzSG9sZSgpfHwobj1pLGUrKyl9cmV0dXJuIHFsLmlzVHJ1ZShlPD0xLCJmb3VuZCB0d28gc2hlbGxzIGluIE1pbmltYWxFZGdlUmluZyBsaXN0Iiksbn0sV2gucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5hZGQodC5nZXRFZGdlRW5kcygpLHQuZ2V0Tm9kZXMoKSl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO0hoLmxpbmtSZXN1bHREaXJlY3RlZEVkZ2VzKG4pO3ZhciByPXRoaXMuYnVpbGRNYXhpbWFsRWRnZVJpbmdzKGUpLGk9bmV3IGxjLG89dGhpcy5idWlsZE1pbmltYWxFZGdlUmluZ3Mocix0aGlzLl9zaGVsbExpc3QsaSk7dGhpcy5zb3J0U2hlbGxzQW5kSG9sZXMobyx0aGlzLl9zaGVsbExpc3QsaSksdGhpcy5wbGFjZUZyZWVIb2xlcyh0aGlzLl9zaGVsbExpc3QsaSl9fSxXaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sV2gucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFdofTt2YXIgSmg9ZnVuY3Rpb24oKXt9O0poLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oKXt9LEpoLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxKaC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gSmh9O3ZhciBaaD1mdW5jdGlvbigpe3RoaXMuX2JvdW5kcz1udWxsLHRoaXMuX2l0ZW09bnVsbDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fYm91bmRzPXQsdGhpcy5faXRlbT1lfTtaaC5wcm90b3R5cGUuZ2V0SXRlbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pdGVtfSxaaC5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvdW5kc30sWmgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0poLGFsXX0sWmgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFpofTt2YXIgS2g9ZnVuY3Rpb24oKXt0aGlzLl9zaXplPW51bGwsdGhpcy5faXRlbXM9bnVsbCx0aGlzLl9zaXplPTAsdGhpcy5faXRlbXM9bmV3IGxjLHRoaXMuX2l0ZW1zLmFkZChudWxsKX07S2gucHJvdG90eXBlLnBvbGw9ZnVuY3Rpb24oKXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLl9pdGVtcy5nZXQoMSk7cmV0dXJuIHRoaXMuX2l0ZW1zLnNldCgxLHRoaXMuX2l0ZW1zLmdldCh0aGlzLl9zaXplKSksdGhpcy5fc2l6ZS09MSx0aGlzLnJlb3JkZXIoMSksdH0sS2gucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZX0sS2gucHJvdG90eXBlLnJlb3JkZXI9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj1udWxsLHI9dGhpcy5faXRlbXMuZ2V0KHQpOzIqdDw9dGhpcy5fc2l6ZSYmKChuPTIqdCkhPT1lLl9zaXplJiZlLl9pdGVtcy5nZXQobisxKS5jb21wYXJlVG8oZS5faXRlbXMuZ2V0KG4pKTwwJiZuKyssZS5faXRlbXMuZ2V0KG4pLmNvbXBhcmVUbyhyKTwwKTt0PW4pZS5faXRlbXMuc2V0KHQsZS5faXRlbXMuZ2V0KG4pKTt0aGlzLl9pdGVtcy5zZXQodCxyKX0sS2gucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fc2l6ZT0wLHRoaXMuX2l0ZW1zLmNsZWFyKCl9LEtoLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9zaXplfSxLaC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3RoaXMuX2l0ZW1zLmFkZChudWxsKSx0aGlzLl9zaXplKz0xO3ZhciBlPXRoaXMuX3NpemU7Zm9yKHRoaXMuX2l0ZW1zLnNldCgwLHQpO3QuY29tcGFyZVRvKHRoaXMuX2l0ZW1zLmdldChNYXRoLnRydW5jKGUvMikpKTwwO2UvPTIpdGhpcy5faXRlbXMuc2V0KGUsdGhpcy5faXRlbXMuZ2V0KE1hdGgudHJ1bmMoZS8yKSkpO3RoaXMuX2l0ZW1zLnNldChlLHQpfSxLaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sS2gucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEtofTt2YXIgUWg9ZnVuY3Rpb24oKXt9O1FoLnByb3RvdHlwZS52aXNpdEl0ZW09ZnVuY3Rpb24odCl7fSxRaC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sUWgucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFFofTt2YXIgJGg9ZnVuY3Rpb24oKXt9OyRoLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlKXt9LCRoLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlKXt9LCRoLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbigpe30sJGgucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LCRoLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiAkaH07dmFyIHRwPWZ1bmN0aW9uKCl7aWYodGhpcy5fY2hpbGRCb3VuZGFibGVzPW5ldyBsYyx0aGlzLl9ib3VuZHM9bnVsbCx0aGlzLl9sZXZlbD1udWxsLDA9PT1hcmd1bWVudHMubGVuZ3RoKTtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fbGV2ZWw9dH19LGVwPXtzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9fTt0cC5wcm90b3R5cGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGV2ZWx9LHRwLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkQm91bmRhYmxlcy5zaXplKCl9LHRwLnByb3RvdHlwZS5nZXRDaGlsZEJvdW5kYWJsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRCb3VuZGFibGVzfSx0cC5wcm90b3R5cGUuYWRkQ2hpbGRCb3VuZGFibGU9ZnVuY3Rpb24odCl7cWwuaXNUcnVlKG51bGw9PT10aGlzLl9ib3VuZHMpLHRoaXMuX2NoaWxkQm91bmRhYmxlcy5hZGQodCl9LHRwLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkQm91bmRhYmxlcy5pc0VtcHR5KCl9LHRwLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuX2JvdW5kcyYmKHRoaXMuX2JvdW5kcz10aGlzLmNvbXB1dGVCb3VuZHMoKSksdGhpcy5fYm91bmRzfSx0cC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bSmgsYWxdfSx0cC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdHB9LGVwLnNlcmlhbFZlcnNpb25VSUQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB4NWExZTU1ZWM0MTM2OTgwMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXModHAsZXApO3ZhciBucD1mdW5jdGlvbigpe307bnAucmV2ZXJzZU9yZGVyPWZ1bmN0aW9uKCl7cmV0dXJue2NvbXBhcmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5jb21wYXJlVG8odCl9fX0sbnAubWluPWZ1bmN0aW9uKHQpe3JldHVybiBucC5zb3J0KHQpLHQuZ2V0KDApfSxucC5zb3J0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC50b0FycmF5KCk7ZT9SYy5zb3J0KG4sZSk6UmMuc29ydChuKTtmb3IodmFyIHI9dC5pdGVyYXRvcigpLGk9MCxvPW4ubGVuZ3RoO2k8bztpKyspci5uZXh0KCksci5zZXQobltpXSl9LG5wLnNpbmdsZXRvbkxpc3Q9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGxjO3JldHVybiBlLmFkZCh0KSxlfTt2YXIgcnA9ZnVuY3Rpb24oKXt0aGlzLl9ib3VuZGFibGUxPW51bGwsdGhpcy5fYm91bmRhYmxlMj1udWxsLHRoaXMuX2Rpc3RhbmNlPW51bGwsdGhpcy5faXRlbURpc3RhbmNlPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO3RoaXMuX2JvdW5kYWJsZTE9dCx0aGlzLl9ib3VuZGFibGUyPWUsdGhpcy5faXRlbURpc3RhbmNlPW4sdGhpcy5fZGlzdGFuY2U9dGhpcy5kaXN0YW5jZSgpfTtycC5wcm90b3R5cGUuZXhwYW5kVG9RdWV1ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXJwLmlzQ29tcG9zaXRlKHRoaXMuX2JvdW5kYWJsZTEpLHI9cnAuaXNDb21wb3NpdGUodGhpcy5fYm91bmRhYmxlMik7aWYobiYmcilyZXR1cm4gcnAuYXJlYSh0aGlzLl9ib3VuZGFibGUxKT5ycC5hcmVhKHRoaXMuX2JvdW5kYWJsZTIpPyh0aGlzLmV4cGFuZCh0aGlzLl9ib3VuZGFibGUxLHRoaXMuX2JvdW5kYWJsZTIsdCxlKSxudWxsKToodGhpcy5leHBhbmQodGhpcy5fYm91bmRhYmxlMix0aGlzLl9ib3VuZGFibGUxLHQsZSksbnVsbCk7aWYobilyZXR1cm4gdGhpcy5leHBhbmQodGhpcy5fYm91bmRhYmxlMSx0aGlzLl9ib3VuZGFibGUyLHQsZSksbnVsbDtpZihyKXJldHVybiB0aGlzLmV4cGFuZCh0aGlzLl9ib3VuZGFibGUyLHRoaXMuX2JvdW5kYWJsZTEsdCxlKSxudWxsO3Rocm93IG5ldyBlbCgibmVpdGhlciBib3VuZGFibGUgaXMgY29tcG9zaXRlIil9LHJwLnByb3RvdHlwZS5pc0xlYXZlcz1mdW5jdGlvbigpe3JldHVybiEocnAuaXNDb21wb3NpdGUodGhpcy5fYm91bmRhYmxlMSl8fHJwLmlzQ29tcG9zaXRlKHRoaXMuX2JvdW5kYWJsZTIpKX0scnAucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiB0aGlzLl9kaXN0YW5jZTxlLl9kaXN0YW5jZT8tMTp0aGlzLl9kaXN0YW5jZT5lLl9kaXN0YW5jZT8xOjB9LHJwLnByb3RvdHlwZS5leHBhbmQ9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPXQuZ2V0Q2hpbGRCb3VuZGFibGVzKCkuaXRlcmF0b3IoKTtpLmhhc05leHQoKTspe3ZhciBvPWkubmV4dCgpLHM9bmV3IHJwKG8sZSx0aGlzLl9pdGVtRGlzdGFuY2UpO3MuZ2V0RGlzdGFuY2UoKTxyJiZuLmFkZChzKX19LHJwLnByb3RvdHlwZS5nZXRCb3VuZGFibGU9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10P3RoaXMuX2JvdW5kYWJsZTE6dGhpcy5fYm91bmRhYmxlMn0scnAucHJvdG90eXBlLmdldERpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlfSxycC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0xlYXZlcygpP3RoaXMuX2l0ZW1EaXN0YW5jZS5kaXN0YW5jZSh0aGlzLl9ib3VuZGFibGUxLHRoaXMuX2JvdW5kYWJsZTIpOnRoaXMuX2JvdW5kYWJsZTEuZ2V0Qm91bmRzKCkuZGlzdGFuY2UodGhpcy5fYm91bmRhYmxlMi5nZXRCb3VuZHMoKSl9LHJwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbF19LHJwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBycH0scnAuYXJlYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRCb3VuZHMoKS5nZXRBcmVhKCl9LHJwLmlzQ29tcG9zaXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgdHB9O3ZhciBpcD1mdW5jdGlvbiB0KCl7aWYodGhpcy5fcm9vdD1udWxsLHRoaXMuX2J1aWx0PSExLHRoaXMuX2l0ZW1Cb3VuZGFibGVzPW5ldyBsYyx0aGlzLl9ub2RlQ2FwYWNpdHk9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9dC5ERUZBVUxUX05PREVfQ0FQQUNJVFk7dGhpcy5fbm9kZUNhcGFjaXR5PWV9ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdO3FsLmlzVHJ1ZShuPjEsIk5vZGUgY2FwYWNpdHkgbXVzdCBiZSBncmVhdGVyIHRoYW4gMSIpLHRoaXMuX25vZGVDYXBhY2l0eT1ufX0sb3A9e0ludGVyc2VjdHNPcDp7Y29uZmlndXJhYmxlOiEwfSxzZXJpYWxWZXJzaW9uVUlEOntjb25maWd1cmFibGU6ITB9LERFRkFVTFRfTk9ERV9DQVBBQ0lUWTp7Y29uZmlndXJhYmxlOiEwfX07aXAucHJvdG90eXBlLmdldE5vZGVDYXBhY2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlQ2FwYWNpdHl9LGlwLnByb3RvdHlwZS5sYXN0Tm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQodC5zaXplKCktMSl9LGlwLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5pc0VtcHR5KCk/MDoodGhpcy5idWlsZCgpLHRoaXMuc2l6ZSh0aGlzLl9yb290KSk7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT1hcmd1bWVudHNbMF0sbj0wLHI9ZS5nZXRDaGlsZEJvdW5kYWJsZXMoKS5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCk7aSBpbnN0YW5jZW9mIHRwP24rPXQuc2l6ZShpKTppIGluc3RhbmNlb2YgWmgmJihuKz0xKX1yZXR1cm4gbn19LGlwLnByb3RvdHlwZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW51bGwscj10LmdldENoaWxkQm91bmRhYmxlcygpLml0ZXJhdG9yKCk7ci5oYXNOZXh0KCk7KXt2YXIgaT1yLm5leHQoKTtpIGluc3RhbmNlb2YgWmgmJmkuZ2V0SXRlbSgpPT09ZSYmKG49aSl9cmV0dXJuIG51bGwhPT1uJiYodC5nZXRDaGlsZEJvdW5kYWJsZXMoKS5yZW1vdmUobiksITApfSxpcC5wcm90b3R5cGUuaXRlbXNUcmVlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7dGhpcy5idWlsZCgpO3ZhciBlPXRoaXMuaXRlbXNUcmVlKHRoaXMuX3Jvb3QpO3JldHVybiBudWxsPT09ZT9uZXcgbGM6ZX1pZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBuPWFyZ3VtZW50c1swXSxyPW5ldyBsYyxpPW4uZ2V0Q2hpbGRCb3VuZGFibGVzKCkuaXRlcmF0b3IoKTtpLmhhc05leHQoKTspe3ZhciBvPWkubmV4dCgpO2lmKG8gaW5zdGFuY2VvZiB0cCl7dmFyIHM9dC5pdGVtc1RyZWUobyk7bnVsbCE9PXMmJnIuYWRkKHMpfWVsc2UgbyBpbnN0YW5jZW9mIFpoP3IuYWRkKG8uZ2V0SXRlbSgpKTpxbC5zaG91bGROZXZlclJlYWNoSGVyZSgpfXJldHVybiByLnNpemUoKTw9MD9udWxsOnJ9fSxpcC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7cWwuaXNUcnVlKCF0aGlzLl9idWlsdCwiQ2Fubm90IGluc2VydCBpdGVtcyBpbnRvIGFuIFNUUiBwYWNrZWQgUi10cmVlIGFmdGVyIGl0IGhhcyBiZWVuIGJ1aWx0LiIpLHRoaXMuX2l0ZW1Cb3VuZGFibGVzLmFkZChuZXcgWmgodCxlKSl9LGlwLnByb3RvdHlwZS5ib3VuZGFibGVzQXRMZXZlbD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPW5ldyBsYztyZXR1cm4gdGhpcy5ib3VuZGFibGVzQXRMZXZlbChlLHRoaXMuX3Jvb3Qsbiksbn1pZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdO2lmKHFsLmlzVHJ1ZShyPi0yKSxpLmdldExldmVsKCk9PT1yKXJldHVybiBvLmFkZChpKSxudWxsO2Zvcih2YXIgcz1pLmdldENoaWxkQm91bmRhYmxlcygpLml0ZXJhdG9yKCk7cy5oYXNOZXh0KCk7KXt2YXIgYT1zLm5leHQoKTthIGluc3RhbmNlb2YgdHA/dC5ib3VuZGFibGVzQXRMZXZlbChyLGEsbyk6KHFsLmlzVHJ1ZShhIGluc3RhbmNlb2YgWmgpLC0xPT09ciYmby5hZGQoYSkpfXJldHVybiBudWxsfX0saXAucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuYnVpbGQoKTt2YXIgbj1uZXcgbGM7cmV0dXJuIHRoaXMuaXNFbXB0eSgpfHx0aGlzLmdldEludGVyc2VjdHNPcCgpLmludGVyc2VjdHModGhpcy5fcm9vdC5nZXRCb3VuZHMoKSxlKSYmdGhpcy5xdWVyeShlLHRoaXMuX3Jvb3Qsbiksbn1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdO2lmKHRoaXMuYnVpbGQoKSx0aGlzLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDt0aGlzLmdldEludGVyc2VjdHNPcCgpLmludGVyc2VjdHModGhpcy5fcm9vdC5nZXRCb3VuZHMoKSxyKSYmdGhpcy5xdWVyeShyLHRoaXMuX3Jvb3QsaSl9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aClpZihnbChhcmd1bWVudHNbMl0sUWgpJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIE9iamVjdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0cClmb3IodmFyIG89YXJndW1lbnRzWzBdLHM9YXJndW1lbnRzWzFdLGE9YXJndW1lbnRzWzJdLHU9cy5nZXRDaGlsZEJvdW5kYWJsZXMoKSxsPTA7bDx1LnNpemUoKTtsKyspe3ZhciBjPXUuZ2V0KGwpO3QuZ2V0SW50ZXJzZWN0c09wKCkuaW50ZXJzZWN0cyhjLmdldEJvdW5kcygpLG8pJiYoYyBpbnN0YW5jZW9mIHRwP3QucXVlcnkobyxjLGEpOmMgaW5zdGFuY2VvZiBaaD9hLnZpc2l0SXRlbShjLmdldEl0ZW0oKSk6cWwuc2hvdWxkTmV2ZXJSZWFjaEhlcmUoKSl9ZWxzZSBpZihnbChhcmd1bWVudHNbMl0sYWMpJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIE9iamVjdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0cClmb3IodmFyIGg9YXJndW1lbnRzWzBdLHA9YXJndW1lbnRzWzFdLGY9YXJndW1lbnRzWzJdLGc9cC5nZXRDaGlsZEJvdW5kYWJsZXMoKSxkPTA7ZDxnLnNpemUoKTtkKyspe3ZhciB5PWcuZ2V0KGQpO3QuZ2V0SW50ZXJzZWN0c09wKCkuaW50ZXJzZWN0cyh5LmdldEJvdW5kcygpLGgpJiYoeSBpbnN0YW5jZW9mIHRwP3QucXVlcnkoaCx5LGYpOnkgaW5zdGFuY2VvZiBaaD9mLmFkZCh5LmdldEl0ZW0oKSk6cWwuc2hvdWxkTmV2ZXJSZWFjaEhlcmUoKSl9fSxpcC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9idWlsdClyZXR1cm4gbnVsbDt0aGlzLl9yb290PXRoaXMuX2l0ZW1Cb3VuZGFibGVzLmlzRW1wdHkoKT90aGlzLmNyZWF0ZU5vZGUoMCk6dGhpcy5jcmVhdGVIaWdoZXJMZXZlbHModGhpcy5faXRlbUJvdW5kYWJsZXMsLTEpLHRoaXMuX2l0ZW1Cb3VuZGFibGVzPW51bGwsdGhpcy5fYnVpbHQ9ITB9LGlwLnByb3RvdHlwZS5nZXRSb290PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVpbGQoKSx0aGlzLl9yb290fSxpcC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiB0aGlzLmJ1aWxkKCksISF0aGlzLmdldEludGVyc2VjdHNPcCgpLmludGVyc2VjdHModGhpcy5fcm9vdC5nZXRCb3VuZHMoKSxlKSYmdGhpcy5yZW1vdmUoZSx0aGlzLl9yb290LG4pfWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl0scz10aGlzLnJlbW92ZUl0ZW0oaSxvKTtpZihzKXJldHVybiEwO2Zvcih2YXIgYT1udWxsLHU9aS5nZXRDaGlsZEJvdW5kYWJsZXMoKS5pdGVyYXRvcigpO3UuaGFzTmV4dCgpOyl7dmFyIGw9dS5uZXh0KCk7aWYodC5nZXRJbnRlcnNlY3RzT3AoKS5pbnRlcnNlY3RzKGwuZ2V0Qm91bmRzKCkscikmJihsIGluc3RhbmNlb2YgdHAmJihzPXQucmVtb3ZlKHIsbCxvKSkpKXthPWw7YnJlYWt9fXJldHVybiBudWxsIT09YSYmYS5nZXRDaGlsZEJvdW5kYWJsZXMoKS5pc0VtcHR5KCkmJmkuZ2V0Q2hpbGRCb3VuZGFibGVzKCkucmVtb3ZlKGEpLHN9fSxpcC5wcm90b3R5cGUuY3JlYXRlSGlnaGVyTGV2ZWxzPWZ1bmN0aW9uKHQsZSl7cWwuaXNUcnVlKCF0LmlzRW1wdHkoKSk7dmFyIG49dGhpcy5jcmVhdGVQYXJlbnRCb3VuZGFibGVzKHQsZSsxKTtyZXR1cm4gMT09PW4uc2l6ZSgpP24uZ2V0KDApOnRoaXMuY3JlYXRlSGlnaGVyTGV2ZWxzKG4sZSsxKX0saXAucHJvdG90eXBlLmRlcHRoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5pc0VtcHR5KCk/MDoodGhpcy5idWlsZCgpLHRoaXMuZGVwdGgodGhpcy5fcm9vdCkpO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49MCxyPWUuZ2V0Q2hpbGRCb3VuZGFibGVzKCkuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpO2lmKGkgaW5zdGFuY2VvZiB0cCl7dmFyIG89dC5kZXB0aChpKTtvPm4mJihuPW8pfX1yZXR1cm4gbisxfX0saXAucHJvdG90eXBlLmNyZWF0ZVBhcmVudEJvdW5kYWJsZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3FsLmlzVHJ1ZSghdC5pc0VtcHR5KCkpO3ZhciByPW5ldyBsYztyLmFkZCh0aGlzLmNyZWF0ZU5vZGUoZSkpO3ZhciBpPW5ldyBsYyh0KTtucC5zb3J0KGksdGhpcy5nZXRDb21wYXJhdG9yKCkpO2Zvcih2YXIgbz1pLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLm5leHQoKTtuLmxhc3ROb2RlKHIpLmdldENoaWxkQm91bmRhYmxlcygpLnNpemUoKT09PW4uZ2V0Tm9kZUNhcGFjaXR5KCkmJnIuYWRkKG4uY3JlYXRlTm9kZShlKSksbi5sYXN0Tm9kZShyKS5hZGRDaGlsZEJvdW5kYWJsZShzKX1yZXR1cm4gcn0saXAucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVpbHQ/dGhpcy5fcm9vdC5pc0VtcHR5KCk6dGhpcy5faXRlbUJvdW5kYWJsZXMuaXNFbXB0eSgpfSxpcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bYWxdfSxpcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gaXB9LGlwLmNvbXBhcmVEb3VibGVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+ZT8xOnQ8ZT8tMTowfSxvcC5JbnRlcnNlY3RzT3AuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHNwfSxvcC5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybi0weDM1ZWY2NGM4MmQ0YzU0MDB9LG9wLkRFRkFVTFRfTk9ERV9DQVBBQ0lUWS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGlwLG9wKTt2YXIgc3A9ZnVuY3Rpb24oKXt9LGFwPWZ1bmN0aW9uKCl7fTthcC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24odCxlKXt9LGFwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxhcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYXB9O3ZhciB1cD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKG4pe249bnx8ZS5ERUZBVUxUX05PREVfQ0FQQUNJVFksdC5jYWxsKHRoaXMsbil9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e1NUUnRyZWVOb2RlOntjb25maWd1cmFibGU6ITB9LHNlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH0seENvbXBhcmF0b3I6e2NvbmZpZ3VyYWJsZTohMH0seUNvbXBhcmF0b3I6e2NvbmZpZ3VyYWJsZTohMH0saW50ZXJzZWN0c09wOntjb25maWd1cmFibGU6ITB9LERFRkFVTFRfTk9ERV9DQVBBQ0lUWTp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIGUucHJvdG90eXBlLmNyZWF0ZVBhcmVudEJvdW5kYWJsZXNGcm9tVmVydGljYWxTbGljZXM9ZnVuY3Rpb24odCxlKXtxbC5pc1RydWUodC5sZW5ndGg+MCk7Zm9yKHZhciBuPW5ldyBsYyxyPTA7cjx0Lmxlbmd0aDtyKyspbi5hZGRBbGwodGhpcy5jcmVhdGVQYXJlbnRCb3VuZGFibGVzRnJvbVZlcnRpY2FsU2xpY2UodFtyXSxlKSk7cmV0dXJuIG59LGUucHJvdG90eXBlLmNyZWF0ZU5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBscCh0KX0sZS5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90LnByb3RvdHlwZS5zaXplLmNhbGwodGhpcyk6dC5wcm90b3R5cGUuc2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbigpe2lmKDIhPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0LnByb3RvdHlwZS5pbnNlcnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZihlLmlzTnVsbCgpKXJldHVybiBudWxsO3QucHJvdG90eXBlLmluc2VydC5jYWxsKHRoaXMsZSxuKX0sZS5wcm90b3R5cGUuZ2V0SW50ZXJzZWN0c09wPWZ1bmN0aW9uKCl7cmV0dXJuIGUuaW50ZXJzZWN0c09wfSxlLnByb3RvdHlwZS52ZXJ0aWNhbFNsaWNlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1NYXRoLnRydW5jKE1hdGguY2VpbCh0LnNpemUoKS9lKSkscj1uZXcgQXJyYXkoZSkuZmlsbChudWxsKSxpPXQuaXRlcmF0b3IoKSxvPTA7bzxlO28rKyl7cltvXT1uZXcgbGM7Zm9yKHZhciBzPTA7aS5oYXNOZXh0KCkmJnM8bjspe3ZhciBhPWkubmV4dCgpO3Jbb10uYWRkKGEpLHMrK319cmV0dXJuIHJ9LGUucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXTtyZXR1cm4gdC5wcm90b3R5cGUucXVlcnkuY2FsbCh0aGlzLGUpfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07dC5wcm90b3R5cGUucXVlcnkuY2FsbCh0aGlzLG4scil9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aClpZihnbChhcmd1bWVudHNbMl0sUWgpJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIE9iamVjdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0cCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdO3QucHJvdG90eXBlLnF1ZXJ5LmNhbGwodGhpcyxpLG8scyl9ZWxzZSBpZihnbChhcmd1bWVudHNbMl0sYWMpJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIE9iamVjdCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0cCl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdO3QucHJvdG90eXBlLnF1ZXJ5LmNhbGwodGhpcyxhLHUsbCl9fSxlLnByb3RvdHlwZS5nZXRDb21wYXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGUueUNvbXBhcmF0b3J9LGUucHJvdG90eXBlLmNyZWF0ZVBhcmVudEJvdW5kYWJsZXNGcm9tVmVydGljYWxTbGljZT1mdW5jdGlvbihlLG4pe3JldHVybiB0LnByb3RvdHlwZS5jcmVhdGVQYXJlbnRCb3VuZGFibGVzLmNhbGwodGhpcyxlLG4pfSxlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiB0LnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzLGUsbil9cmV0dXJuIHQucHJvdG90eXBlLnJlbW92ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUucHJvdG90eXBlLmRlcHRoPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoP3QucHJvdG90eXBlLmRlcHRoLmNhbGwodGhpcyk6dC5wcm90b3R5cGUuZGVwdGguYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRCb3VuZGFibGVzPWZ1bmN0aW9uKHQsbil7cWwuaXNUcnVlKCF0LmlzRW1wdHkoKSk7dmFyIHI9TWF0aC50cnVuYyhNYXRoLmNlaWwodC5zaXplKCkvdGhpcy5nZXROb2RlQ2FwYWNpdHkoKSkpLGk9bmV3IGxjKHQpO25wLnNvcnQoaSxlLnhDb21wYXJhdG9yKTt2YXIgbz10aGlzLnZlcnRpY2FsU2xpY2VzKGksTWF0aC50cnVuYyhNYXRoLmNlaWwoTWF0aC5zcXJ0KHIpKSkpO3JldHVybiB0aGlzLmNyZWF0ZVBhcmVudEJvdW5kYWJsZXNGcm9tVmVydGljYWxTbGljZXMobyxuKX0sZS5wcm90b3R5cGUubmVhcmVzdE5laWdoYm91cj1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihnbChhcmd1bWVudHNbMF0sYXApKXt2YXIgdD1hcmd1bWVudHNbMF0sbj1uZXcgcnAodGhpcy5nZXRSb290KCksdGhpcy5nZXRSb290KCksdCk7cmV0dXJuIHRoaXMubmVhcmVzdE5laWdoYm91cihuKX1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHJwKXt2YXIgcj1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMubmVhcmVzdE5laWdoYm91cihyLG5sLlBPU0lUSVZFX0lORklOSVRZKX19ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBlJiZnbChhcmd1bWVudHNbMV0sYXApKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0scz1uZXcgcnAodGhpcy5nZXRSb290KCksaS5nZXRSb290KCksbyk7cmV0dXJuIHRoaXMubmVhcmVzdE5laWdoYm91cihzKX1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHJwJiYibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1sxXSl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9dSxjPW51bGwsaD1uZXcgS2g7Zm9yKGguYWRkKGEpOyFoLmlzRW1wdHkoKSYmbD4wOyl7dmFyIHA9aC5wb2xsKCksZj1wLmdldERpc3RhbmNlKCk7aWYoZj49bClicmVhaztwLmlzTGVhdmVzKCk/KGw9ZixjPXApOnAuZXhwYW5kVG9RdWV1ZShoLGwpfXJldHVybltjLmdldEJvdW5kYWJsZSgwKS5nZXRJdGVtKCksYy5nZXRCb3VuZGFibGUoMSkuZ2V0SXRlbSgpXX19ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGc9YXJndW1lbnRzWzBdLGQ9YXJndW1lbnRzWzFdLHk9YXJndW1lbnRzWzJdLHY9bmV3IFpoKGcsZCksXz1uZXcgcnAodGhpcy5nZXRSb290KCksdix5KTtyZXR1cm4gdGhpcy5uZWFyZXN0TmVpZ2hib3VyKF8pWzBdfX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bJGgsYWxdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlLmNlbnRyZVg9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYXZnKHQuZ2V0TWluWCgpLHQuZ2V0TWF4WCgpKX0sZS5hdmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4odCtlKS8yfSxlLmNlbnRyZVk9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYXZnKHQuZ2V0TWluWSgpLHQuZ2V0TWF4WSgpKX0sbi5TVFJ0cmVlTm9kZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbHB9LG4uc2VyaWFsVmVyc2lvblVJRC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMHgzOTkyMGY3ZDVmMjYxZTB9LG4ueENvbXBhcmF0b3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue2ludGVyZmFjZXNfOmZ1bmN0aW9uKCl7cmV0dXJuW3NsXX0sY29tcGFyZTpmdW5jdGlvbihuLHIpe3JldHVybiB0LmNvbXBhcmVEb3VibGVzKGUuY2VudHJlWChuLmdldEJvdW5kcygpKSxlLmNlbnRyZVgoci5nZXRCb3VuZHMoKSkpfX19LG4ueUNvbXBhcmF0b3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJue2ludGVyZmFjZXNfOmZ1bmN0aW9uKCl7cmV0dXJuW3NsXX0sY29tcGFyZTpmdW5jdGlvbihuLHIpe3JldHVybiB0LmNvbXBhcmVEb3VibGVzKGUuY2VudHJlWShuLmdldEJvdW5kcygpKSxlLmNlbnRyZVkoci5nZXRCb3VuZHMoKSkpfX19LG4uaW50ZXJzZWN0c09wLmdldD1mdW5jdGlvbigpe3JldHVybntpbnRlcmZhY2VzXzpmdW5jdGlvbigpe3JldHVyblt0LkludGVyc2VjdHNPcF19LGludGVyc2VjdHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pbnRlcnNlY3RzKGUpfX19LG4uREVGQVVMVF9OT0RFX0NBUEFDSVRZLmdldD1mdW5jdGlvbigpe3JldHVybiAxMH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxuKSxlfShpcCksbHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPWFyZ3VtZW50c1swXTt0LmNhbGwodGhpcyxlKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuY29tcHV0ZUJvdW5kcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1udWxsLGU9dGhpcy5nZXRDaGlsZEJvdW5kYWJsZXMoKS5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7bnVsbD09PXQ/dD1uZXcgTGwobi5nZXRCb3VuZHMoKSk6dC5leHBhbmRUb0luY2x1ZGUobi5nZXRCb3VuZHMoKSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KHRwKSxjcD1mdW5jdGlvbigpe307Y3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGNwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBjcH0sY3AucmVsYXRpdmVTaWduPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfSxjcC5jb21wYXJlPWZ1bmN0aW9uKHQsZSxuKXtpZihlLmVxdWFsczJEKG4pKXJldHVybiAwO3ZhciByPWNwLnJlbGF0aXZlU2lnbihlLngsbi54KSxpPWNwLnJlbGF0aXZlU2lnbihlLnksbi55KTtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiBjcC5jb21wYXJlVmFsdWUocixpKTtjYXNlIDE6cmV0dXJuIGNwLmNvbXBhcmVWYWx1ZShpLHIpO2Nhc2UgMjpyZXR1cm4gY3AuY29tcGFyZVZhbHVlKGksLXIpO2Nhc2UgMzpyZXR1cm4gY3AuY29tcGFyZVZhbHVlKC1yLGkpO2Nhc2UgNDpyZXR1cm4gY3AuY29tcGFyZVZhbHVlKC1yLC1pKTtjYXNlIDU6cmV0dXJuIGNwLmNvbXBhcmVWYWx1ZSgtaSwtcik7Y2FzZSA2OnJldHVybiBjcC5jb21wYXJlVmFsdWUoLWkscik7Y2FzZSA3OnJldHVybiBjcC5jb21wYXJlVmFsdWUociwtaSl9cmV0dXJuIHFsLnNob3VsZE5ldmVyUmVhY2hIZXJlKCJpbnZhbGlkIG9jdGFudCB2YWx1ZSIpLDB9LGNwLmNvbXBhcmVWYWx1ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0PDA/LTE6dD4wPzE6ZTwwPy0xOmU+MD8xOjB9O3ZhciBocD1mdW5jdGlvbigpe3RoaXMuX3NlZ1N0cmluZz1udWxsLHRoaXMuY29vcmQ9bnVsbCx0aGlzLnNlZ21lbnRJbmRleD1udWxsLHRoaXMuX3NlZ21lbnRPY3RhbnQ9bnVsbCx0aGlzLl9pc0ludGVyaW9yPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdLHI9YXJndW1lbnRzWzNdO3RoaXMuX3NlZ1N0cmluZz10LHRoaXMuY29vcmQ9bmV3IHVsKGUpLHRoaXMuc2VnbWVudEluZGV4PW4sdGhpcy5fc2VnbWVudE9jdGFudD1yLHRoaXMuX2lzSW50ZXJpb3I9IWUuZXF1YWxzMkQodC5nZXRDb29yZGluYXRlKG4pKX07aHAucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZH0saHAucHJvdG90eXBlLnByaW50PWZ1bmN0aW9uKHQpe3QucHJpbnQodGhpcy5jb29yZCksdC5wcmludCgiIHNlZyAjID0gIit0aGlzLnNlZ21lbnRJbmRleCl9LGhwLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dDtyZXR1cm4gdGhpcy5zZWdtZW50SW5kZXg8ZS5zZWdtZW50SW5kZXg/LTE6dGhpcy5zZWdtZW50SW5kZXg+ZS5zZWdtZW50SW5kZXg/MTp0aGlzLmNvb3JkLmVxdWFsczJEKGUuY29vcmQpPzA6Y3AuY29tcGFyZSh0aGlzLl9zZWdtZW50T2N0YW50LHRoaXMuY29vcmQsZS5jb29yZCl9LGhwLnByb3RvdHlwZS5pc0VuZFBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiAwPT09dGhpcy5zZWdtZW50SW5kZXgmJiF0aGlzLl9pc0ludGVyaW9yfHx0aGlzLnNlZ21lbnRJbmRleD09PXR9LGhwLnByb3RvdHlwZS5pc0ludGVyaW9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSW50ZXJpb3J9LGhwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbF19LGhwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBocH07dmFyIHBwPWZ1bmN0aW9uKCl7dGhpcy5fbm9kZU1hcD1uZXcgQ2MsdGhpcy5fZWRnZT1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9lZGdlPXR9O3BwLnByb3RvdHlwZS5nZXRTcGxpdENvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGhjO3RoaXMuYWRkRW5kcG9pbnRzKCk7Zm9yKHZhciBlPXRoaXMuaXRlcmF0b3IoKSxuPWUubmV4dCgpO2UuaGFzTmV4dCgpOyl7dmFyIHI9ZS5uZXh0KCk7dGhpcy5hZGRFZGdlQ29vcmRpbmF0ZXMobixyLHQpLG49cn1yZXR1cm4gdC50b0Nvb3JkaW5hdGVBcnJheSgpfSxwcC5wcm90b3R5cGUuYWRkQ29sbGFwc2VkTm9kZXM9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbGM7dGhpcy5maW5kQ29sbGFwc2VzRnJvbUluc2VydGVkTm9kZXModCksdGhpcy5maW5kQ29sbGFwc2VzRnJvbUV4aXN0aW5nVmVydGljZXModCk7Zm9yKHZhciBlPXQuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpLmludFZhbHVlKCk7dGhpcy5hZGQodGhpcy5fZWRnZS5nZXRDb29yZGluYXRlKG4pLG4pfX0scHAucHJvdG90eXBlLnByaW50PWZ1bmN0aW9uKHQpe3QucHJpbnRsbigiSW50ZXJzZWN0aW9uczoiKTtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7ZS5uZXh0KCkucHJpbnQodCl9fSxwcC5wcm90b3R5cGUuZmluZENvbGxhcHNlc0Zyb21FeGlzdGluZ1ZlcnRpY2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fZWRnZS5zaXplKCktMjtlKyspe3ZhciBuPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZShlKSxyPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZShlKzIpO24uZXF1YWxzMkQocikmJnQuYWRkKG5ldyBfbChlKzEpKX19LHBwLnByb3RvdHlwZS5hZGRFZGdlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZShlLnNlZ21lbnRJbmRleCksaT1lLmlzSW50ZXJpb3IoKXx8IWUuY29vcmQuZXF1YWxzMkQocik7bi5hZGQobmV3IHVsKHQuY29vcmQpLCExKTtmb3IodmFyIG89dC5zZWdtZW50SW5kZXgrMTtvPD1lLnNlZ21lbnRJbmRleDtvKyspbi5hZGQodGhpcy5fZWRnZS5nZXRDb29yZGluYXRlKG8pKTtpJiZuLmFkZChuZXcgdWwoZS5jb29yZCkpfSxwcC5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZU1hcC52YWx1ZXMoKS5pdGVyYXRvcigpfSxwcC5wcm90b3R5cGUuYWRkU3BsaXRFZGdlcz1mdW5jdGlvbih0KXt0aGlzLmFkZEVuZHBvaW50cygpLHRoaXMuYWRkQ29sbGFwc2VkTm9kZXMoKTtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpLG49ZS5uZXh0KCk7ZS5oYXNOZXh0KCk7KXt2YXIgcj1lLm5leHQoKSxpPXRoaXMuY3JlYXRlU3BsaXRFZGdlKG4scik7dC5hZGQoaSksbj1yfX0scHAucHJvdG90eXBlLmZpbmRDb2xsYXBzZUluZGV4PWZ1bmN0aW9uKHQsZSxuKXtpZighdC5jb29yZC5lcXVhbHMyRChlLmNvb3JkKSlyZXR1cm4hMTt2YXIgcj1lLnNlZ21lbnRJbmRleC10LnNlZ21lbnRJbmRleDtyZXR1cm4gZS5pc0ludGVyaW9yKCl8fHItLSwxPT09ciYmKG5bMF09dC5zZWdtZW50SW5kZXgrMSwhMCl9LHBwLnByb3RvdHlwZS5maW5kQ29sbGFwc2VzRnJvbUluc2VydGVkTm9kZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSgxKS5maWxsKG51bGwpLG49dGhpcy5pdGVyYXRvcigpLHI9bi5uZXh0KCk7bi5oYXNOZXh0KCk7KXt2YXIgaT1uLm5leHQoKTt0aGlzLmZpbmRDb2xsYXBzZUluZGV4KHIsaSxlKSYmdC5hZGQobmV3IF9sKGVbMF0pKSxyPWl9fSxwcC5wcm90b3R5cGUuZ2V0RWRnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlfSxwcC5wcm90b3R5cGUuYWRkRW5kcG9pbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZWRnZS5zaXplKCktMTt0aGlzLmFkZCh0aGlzLl9lZGdlLmdldENvb3JkaW5hdGUoMCksMCksdGhpcy5hZGQodGhpcy5fZWRnZS5nZXRDb29yZGluYXRlKHQpLHQpfSxwcC5wcm90b3R5cGUuY3JlYXRlU3BsaXRFZGdlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5zZWdtZW50SW5kZXgtdC5zZWdtZW50SW5kZXgrMixyPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZShlLnNlZ21lbnRJbmRleCksaT1lLmlzSW50ZXJpb3IoKXx8IWUuY29vcmQuZXF1YWxzMkQocik7aXx8bi0tO3ZhciBvPW5ldyBBcnJheShuKS5maWxsKG51bGwpLHM9MDtvW3MrK109bmV3IHVsKHQuY29vcmQpO2Zvcih2YXIgYT10LnNlZ21lbnRJbmRleCsxO2E8PWUuc2VnbWVudEluZGV4O2ErKylvW3MrK109dGhpcy5fZWRnZS5nZXRDb29yZGluYXRlKGEpO3JldHVybiBpJiYob1tzXT1uZXcgdWwoZS5jb29yZCkpLG5ldyB5cChvLHRoaXMuX2VkZ2UuZ2V0RGF0YSgpKX0scHAucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBocCh0aGlzLl9lZGdlLHQsZSx0aGlzLl9lZGdlLmdldFNlZ21lbnRPY3RhbnQoZSkpLHI9dGhpcy5fbm9kZU1hcC5nZXQobik7cmV0dXJuIG51bGwhPT1yPyhxbC5pc1RydWUoci5jb29yZC5lcXVhbHMyRCh0KSwiRm91bmQgZXF1YWwgbm9kZXMgd2l0aCBkaWZmZXJlbnQgY29vcmRpbmF0ZXMiKSxyKToodGhpcy5fbm9kZU1hcC5wdXQobixuKSxuKX0scHAucHJvdG90eXBlLmNoZWNrU3BsaXRFZGdlc0NvcnJlY3RuZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2VkZ2UuZ2V0Q29vcmRpbmF0ZXMoKSxuPXQuZ2V0KDApLmdldENvb3JkaW5hdGUoMCk7aWYoIW4uZXF1YWxzMkQoZVswXSkpdGhyb3cgbmV3IGtsKCJiYWQgc3BsaXQgZWRnZSBzdGFydCBwb2ludCBhdCAiK24pO3ZhciByPXQuZ2V0KHQuc2l6ZSgpLTEpLmdldENvb3JkaW5hdGVzKCksaT1yW3IubGVuZ3RoLTFdO2lmKCFpLmVxdWFsczJEKGVbZS5sZW5ndGgtMV0pKXRocm93IG5ldyBrbCgiYmFkIHNwbGl0IGVkZ2UgZW5kIHBvaW50IGF0ICIraSl9LHBwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxwcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gcHB9O3ZhciBmcD1mdW5jdGlvbigpe307ZnAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGZwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBmcH0sZnAub2N0YW50PWZ1bmN0aW9uKCl7aWYoIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJiJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzFdKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07aWYoMD09PXQmJjA9PT1lKXRocm93IG5ldyBlbCgiQ2Fubm90IGNvbXB1dGUgdGhlIG9jdGFudCBmb3IgcG9pbnQgKCAiK3QrIiwgIitlKyIgKSIpO3ZhciBuPU1hdGguYWJzKHQpLHI9TWF0aC5hYnMoZSk7cmV0dXJuIHQ+PTA/ZT49MD9uPj1yPzA6MTpuPj1yPzc6NjplPj0wP24+PXI/MzoyOm4+PXI/NDo1fWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgdWwpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPW8ueC1pLngsYT1vLnktaS55O2lmKDA9PT1zJiYwPT09YSl0aHJvdyBuZXcgZWwoIkNhbm5vdCBjb21wdXRlIHRoZSBvY3RhbnQgZm9yIHR3byBpZGVudGljYWwgcG9pbnRzICIraSk7cmV0dXJuIGZwLm9jdGFudChzLGEpfX07dmFyIGdwPWZ1bmN0aW9uKCl7fTtncC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXt9LGdwLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7fSxncC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbih0KXt9LGdwLnByb3RvdHlwZS5pc0Nsb3NlZD1mdW5jdGlvbigpe30sZ3AucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7fSxncC5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe30sZ3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGdwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBncH07dmFyIGRwPWZ1bmN0aW9uKCl7fTtkcC5wcm90b3R5cGUuYWRkSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSl7fSxkcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bZ3BdfSxkcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZHB9O3ZhciB5cD1mdW5jdGlvbigpe3RoaXMuX25vZGVMaXN0PW5ldyBwcCh0aGlzKSx0aGlzLl9wdHM9bnVsbCx0aGlzLl9kYXRhPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdO3RoaXMuX3B0cz10LHRoaXMuX2RhdGE9ZX07eXAucHJvdG90eXBlLmdldENvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3B0c30seXAucHJvdG90eXBlLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHRzLmxlbmd0aH0seXAucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3B0c1t0XX0seXAucHJvdG90eXBlLmlzQ2xvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3B0c1swXS5lcXVhbHModGhpcy5fcHRzW3RoaXMuX3B0cy5sZW5ndGgtMV0pfSx5cC5wcm90b3R5cGUuZ2V0U2VnbWVudE9jdGFudD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXMuX3B0cy5sZW5ndGgtMT8tMTp0aGlzLnNhZmVPY3RhbnQodGhpcy5nZXRDb29yZGluYXRlKHQpLHRoaXMuZ2V0Q29vcmRpbmF0ZSh0KzEpKX0seXAucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24odCl7dGhpcy5fZGF0YT10fSx5cC5wcm90b3R5cGUuc2FmZU9jdGFudD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmVxdWFsczJEKGUpPzA6ZnAub2N0YW50KHQsZSl9LHlwLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9LHlwLnByb3RvdHlwZS5hZGRJbnRlcnNlY3Rpb249ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdO3RoaXMuYWRkSW50ZXJzZWN0aW9uTm9kZSh0LGUpfWVsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50c1szXSxvPW5ldyB1bChuLmdldEludGVyc2VjdGlvbihpKSk7dGhpcy5hZGRJbnRlcnNlY3Rpb24obyxyKX19LHlwLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBGbC50b0xpbmVTdHJpbmcobmV3IGxoKHRoaXMuX3B0cykpfSx5cC5wcm90b3R5cGUuZ2V0Tm9kZUxpc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZUxpc3R9LHlwLnByb3RvdHlwZS5hZGRJbnRlcnNlY3Rpb25Ob2RlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZSxyPW4rMTtpZihyPHRoaXMuX3B0cy5sZW5ndGgpe3ZhciBpPXRoaXMuX3B0c1tyXTt0LmVxdWFsczJEKGkpJiYobj1yKX1yZXR1cm4gdGhpcy5fbm9kZUxpc3QuYWRkKHQsbil9LHlwLnByb3RvdHlwZS5hZGRJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9MDtyPHQuZ2V0SW50ZXJzZWN0aW9uTnVtKCk7cisrKXRoaXMuYWRkSW50ZXJzZWN0aW9uKHQsZSxuLHIpfSx5cC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bZHBdfSx5cC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4geXB9LHlwLmdldE5vZGVkU3Vic3RyaW5ncz1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1uZXcgbGM7cmV0dXJuIHlwLmdldE5vZGVkU3Vic3RyaW5ncyh0LGUpLGV9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPW4uaXRlcmF0b3IoKTtpLmhhc05leHQoKTspe3ZhciBvPWkubmV4dCgpO28uZ2V0Tm9kZUxpc3QoKS5hZGRTcGxpdEVkZ2VzKHIpfX07dmFyIHZwPWZ1bmN0aW9uKCl7aWYodGhpcy5wMD1udWxsLHRoaXMucDE9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLnAwPW5ldyB1bCx0aGlzLnAxPW5ldyB1bDtlbHNlIGlmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5wMD1uZXcgdWwodC5wMCksdGhpcy5wMT1uZXcgdWwodC5wMSl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl0aGlzLnAwPWFyZ3VtZW50c1swXSx0aGlzLnAxPWFyZ3VtZW50c1sxXTtlbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl0saT1hcmd1bWVudHNbM107dGhpcy5wMD1uZXcgdWwoZSxuKSx0aGlzLnAxPW5ldyB1bChyLGkpfX0sX3A9e3NlcmlhbFZlcnNpb25VSUQ6e2NvbmZpZ3VyYWJsZTohMH19O3ZwLnByb3RvdHlwZS5taW5YPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWluKHRoaXMucDAueCx0aGlzLnAxLngpfSx2cC5wcm90b3R5cGUub3JpZW50YXRpb25JbmRleD1mdW5jdGlvbigpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdnApe3ZhciB0PWFyZ3VtZW50c1swXSxlPVhsLm9yaWVudGF0aW9uSW5kZXgodGhpcy5wMCx0aGlzLnAxLHQucDApLG49WGwub3JpZW50YXRpb25JbmRleCh0aGlzLnAwLHRoaXMucDEsdC5wMSk7cmV0dXJuIGU+PTAmJm4+PTB8fGU8PTAmJm48PTA/TWF0aC5tYXgoZSxuKTowfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciByPWFyZ3VtZW50c1swXTtyZXR1cm4gWGwub3JpZW50YXRpb25JbmRleCh0aGlzLnAwLHRoaXMucDEscil9fSx2cC5wcm90b3R5cGUudG9HZW9tZXRyeT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jcmVhdGVMaW5lU3RyaW5nKFt0aGlzLnAwLHRoaXMucDFdKX0sdnAucHJvdG90eXBlLmlzVmVydGljYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wMC54PT09dGhpcy5wMS54fSx2cC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIHZwKSlyZXR1cm4hMTt2YXIgZT10O3JldHVybiB0aGlzLnAwLmVxdWFscyhlLnAwKSYmdGhpcy5wMS5lcXVhbHMoZS5wMSl9LHZwLnByb3RvdHlwZS5pbnRlcnNlY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGpsO3JldHVybiBlLmNvbXB1dGVJbnRlcnNlY3Rpb24odGhpcy5wMCx0aGlzLnAxLHQucDAsdC5wMSksZS5oYXNJbnRlcnNlY3Rpb24oKT9lLmdldEludGVyc2VjdGlvbigwKTpudWxsfSx2cC5wcm90b3R5cGUucHJvamVjdD1mdW5jdGlvbigpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwpe3ZhciB0PWFyZ3VtZW50c1swXTtpZih0LmVxdWFscyh0aGlzLnAwKXx8dC5lcXVhbHModGhpcy5wMSkpcmV0dXJuIG5ldyB1bCh0KTt2YXIgZT10aGlzLnByb2plY3Rpb25GYWN0b3IodCksbj1uZXcgdWw7cmV0dXJuIG4ueD10aGlzLnAwLngrZSoodGhpcy5wMS54LXRoaXMucDAueCksbi55PXRoaXMucDAueStlKih0aGlzLnAxLnktdGhpcy5wMC55KSxufWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdnApe3ZhciByPWFyZ3VtZW50c1swXSxpPXRoaXMucHJvamVjdGlvbkZhY3RvcihyLnAwKSxvPXRoaXMucHJvamVjdGlvbkZhY3RvcihyLnAxKTtpZihpPj0xJiZvPj0xKXJldHVybiBudWxsO2lmKGk8PTAmJm88PTApcmV0dXJuIG51bGw7dmFyIHM9dGhpcy5wcm9qZWN0KHIucDApO2k8MCYmKHM9dGhpcy5wMCksaT4xJiYocz10aGlzLnAxKTt2YXIgYT10aGlzLnByb2plY3Qoci5wMSk7cmV0dXJuIG88MCYmKGE9dGhpcy5wMCksbz4xJiYoYT10aGlzLnAxKSxuZXcgdnAocyxhKX19LHZwLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt0aGlzLnAxLmNvbXBhcmVUbyh0aGlzLnAwKTwwJiZ0aGlzLnJldmVyc2UoKX0sdnAucHJvdG90eXBlLmFuZ2xlPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy5wMS55LXRoaXMucDAueSx0aGlzLnAxLngtdGhpcy5wMC54KX0sdnAucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10P3RoaXMucDA6dGhpcy5wMX0sdnAucHJvdG90eXBlLmRpc3RhbmNlUGVycGVuZGljdWxhcj1mdW5jdGlvbih0KXtyZXR1cm4gWGwuZGlzdGFuY2VQb2ludExpbmVQZXJwZW5kaWN1bGFyKHQsdGhpcy5wMCx0aGlzLnAxKX0sdnAucHJvdG90eXBlLm1pblk9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5taW4odGhpcy5wMC55LHRoaXMucDEueSl9LHZwLnByb3RvdHlwZS5taWRQb2ludD1mdW5jdGlvbigpe3JldHVybiB2cC5taWRQb2ludCh0aGlzLnAwLHRoaXMucDEpfSx2cC5wcm90b3R5cGUucHJvamVjdGlvbkZhY3Rvcj1mdW5jdGlvbih0KXtpZih0LmVxdWFscyh0aGlzLnAwKSlyZXR1cm4gMDtpZih0LmVxdWFscyh0aGlzLnAxKSlyZXR1cm4gMTt2YXIgZT10aGlzLnAxLngtdGhpcy5wMC54LG49dGhpcy5wMS55LXRoaXMucDAueSxyPWUqZStuKm47cmV0dXJuIHI8PTA/bmwuTmFOOigodC54LXRoaXMucDAueCkqZSsodC55LXRoaXMucDAueSkqbikvcn0sdnAucHJvdG90eXBlLmNsb3Nlc3RQb2ludHM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5pbnRlcnNlY3Rpb24odCk7aWYobnVsbCE9PWUpcmV0dXJuW2UsZV07dmFyIG49bmV3IEFycmF5KDIpLmZpbGwobnVsbCkscj1ubC5NQVhfVkFMVUUsaT1udWxsLG89dGhpcy5jbG9zZXN0UG9pbnQodC5wMCk7cj1vLmRpc3RhbmNlKHQucDApLG5bMF09byxuWzFdPXQucDA7dmFyIHM9dGhpcy5jbG9zZXN0UG9pbnQodC5wMSk7KGk9cy5kaXN0YW5jZSh0LnAxKSk8ciYmKHI9aSxuWzBdPXMsblsxXT10LnAxKTt2YXIgYT10LmNsb3Nlc3RQb2ludCh0aGlzLnAwKTsoaT1hLmRpc3RhbmNlKHRoaXMucDApKTxyJiYocj1pLG5bMF09dGhpcy5wMCxuWzFdPWEpO3ZhciB1PXQuY2xvc2VzdFBvaW50KHRoaXMucDEpO3JldHVybihpPXUuZGlzdGFuY2UodGhpcy5wMSkpPHImJihyPWksblswXT10aGlzLnAxLG5bMV09dSksbn0sdnAucHJvdG90eXBlLmNsb3Nlc3RQb2ludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnByb2plY3Rpb25GYWN0b3IodCk7cmV0dXJuIGU+MCYmZTwxP3RoaXMucHJvamVjdCh0KTp0aGlzLnAwLmRpc3RhbmNlKHQpPHRoaXMucDEuZGlzdGFuY2UodCk/dGhpcy5wMDp0aGlzLnAxfSx2cC5wcm90b3R5cGUubWF4WD1mdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCh0aGlzLnAwLngsdGhpcy5wMS54KX0sdnAucHJvdG90eXBlLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnAwLmRpc3RhbmNlKHRoaXMucDEpfSx2cC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQsbj10aGlzLnAwLmNvbXBhcmVUbyhlLnAwKTtyZXR1cm4gMCE9PW4/bjp0aGlzLnAxLmNvbXBhcmVUbyhlLnAxKX0sdnAucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnAwO3RoaXMucDA9dGhpcy5wMSx0aGlzLnAxPXR9LHZwLnByb3RvdHlwZS5lcXVhbHNUb3BvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnAwLmVxdWFscyh0LnAwKSYmKHRoaXMucDEuZXF1YWxzKHQucDEpfHx0aGlzLnAwLmVxdWFscyh0LnAxKSkmJnRoaXMucDEuZXF1YWxzKHQucDApfSx2cC5wcm90b3R5cGUubGluZUludGVyc2VjdGlvbj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIE1sLmludGVyc2VjdGlvbih0aGlzLnAwLHRoaXMucDEsdC5wMCx0LnAxKX1jYXRjaCh0KXtpZighKHQgaW5zdGFuY2VvZiBDbCkpdGhyb3cgdH1yZXR1cm4gbnVsbH0sdnAucHJvdG90eXBlLm1heFk9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgodGhpcy5wMC55LHRoaXMucDEueSl9LHZwLnByb3RvdHlwZS5wb2ludEFsb25nT2Zmc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5wMC54K3QqKHRoaXMucDEueC10aGlzLnAwLngpLHI9dGhpcy5wMC55K3QqKHRoaXMucDEueS10aGlzLnAwLnkpLGk9dGhpcy5wMS54LXRoaXMucDAueCxvPXRoaXMucDEueS10aGlzLnAwLnkscz1NYXRoLnNxcnQoaSppK28qbyksYT0wLHU9MDtpZigwIT09ZSl7aWYoczw9MCl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBjb21wdXRlIG9mZnNldCBmcm9tIHplcm8tbGVuZ3RoIGxpbmUgc2VnbWVudCIpO2E9ZSppL3MsdT1lKm8vc31yZXR1cm4gbmV3IHVsKG4tdSxyK2EpfSx2cC5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuc2V0Q29vcmRpbmF0ZXModC5wMCx0LnAxKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dGhpcy5wMC54PWUueCx0aGlzLnAwLnk9ZS55LHRoaXMucDEueD1uLngsdGhpcy5wMS55PW4ueX19LHZwLnByb3RvdHlwZS5zZWdtZW50RnJhY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wcm9qZWN0aW9uRmFjdG9yKHQpO3JldHVybiBlPDA/ZT0wOihlPjF8fG5sLmlzTmFOKGUpKSYmKGU9MSksZX0sdnAucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkxJTkVTVFJJTkcoICIrdGhpcy5wMC54KyIgIit0aGlzLnAwLnkrIiwgIit0aGlzLnAxLngrIiAiK3RoaXMucDEueSsiKSJ9LHZwLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wMC55PT09dGhpcy5wMS55fSx2cC5wcm90b3R5cGUuZGlzdGFuY2U9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHZwKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIFhsLmRpc3RhbmNlTGluZUxpbmUodGhpcy5wMCx0aGlzLnAxLHQucDAsdC5wMSl9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB1bCl7dmFyIGU9YXJndW1lbnRzWzBdO3JldHVybiBYbC5kaXN0YW5jZVBvaW50TGluZShlLHRoaXMucDAsdGhpcy5wMSl9fSx2cC5wcm90b3R5cGUucG9pbnRBbG9uZz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdWw7cmV0dXJuIGUueD10aGlzLnAwLngrdCoodGhpcy5wMS54LXRoaXMucDAueCksZS55PXRoaXMucDAueSt0Kih0aGlzLnAxLnktdGhpcy5wMC55KSxlfSx2cC5wcm90b3R5cGUuaGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgdD1ubC5kb3VibGVUb0xvbmdCaXRzKHRoaXMucDAueCk7dF49MzEqbmwuZG91YmxlVG9Mb25nQml0cyh0aGlzLnAwLnkpO3ZhciBlPU1hdGgudHJ1bmModCleTWF0aC50cnVuYyh0Pj4zMiksbj1ubC5kb3VibGVUb0xvbmdCaXRzKHRoaXMucDEueCk7cmV0dXJuIG5ePTMxKm5sLmRvdWJsZVRvTG9uZ0JpdHModGhpcy5wMS55KSxlXihNYXRoLnRydW5jKG4pXk1hdGgudHJ1bmMobj4+MzIpKX0sdnAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsLGFsXX0sdnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHZwfSx2cC5taWRQb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdWwoKHQueCtlLngpLzIsKHQueStlLnkpLzIpfSxfcC5zZXJpYWxWZXJzaW9uVUlELmdldD1mdW5jdGlvbigpe3JldHVybiAweDJkMjE3MjEzNWY0MTFjMDB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHZwLF9wKTt2YXIgbXA9ZnVuY3Rpb24oKXt0aGlzLnRlbXBFbnYxPW5ldyBMbCx0aGlzLnRlbXBFbnYyPW5ldyBMbCx0aGlzLl9vdmVybGFwU2VnMT1uZXcgdnAsdGhpcy5fb3ZlcmxhcFNlZzI9bmV3IHZwfTttcC5wcm90b3R5cGUub3ZlcmxhcD1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKTtlbHNlIGlmKDQ9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl0scj1hcmd1bWVudHNbM107dC5nZXRMaW5lU2VnbWVudChlLHRoaXMuX292ZXJsYXBTZWcxKSxuLmdldExpbmVTZWdtZW50KHIsdGhpcy5fb3ZlcmxhcFNlZzIpLHRoaXMub3ZlcmxhcCh0aGlzLl9vdmVybGFwU2VnMSx0aGlzLl9vdmVybGFwU2VnMil9fSxtcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sbXAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIG1wfTt2YXIgeHA9ZnVuY3Rpb24oKXt0aGlzLl9wdHM9bnVsbCx0aGlzLl9zdGFydD1udWxsLHRoaXMuX2VuZD1udWxsLHRoaXMuX2Vudj1udWxsLHRoaXMuX2NvbnRleHQ9bnVsbCx0aGlzLl9pZD1udWxsO3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50c1syXSxyPWFyZ3VtZW50c1szXTt0aGlzLl9wdHM9dCx0aGlzLl9zdGFydD1lLHRoaXMuX2VuZD1uLHRoaXMuX2NvbnRleHQ9cn07eHAucHJvdG90eXBlLmdldExpbmVTZWdtZW50PWZ1bmN0aW9uKHQsZSl7ZS5wMD10aGlzLl9wdHNbdF0sZS5wMT10aGlzLl9wdHNbdCsxXX0seHAucHJvdG90eXBlLmNvbXB1dGVTZWxlY3Q9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcy5fcHRzW2VdLG89dGhpcy5fcHRzW25dO2lmKHIudGVtcEVudjEuaW5pdChpLG8pLG4tZT09MSlyZXR1cm4gci5zZWxlY3QodGhpcyxlKSxudWxsO2lmKCF0LmludGVyc2VjdHMoci50ZW1wRW52MSkpcmV0dXJuIG51bGw7dmFyIHM9TWF0aC50cnVuYygoZStuKS8yKTtlPHMmJnRoaXMuY29tcHV0ZVNlbGVjdCh0LGUscyxyKSxzPG4mJnRoaXMuY29tcHV0ZVNlbGVjdCh0LHMsbixyKX0seHAucHJvdG90eXBlLmdldENvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSh0aGlzLl9lbmQtdGhpcy5fc3RhcnQrMSkuZmlsbChudWxsKSxlPTAsbj10aGlzLl9zdGFydDtuPD10aGlzLl9lbmQ7bisrKXRbZSsrXT10aGlzLl9wdHNbbl07cmV0dXJuIHR9LHhwLnByb3RvdHlwZS5jb21wdXRlT3ZlcmxhcHM9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbXB1dGVPdmVybGFwc0ludGVybmFsKHRoaXMuX3N0YXJ0LHRoaXMuX2VuZCx0LHQuX3N0YXJ0LHQuX2VuZCxlKX0seHAucHJvdG90eXBlLnNldElkPWZ1bmN0aW9uKHQpe3RoaXMuX2lkPXR9LHhwLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbXB1dGVTZWxlY3QodCx0aGlzLl9zdGFydCx0aGlzLl9lbmQsZSl9LHhwLnByb3RvdHlwZS5nZXRFbnZlbG9wZT1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLl9lbnYpe3ZhciB0PXRoaXMuX3B0c1t0aGlzLl9zdGFydF0sZT10aGlzLl9wdHNbdGhpcy5fZW5kXTt0aGlzLl9lbnY9bmV3IExsKHQsZSl9cmV0dXJuIHRoaXMuX2Vudn0seHAucHJvdG90eXBlLmdldEVuZEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZH0seHAucHJvdG90eXBlLmdldFN0YXJ0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhcnR9LHhwLnByb3RvdHlwZS5nZXRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRleHR9LHhwLnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZH0seHAucHJvdG90eXBlLmNvbXB1dGVPdmVybGFwc0ludGVybmFsPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXt2YXIgcz10aGlzLl9wdHNbdF0sYT10aGlzLl9wdHNbZV0sdT1uLl9wdHNbcl0sbD1uLl9wdHNbaV07aWYoZS10PT0xJiZpLXI9PTEpcmV0dXJuIG8ub3ZlcmxhcCh0aGlzLHQsbixyKSxudWxsO2lmKG8udGVtcEVudjEuaW5pdChzLGEpLG8udGVtcEVudjIuaW5pdCh1LGwpLCFvLnRlbXBFbnYxLmludGVyc2VjdHMoby50ZW1wRW52MikpcmV0dXJuIG51bGw7dmFyIGM9TWF0aC50cnVuYygodCtlKS8yKSxoPU1hdGgudHJ1bmMoKHIraSkvMik7dDxjJiYocjxoJiZ0aGlzLmNvbXB1dGVPdmVybGFwc0ludGVybmFsKHQsYyxuLHIsaCxvKSxoPGkmJnRoaXMuY29tcHV0ZU92ZXJsYXBzSW50ZXJuYWwodCxjLG4saCxpLG8pKSxjPGUmJihyPGgmJnRoaXMuY29tcHV0ZU92ZXJsYXBzSW50ZXJuYWwoYyxlLG4scixoLG8pLGg8aSYmdGhpcy5jb21wdXRlT3ZlcmxhcHNJbnRlcm5hbChjLGUsbixoLGksbykpfSx4cC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0seHAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHhwfTt2YXIgRXA9ZnVuY3Rpb24oKXt9O0VwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxFcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gRXB9LEVwLmdldENoYWluU3RhcnRJbmRpY2VzPWZ1bmN0aW9uKHQpe3ZhciBlPTAsbj1uZXcgbGM7bi5hZGQobmV3IF9sKGUpKTtkb3t2YXIgcj1FcC5maW5kQ2hhaW5FbmQodCxlKTtuLmFkZChuZXcgX2wocikpLGU9cn13aGlsZShlPHQubGVuZ3RoLTEpO3JldHVybiBFcC50b0ludEFycmF5KG4pfSxFcC5maW5kQ2hhaW5FbmQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZTtuPHQubGVuZ3RoLTEmJnRbbl0uZXF1YWxzMkQodFtuKzFdKTspbisrO2lmKG4+PXQubGVuZ3RoLTEpcmV0dXJuIHQubGVuZ3RoLTE7Zm9yKHZhciByPWpoLnF1YWRyYW50KHRbbl0sdFtuKzFdKSxpPWUrMTtpPHQubGVuZ3RoOyl7aWYoIXRbaS0xXS5lcXVhbHMyRCh0W2ldKSlpZihqaC5xdWFkcmFudCh0W2ktMV0sdFtpXSkhPT1yKWJyZWFrO2krK31yZXR1cm4gaS0xfSxFcC5nZXRDaGFpbnM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiBFcC5nZXRDaGFpbnModCxudWxsKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPW5ldyBsYyxpPUVwLmdldENoYWluU3RhcnRJbmRpY2VzKGUpLG89MDtvPGkubGVuZ3RoLTE7bysrKXt2YXIgcz1uZXcgeHAoZSxpW29dLGlbbysxXSxuKTtyLmFkZChzKX1yZXR1cm4gcn19LEVwLnRvSW50QXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0LnNpemUoKSkuZmlsbChudWxsKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXT10LmdldChuKS5pbnRWYWx1ZSgpO3JldHVybiBlfTt2YXIgYnA9ZnVuY3Rpb24oKXt9O2JwLnByb3RvdHlwZS5jb21wdXRlTm9kZXM9ZnVuY3Rpb24odCl7fSxicC5wcm90b3R5cGUuZ2V0Tm9kZWRTdWJzdHJpbmdzPWZ1bmN0aW9uKCl7fSxicC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sYnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGJwfTt2YXIgd3A9ZnVuY3Rpb24oKXtpZih0aGlzLl9zZWdJbnQ9bnVsbCwwPT09YXJndW1lbnRzLmxlbmd0aCk7ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuc2V0U2VnbWVudEludGVyc2VjdG9yKHQpfX07d3AucHJvdG90eXBlLnNldFNlZ21lbnRJbnRlcnNlY3Rvcj1mdW5jdGlvbih0KXt0aGlzLl9zZWdJbnQ9dH0sd3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2JwXX0sd3AucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHdwfTt2YXIgSXA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtlP3QuY2FsbCh0aGlzLGUpOnQuY2FsbCh0aGlzKSx0aGlzLl9tb25vQ2hhaW5zPW5ldyBsYyx0aGlzLl9pbmRleD1uZXcgdXAsdGhpcy5faWRDb3VudGVyPTAsdGhpcy5fbm9kZWRTZWdTdHJpbmdzPW51bGwsdGhpcy5fbk92ZXJsYXBzPTB9dCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWU7dmFyIG49e1NlZ21lbnRPdmVybGFwQWN0aW9uOntjb25maWd1cmFibGU6ITB9fTtyZXR1cm4gZS5wcm90b3R5cGUuZ2V0TW9ub3RvbmVDaGFpbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9ub0NoYWluc30sZS5wcm90b3R5cGUuZ2V0Tm9kZWRTdWJzdHJpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIHlwLmdldE5vZGVkU3Vic3RyaW5ncyh0aGlzLl9ub2RlZFNlZ1N0cmluZ3MpfSxlLnByb3RvdHlwZS5nZXRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbmRleH0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49RXAuZ2V0Q2hhaW5zKHQuZ2V0Q29vcmRpbmF0ZXMoKSx0KS5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7ci5zZXRJZChlLl9pZENvdW50ZXIrKyksZS5faW5kZXguaW5zZXJ0KHIuZ2V0RW52ZWxvcGUoKSxyKSxlLl9tb25vQ2hhaW5zLmFkZChyKX19LGUucHJvdG90eXBlLmNvbXB1dGVOb2Rlcz1mdW5jdGlvbih0KXt0aGlzLl9ub2RlZFNlZ1N0cmluZ3M9dDtmb3IodmFyIGU9dC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl0aGlzLmFkZChlLm5leHQoKSk7dGhpcy5pbnRlcnNlY3RDaGFpbnMoKX0sZS5wcm90b3R5cGUuaW50ZXJzZWN0Q2hhaW5zPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT1uZXcgTnAodGhpcy5fc2VnSW50KSxuPXRoaXMuX21vbm9DaGFpbnMuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspZm9yKHZhciByPW4ubmV4dCgpLGk9dC5faW5kZXgucXVlcnkoci5nZXRFbnZlbG9wZSgpKS5pdGVyYXRvcigpO2kuaGFzTmV4dCgpOyl7dmFyIG89aS5uZXh0KCk7aWYoby5nZXRJZCgpPnIuZ2V0SWQoKSYmKHIuY29tcHV0ZU92ZXJsYXBzKG8sZSksdC5fbk92ZXJsYXBzKyspLHQuX3NlZ0ludC5pc0RvbmUoKSlyZXR1cm4gbnVsbH19LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LG4uU2VnbWVudE92ZXJsYXBBY3Rpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE5wfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLG4pLGV9KHdwKSxOcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMpLHRoaXMuX3NpPW51bGw7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuX3NpPWV9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLm92ZXJsYXA9ZnVuY3Rpb24oKXtpZig0IT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC5wcm90b3R5cGUub3ZlcmxhcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdLGk9YXJndW1lbnRzWzNdLG89ZS5nZXRDb250ZXh0KCkscz1yLmdldENvbnRleHQoKTt0aGlzLl9zaS5wcm9jZXNzSW50ZXJzZWN0aW9ucyhvLG4scyxpKX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0obXApLFNwPWZ1bmN0aW9uIHQoKXtpZih0aGlzLl9xdWFkcmFudFNlZ21lbnRzPXQuREVGQVVMVF9RVUFEUkFOVF9TRUdNRU5UUyx0aGlzLl9lbmRDYXBTdHlsZT10LkNBUF9ST1VORCx0aGlzLl9qb2luU3R5bGU9dC5KT0lOX1JPVU5ELHRoaXMuX21pdHJlTGltaXQ9dC5ERUZBVUxUX01JVFJFX0xJTUlULHRoaXMuX2lzU2luZ2xlU2lkZWQ9ITEsdGhpcy5fc2ltcGxpZnlGYWN0b3I9dC5ERUZBVUxUX1NJTVBMSUZZX0ZBQ1RPUiwwPT09YXJndW1lbnRzLmxlbmd0aCk7ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdO3RoaXMuc2V0UXVhZHJhbnRTZWdtZW50cyhlKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV07dGhpcy5zZXRRdWFkcmFudFNlZ21lbnRzKG4pLHRoaXMuc2V0RW5kQ2FwU3R5bGUocil9ZWxzZSBpZig0PT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdLGE9YXJndW1lbnRzWzNdO3RoaXMuc2V0UXVhZHJhbnRTZWdtZW50cyhpKSx0aGlzLnNldEVuZENhcFN0eWxlKG8pLHRoaXMuc2V0Sm9pblN0eWxlKHMpLHRoaXMuc2V0TWl0cmVMaW1pdChhKX19LENwPXtDQVBfUk9VTkQ6e2NvbmZpZ3VyYWJsZTohMH0sQ0FQX0ZMQVQ6e2NvbmZpZ3VyYWJsZTohMH0sQ0FQX1NRVUFSRTp7Y29uZmlndXJhYmxlOiEwfSxKT0lOX1JPVU5EOntjb25maWd1cmFibGU6ITB9LEpPSU5fTUlUUkU6e2NvbmZpZ3VyYWJsZTohMH0sSk9JTl9CRVZFTDp7Y29uZmlndXJhYmxlOiEwfSxERUZBVUxUX1FVQURSQU5UX1NFR01FTlRTOntjb25maWd1cmFibGU6ITB9LERFRkFVTFRfTUlUUkVfTElNSVQ6e2NvbmZpZ3VyYWJsZTohMH0sREVGQVVMVF9TSU1QTElGWV9GQUNUT1I6e2NvbmZpZ3VyYWJsZTohMH19O1NwLnByb3RvdHlwZS5nZXRFbmRDYXBTdHlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmRDYXBTdHlsZX0sU3AucHJvdG90eXBlLmlzU2luZ2xlU2lkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTaW5nbGVTaWRlZH0sU3AucHJvdG90eXBlLnNldFF1YWRyYW50U2VnbWVudHM9ZnVuY3Rpb24odCl7dGhpcy5fcXVhZHJhbnRTZWdtZW50cz10LDA9PT10aGlzLl9xdWFkcmFudFNlZ21lbnRzJiYodGhpcy5fam9pblN0eWxlPVNwLkpPSU5fQkVWRUwpLHRoaXMuX3F1YWRyYW50U2VnbWVudHM8MCYmKHRoaXMuX2pvaW5TdHlsZT1TcC5KT0lOX01JVFJFLHRoaXMuX21pdHJlTGltaXQ9TWF0aC5hYnModGhpcy5fcXVhZHJhbnRTZWdtZW50cykpLHQ8PTAmJih0aGlzLl9xdWFkcmFudFNlZ21lbnRzPTEpLHRoaXMuX2pvaW5TdHlsZSE9PVNwLkpPSU5fUk9VTkQmJih0aGlzLl9xdWFkcmFudFNlZ21lbnRzPVNwLkRFRkFVTFRfUVVBRFJBTlRfU0VHTUVOVFMpfSxTcC5wcm90b3R5cGUuZ2V0Sm9pblN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2pvaW5TdHlsZX0sU3AucHJvdG90eXBlLnNldEpvaW5TdHlsZT1mdW5jdGlvbih0KXt0aGlzLl9qb2luU3R5bGU9dH0sU3AucHJvdG90eXBlLnNldFNpbXBsaWZ5RmFjdG9yPWZ1bmN0aW9uKHQpe3RoaXMuX3NpbXBsaWZ5RmFjdG9yPXQ8MD8wOnR9LFNwLnByb3RvdHlwZS5nZXRTaW1wbGlmeUZhY3Rvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW1wbGlmeUZhY3Rvcn0sU3AucHJvdG90eXBlLmdldFF1YWRyYW50U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVhZHJhbnRTZWdtZW50c30sU3AucHJvdG90eXBlLnNldEVuZENhcFN0eWxlPWZ1bmN0aW9uKHQpe3RoaXMuX2VuZENhcFN0eWxlPXR9LFNwLnByb3RvdHlwZS5nZXRNaXRyZUxpbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pdHJlTGltaXR9LFNwLnByb3RvdHlwZS5zZXRNaXRyZUxpbWl0PWZ1bmN0aW9uKHQpe3RoaXMuX21pdHJlTGltaXQ9dH0sU3AucHJvdG90eXBlLnNldFNpbmdsZVNpZGVkPWZ1bmN0aW9uKHQpe3RoaXMuX2lzU2luZ2xlU2lkZWQ9dH0sU3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFNwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBTcH0sU3AuYnVmZmVyRGlzdGFuY2VFcnJvcj1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLlBJLzIvdDtyZXR1cm4gMS1NYXRoLmNvcyhlLzIpfSxDcC5DQVBfUk9VTkQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LENwLkNBUF9GTEFULmdldD1mdW5jdGlvbigpe3JldHVybiAyfSxDcC5DQVBfU1FVQVJFLmdldD1mdW5jdGlvbigpe3JldHVybiAzfSxDcC5KT0lOX1JPVU5ELmdldD1mdW5jdGlvbigpe3JldHVybiAxfSxDcC5KT0lOX01JVFJFLmdldD1mdW5jdGlvbigpe3JldHVybiAyfSxDcC5KT0lOX0JFVkVMLmdldD1mdW5jdGlvbigpe3JldHVybiAzfSxDcC5ERUZBVUxUX1FVQURSQU5UX1NFR01FTlRTLmdldD1mdW5jdGlvbigpe3JldHVybiA4fSxDcC5ERUZBVUxUX01JVFJFX0xJTUlULmdldD1mdW5jdGlvbigpe3JldHVybiA1fSxDcC5ERUZBVUxUX1NJTVBMSUZZX0ZBQ1RPUi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4uMDF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFNwLENwKTt2YXIgUHA9ZnVuY3Rpb24odCl7dGhpcy5fZGlzdGFuY2VUb2w9bnVsbCx0aGlzLl9pc0RlbGV0ZWQ9bnVsbCx0aGlzLl9hbmdsZU9yaWVudGF0aW9uPVhsLkNPVU5URVJDTE9DS1dJU0UsdGhpcy5faW5wdXRMaW5lPXR8fG51bGx9LE1wPXtJTklUOntjb25maWd1cmFibGU6ITB9LERFTEVURTp7Y29uZmlndXJhYmxlOiEwfSxLRUVQOntjb25maWd1cmFibGU6ITB9LE5VTV9QVFNfVE9fQ0hFQ0s6e2NvbmZpZ3VyYWJsZTohMH19O1BwLnByb3RvdHlwZS5pc0RlbGV0YWJsZT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLl9pbnB1dExpbmVbdF0sbz10aGlzLl9pbnB1dExpbmVbZV0scz10aGlzLl9pbnB1dExpbmVbbl07cmV0dXJuISF0aGlzLmlzQ29uY2F2ZShpLG8scykmJighIXRoaXMuaXNTaGFsbG93KGksbyxzLHIpJiZ0aGlzLmlzU2hhbGxvd1NhbXBsZWQoaSxvLHQsbixyKSl9LFBwLnByb3RvdHlwZS5kZWxldGVTaGFsbG93Q29uY2F2aXRpZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPTEsbj10aGlzLmZpbmROZXh0Tm9uRGVsZXRlZEluZGV4KGUpLHI9dGhpcy5maW5kTmV4dE5vbkRlbGV0ZWRJbmRleChuKSxpPSExO3I8dGhpcy5faW5wdXRMaW5lLmxlbmd0aDspe3ZhciBvPSExO3QuaXNEZWxldGFibGUoZSxuLHIsdC5fZGlzdGFuY2VUb2wpJiYodC5faXNEZWxldGVkW25dPVBwLkRFTEVURSxvPSEwLGk9ITApLGU9bz9yOm4sbj10LmZpbmROZXh0Tm9uRGVsZXRlZEluZGV4KGUpLHI9dC5maW5kTmV4dE5vbkRlbGV0ZWRJbmRleChuKX1yZXR1cm4gaX0sUHAucHJvdG90eXBlLmlzU2hhbGxvd0NvbmNhdml0eT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gWGwuY29tcHV0ZU9yaWVudGF0aW9uKHQsZSxuKT09PXRoaXMuX2FuZ2xlT3JpZW50YXRpb24mJlhsLmRpc3RhbmNlUG9pbnRMaW5lKGUsdCxuKTxyfSxQcC5wcm90b3R5cGUuaXNTaGFsbG93U2FtcGxlZD1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPU1hdGgudHJ1bmMoKHItbikvUHAuTlVNX1BUU19UT19DSEVDSyk7bzw9MCYmKG89MSk7Zm9yKHZhciBzPW47czxyO3MrPW8paWYoIXRoaXMuaXNTaGFsbG93KHQsZSx0aGlzLl9pbnB1dExpbmVbc10saSkpcmV0dXJuITE7cmV0dXJuITB9LFBwLnByb3RvdHlwZS5pc0NvbmNhdmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPVhsLmNvbXB1dGVPcmllbnRhdGlvbih0LGUsbik9PT10aGlzLl9hbmdsZU9yaWVudGF0aW9uO3JldHVybiByfSxQcC5wcm90b3R5cGUuc2ltcGxpZnk9ZnVuY3Rpb24odCl7dGhpcy5fZGlzdGFuY2VUb2w9TWF0aC5hYnModCksdDwwJiYodGhpcy5fYW5nbGVPcmllbnRhdGlvbj1YbC5DTE9DS1dJU0UpLHRoaXMuX2lzRGVsZXRlZD1uZXcgQXJyYXkodGhpcy5faW5wdXRMaW5lLmxlbmd0aCkuZmlsbChudWxsKTt2YXIgZT0hMTtkb3tlPXRoaXMuZGVsZXRlU2hhbGxvd0NvbmNhdml0aWVzKCl9d2hpbGUoZSk7cmV0dXJuIHRoaXMuY29sbGFwc2VMaW5lKCl9LFBwLnByb3RvdHlwZS5maW5kTmV4dE5vbkRlbGV0ZWRJbmRleD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dCsxO2U8dGhpcy5faW5wdXRMaW5lLmxlbmd0aCYmdGhpcy5faXNEZWxldGVkW2VdPT09UHAuREVMRVRFOyllKys7cmV0dXJuIGV9LFBwLnByb3RvdHlwZS5pc1NoYWxsb3c9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIFhsLmRpc3RhbmNlUG9pbnRMaW5lKGUsdCxuKTxyfSxQcC5wcm90b3R5cGUuY29sbGFwc2VMaW5lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBoYyxlPTA7ZTx0aGlzLl9pbnB1dExpbmUubGVuZ3RoO2UrKyl0aGlzLl9pc0RlbGV0ZWRbZV0hPT1QcC5ERUxFVEUmJnQuYWRkKHRoaXMuX2lucHV0TGluZVtlXSk7cmV0dXJuIHQudG9Db29yZGluYXRlQXJyYXkoKX0sUHAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFBwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBQcH0sUHAuc2ltcGxpZnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFBwKHQpLnNpbXBsaWZ5KGUpfSxNcC5JTklULmdldD1mdW5jdGlvbigpe3JldHVybiAwfSxNcC5ERUxFVEUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LE1wLktFRVAuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LE1wLk5VTV9QVFNfVE9fQ0hFQ0suZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDEwfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQcCxNcCk7dmFyIExwPWZ1bmN0aW9uKCl7dGhpcy5fcHRMaXN0PW51bGwsdGhpcy5fcHJlY2lzaW9uTW9kZWw9bnVsbCx0aGlzLl9taW5pbWltVmVydGV4RGlzdGFuY2U9MCx0aGlzLl9wdExpc3Q9bmV3IGxjfSxPcD17Q09PUkRJTkFURV9BUlJBWV9UWVBFOntjb25maWd1cmFibGU6ITB9fTtMcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHRMaXN0LnRvQXJyYXkoTHAuQ09PUkRJTkFURV9BUlJBWV9UWVBFKX0sTHAucHJvdG90eXBlLnNldFByZWNpc2lvbk1vZGVsPWZ1bmN0aW9uKHQpe3RoaXMuX3ByZWNpc2lvbk1vZGVsPXR9LExwLnByb3RvdHlwZS5hZGRQdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdWwodCk7aWYodGhpcy5fcHJlY2lzaW9uTW9kZWwubWFrZVByZWNpc2UoZSksdGhpcy5pc1JlZHVuZGFudChlKSlyZXR1cm4gbnVsbDt0aGlzLl9wdExpc3QuYWRkKGUpfSxMcC5wcm90b3R5cGUucmV2ZXJlPWZ1bmN0aW9uKCl7fSxMcC5wcm90b3R5cGUuYWRkUHRzPWZ1bmN0aW9uKHQsZSl7aWYoZSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0aGlzLmFkZFB0KHRbbl0pO2Vsc2UgZm9yKHZhciByPXQubGVuZ3RoLTE7cj49MDtyLS0pdGhpcy5hZGRQdCh0W3JdKX0sTHAucHJvdG90eXBlLmlzUmVkdW5kYW50PWZ1bmN0aW9uKHQpe2lmKHRoaXMuX3B0TGlzdC5zaXplKCk8MSlyZXR1cm4hMTt2YXIgZT10aGlzLl9wdExpc3QuZ2V0KHRoaXMuX3B0TGlzdC5zaXplKCktMSk7cmV0dXJuIHQuZGlzdGFuY2UoZSk8dGhpcy5fbWluaW1pbVZlcnRleERpc3RhbmNlfSxMcC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IF9oKS5jcmVhdGVMaW5lU3RyaW5nKHRoaXMuZ2V0Q29vcmRpbmF0ZXMoKSkudG9TdHJpbmcoKX0sTHAucHJvdG90eXBlLmNsb3NlUmluZz1mdW5jdGlvbigpe2lmKHRoaXMuX3B0TGlzdC5zaXplKCk8MSlyZXR1cm4gbnVsbDt2YXIgdD1uZXcgdWwodGhpcy5fcHRMaXN0LmdldCgwKSksZT10aGlzLl9wdExpc3QuZ2V0KHRoaXMuX3B0TGlzdC5zaXplKCktMSk7aWYodC5lcXVhbHMoZSkpcmV0dXJuIG51bGw7dGhpcy5fcHRMaXN0LmFkZCh0KX0sTHAucHJvdG90eXBlLnNldE1pbmltdW1WZXJ0ZXhEaXN0YW5jZT1mdW5jdGlvbih0KXt0aGlzLl9taW5pbWltVmVydGV4RGlzdGFuY2U9dH0sTHAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LExwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBMcH0sT3AuQ09PUkRJTkFURV9BUlJBWV9UWVBFLmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgQXJyYXkoMCkuZmlsbChudWxsKX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTHAsT3ApO3ZhciBScD1mdW5jdGlvbigpe30sVHA9e1BJX1RJTUVTXzI6e2NvbmZpZ3VyYWJsZTohMH0sUElfT1ZFUl8yOntjb25maWd1cmFibGU6ITB9LFBJX09WRVJfNDp7Y29uZmlndXJhYmxlOiEwfSxDT1VOVEVSQ0xPQ0tXSVNFOntjb25maWd1cmFibGU6ITB9LENMT0NLV0lTRTp7Y29uZmlndXJhYmxlOiEwfSxOT05FOntjb25maWd1cmFibGU6ITB9fTtScC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sUnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFJwfSxScC50b0RlZ3JlZXM9ZnVuY3Rpb24odCl7cmV0dXJuIDE4MCp0L01hdGguUEl9LFJwLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtmb3IoO3Q+TWF0aC5QSTspdC09UnAuUElfVElNRVNfMjtmb3IoO3Q8PS1NYXRoLlBJOyl0Kz1ScC5QSV9USU1FU18yO3JldHVybiB0fSxScC5hbmdsZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIE1hdGguYXRhbjIodC55LHQueCl9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPW4ueC1lLngsaT1uLnktZS55O3JldHVybiBNYXRoLmF0YW4yKGkscil9fSxScC5pc0FjdXRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LngtZS54LGk9dC55LWUueTtyZXR1cm4gcioobi54LWUueCkraSoobi55LWUueSk+MH0sUnAuaXNPYnR1c2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQueC1lLngsaT10LnktZS55O3JldHVybiByKihuLngtZS54KStpKihuLnktZS55KTwwfSxScC5pbnRlcmlvckFuZ2xlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1ScC5hbmdsZShlLHQpLGk9UnAuYW5nbGUoZSxuKTtyZXR1cm4gTWF0aC5hYnMoaS1yKX0sUnAubm9ybWFsaXplUG9zaXRpdmU9ZnVuY3Rpb24odCl7aWYodDwwKXtmb3IoO3Q8MDspdCs9UnAuUElfVElNRVNfMjt0Pj1ScC5QSV9USU1FU18yJiYodD0wKX1lbHNle2Zvcig7dD49UnAuUElfVElNRVNfMjspdC09UnAuUElfVElNRVNfMjt0PDAmJih0PTApfXJldHVybiB0fSxScC5hbmdsZUJldHdlZW49ZnVuY3Rpb24odCxlLG4pe3ZhciByPVJwLmFuZ2xlKGUsdCksaT1ScC5hbmdsZShlLG4pO3JldHVybiBScC5kaWZmKHIsaSl9LFJwLmRpZmY9ZnVuY3Rpb24odCxlKXt2YXIgbj1udWxsO3JldHVybihuPXQ8ZT9lLXQ6dC1lKT5NYXRoLlBJJiYobj0yKk1hdGguUEktbiksbn0sUnAudG9SYWRpYW5zPWZ1bmN0aW9uKHQpe3JldHVybiB0Kk1hdGguUEkvMTgwfSxScC5nZXRUdXJuPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5zaW4oZS10KTtyZXR1cm4gbj4wP1JwLkNPVU5URVJDTE9DS1dJU0U6bjwwP1JwLkNMT0NLV0lTRTpScC5OT05FfSxScC5hbmdsZUJldHdlZW5PcmllbnRlZD1mdW5jdGlvbih0LGUsbil7dmFyIHI9UnAuYW5nbGUoZSx0KSxpPVJwLmFuZ2xlKGUsbiktcjtyZXR1cm4gaTw9LU1hdGguUEk/aStScC5QSV9USU1FU18yOmk+TWF0aC5QST9pLVJwLlBJX1RJTUVTXzI6aX0sVHAuUElfVElNRVNfMi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMipNYXRoLlBJfSxUcC5QSV9PVkVSXzIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguUEkvMn0sVHAuUElfT1ZFUl80LmdldD1mdW5jdGlvbigpe3JldHVybiBNYXRoLlBJLzR9LFRwLkNPVU5URVJDTE9DS1dJU0UuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFhsLkNPVU5URVJDTE9DS1dJU0V9LFRwLkNMT0NLV0lTRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gWGwuQ0xPQ0tXSVNFfSxUcC5OT05FLmdldD1mdW5jdGlvbigpe3JldHVybiBYbC5DT0xMSU5FQVJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFJwLFRwKTt2YXIgQXA9ZnVuY3Rpb24gdCgpe3RoaXMuX21heEN1cnZlU2VnbWVudEVycm9yPTAsdGhpcy5fZmlsbGV0QW5nbGVRdWFudHVtPW51bGwsdGhpcy5fY2xvc2luZ1NlZ0xlbmd0aEZhY3Rvcj0xLHRoaXMuX3NlZ0xpc3Q9bnVsbCx0aGlzLl9kaXN0YW5jZT0wLHRoaXMuX3ByZWNpc2lvbk1vZGVsPW51bGwsdGhpcy5fYnVmUGFyYW1zPW51bGwsdGhpcy5fbGk9bnVsbCx0aGlzLl9zMD1udWxsLHRoaXMuX3MxPW51bGwsdGhpcy5fczI9bnVsbCx0aGlzLl9zZWcwPW5ldyB2cCx0aGlzLl9zZWcxPW5ldyB2cCx0aGlzLl9vZmZzZXQwPW5ldyB2cCx0aGlzLl9vZmZzZXQxPW5ldyB2cCx0aGlzLl9zaWRlPTAsdGhpcy5faGFzTmFycm93Q29uY2F2ZUFuZ2xlPSExO3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXTt0aGlzLl9wcmVjaXNpb25Nb2RlbD1lLHRoaXMuX2J1ZlBhcmFtcz1uLHRoaXMuX2xpPW5ldyBqbCx0aGlzLl9maWxsZXRBbmdsZVF1YW50dW09TWF0aC5QSS8yL24uZ2V0UXVhZHJhbnRTZWdtZW50cygpLG4uZ2V0UXVhZHJhbnRTZWdtZW50cygpPj04JiZuLmdldEpvaW5TdHlsZSgpPT09U3AuSk9JTl9ST1VORCYmKHRoaXMuX2Nsb3NpbmdTZWdMZW5ndGhGYWN0b3I9dC5NQVhfQ0xPU0lOR19TRUdfTEVOX0ZBQ1RPUiksdGhpcy5pbml0KHIpfSxEcD17T0ZGU0VUX1NFR01FTlRfU0VQQVJBVElPTl9GQUNUT1I6e2NvbmZpZ3VyYWJsZTohMH0sSU5TSURFX1RVUk5fVkVSVEVYX1NOQVBfRElTVEFOQ0VfRkFDVE9SOntjb25maWd1cmFibGU6ITB9LENVUlZFX1ZFUlRFWF9TTkFQX0RJU1RBTkNFX0ZBQ1RPUjp7Y29uZmlndXJhYmxlOiEwfSxNQVhfQ0xPU0lOR19TRUdfTEVOX0ZBQ1RPUjp7Y29uZmlndXJhYmxlOiEwfX07QXAucHJvdG90eXBlLmFkZE5leHRTZWdtZW50PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fczA9dGhpcy5fczEsdGhpcy5fczE9dGhpcy5fczIsdGhpcy5fczI9dCx0aGlzLl9zZWcwLnNldENvb3JkaW5hdGVzKHRoaXMuX3MwLHRoaXMuX3MxKSx0aGlzLmNvbXB1dGVPZmZzZXRTZWdtZW50KHRoaXMuX3NlZzAsdGhpcy5fc2lkZSx0aGlzLl9kaXN0YW5jZSx0aGlzLl9vZmZzZXQwKSx0aGlzLl9zZWcxLnNldENvb3JkaW5hdGVzKHRoaXMuX3MxLHRoaXMuX3MyKSx0aGlzLmNvbXB1dGVPZmZzZXRTZWdtZW50KHRoaXMuX3NlZzEsdGhpcy5fc2lkZSx0aGlzLl9kaXN0YW5jZSx0aGlzLl9vZmZzZXQxKSx0aGlzLl9zMS5lcXVhbHModGhpcy5fczIpKXJldHVybiBudWxsO3ZhciBuPVhsLmNvbXB1dGVPcmllbnRhdGlvbih0aGlzLl9zMCx0aGlzLl9zMSx0aGlzLl9zMikscj1uPT09WGwuQ0xPQ0tXSVNFJiZ0aGlzLl9zaWRlPT09U2guTEVGVHx8bj09PVhsLkNPVU5URVJDTE9DS1dJU0UmJnRoaXMuX3NpZGU9PT1TaC5SSUdIVDswPT09bj90aGlzLmFkZENvbGxpbmVhcihlKTpyP3RoaXMuYWRkT3V0c2lkZVR1cm4obixlKTp0aGlzLmFkZEluc2lkZVR1cm4obixlKX0sQXAucHJvdG90eXBlLmFkZExpbmVFbmRDYXA9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgdnAodCxlKSxyPW5ldyB2cDt0aGlzLmNvbXB1dGVPZmZzZXRTZWdtZW50KG4sU2guTEVGVCx0aGlzLl9kaXN0YW5jZSxyKTt2YXIgaT1uZXcgdnA7dGhpcy5jb21wdXRlT2Zmc2V0U2VnbWVudChuLFNoLlJJR0hULHRoaXMuX2Rpc3RhbmNlLGkpO3ZhciBvPWUueC10Lngscz1lLnktdC55LGE9TWF0aC5hdGFuMihzLG8pO3N3aXRjaCh0aGlzLl9idWZQYXJhbXMuZ2V0RW5kQ2FwU3R5bGUoKSl7Y2FzZSBTcC5DQVBfUk9VTkQ6dGhpcy5fc2VnTGlzdC5hZGRQdChyLnAxKSx0aGlzLmFkZEZpbGxldEFyYyhlLGErTWF0aC5QSS8yLGEtTWF0aC5QSS8yLFhsLkNMT0NLV0lTRSx0aGlzLl9kaXN0YW5jZSksdGhpcy5fc2VnTGlzdC5hZGRQdChpLnAxKTticmVhaztjYXNlIFNwLkNBUF9GTEFUOnRoaXMuX3NlZ0xpc3QuYWRkUHQoci5wMSksdGhpcy5fc2VnTGlzdC5hZGRQdChpLnAxKTticmVhaztjYXNlIFNwLkNBUF9TUVVBUkU6dmFyIHU9bmV3IHVsO3UueD1NYXRoLmFicyh0aGlzLl9kaXN0YW5jZSkqTWF0aC5jb3MoYSksdS55PU1hdGguYWJzKHRoaXMuX2Rpc3RhbmNlKSpNYXRoLnNpbihhKTt2YXIgbD1uZXcgdWwoci5wMS54K3UueCxyLnAxLnkrdS55KSxjPW5ldyB1bChpLnAxLngrdS54LGkucDEueSt1LnkpO3RoaXMuX3NlZ0xpc3QuYWRkUHQobCksdGhpcy5fc2VnTGlzdC5hZGRQdChjKX19LEFwLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWdMaXN0LmdldENvb3JkaW5hdGVzKCl9LEFwLnByb3RvdHlwZS5hZGRNaXRyZUpvaW49ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ITAsbz1udWxsO3RyeXtvPU1sLmludGVyc2VjdGlvbihlLnAwLGUucDEsbi5wMCxuLnAxKSwocjw9MD8xOm8uZGlzdGFuY2UodCkvTWF0aC5hYnMocikpPnRoaXMuX2J1ZlBhcmFtcy5nZXRNaXRyZUxpbWl0KCkmJihpPSExKX1jYXRjaCh0KXtpZighKHQgaW5zdGFuY2VvZiBDbCkpdGhyb3cgdDtvPW5ldyB1bCgwLDApLGk9ITF9aT90aGlzLl9zZWdMaXN0LmFkZFB0KG8pOnRoaXMuYWRkTGltaXRlZE1pdHJlSm9pbihlLG4scix0aGlzLl9idWZQYXJhbXMuZ2V0TWl0cmVMaW1pdCgpKX0sQXAucHJvdG90eXBlLmFkZEZpbGxldENvcm5lcj1mdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvPWUueC10Lngscz1lLnktdC55LGE9TWF0aC5hdGFuMihzLG8pLHU9bi54LXQueCxsPW4ueS10LnksYz1NYXRoLmF0YW4yKGwsdSk7cj09PVhsLkNMT0NLV0lTRT9hPD1jJiYoYSs9MipNYXRoLlBJKTphPj1jJiYoYS09MipNYXRoLlBJKSx0aGlzLl9zZWdMaXN0LmFkZFB0KGUpLHRoaXMuYWRkRmlsbGV0QXJjKHQsYSxjLHIsaSksdGhpcy5fc2VnTGlzdC5hZGRQdChuKX0sQXAucHJvdG90eXBlLmFkZE91dHNpZGVUdXJuPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fb2Zmc2V0MC5wMS5kaXN0YW5jZSh0aGlzLl9vZmZzZXQxLnAwKTx0aGlzLl9kaXN0YW5jZSpBcC5PRkZTRVRfU0VHTUVOVF9TRVBBUkFUSU9OX0ZBQ1RPUilyZXR1cm4gdGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQwLnAxKSxudWxsO3RoaXMuX2J1ZlBhcmFtcy5nZXRKb2luU3R5bGUoKT09PVNwLkpPSU5fTUlUUkU/dGhpcy5hZGRNaXRyZUpvaW4odGhpcy5fczEsdGhpcy5fb2Zmc2V0MCx0aGlzLl9vZmZzZXQxLHRoaXMuX2Rpc3RhbmNlKTp0aGlzLl9idWZQYXJhbXMuZ2V0Sm9pblN0eWxlKCk9PT1TcC5KT0lOX0JFVkVMP3RoaXMuYWRkQmV2ZWxKb2luKHRoaXMuX29mZnNldDAsdGhpcy5fb2Zmc2V0MSk6KGUmJnRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MC5wMSksdGhpcy5hZGRGaWxsZXRDb3JuZXIodGhpcy5fczEsdGhpcy5fb2Zmc2V0MC5wMSx0aGlzLl9vZmZzZXQxLnAwLHQsdGhpcy5fZGlzdGFuY2UpLHRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MS5wMCkpfSxBcC5wcm90b3R5cGUuY3JlYXRlU3F1YXJlPWZ1bmN0aW9uKHQpe3RoaXMuX3NlZ0xpc3QuYWRkUHQobmV3IHVsKHQueCt0aGlzLl9kaXN0YW5jZSx0LnkrdGhpcy5fZGlzdGFuY2UpKSx0aGlzLl9zZWdMaXN0LmFkZFB0KG5ldyB1bCh0LngrdGhpcy5fZGlzdGFuY2UsdC55LXRoaXMuX2Rpc3RhbmNlKSksdGhpcy5fc2VnTGlzdC5hZGRQdChuZXcgdWwodC54LXRoaXMuX2Rpc3RhbmNlLHQueS10aGlzLl9kaXN0YW5jZSkpLHRoaXMuX3NlZ0xpc3QuYWRkUHQobmV3IHVsKHQueC10aGlzLl9kaXN0YW5jZSx0LnkrdGhpcy5fZGlzdGFuY2UpKSx0aGlzLl9zZWdMaXN0LmNsb3NlUmluZygpfSxBcC5wcm90b3R5cGUuYWRkU2VnbWVudHM9ZnVuY3Rpb24odCxlKXt0aGlzLl9zZWdMaXN0LmFkZFB0cyh0LGUpfSxBcC5wcm90b3R5cGUuYWRkRmlyc3RTZWdtZW50PWZ1bmN0aW9uKCl7dGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQxLnAwKX0sQXAucHJvdG90eXBlLmFkZExhc3RTZWdtZW50PWZ1bmN0aW9uKCl7dGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQxLnAxKX0sQXAucHJvdG90eXBlLmluaXRTaWRlU2VnbWVudHM9ZnVuY3Rpb24odCxlLG4pe3RoaXMuX3MxPXQsdGhpcy5fczI9ZSx0aGlzLl9zaWRlPW4sdGhpcy5fc2VnMS5zZXRDb29yZGluYXRlcyh0LGUpLHRoaXMuY29tcHV0ZU9mZnNldFNlZ21lbnQodGhpcy5fc2VnMSxuLHRoaXMuX2Rpc3RhbmNlLHRoaXMuX29mZnNldDEpfSxBcC5wcm90b3R5cGUuYWRkTGltaXRlZE1pdHJlSm9pbj1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10aGlzLl9zZWcwLnAxLG89UnAuYW5nbGUoaSx0aGlzLl9zZWcwLnAwKSxzPVJwLmFuZ2xlQmV0d2Vlbk9yaWVudGVkKHRoaXMuX3NlZzAucDAsaSx0aGlzLl9zZWcxLnAxKS8yLGE9UnAubm9ybWFsaXplKG8rcyksdT1ScC5ub3JtYWxpemUoYStNYXRoLlBJKSxsPXIqbixjPW4tbCpNYXRoLmFicyhNYXRoLnNpbihzKSksaD1pLngrbCpNYXRoLmNvcyh1KSxwPWkueStsKk1hdGguc2luKHUpLGY9bmV3IHVsKGgscCksZz1uZXcgdnAoaSxmKSxkPWcucG9pbnRBbG9uZ09mZnNldCgxLGMpLHk9Zy5wb2ludEFsb25nT2Zmc2V0KDEsLWMpO3RoaXMuX3NpZGU9PT1TaC5MRUZUPyh0aGlzLl9zZWdMaXN0LmFkZFB0KGQpLHRoaXMuX3NlZ0xpc3QuYWRkUHQoeSkpOih0aGlzLl9zZWdMaXN0LmFkZFB0KHkpLHRoaXMuX3NlZ0xpc3QuYWRkUHQoZCkpfSxBcC5wcm90b3R5cGUuY29tcHV0ZU9mZnNldFNlZ21lbnQ9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ZT09PVNoLkxFRlQ/MTotMSxvPXQucDEueC10LnAwLngscz10LnAxLnktdC5wMC55LGE9TWF0aC5zcXJ0KG8qbytzKnMpLHU9aSpuKm8vYSxsPWkqbipzL2E7ci5wMC54PXQucDAueC1sLHIucDAueT10LnAwLnkrdSxyLnAxLng9dC5wMS54LWwsci5wMS55PXQucDEueSt1fSxBcC5wcm90b3R5cGUuYWRkRmlsbGV0QXJjPWZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG89cj09PVhsLkNMT0NLV0lTRT8tMToxLHM9TWF0aC5hYnMoZS1uKSxhPU1hdGgudHJ1bmMocy90aGlzLl9maWxsZXRBbmdsZVF1YW50dW0rLjUpO2lmKGE8MSlyZXR1cm4gbnVsbDtmb3IodmFyIHU9cy9hLGw9MCxjPW5ldyB1bDtsPHM7KXt2YXIgaD1lK28qbDtjLng9dC54K2kqTWF0aC5jb3MoaCksYy55PXQueStpKk1hdGguc2luKGgpLHRoaXMuX3NlZ0xpc3QuYWRkUHQoYyksbCs9dX19LEFwLnByb3RvdHlwZS5hZGRJbnNpZGVUdXJuPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fbGkuY29tcHV0ZUludGVyc2VjdGlvbih0aGlzLl9vZmZzZXQwLnAwLHRoaXMuX29mZnNldDAucDEsdGhpcy5fb2Zmc2V0MS5wMCx0aGlzLl9vZmZzZXQxLnAxKSx0aGlzLl9saS5oYXNJbnRlcnNlY3Rpb24oKSl0aGlzLl9zZWdMaXN0LmFkZFB0KHRoaXMuX2xpLmdldEludGVyc2VjdGlvbigwKSk7ZWxzZSBpZih0aGlzLl9oYXNOYXJyb3dDb25jYXZlQW5nbGU9ITAsdGhpcy5fb2Zmc2V0MC5wMS5kaXN0YW5jZSh0aGlzLl9vZmZzZXQxLnAwKTx0aGlzLl9kaXN0YW5jZSpBcC5JTlNJREVfVFVSTl9WRVJURVhfU05BUF9ESVNUQU5DRV9GQUNUT1IpdGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQwLnAxKTtlbHNle2lmKHRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MC5wMSksdGhpcy5fY2xvc2luZ1NlZ0xlbmd0aEZhY3Rvcj4wKXt2YXIgbj1uZXcgdWwoKHRoaXMuX2Nsb3NpbmdTZWdMZW5ndGhGYWN0b3IqdGhpcy5fb2Zmc2V0MC5wMS54K3RoaXMuX3MxLngpLyh0aGlzLl9jbG9zaW5nU2VnTGVuZ3RoRmFjdG9yKzEpLCh0aGlzLl9jbG9zaW5nU2VnTGVuZ3RoRmFjdG9yKnRoaXMuX29mZnNldDAucDEueSt0aGlzLl9zMS55KS8odGhpcy5fY2xvc2luZ1NlZ0xlbmd0aEZhY3RvcisxKSk7dGhpcy5fc2VnTGlzdC5hZGRQdChuKTt2YXIgcj1uZXcgdWwoKHRoaXMuX2Nsb3NpbmdTZWdMZW5ndGhGYWN0b3IqdGhpcy5fb2Zmc2V0MS5wMC54K3RoaXMuX3MxLngpLyh0aGlzLl9jbG9zaW5nU2VnTGVuZ3RoRmFjdG9yKzEpLCh0aGlzLl9jbG9zaW5nU2VnTGVuZ3RoRmFjdG9yKnRoaXMuX29mZnNldDEucDAueSt0aGlzLl9zMS55KS8odGhpcy5fY2xvc2luZ1NlZ0xlbmd0aEZhY3RvcisxKSk7dGhpcy5fc2VnTGlzdC5hZGRQdChyKX1lbHNlIHRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fczEpO3RoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MS5wMCl9fSxBcC5wcm90b3R5cGUuY3JlYXRlQ2lyY2xlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB1bCh0LngrdGhpcy5fZGlzdGFuY2UsdC55KTt0aGlzLl9zZWdMaXN0LmFkZFB0KGUpLHRoaXMuYWRkRmlsbGV0QXJjKHQsMCwyKk1hdGguUEksLTEsdGhpcy5fZGlzdGFuY2UpLHRoaXMuX3NlZ0xpc3QuY2xvc2VSaW5nKCl9LEFwLnByb3RvdHlwZS5hZGRCZXZlbEpvaW49ZnVuY3Rpb24odCxlKXt0aGlzLl9zZWdMaXN0LmFkZFB0KHQucDEpLHRoaXMuX3NlZ0xpc3QuYWRkUHQoZS5wMCl9LEFwLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe3RoaXMuX2Rpc3RhbmNlPXQsdGhpcy5fbWF4Q3VydmVTZWdtZW50RXJyb3I9dCooMS1NYXRoLmNvcyh0aGlzLl9maWxsZXRBbmdsZVF1YW50dW0vMikpLHRoaXMuX3NlZ0xpc3Q9bmV3IExwLHRoaXMuX3NlZ0xpc3Quc2V0UHJlY2lzaW9uTW9kZWwodGhpcy5fcHJlY2lzaW9uTW9kZWwpLHRoaXMuX3NlZ0xpc3Quc2V0TWluaW11bVZlcnRleERpc3RhbmNlKHQqQXAuQ1VSVkVfVkVSVEVYX1NOQVBfRElTVEFOQ0VfRkFDVE9SKX0sQXAucHJvdG90eXBlLmFkZENvbGxpbmVhcj1mdW5jdGlvbih0KXt0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKHRoaXMuX3MwLHRoaXMuX3MxLHRoaXMuX3MxLHRoaXMuX3MyKSx0aGlzLl9saS5nZXRJbnRlcnNlY3Rpb25OdW0oKT49MiYmKHRoaXMuX2J1ZlBhcmFtcy5nZXRKb2luU3R5bGUoKT09PVNwLkpPSU5fQkVWRUx8fHRoaXMuX2J1ZlBhcmFtcy5nZXRKb2luU3R5bGUoKT09PVNwLkpPSU5fTUlUUkU/KHQmJnRoaXMuX3NlZ0xpc3QuYWRkUHQodGhpcy5fb2Zmc2V0MC5wMSksdGhpcy5fc2VnTGlzdC5hZGRQdCh0aGlzLl9vZmZzZXQxLnAwKSk6dGhpcy5hZGRGaWxsZXRDb3JuZXIodGhpcy5fczEsdGhpcy5fb2Zmc2V0MC5wMSx0aGlzLl9vZmZzZXQxLnAwLFhsLkNMT0NLV0lTRSx0aGlzLl9kaXN0YW5jZSkpfSxBcC5wcm90b3R5cGUuY2xvc2VSaW5nPWZ1bmN0aW9uKCl7dGhpcy5fc2VnTGlzdC5jbG9zZVJpbmcoKX0sQXAucHJvdG90eXBlLmhhc05hcnJvd0NvbmNhdmVBbmdsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNOYXJyb3dDb25jYXZlQW5nbGV9LEFwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxBcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gQXB9LERwLk9GRlNFVF9TRUdNRU5UX1NFUEFSQVRJT05fRkFDVE9SLmdldD1mdW5jdGlvbigpe3JldHVybi4wMDF9LERwLklOU0lERV9UVVJOX1ZFUlRFWF9TTkFQX0RJU1RBTkNFX0ZBQ1RPUi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4uMDAxfSxEcC5DVVJWRV9WRVJURVhfU05BUF9ESVNUQU5DRV9GQUNUT1IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDFlLTZ9LERwLk1BWF9DTE9TSU5HX1NFR19MRU5fRkFDVE9SLmdldD1mdW5jdGlvbigpe3JldHVybiA4MH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXAsRHApO3ZhciBGcD1mdW5jdGlvbigpe3RoaXMuX2Rpc3RhbmNlPTAsdGhpcy5fcHJlY2lzaW9uTW9kZWw9bnVsbCx0aGlzLl9idWZQYXJhbXM9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fcHJlY2lzaW9uTW9kZWw9dCx0aGlzLl9idWZQYXJhbXM9ZX07RnAucHJvdG90eXBlLmdldE9mZnNldEN1cnZlPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZGlzdGFuY2U9ZSwwPT09ZSlyZXR1cm4gbnVsbDt2YXIgbj1lPDAscj1NYXRoLmFicyhlKSxpPXRoaXMuZ2V0U2VnR2VuKHIpO3QubGVuZ3RoPD0xP3RoaXMuY29tcHV0ZVBvaW50Q3VydmUodFswXSxpKTp0aGlzLmNvbXB1dGVPZmZzZXRDdXJ2ZSh0LG4saSk7dmFyIG89aS5nZXRDb29yZGluYXRlcygpO3JldHVybiBuJiZwYy5yZXZlcnNlKG8pLG99LEZwLnByb3RvdHlwZS5jb21wdXRlU2luZ2xlU2lkZWRCdWZmZXJDdXJ2ZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcy5zaW1wbGlmeVRvbGVyYW5jZSh0aGlzLl9kaXN0YW5jZSk7aWYoZSl7bi5hZGRTZWdtZW50cyh0LCEwKTt2YXIgaT1QcC5zaW1wbGlmeSh0LC1yKSxvPWkubGVuZ3RoLTE7bi5pbml0U2lkZVNlZ21lbnRzKGlbb10saVtvLTFdLFNoLkxFRlQpLG4uYWRkRmlyc3RTZWdtZW50KCk7Zm9yKHZhciBzPW8tMjtzPj0wO3MtLSluLmFkZE5leHRTZWdtZW50KGlbc10sITApfWVsc2V7bi5hZGRTZWdtZW50cyh0LCExKTt2YXIgYT1QcC5zaW1wbGlmeSh0LHIpLHU9YS5sZW5ndGgtMTtuLmluaXRTaWRlU2VnbWVudHMoYVswXSxhWzFdLFNoLkxFRlQpLG4uYWRkRmlyc3RTZWdtZW50KCk7Zm9yKHZhciBsPTI7bDw9dTtsKyspbi5hZGROZXh0U2VnbWVudChhW2xdLCEwKX1uLmFkZExhc3RTZWdtZW50KCksbi5jbG9zZVJpbmcoKX0sRnAucHJvdG90eXBlLmNvbXB1dGVSaW5nQnVmZmVyQ3VydmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuc2ltcGxpZnlUb2xlcmFuY2UodGhpcy5fZGlzdGFuY2UpO2U9PT1TaC5SSUdIVCYmKHI9LXIpO3ZhciBpPVBwLnNpbXBsaWZ5KHQsciksbz1pLmxlbmd0aC0xO24uaW5pdFNpZGVTZWdtZW50cyhpW28tMV0saVswXSxlKTtmb3IodmFyIHM9MTtzPD1vO3MrKyl7dmFyIGE9MSE9PXM7bi5hZGROZXh0U2VnbWVudChpW3NdLGEpfW4uY2xvc2VSaW5nKCl9LEZwLnByb3RvdHlwZS5jb21wdXRlTGluZUJ1ZmZlckN1cnZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5zaW1wbGlmeVRvbGVyYW5jZSh0aGlzLl9kaXN0YW5jZSkscj1QcC5zaW1wbGlmeSh0LG4pLGk9ci5sZW5ndGgtMTtlLmluaXRTaWRlU2VnbWVudHMoclswXSxyWzFdLFNoLkxFRlQpO2Zvcih2YXIgbz0yO288PWk7bysrKWUuYWRkTmV4dFNlZ21lbnQocltvXSwhMCk7ZS5hZGRMYXN0U2VnbWVudCgpLGUuYWRkTGluZUVuZENhcChyW2ktMV0scltpXSk7dmFyIHM9UHAuc2ltcGxpZnkodCwtbiksYT1zLmxlbmd0aC0xO2UuaW5pdFNpZGVTZWdtZW50cyhzW2FdLHNbYS0xXSxTaC5MRUZUKTtmb3IodmFyIHU9YS0yO3U+PTA7dS0tKWUuYWRkTmV4dFNlZ21lbnQoc1t1XSwhMCk7ZS5hZGRMYXN0U2VnbWVudCgpLGUuYWRkTGluZUVuZENhcChzWzFdLHNbMF0pLGUuY2xvc2VSaW5nKCl9LEZwLnByb3RvdHlwZS5jb21wdXRlUG9pbnRDdXJ2ZT1mdW5jdGlvbih0LGUpe3N3aXRjaCh0aGlzLl9idWZQYXJhbXMuZ2V0RW5kQ2FwU3R5bGUoKSl7Y2FzZSBTcC5DQVBfUk9VTkQ6ZS5jcmVhdGVDaXJjbGUodCk7YnJlYWs7Y2FzZSBTcC5DQVBfU1FVQVJFOmUuY3JlYXRlU3F1YXJlKHQpfX0sRnAucHJvdG90eXBlLmdldExpbmVDdXJ2ZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2Rpc3RhbmNlPWUsZTwwJiYhdGhpcy5fYnVmUGFyYW1zLmlzU2luZ2xlU2lkZWQoKSlyZXR1cm4gbnVsbDtpZigwPT09ZSlyZXR1cm4gbnVsbDt2YXIgbj1NYXRoLmFicyhlKSxyPXRoaXMuZ2V0U2VnR2VuKG4pO2lmKHQubGVuZ3RoPD0xKXRoaXMuY29tcHV0ZVBvaW50Q3VydmUodFswXSxyKTtlbHNlIGlmKHRoaXMuX2J1ZlBhcmFtcy5pc1NpbmdsZVNpZGVkKCkpe3ZhciBpPWU8MDt0aGlzLmNvbXB1dGVTaW5nbGVTaWRlZEJ1ZmZlckN1cnZlKHQsaSxyKX1lbHNlIHRoaXMuY29tcHV0ZUxpbmVCdWZmZXJDdXJ2ZSh0LHIpO3JldHVybiByLmdldENvb3JkaW5hdGVzKCl9LEZwLnByb3RvdHlwZS5nZXRCdWZmZXJQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZlBhcmFtc30sRnAucHJvdG90eXBlLnNpbXBsaWZ5VG9sZXJhbmNlPWZ1bmN0aW9uKHQpe3JldHVybiB0KnRoaXMuX2J1ZlBhcmFtcy5nZXRTaW1wbGlmeUZhY3RvcigpfSxGcC5wcm90b3R5cGUuZ2V0UmluZ0N1cnZlPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLl9kaXN0YW5jZT1uLHQubGVuZ3RoPD0yKXJldHVybiB0aGlzLmdldExpbmVDdXJ2ZSh0LG4pO2lmKDA9PT1uKXJldHVybiBGcC5jb3B5Q29vcmRpbmF0ZXModCk7dmFyIHI9dGhpcy5nZXRTZWdHZW4obik7cmV0dXJuIHRoaXMuY29tcHV0ZVJpbmdCdWZmZXJDdXJ2ZSh0LGUsciksci5nZXRDb29yZGluYXRlcygpfSxGcC5wcm90b3R5cGUuY29tcHV0ZU9mZnNldEN1cnZlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLnNpbXBsaWZ5VG9sZXJhbmNlKHRoaXMuX2Rpc3RhbmNlKTtpZihlKXt2YXIgaT1QcC5zaW1wbGlmeSh0LC1yKSxvPWkubGVuZ3RoLTE7bi5pbml0U2lkZVNlZ21lbnRzKGlbb10saVtvLTFdLFNoLkxFRlQpLG4uYWRkRmlyc3RTZWdtZW50KCk7Zm9yKHZhciBzPW8tMjtzPj0wO3MtLSluLmFkZE5leHRTZWdtZW50KGlbc10sITApfWVsc2V7dmFyIGE9UHAuc2ltcGxpZnkodCxyKSx1PWEubGVuZ3RoLTE7bi5pbml0U2lkZVNlZ21lbnRzKGFbMF0sYVsxXSxTaC5MRUZUKSxuLmFkZEZpcnN0U2VnbWVudCgpO2Zvcih2YXIgbD0yO2w8PXU7bCsrKW4uYWRkTmV4dFNlZ21lbnQoYVtsXSwhMCl9bi5hZGRMYXN0U2VnbWVudCgpfSxGcC5wcm90b3R5cGUuZ2V0U2VnR2VuPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQXAodGhpcy5fcHJlY2lzaW9uTW9kZWwsdGhpcy5fYnVmUGFyYW1zLHQpfSxGcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEZwfSxGcC5jb3B5Q29vcmRpbmF0ZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBBcnJheSh0Lmxlbmd0aCkuZmlsbChudWxsKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXT1uZXcgdWwodFtuXSk7cmV0dXJuIGV9O3ZhciBrcD1mdW5jdGlvbigpe3RoaXMuX3N1YmdyYXBocz1udWxsLHRoaXMuX3NlZz1uZXcgdnAsdGhpcy5fY2dhPW5ldyBYbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fc3ViZ3JhcGhzPXR9LEdwPXtEZXB0aFNlZ21lbnQ6e2NvbmZpZ3VyYWJsZTohMH19O2twLnByb3RvdHlwZS5maW5kU3RhYmJlZFNlZ21lbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPW5ldyBsYyxyPXRoaXMuX3N1YmdyYXBocy5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCksbz1pLmdldEVudmVsb3BlKCk7ZS55PG8uZ2V0TWluWSgpfHxlLnk+by5nZXRNYXhZKCl8fHQuZmluZFN0YWJiZWRTZWdtZW50cyhlLGkuZ2V0RGlyZWN0ZWRFZGdlcygpLG4pfXJldHVybiBufWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKWlmKGdsKGFyZ3VtZW50c1syXSxhYykmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgWGgpZm9yKHZhciBzPWFyZ3VtZW50c1swXSxhPWFyZ3VtZW50c1sxXSx1PWFyZ3VtZW50c1syXSxsPWEuZ2V0RWRnZSgpLmdldENvb3JkaW5hdGVzKCksYz0wO2M8bC5sZW5ndGgtMTtjKyspe3QuX3NlZy5wMD1sW2NdLHQuX3NlZy5wMT1sW2MrMV0sdC5fc2VnLnAwLnk+dC5fc2VnLnAxLnkmJnQuX3NlZy5yZXZlcnNlKCk7dmFyIGg9TWF0aC5tYXgodC5fc2VnLnAwLngsdC5fc2VnLnAxLngpO2lmKCEoaDxzLngpJiYhKHQuX3NlZy5pc0hvcml6b250YWwoKXx8cy55PHQuX3NlZy5wMC55fHxzLnk+dC5fc2VnLnAxLnl8fFhsLmNvbXB1dGVPcmllbnRhdGlvbih0Ll9zZWcucDAsdC5fc2VnLnAxLHMpPT09WGwuUklHSFQpKXt2YXIgcD1hLmdldERlcHRoKFNoLkxFRlQpO3QuX3NlZy5wMC5lcXVhbHMobFtjXSl8fChwPWEuZ2V0RGVwdGgoU2guUklHSFQpKTt2YXIgZj1uZXcgcXAodC5fc2VnLHApO3UuYWRkKGYpfX1lbHNlIGlmKGdsKGFyZ3VtZW50c1syXSxhYykmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwmJmdsKGFyZ3VtZW50c1sxXSxhYykpZm9yKHZhciBnPWFyZ3VtZW50c1swXSxkPWFyZ3VtZW50c1sxXSx5PWFyZ3VtZW50c1syXSx2PWQuaXRlcmF0b3IoKTt2Lmhhc05leHQoKTspe3ZhciBfPXYubmV4dCgpO18uaXNGb3J3YXJkKCkmJnQuZmluZFN0YWJiZWRTZWdtZW50cyhnLF8seSl9fSxrcC5wcm90b3R5cGUuZ2V0RGVwdGg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5maW5kU3RhYmJlZFNlZ21lbnRzKHQpO3JldHVybiAwPT09ZS5zaXplKCk/MDpucC5taW4oZSkuX2xlZnREZXB0aH0sa3AucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGtwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBrcH0sR3AuRGVwdGhTZWdtZW50LmdldD1mdW5jdGlvbigpe3JldHVybiBxcH0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoa3AsR3ApO3ZhciBxcD1mdW5jdGlvbigpe3RoaXMuX3Vwd2FyZFNlZz1udWxsLHRoaXMuX2xlZnREZXB0aD1udWxsO3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTt0aGlzLl91cHdhcmRTZWc9bmV3IHZwKHQpLHRoaXMuX2xlZnREZXB0aD1lfTtxcC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7aWYodGhpcy5fdXB3YXJkU2VnLm1pblgoKT49ZS5fdXB3YXJkU2VnLm1heFgoKSlyZXR1cm4gMTtpZih0aGlzLl91cHdhcmRTZWcubWF4WCgpPD1lLl91cHdhcmRTZWcubWluWCgpKXJldHVybi0xO3ZhciBuPXRoaXMuX3Vwd2FyZFNlZy5vcmllbnRhdGlvbkluZGV4KGUuX3Vwd2FyZFNlZyk7cmV0dXJuIDAhPT1ufHwwIT09KG49LTEqZS5fdXB3YXJkU2VnLm9yaWVudGF0aW9uSW5kZXgodGhpcy5fdXB3YXJkU2VnKSk/bjp0aGlzLl91cHdhcmRTZWcuY29tcGFyZVRvKGUuX3Vwd2FyZFNlZyl9LHFwLnByb3RvdHlwZS5jb21wYXJlWD1mdW5jdGlvbih0LGUpe3ZhciBuPXQucDAuY29tcGFyZVRvKGUucDApO3JldHVybiAwIT09bj9uOnQucDEuY29tcGFyZVRvKGUucDEpfSxxcC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXB3YXJkU2VnLnRvU3RyaW5nKCl9LHFwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbF19LHFwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBxcH07dmFyIEJwPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnAwPXR8fG51bGwsdGhpcy5wMT1lfHxudWxsLHRoaXMucDI9bnx8bnVsbH07QnAucHJvdG90eXBlLmFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gQnAuYXJlYSh0aGlzLnAwLHRoaXMucDEsdGhpcy5wMil9LEJwLnByb3RvdHlwZS5zaWduZWRBcmVhPWZ1bmN0aW9uKCl7cmV0dXJuIEJwLnNpZ25lZEFyZWEodGhpcy5wMCx0aGlzLnAxLHRoaXMucDIpfSxCcC5wcm90b3R5cGUuaW50ZXJwb2xhdGVaPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXRocm93IG5ldyBlbCgiU3VwcGxpZWQgcG9pbnQgaXMgbnVsbC4iKTtyZXR1cm4gQnAuaW50ZXJwb2xhdGVaKHQsdGhpcy5wMCx0aGlzLnAxLHRoaXMucDIpfSxCcC5wcm90b3R5cGUubG9uZ2VzdFNpZGVMZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gQnAubG9uZ2VzdFNpZGVMZW5ndGgodGhpcy5wMCx0aGlzLnAxLHRoaXMucDIpfSxCcC5wcm90b3R5cGUuaXNBY3V0ZT1mdW5jdGlvbigpe3JldHVybiBCcC5pc0FjdXRlKHRoaXMucDAsdGhpcy5wMSx0aGlzLnAyKX0sQnAucHJvdG90eXBlLmNpcmN1bWNlbnRyZT1mdW5jdGlvbigpe3JldHVybiBCcC5jaXJjdW1jZW50cmUodGhpcy5wMCx0aGlzLnAxLHRoaXMucDIpfSxCcC5wcm90b3R5cGUuYXJlYTNEPWZ1bmN0aW9uKCl7cmV0dXJuIEJwLmFyZWEzRCh0aGlzLnAwLHRoaXMucDEsdGhpcy5wMil9LEJwLnByb3RvdHlwZS5jZW50cm9pZD1mdW5jdGlvbigpe3JldHVybiBCcC5jZW50cm9pZCh0aGlzLnAwLHRoaXMucDEsdGhpcy5wMil9LEJwLnByb3RvdHlwZS5pbkNlbnRyZT1mdW5jdGlvbigpe3JldHVybiBCcC5pbkNlbnRyZSh0aGlzLnAwLHRoaXMucDEsdGhpcy5wMil9LEJwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxCcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gQnB9LEJwLmFyZWE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBNYXRoLmFicygoKG4ueC10LngpKihlLnktdC55KS0oZS54LXQueCkqKG4ueS10LnkpKS8yKX0sQnAuc2lnbmVkQXJlYT1mdW5jdGlvbih0LGUsbil7cmV0dXJuKChuLngtdC54KSooZS55LXQueSktKGUueC10LngpKihuLnktdC55KSkvMn0sQnAuZGV0PWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0KnItZSpufSxCcC5pbnRlcnBvbGF0ZVo9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9ZS54LG89ZS55LHM9bi54LWksYT1yLngtaSx1PW4ueS1vLGw9ci55LW8sYz1zKmwtYSp1LGg9dC54LWkscD10LnktbyxmPShsKmgtYSpwKS9jLGc9KC11KmgrcypwKS9jO3JldHVybiBlLnorZioobi56LWUueikrZyooci56LWUueil9LEJwLmxvbmdlc3RTaWRlTGVuZ3RoPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmRpc3RhbmNlKGUpLGk9ZS5kaXN0YW5jZShuKSxvPW4uZGlzdGFuY2UodCkscz1yO3JldHVybiBpPnMmJihzPWkpLG8+cyYmKHM9byksc30sQnAuaXNBY3V0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuISFScC5pc0FjdXRlKHQsZSxuKSYmKCEhUnAuaXNBY3V0ZShlLG4sdCkmJiEhUnAuaXNBY3V0ZShuLHQsZSkpfSxCcC5jaXJjdW1jZW50cmU9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW4ueCxpPW4ueSxvPXQueC1yLHM9dC55LWksYT1lLngtcix1PWUueS1pLGw9MipCcC5kZXQobyxzLGEsdSksYz1CcC5kZXQocyxvKm8rcypzLHUsYSphK3UqdSksaD1CcC5kZXQobyxvKm8rcypzLGEsYSphK3UqdSk7cmV0dXJuIG5ldyB1bChyLWMvbCxpK2gvbCl9LEJwLnBlcnBlbmRpY3VsYXJCaXNlY3Rvcj1mdW5jdGlvbih0LGUpe3ZhciBuPWUueC10Lngscj1lLnktdC55LGk9bmV3IE1sKHQueCtuLzIsdC55K3IvMiwxKSxvPW5ldyBNbCh0LngtcituLzIsdC55K24rci8yLDEpO3JldHVybiBuZXcgTWwoaSxvKX0sQnAuYW5nbGVCaXNlY3Rvcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS5kaXN0YW5jZSh0KSxpPXIvKHIrZS5kaXN0YW5jZShuKSksbz1uLngtdC54LHM9bi55LXQueTtyZXR1cm4gbmV3IHVsKHQueCtpKm8sdC55K2kqcyl9LEJwLmFyZWEzRD1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS54LXQueCxpPWUueS10Lnksbz1lLnotdC56LHM9bi54LXQueCxhPW4ueS10LnksdT1uLnotdC56LGw9aSp1LW8qYSxjPW8qcy1yKnUsaD1yKmEtaSpzLHA9bCpsK2MqYytoKmgsZj1NYXRoLnNxcnQocCkvMjtyZXR1cm4gZn0sQnAuY2VudHJvaWQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPSh0LngrZS54K24ueCkvMyxpPSh0LnkrZS55K24ueSkvMztyZXR1cm4gbmV3IHVsKHIsaSl9LEJwLmluQ2VudHJlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLmRpc3RhbmNlKG4pLGk9dC5kaXN0YW5jZShuKSxvPXQuZGlzdGFuY2UoZSkscz1yK2krbyxhPShyKnQueCtpKmUueCtvKm4ueCkvcyx1PShyKnQueStpKmUueStvKm4ueSkvcztyZXR1cm4gbmV3IHVsKGEsdSl9O3ZhciB6cD1mdW5jdGlvbigpe3RoaXMuX2lucHV0R2VvbT1udWxsLHRoaXMuX2Rpc3RhbmNlPW51bGwsdGhpcy5fY3VydmVCdWlsZGVyPW51bGwsdGhpcy5fY3VydmVMaXN0PW5ldyBsYzt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl07dGhpcy5faW5wdXRHZW9tPXQsdGhpcy5fZGlzdGFuY2U9ZSx0aGlzLl9jdXJ2ZUJ1aWxkZXI9bn07enAucHJvdG90eXBlLmFkZFBvaW50PWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2Rpc3RhbmNlPD0wKXJldHVybiBudWxsO3ZhciBlPXQuZ2V0Q29vcmRpbmF0ZXMoKSxuPXRoaXMuX2N1cnZlQnVpbGRlci5nZXRMaW5lQ3VydmUoZSx0aGlzLl9kaXN0YW5jZSk7dGhpcy5hZGRDdXJ2ZShuLHBsLkVYVEVSSU9SLHBsLklOVEVSSU9SKX0senAucHJvdG90eXBlLmFkZFBvbHlnb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPXRoaXMuX2Rpc3RhbmNlLHI9U2guTEVGVDt0aGlzLl9kaXN0YW5jZTwwJiYobj0tdGhpcy5fZGlzdGFuY2Uscj1TaC5SSUdIVCk7dmFyIGk9dC5nZXRFeHRlcmlvclJpbmcoKSxvPXBjLnJlbW92ZVJlcGVhdGVkUG9pbnRzKGkuZ2V0Q29vcmRpbmF0ZXMoKSk7aWYodGhpcy5fZGlzdGFuY2U8MCYmdGhpcy5pc0Vyb2RlZENvbXBsZXRlbHkoaSx0aGlzLl9kaXN0YW5jZSkpcmV0dXJuIG51bGw7aWYodGhpcy5fZGlzdGFuY2U8PTAmJm8ubGVuZ3RoPDMpcmV0dXJuIG51bGw7dGhpcy5hZGRQb2x5Z29uUmluZyhvLG4scixwbC5FWFRFUklPUixwbC5JTlRFUklPUik7Zm9yKHZhciBzPTA7czx0LmdldE51bUludGVyaW9yUmluZygpO3MrKyl7dmFyIGE9dC5nZXRJbnRlcmlvclJpbmdOKHMpLHU9cGMucmVtb3ZlUmVwZWF0ZWRQb2ludHMoYS5nZXRDb29yZGluYXRlcygpKTtlLl9kaXN0YW5jZT4wJiZlLmlzRXJvZGVkQ29tcGxldGVseShhLC1lLl9kaXN0YW5jZSl8fGUuYWRkUG9seWdvblJpbmcodSxuLFNoLm9wcG9zaXRlKHIpLHBsLklOVEVSSU9SLHBsLkVYVEVSSU9SKX19LHpwLnByb3RvdHlwZS5pc1RyaWFuZ2xlRXJvZGVkQ29tcGxldGVseT1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBCcCh0WzBdLHRbMV0sdFsyXSkscj1uLmluQ2VudHJlKCk7cmV0dXJuIFhsLmRpc3RhbmNlUG9pbnRMaW5lKHIsbi5wMCxuLnAxKTxNYXRoLmFicyhlKX0senAucHJvdG90eXBlLmFkZExpbmVTdHJpbmc9ZnVuY3Rpb24odCl7aWYodGhpcy5fZGlzdGFuY2U8PTAmJiF0aGlzLl9jdXJ2ZUJ1aWxkZXIuZ2V0QnVmZmVyUGFyYW1ldGVycygpLmlzU2luZ2xlU2lkZWQoKSlyZXR1cm4gbnVsbDt2YXIgZT1wYy5yZW1vdmVSZXBlYXRlZFBvaW50cyh0LmdldENvb3JkaW5hdGVzKCkpLG49dGhpcy5fY3VydmVCdWlsZGVyLmdldExpbmVDdXJ2ZShlLHRoaXMuX2Rpc3RhbmNlKTt0aGlzLmFkZEN1cnZlKG4scGwuRVhURVJJT1IscGwuSU5URVJJT1IpfSx6cC5wcm90b3R5cGUuYWRkQ3VydmU9ZnVuY3Rpb24odCxlLG4pe2lmKG51bGw9PT10fHx0Lmxlbmd0aDwyKXJldHVybiBudWxsO3ZhciByPW5ldyB5cCh0LG5ldyBEaCgwLHBsLkJPVU5EQVJZLGUsbikpO3RoaXMuX2N1cnZlTGlzdC5hZGQocil9LHpwLnByb3RvdHlwZS5nZXRDdXJ2ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGQodGhpcy5faW5wdXRHZW9tKSx0aGlzLl9jdXJ2ZUxpc3R9LHpwLnByb3RvdHlwZS5hZGRQb2x5Z29uUmluZz1mdW5jdGlvbih0LGUsbixyLGkpe2lmKDA9PT1lJiZ0Lmxlbmd0aDxuaC5NSU5JTVVNX1ZBTElEX1NJWkUpcmV0dXJuIG51bGw7dmFyIG89cixzPWk7dC5sZW5ndGg+PW5oLk1JTklNVU1fVkFMSURfU0laRSYmWGwuaXNDQ1codCkmJihvPWkscz1yLG49U2gub3Bwb3NpdGUobikpO3ZhciBhPXRoaXMuX2N1cnZlQnVpbGRlci5nZXRSaW5nQ3VydmUodCxuLGUpO3RoaXMuYWRkQ3VydmUoYSxvLHMpfSx6cC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2lmKHQuaXNFbXB0eSgpKXJldHVybiBudWxsO3QgaW5zdGFuY2VvZiB0aD90aGlzLmFkZFBvbHlnb24odCk6dCBpbnN0YW5jZW9mIFpjP3RoaXMuYWRkTGluZVN0cmluZyh0KTp0IGluc3RhbmNlb2YgUWM/dGhpcy5hZGRQb2ludCh0KToodCBpbnN0YW5jZW9mIGVofHx0IGluc3RhbmNlb2YgR2N8fHQgaW5zdGFuY2VvZiByaHx8dCBpbnN0YW5jZW9mIGtjKSYmdGhpcy5hZGRDb2xsZWN0aW9uKHQpfSx6cC5wcm90b3R5cGUuaXNFcm9kZWRDb21wbGV0ZWx5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRDb29yZGluYXRlcygpO2lmKG4ubGVuZ3RoPDQpcmV0dXJuIGU8MDtpZig0PT09bi5sZW5ndGgpcmV0dXJuIHRoaXMuaXNUcmlhbmdsZUVyb2RlZENvbXBsZXRlbHkobixlKTt2YXIgcj10LmdldEVudmVsb3BlSW50ZXJuYWwoKSxpPU1hdGgubWluKHIuZ2V0SGVpZ2h0KCksci5nZXRXaWR0aCgpKTtyZXR1cm4gZTwwJiYyKk1hdGguYWJzKGUpPml9LHpwLnByb3RvdHlwZS5hZGRDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5nZXROdW1HZW9tZXRyaWVzKCk7ZSsrKXt2YXIgbj10LmdldEdlb21ldHJ5TihlKTt0aGlzLmFkZChuKX19LHpwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSx6cC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4genB9O3ZhciBqcD1mdW5jdGlvbigpe307anAucHJvdG90eXBlLmxvY2F0ZT1mdW5jdGlvbih0KXt9LGpwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxqcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4ganB9O3ZhciBVcD1mdW5jdGlvbigpe3RoaXMuX3BhcmVudD1udWxsLHRoaXMuX2F0U3RhcnQ9bnVsbCx0aGlzLl9tYXg9bnVsbCx0aGlzLl9pbmRleD1udWxsLHRoaXMuX3N1YmNvbGxlY3Rpb25JdGVyYXRvcj1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9wYXJlbnQ9dCx0aGlzLl9hdFN0YXJ0PSEwLHRoaXMuX2luZGV4PTAsdGhpcy5fbWF4PXQuZ2V0TnVtR2VvbWV0cmllcygpfTtVcC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKHRoaXMuX2F0U3RhcnQpcmV0dXJuIHRoaXMuX2F0U3RhcnQ9ITEsVXAuaXNBdG9taWModGhpcy5fcGFyZW50KSYmdGhpcy5faW5kZXgrKyx0aGlzLl9wYXJlbnQ7aWYobnVsbCE9PXRoaXMuX3N1YmNvbGxlY3Rpb25JdGVyYXRvcil7aWYodGhpcy5fc3ViY29sbGVjdGlvbkl0ZXJhdG9yLmhhc05leHQoKSlyZXR1cm4gdGhpcy5fc3ViY29sbGVjdGlvbkl0ZXJhdG9yLm5leHQoKTt0aGlzLl9zdWJjb2xsZWN0aW9uSXRlcmF0b3I9bnVsbH1pZih0aGlzLl9pbmRleD49dGhpcy5fbWF4KXRocm93IG5ldyB1Yzt2YXIgdD10aGlzLl9wYXJlbnQuZ2V0R2VvbWV0cnlOKHRoaXMuX2luZGV4KyspO3JldHVybiB0IGluc3RhbmNlb2Yga2M/KHRoaXMuX3N1YmNvbGxlY3Rpb25JdGVyYXRvcj1uZXcgVXAodCksdGhpcy5fc3ViY29sbGVjdGlvbkl0ZXJhdG9yLm5leHQoKSk6dH0sVXAucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcih0aGlzLmdldENsYXNzKCkuZ2V0TmFtZSgpKX0sVXAucHJvdG90eXBlLmhhc05leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9hdFN0YXJ0KXJldHVybiEwO2lmKG51bGwhPT10aGlzLl9zdWJjb2xsZWN0aW9uSXRlcmF0b3Ipe2lmKHRoaXMuX3N1YmNvbGxlY3Rpb25JdGVyYXRvci5oYXNOZXh0KCkpcmV0dXJuITA7dGhpcy5fc3ViY29sbGVjdGlvbkl0ZXJhdG9yPW51bGx9cmV0dXJuISh0aGlzLl9pbmRleD49dGhpcy5fbWF4KX0sVXAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW3NjXX0sVXAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFVwfSxVcC5pc0F0b21pYz1mdW5jdGlvbih0KXtyZXR1cm4hKHQgaW5zdGFuY2VvZiBrYyl9O3ZhciBWcD1mdW5jdGlvbigpe3RoaXMuX2dlb209bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fZ2VvbT10fTtWcC5wcm90b3R5cGUubG9jYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBWcC5sb2NhdGUodCx0aGlzLl9nZW9tKX0sVnAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2pwXX0sVnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFZwfSxWcC5pc1BvaW50SW5SaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISFlLmdldEVudmVsb3BlSW50ZXJuYWwoKS5pbnRlcnNlY3RzKHQpJiZYbC5pc1BvaW50SW5SaW5nKHQsZS5nZXRDb29yZGluYXRlcygpKX0sVnAuY29udGFpbnNQb2ludEluUG9seWdvbj1mdW5jdGlvbih0LGUpe2lmKGUuaXNFbXB0eSgpKXJldHVybiExO3ZhciBuPWUuZ2V0RXh0ZXJpb3JSaW5nKCk7aWYoIVZwLmlzUG9pbnRJblJpbmcodCxuKSlyZXR1cm4hMTtmb3IodmFyIHI9MDtyPGUuZ2V0TnVtSW50ZXJpb3JSaW5nKCk7cisrKXt2YXIgaT1lLmdldEludGVyaW9yUmluZ04ocik7aWYoVnAuaXNQb2ludEluUmluZyh0LGkpKXJldHVybiExfXJldHVybiEwfSxWcC5jb250YWluc1BvaW50PWZ1bmN0aW9uKHQsZSl7aWYoZSBpbnN0YW5jZW9mIHRoKXJldHVybiBWcC5jb250YWluc1BvaW50SW5Qb2x5Z29uKHQsZSk7aWYoZSBpbnN0YW5jZW9mIGtjKWZvcih2YXIgbj1uZXcgVXAoZSk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtpZihyIT09ZSYmVnAuY29udGFpbnNQb2ludCh0LHIpKXJldHVybiEwfXJldHVybiExfSxWcC5sb2NhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5pc0VtcHR5KCk/cGwuRVhURVJJT1I6VnAuY29udGFpbnNQb2ludCh0LGUpP3BsLklOVEVSSU9SOnBsLkVYVEVSSU9SfTt2YXIgWHA9ZnVuY3Rpb24oKXt0aGlzLl9lZGdlTWFwPW5ldyBDYyx0aGlzLl9lZGdlTGlzdD1udWxsLHRoaXMuX3B0SW5BcmVhTG9jYXRpb249W3BsLk5PTkUscGwuTk9ORV19O1hwLnByb3RvdHlwZS5nZXROZXh0Q1c9ZnVuY3Rpb24odCl7dGhpcy5nZXRFZGdlcygpO3ZhciBlPXRoaXMuX2VkZ2VMaXN0LmluZGV4T2YodCksbj1lLTE7cmV0dXJuIDA9PT1lJiYobj10aGlzLl9lZGdlTGlzdC5zaXplKCktMSksdGhpcy5fZWRnZUxpc3QuZ2V0KG4pfSxYcC5wcm90b3R5cGUucHJvcGFnYXRlU2lkZUxhYmVscz1mdW5jdGlvbih0KXtmb3IodmFyIGU9cGwuTk9ORSxuPXRoaXMuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpLmdldExhYmVsKCk7ci5pc0FyZWEodCkmJnIuZ2V0TG9jYXRpb24odCxTaC5MRUZUKSE9PXBsLk5PTkUmJihlPXIuZ2V0TG9jYXRpb24odCxTaC5MRUZUKSl9aWYoZT09PXBsLk5PTkUpcmV0dXJuIG51bGw7Zm9yKHZhciBpPWUsbz10aGlzLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLm5leHQoKSxhPXMuZ2V0TGFiZWwoKTtpZihhLmdldExvY2F0aW9uKHQsU2guT04pPT09cGwuTk9ORSYmYS5zZXRMb2NhdGlvbih0LFNoLk9OLGkpLGEuaXNBcmVhKHQpKXt2YXIgdT1hLmdldExvY2F0aW9uKHQsU2guTEVGVCksbD1hLmdldExvY2F0aW9uKHQsU2guUklHSFQpO2lmKGwhPT1wbC5OT05FKXtpZihsIT09aSl0aHJvdyBuZXcgT2goInNpZGUgbG9jYXRpb24gY29uZmxpY3QiLHMuZ2V0Q29vcmRpbmF0ZSgpKTt1PT09cGwuTk9ORSYmcWwuc2hvdWxkTmV2ZXJSZWFjaEhlcmUoImZvdW5kIHNpbmdsZSBudWxsIHNpZGUgKGF0ICIrcy5nZXRDb29yZGluYXRlKCkrIikiKSxpPXV9ZWxzZSBxbC5pc1RydWUoYS5nZXRMb2NhdGlvbih0LFNoLkxFRlQpPT09cGwuTk9ORSwiZm91bmQgc2luZ2xlIG51bGwgc2lkZSIpLGEuc2V0TG9jYXRpb24odCxTaC5SSUdIVCxpKSxhLnNldExvY2F0aW9uKHQsU2guTEVGVCxpKX19fSxYcC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaXRlcmF0b3IoKTtyZXR1cm4gdC5oYXNOZXh0KCk/dC5uZXh0KCkuZ2V0Q29vcmRpbmF0ZSgpOm51bGx9LFhwLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXtQbC5vdXQucHJpbnRsbigiRWRnZUVuZFN0YXI6ICAgIit0aGlzLmdldENvb3JkaW5hdGUoKSk7Zm9yKHZhciBlPXRoaXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe2UubmV4dCgpLnByaW50KHQpfX0sWHAucHJvdG90eXBlLmlzQXJlYUxhYmVsc0NvbnNpc3RlbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcHV0ZUVkZ2VFbmRMYWJlbHModC5nZXRCb3VuZGFyeU5vZGVSdWxlKCkpLHRoaXMuY2hlY2tBcmVhTGFiZWxzQ29uc2lzdGVudCgwKX0sWHAucHJvdG90eXBlLmNoZWNrQXJlYUxhYmVsc0NvbnNpc3RlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRFZGdlcygpO2lmKGUuc2l6ZSgpPD0wKXJldHVybiEwO3ZhciBuPWUuc2l6ZSgpLTEscj1lLmdldChuKS5nZXRMYWJlbCgpLmdldExvY2F0aW9uKHQsU2guTEVGVCk7cWwuaXNUcnVlKHIhPT1wbC5OT05FLCJGb3VuZCB1bmxhYmVsbGVkIGFyZWEgZWRnZSIpO2Zvcih2YXIgaT1yLG89dGhpcy5pdGVyYXRvcigpO28uaGFzTmV4dCgpOyl7dmFyIHM9by5uZXh0KCkuZ2V0TGFiZWwoKTtxbC5pc1RydWUocy5pc0FyZWEodCksIkZvdW5kIG5vbi1hcmVhIGVkZ2UiKTt2YXIgYT1zLmdldExvY2F0aW9uKHQsU2guTEVGVCksdT1zLmdldExvY2F0aW9uKHQsU2guUklHSFQpO2lmKGE9PT11KXJldHVybiExO2lmKHUhPT1pKXJldHVybiExO2k9YX1yZXR1cm4hMH0sWHAucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbih0KXt0aGlzLml0ZXJhdG9yKCk7Zm9yKHZhciBlPTA7ZTx0aGlzLl9lZGdlTGlzdC5zaXplKCk7ZSsrKXtpZih0aGlzLl9lZGdlTGlzdC5nZXQoZSk9PT10KXJldHVybiBlfXJldHVybi0xfSxYcC5wcm90b3R5cGUuaXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFZGdlcygpLml0ZXJhdG9yKCl9LFhwLnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fZWRnZUxpc3QmJih0aGlzLl9lZGdlTGlzdD1uZXcgbGModGhpcy5fZWRnZU1hcC52YWx1ZXMoKSkpLHRoaXMuX2VkZ2VMaXN0fSxYcC5wcm90b3R5cGUuZ2V0TG9jYXRpb249ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLl9wdEluQXJlYUxvY2F0aW9uW3RdPT09cGwuTk9ORSYmKHRoaXMuX3B0SW5BcmVhTG9jYXRpb25bdF09VnAubG9jYXRlKGUsblt0XS5nZXRHZW9tZXRyeSgpKSksdGhpcy5fcHRJbkFyZWFMb2NhdGlvblt0XX0sWHAucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHZsO3QuYXBwZW5kKCJFZGdlRW5kU3RhcjogICAiK3RoaXMuZ2V0Q29vcmRpbmF0ZSgpKSx0LmFwcGVuZCgiXG4iKTtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7dC5hcHBlbmQobiksdC5hcHBlbmQoIlxuIil9cmV0dXJuIHQudG9TdHJpbmcoKX0sWHAucHJvdG90eXBlLmNvbXB1dGVFZGdlRW5kTGFiZWxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXtlLm5leHQoKS5jb21wdXRlTGFiZWwodCl9fSxYcC5wcm90b3R5cGUuY29tcHV0ZUxhYmVsbGluZz1mdW5jdGlvbih0KXt0aGlzLmNvbXB1dGVFZGdlRW5kTGFiZWxzKHRbMF0uZ2V0Qm91bmRhcnlOb2RlUnVsZSgpKSx0aGlzLnByb3BhZ2F0ZVNpZGVMYWJlbHMoMCksdGhpcy5wcm9wYWdhdGVTaWRlTGFiZWxzKDEpO2Zvcih2YXIgZT1bITEsITFdLG49dGhpcy5pdGVyYXRvcigpO24uaGFzTmV4dCgpOylmb3IodmFyIHI9bi5uZXh0KCkuZ2V0TGFiZWwoKSxpPTA7aTwyO2krKylyLmlzTGluZShpKSYmci5nZXRMb2NhdGlvbihpKT09PXBsLkJPVU5EQVJZJiYoZVtpXT0hMCk7Zm9yKHZhciBvPXRoaXMuaXRlcmF0b3IoKTtvLmhhc05leHQoKTspZm9yKHZhciBzPW8ubmV4dCgpLGE9cy5nZXRMYWJlbCgpLHU9MDt1PDI7dSsrKWlmKGEuaXNBbnlOdWxsKHUpKXt2YXIgbD1wbC5OT05FO2lmKGVbdV0pbD1wbC5FWFRFUklPUjtlbHNle3ZhciBjPXMuZ2V0Q29vcmRpbmF0ZSgpO2w9dGhpcy5nZXRMb2NhdGlvbih1LGMsdCl9YS5zZXRBbGxMb2NhdGlvbnNJZk51bGwodSxsKX19LFhwLnByb3RvdHlwZS5nZXREZWdyZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZWRnZU1hcC5zaXplKCl9LFhwLnByb3RvdHlwZS5pbnNlcnRFZGdlRW5kPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZWRnZU1hcC5wdXQodCxlKSx0aGlzLl9lZGdlTGlzdD1udWxsfSxYcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sWHAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFhwfTt2YXIgWXA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzKSx0aGlzLl9yZXN1bHRBcmVhRWRnZUxpc3Q9bnVsbCx0aGlzLl9sYWJlbD1udWxsLHRoaXMuX1NDQU5OSU5HX0ZPUl9JTkNPTUlORz0xLHRoaXMuX0xJTktJTkdfVE9fT1VUR09JTkc9Mn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUubGlua1Jlc3VsdERpcmVjdGVkRWRnZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZ2V0UmVzdWx0QXJlYUVkZ2VzKCk7Zm9yKHZhciBlPW51bGwsbj1udWxsLHI9dGhpcy5fU0NBTk5JTkdfRk9SX0lOQ09NSU5HLGk9MDtpPHRoaXMuX3Jlc3VsdEFyZWFFZGdlTGlzdC5zaXplKCk7aSsrKXt2YXIgbz10Ll9yZXN1bHRBcmVhRWRnZUxpc3QuZ2V0KGkpLHM9by5nZXRTeW0oKTtpZihvLmdldExhYmVsKCkuaXNBcmVhKCkpc3dpdGNoKG51bGw9PT1lJiZvLmlzSW5SZXN1bHQoKSYmKGU9bykscil7Y2FzZSB0Ll9TQ0FOTklOR19GT1JfSU5DT01JTkc6aWYoIXMuaXNJblJlc3VsdCgpKWNvbnRpbnVlO249cyxyPXQuX0xJTktJTkdfVE9fT1VUR09JTkc7YnJlYWs7Y2FzZSB0Ll9MSU5LSU5HX1RPX09VVEdPSU5HOmlmKCFvLmlzSW5SZXN1bHQoKSljb250aW51ZTtuLnNldE5leHQobykscj10Ll9TQ0FOTklOR19GT1JfSU5DT01JTkd9fWlmKHI9PT10aGlzLl9MSU5LSU5HX1RPX09VVEdPSU5HKXtpZihudWxsPT09ZSl0aHJvdyBuZXcgT2goIm5vIG91dGdvaW5nIGRpckVkZ2UgZm91bmQiLHRoaXMuZ2V0Q29vcmRpbmF0ZSgpKTtxbC5pc1RydWUoZS5pc0luUmVzdWx0KCksInVuYWJsZSB0byBsaW5rIGxhc3QgaW5jb21pbmcgZGlyRWRnZSIpLG4uc2V0TmV4dChlKX19LGUucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0KXt2YXIgZT10O3RoaXMuaW5zZXJ0RWRnZUVuZChlLGUpfSxlLnByb3RvdHlwZS5nZXRSaWdodG1vc3RFZGdlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFZGdlcygpLGU9dC5zaXplKCk7aWYoZTwxKXJldHVybiBudWxsO3ZhciBuPXQuZ2V0KDApO2lmKDE9PT1lKXJldHVybiBuO3ZhciByPXQuZ2V0KGUtMSksaT1uLmdldFF1YWRyYW50KCksbz1yLmdldFF1YWRyYW50KCk7cmV0dXJuIGpoLmlzTm9ydGhlcm4oaSkmJmpoLmlzTm9ydGhlcm4obyk/bjpqaC5pc05vcnRoZXJuKGkpfHxqaC5pc05vcnRoZXJuKG8pPzAhPT1uLmdldER5KCk/bjowIT09ci5nZXREeSgpP3I6KHFsLnNob3VsZE5ldmVyUmVhY2hIZXJlKCJmb3VuZCB0d28gaG9yaXpvbnRhbCBlZGdlcyBpbmNpZGVudCBvbiBub2RlIiksbnVsbCk6cn0sZS5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24odCl7UGwub3V0LnByaW50bG4oIkRpcmVjdGVkRWRnZVN0YXI6ICIrdGhpcy5nZXRDb29yZGluYXRlKCkpO2Zvcih2YXIgZT10aGlzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKTt0LnByaW50KCJvdXQgIiksbi5wcmludCh0KSx0LnByaW50bG4oKSx0LnByaW50KCJpbiAiKSxuLmdldFN5bSgpLnByaW50KHQpLHQucHJpbnRsbigpfX0sZS5wcm90b3R5cGUuZ2V0UmVzdWx0QXJlYUVkZ2VzPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3Jlc3VsdEFyZWFFZGdlTGlzdClyZXR1cm4gdGhpcy5fcmVzdWx0QXJlYUVkZ2VMaXN0O3RoaXMuX3Jlc3VsdEFyZWFFZGdlTGlzdD1uZXcgbGM7Zm9yKHZhciB0PXRoaXMuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe3ZhciBlPXQubmV4dCgpOyhlLmlzSW5SZXN1bHQoKXx8ZS5nZXRTeW0oKS5pc0luUmVzdWx0KCkpJiZ0aGlzLl9yZXN1bHRBcmVhRWRnZUxpc3QuYWRkKGUpfXJldHVybiB0aGlzLl9yZXN1bHRBcmVhRWRnZUxpc3R9LGUucHJvdG90eXBlLnVwZGF0ZUxhYmVsbGluZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCkuZ2V0TGFiZWwoKTtuLnNldEFsbExvY2F0aW9uc0lmTnVsbCgwLHQuZ2V0TG9jYXRpb24oMCkpLG4uc2V0QWxsTG9jYXRpb25zSWZOdWxsKDEsdC5nZXRMb2NhdGlvbigxKSl9fSxlLnByb3RvdHlwZS5saW5rQWxsRGlyZWN0ZWRFZGdlcz1mdW5jdGlvbigpe3RoaXMuZ2V0RWRnZXMoKTtmb3IodmFyIHQ9bnVsbCxlPW51bGwsbj10aGlzLl9lZGdlTGlzdC5zaXplKCktMTtuPj0wO24tLSl7dmFyIHI9dGhpcy5fZWRnZUxpc3QuZ2V0KG4pLGk9ci5nZXRTeW0oKTtudWxsPT09ZSYmKGU9aSksbnVsbCE9PXQmJmkuc2V0TmV4dCh0KSx0PXJ9ZS5zZXROZXh0KHQpfSxlLnByb3RvdHlwZS5jb21wdXRlRGVwdGhzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49dGhpcy5maW5kSW5kZXgoZSkscj1lLmdldERlcHRoKFNoLkxFRlQpLGk9ZS5nZXREZXB0aChTaC5SSUdIVCksbz10aGlzLmNvbXB1dGVEZXB0aHMobisxLHRoaXMuX2VkZ2VMaXN0LnNpemUoKSxyKSxzPXRoaXMuY29tcHV0ZURlcHRocygwLG4sbyk7aWYocyE9PWkpdGhyb3cgbmV3IE9oKCJkZXB0aCBtaXNtYXRjaCBhdCAiK2UuZ2V0Q29vcmRpbmF0ZSgpKX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdLGM9bCxoPWE7aDx1O2grKyl7dmFyIHA9dC5fZWRnZUxpc3QuZ2V0KGgpO3Auc2V0RWRnZURlcHRocyhTaC5SSUdIVCxjKSxjPXAuZ2V0RGVwdGgoU2guTEVGVCl9cmV0dXJuIGN9fSxlLnByb3RvdHlwZS5tZXJnZVN5bUxhYmVscz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLml0ZXJhdG9yKCk7dC5oYXNOZXh0KCk7KXt2YXIgZT10Lm5leHQoKTtlLmdldExhYmVsKCkubWVyZ2UoZS5nZXRTeW0oKS5nZXRMYWJlbCgpKX19LGUucHJvdG90eXBlLmxpbmtNaW5pbWFsRGlyZWN0ZWRFZGdlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPW51bGwscj1udWxsLGk9dGhpcy5fU0NBTk5JTkdfRk9SX0lOQ09NSU5HLG89dGhpcy5fcmVzdWx0QXJlYUVkZ2VMaXN0LnNpemUoKS0xO28+PTA7by0tKXt2YXIgcz1lLl9yZXN1bHRBcmVhRWRnZUxpc3QuZ2V0KG8pLGE9cy5nZXRTeW0oKTtzd2l0Y2gobnVsbD09PW4mJnMuZ2V0RWRnZVJpbmcoKT09PXQmJihuPXMpLGkpe2Nhc2UgZS5fU0NBTk5JTkdfRk9SX0lOQ09NSU5HOmlmKGEuZ2V0RWRnZVJpbmcoKSE9PXQpY29udGludWU7cj1hLGk9ZS5fTElOS0lOR19UT19PVVRHT0lORzticmVhaztjYXNlIGUuX0xJTktJTkdfVE9fT1VUR09JTkc6aWYocy5nZXRFZGdlUmluZygpIT09dCljb250aW51ZTtyLnNldE5leHRNaW4ocyksaT1lLl9TQ0FOTklOR19GT1JfSU5DT01JTkd9fWk9PT10aGlzLl9MSU5LSU5HX1RPX09VVEdPSU5HJiYocWwuaXNUcnVlKG51bGwhPT1uLCJmb3VuZCBudWxsIGZvciBmaXJzdCBvdXRnb2luZyBkaXJFZGdlIikscWwuaXNUcnVlKG4uZ2V0RWRnZVJpbmcoKT09PXQsInVuYWJsZSB0byBsaW5rIGxhc3QgaW5jb21pbmcgZGlyRWRnZSIpLHIuc2V0TmV4dE1pbihuKSl9LGUucHJvdG90eXBlLmdldE91dGdvaW5nRGVncmVlPWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgdD0wLGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7bi5pc0luUmVzdWx0KCkmJnQrK31yZXR1cm4gdH1pZigxPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciByPWFyZ3VtZW50c1swXSxpPTAsbz10aGlzLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLm5leHQoKTtzLmdldEVkZ2VSaW5nKCk9PT1yJiZpKyt9cmV0dXJuIGl9fSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYWJlbH0sZS5wcm90b3R5cGUuZmluZENvdmVyZWRMaW5lRWRnZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9cGwuTk9ORSxlPXRoaXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpLHI9bi5nZXRTeW0oKTtpZighbi5pc0xpbmVFZGdlKCkpe2lmKG4uaXNJblJlc3VsdCgpKXt0PXBsLklOVEVSSU9SO2JyZWFrfWlmKHIuaXNJblJlc3VsdCgpKXt0PXBsLkVYVEVSSU9SO2JyZWFrfX19aWYodD09PXBsLk5PTkUpcmV0dXJuIG51bGw7Zm9yKHZhciBpPXQsbz10aGlzLml0ZXJhdG9yKCk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLm5leHQoKSxhPXMuZ2V0U3ltKCk7cy5pc0xpbmVFZGdlKCk/cy5nZXRFZGdlKCkuc2V0Q292ZXJlZChpPT09cGwuSU5URVJJT1IpOihzLmlzSW5SZXN1bHQoKSYmKGk9cGwuRVhURVJJT1IpLGEuaXNJblJlc3VsdCgpJiYoaT1wbC5JTlRFUklPUikpfX0sZS5wcm90b3R5cGUuY29tcHV0ZUxhYmVsbGluZz1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5jb21wdXRlTGFiZWxsaW5nLmNhbGwodGhpcyxlKSx0aGlzLl9sYWJlbD1uZXcgRGgocGwuTk9ORSk7Zm9yKHZhciBuPXRoaXMuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspZm9yKHZhciByPW4ubmV4dCgpLmdldEVkZ2UoKS5nZXRMYWJlbCgpLGk9MDtpPDI7aSsrKXt2YXIgbz1yLmdldExvY2F0aW9uKGkpO28hPT1wbC5JTlRFUklPUiYmbyE9PXBsLkJPVU5EQVJZfHx0aGlzLl9sYWJlbC5zZXRMb2NhdGlvbihpLHBsLklOVEVSSU9SKX19LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KFhwKSxIcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmNyZWF0ZU5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBCaCh0LG5ldyBZcCl9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KFloKSxXcD1mdW5jdGlvbiB0KCl7dGhpcy5fcHRzPW51bGwsdGhpcy5fb3JpZW50YXRpb249bnVsbDt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5fcHRzPWUsdGhpcy5fb3JpZW50YXRpb249dC5vcmllbnRhdGlvbihlKX07V3AucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiBXcC5jb21wYXJlT3JpZW50ZWQodGhpcy5fcHRzLHRoaXMuX29yaWVudGF0aW9uLGUuX3B0cyxlLl9vcmllbnRhdGlvbil9LFdwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltpbF19LFdwLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBXcH0sV3Aub3JpZW50YXRpb249ZnVuY3Rpb24odCl7cmV0dXJuIDE9PT1wYy5pbmNyZWFzaW5nRGlyZWN0aW9uKHQpfSxXcC5jb21wYXJlT3JpZW50ZWQ9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPWU/MTotMSxvPXI/MTotMSxzPWU/dC5sZW5ndGg6LTEsYT1yP24ubGVuZ3RoOi0xLHU9ZT8wOnQubGVuZ3RoLTEsbD1yPzA6bi5sZW5ndGgtMTs7KXt2YXIgYz10W3VdLmNvbXBhcmVUbyhuW2xdKTtpZigwIT09YylyZXR1cm4gYzt2YXIgaD0odSs9aSk9PT1zLHA9KGwrPW8pPT09YTtpZihoJiYhcClyZXR1cm4tMTtpZighaCYmcClyZXR1cm4gMTtpZihoJiZwKXJldHVybiAwfX07dmFyIEpwPWZ1bmN0aW9uKCl7dGhpcy5fZWRnZXM9bmV3IGxjLHRoaXMuX29jYU1hcD1uZXcgQ2N9O0pwLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt0LnByaW50KCJNVUxUSUxJTkVTVFJJTkcgKCAiKTtmb3IodmFyIGU9MDtlPHRoaXMuX2VkZ2VzLnNpemUoKTtlKyspe3ZhciBuPXRoaXMuX2VkZ2VzLmdldChlKTtlPjAmJnQucHJpbnQoIiwiKSx0LnByaW50KCIoIik7Zm9yKHZhciByPW4uZ2V0Q29vcmRpbmF0ZXMoKSxpPTA7aTxyLmxlbmd0aDtpKyspaT4wJiZ0LnByaW50KCIsIiksdC5wcmludChyW2ldLngrIiAiK3JbaV0ueSk7dC5wcmludGxuKCIpIil9dC5wcmludCgiKSAgIil9LEpwLnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspdGhpcy5hZGQoZS5uZXh0KCkpfSxKcC5wcm90b3R5cGUuZmluZEVkZ2VJbmRleD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuX2VkZ2VzLnNpemUoKTtlKyspaWYodGhpcy5fZWRnZXMuZ2V0KGUpLmVxdWFscyh0KSlyZXR1cm4gZTtyZXR1cm4tMX0sSnAucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VkZ2VzLml0ZXJhdG9yKCl9LEpwLnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lZGdlc30sSnAucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZWRnZXMuZ2V0KHQpfSxKcC5wcm90b3R5cGUuZmluZEVxdWFsRWRnZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgV3AodC5nZXRDb29yZGluYXRlcygpKTtyZXR1cm4gdGhpcy5fb2NhTWFwLmdldChlKX0sSnAucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0aGlzLl9lZGdlcy5hZGQodCk7dmFyIGU9bmV3IFdwKHQuZ2V0Q29vcmRpbmF0ZXMoKSk7dGhpcy5fb2NhTWFwLnB1dChlLHQpfSxKcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSnAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEpwfTt2YXIgWnA9ZnVuY3Rpb24oKXt9O1pwLnByb3RvdHlwZS5wcm9jZXNzSW50ZXJzZWN0aW9ucz1mdW5jdGlvbih0LGUsbixyKXt9LFpwLnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24oKXt9LFpwLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxacC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gWnB9O3ZhciBLcD1mdW5jdGlvbigpe3RoaXMuX2hhc0ludGVyc2VjdGlvbj0hMSx0aGlzLl9oYXNQcm9wZXI9ITEsdGhpcy5faGFzUHJvcGVySW50ZXJpb3I9ITEsdGhpcy5faGFzSW50ZXJpb3I9ITEsdGhpcy5fcHJvcGVySW50ZXJzZWN0aW9uUG9pbnQ9bnVsbCx0aGlzLl9saT1udWxsLHRoaXMuX2lzU2VsZkludGVyc2VjdGlvbj1udWxsLHRoaXMubnVtSW50ZXJzZWN0aW9ucz0wLHRoaXMubnVtSW50ZXJpb3JJbnRlcnNlY3Rpb25zPTAsdGhpcy5udW1Qcm9wZXJJbnRlcnNlY3Rpb25zPTAsdGhpcy5udW1UZXN0cz0wO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9saT10fTtLcC5wcm90b3R5cGUuaXNUcml2aWFsSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9PT1uJiYxPT09dGhpcy5fbGkuZ2V0SW50ZXJzZWN0aW9uTnVtKCkpe2lmKEtwLmlzQWRqYWNlbnRTZWdtZW50cyhlLHIpKXJldHVybiEwO2lmKHQuaXNDbG9zZWQoKSl7dmFyIGk9dC5zaXplKCktMTtpZigwPT09ZSYmcj09PWl8fDA9PT1yJiZlPT09aSlyZXR1cm4hMH19cmV0dXJuITF9LEtwLnByb3RvdHlwZS5nZXRQcm9wZXJJbnRlcnNlY3Rpb25Qb2ludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9wZXJJbnRlcnNlY3Rpb25Qb2ludH0sS3AucHJvdG90eXBlLmhhc1Byb3BlckludGVyaW9ySW50ZXJzZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1Byb3BlckludGVyaW9yfSxLcC5wcm90b3R5cGUuZ2V0TGluZUludGVyc2VjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpfSxLcC5wcm90b3R5cGUuaGFzUHJvcGVySW50ZXJzZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1Byb3Blcn0sS3AucHJvdG90eXBlLnByb2Nlc3NJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9PT1uJiZlPT09cilyZXR1cm4gbnVsbDt0aGlzLm51bVRlc3RzKys7dmFyIGk9dC5nZXRDb29yZGluYXRlcygpW2VdLG89dC5nZXRDb29yZGluYXRlcygpW2UrMV0scz1uLmdldENvb3JkaW5hdGVzKClbcl0sYT1uLmdldENvb3JkaW5hdGVzKClbcisxXTt0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKGksbyxzLGEpLHRoaXMuX2xpLmhhc0ludGVyc2VjdGlvbigpJiYodGhpcy5udW1JbnRlcnNlY3Rpb25zKyssdGhpcy5fbGkuaXNJbnRlcmlvckludGVyc2VjdGlvbigpJiYodGhpcy5udW1JbnRlcmlvckludGVyc2VjdGlvbnMrKyx0aGlzLl9oYXNJbnRlcmlvcj0hMCksdGhpcy5pc1RyaXZpYWxJbnRlcnNlY3Rpb24odCxlLG4scil8fCh0aGlzLl9oYXNJbnRlcnNlY3Rpb249ITAsdC5hZGRJbnRlcnNlY3Rpb25zKHRoaXMuX2xpLGUsMCksbi5hZGRJbnRlcnNlY3Rpb25zKHRoaXMuX2xpLHIsMSksdGhpcy5fbGkuaXNQcm9wZXIoKSYmKHRoaXMubnVtUHJvcGVySW50ZXJzZWN0aW9ucysrLHRoaXMuX2hhc1Byb3Blcj0hMCx0aGlzLl9oYXNQcm9wZXJJbnRlcmlvcj0hMCkpKX0sS3AucHJvdG90eXBlLmhhc0ludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNJbnRlcnNlY3Rpb259LEtwLnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sS3AucHJvdG90eXBlLmhhc0ludGVyaW9ySW50ZXJzZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc0ludGVyaW9yfSxLcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bWnBdfSxLcC5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gS3B9LEtwLmlzQWRqYWNlbnRTZWdtZW50cz1mdW5jdGlvbih0LGUpe3JldHVybiAxPT09TWF0aC5hYnModC1lKX07dmFyIFFwPWZ1bmN0aW9uKCl7dGhpcy5jb29yZD1udWxsLHRoaXMuc2VnbWVudEluZGV4PW51bGwsdGhpcy5kaXN0PW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO3RoaXMuY29vcmQ9bmV3IHVsKHQpLHRoaXMuc2VnbWVudEluZGV4PWUsdGhpcy5kaXN0PW59O1FwLnByb3RvdHlwZS5nZXRTZWdtZW50SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWdtZW50SW5kZXh9LFFwLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmR9LFFwLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt0LnByaW50KHRoaXMuY29vcmQpLHQucHJpbnQoIiBzZWcgIyA9ICIrdGhpcy5zZWdtZW50SW5kZXgpLHQucHJpbnRsbigiIGRpc3QgPSAiK3RoaXMuZGlzdCl9LFFwLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dDtyZXR1cm4gdGhpcy5jb21wYXJlKGUuc2VnbWVudEluZGV4LGUuZGlzdCl9LFFwLnByb3RvdHlwZS5pc0VuZFBvaW50PWZ1bmN0aW9uKHQpe3JldHVybiAwPT09dGhpcy5zZWdtZW50SW5kZXgmJjA9PT10aGlzLmRpc3R8fHRoaXMuc2VnbWVudEluZGV4PT09dH0sUXAucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmQrIiBzZWcgIyA9ICIrdGhpcy5zZWdtZW50SW5kZXgrIiBkaXN0ID0gIit0aGlzLmRpc3R9LFFwLnByb3RvdHlwZS5nZXREaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3R9LFFwLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2VnbWVudEluZGV4PHQ/LTE6dGhpcy5zZWdtZW50SW5kZXg+dD8xOnRoaXMuZGlzdDxlPy0xOnRoaXMuZGlzdD5lPzE6MH0sUXAucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2lsXX0sUXAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFFwfTt2YXIgJHA9ZnVuY3Rpb24oKXt0aGlzLl9ub2RlTWFwPW5ldyBDYyx0aGlzLmVkZ2U9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5lZGdlPXR9OyRwLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt0LnByaW50bG4oIkludGVyc2VjdGlvbnM6Iik7Zm9yKHZhciBlPXRoaXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe2UubmV4dCgpLnByaW50KHQpfX0sJHAucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVNYXAudmFsdWVzKCkuaXRlcmF0b3IoKX0sJHAucHJvdG90eXBlLmFkZFNwbGl0RWRnZXM9ZnVuY3Rpb24odCl7dGhpcy5hZGRFbmRwb2ludHMoKTtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpLG49ZS5uZXh0KCk7ZS5oYXNOZXh0KCk7KXt2YXIgcj1lLm5leHQoKSxpPXRoaXMuY3JlYXRlU3BsaXRFZGdlKG4scik7dC5hZGQoaSksbj1yfX0sJHAucHJvdG90eXBlLmFkZEVuZHBvaW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWRnZS5wdHMubGVuZ3RoLTE7dGhpcy5hZGQodGhpcy5lZGdlLnB0c1swXSwwLDApLHRoaXMuYWRkKHRoaXMuZWRnZS5wdHNbdF0sdCwwKX0sJHAucHJvdG90eXBlLmNyZWF0ZVNwbGl0RWRnZT1mdW5jdGlvbih0LGUpe3ZhciBuPWUuc2VnbWVudEluZGV4LXQuc2VnbWVudEluZGV4KzIscj10aGlzLmVkZ2UucHRzW2Uuc2VnbWVudEluZGV4XSxpPWUuZGlzdD4wfHwhZS5jb29yZC5lcXVhbHMyRChyKTtpfHxuLS07dmFyIG89bmV3IEFycmF5KG4pLmZpbGwobnVsbCkscz0wO29bcysrXT1uZXcgdWwodC5jb29yZCk7Zm9yKHZhciBhPXQuc2VnbWVudEluZGV4KzE7YTw9ZS5zZWdtZW50SW5kZXg7YSsrKW9bcysrXT10aGlzLmVkZ2UucHRzW2FdO3JldHVybiBpJiYob1tzXT1lLmNvb3JkKSxuZXcgb2YobyxuZXcgRGgodGhpcy5lZGdlLl9sYWJlbCkpfSwkcC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgUXAodCxlLG4pLGk9dGhpcy5fbm9kZU1hcC5nZXQocik7cmV0dXJuIG51bGwhPT1pP2k6KHRoaXMuX25vZGVNYXAucHV0KHIscikscil9LCRwLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7aWYoZS5uZXh0KCkuY29vcmQuZXF1YWxzKHQpKXJldHVybiEwfXJldHVybiExfSwkcC5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sJHAucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuICRwfTt2YXIgdGY9ZnVuY3Rpb24oKXt9O3RmLnByb3RvdHlwZS5nZXRDaGFpblN0YXJ0SW5kaWNlcz1mdW5jdGlvbih0KXt2YXIgZT0wLG49bmV3IGxjO24uYWRkKG5ldyBfbChlKSk7ZG97dmFyIHI9dGhpcy5maW5kQ2hhaW5FbmQodCxlKTtuLmFkZChuZXcgX2wocikpLGU9cn13aGlsZShlPHQubGVuZ3RoLTEpO3JldHVybiB0Zi50b0ludEFycmF5KG4pfSx0Zi5wcm90b3R5cGUuZmluZENoYWluRW5kPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWpoLnF1YWRyYW50KHRbZV0sdFtlKzFdKSxyPWUrMTtyPHQubGVuZ3RoOyl7aWYoamgucXVhZHJhbnQodFtyLTFdLHRbcl0pIT09bilicmVhaztyKyt9cmV0dXJuIHItMX0sdGYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHRmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB0Zn0sdGYudG9JbnRBcnJheT1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQuc2l6ZSgpKS5maWxsKG51bGwpLG49MDtuPGUubGVuZ3RoO24rKyllW25dPXQuZ2V0KG4pLmludFZhbHVlKCk7cmV0dXJuIGV9O3ZhciBlZj1mdW5jdGlvbigpe3RoaXMuZT1udWxsLHRoaXMucHRzPW51bGwsdGhpcy5zdGFydEluZGV4PW51bGwsdGhpcy5lbnYxPW5ldyBMbCx0aGlzLmVudjI9bmV3IExsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLmU9dCx0aGlzLnB0cz10LmdldENvb3JkaW5hdGVzKCk7dmFyIGU9bmV3IHRmO3RoaXMuc3RhcnRJbmRleD1lLmdldENoYWluU3RhcnRJbmRpY2VzKHRoaXMucHRzKX07ZWYucHJvdG90eXBlLmdldENvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHRzfSxlZi5wcm90b3R5cGUuZ2V0TWF4WD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnB0c1t0aGlzLnN0YXJ0SW5kZXhbdF1dLngsbj10aGlzLnB0c1t0aGlzLnN0YXJ0SW5kZXhbdCsxXV0ueDtyZXR1cm4gZT5uP2U6bn0sZWYucHJvdG90eXBlLmdldE1pblg9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wdHNbdGhpcy5zdGFydEluZGV4W3RdXS54LG49dGhpcy5wdHNbdGhpcy5zdGFydEluZGV4W3QrMV1dLng7cmV0dXJuIGU8bj9lOm59LGVmLnByb3RvdHlwZS5jb21wdXRlSW50ZXJzZWN0c0ZvckNoYWluPWZ1bmN0aW9uKCl7aWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50c1syXSxyPWFyZ3VtZW50c1szXTt0aGlzLmNvbXB1dGVJbnRlcnNlY3RzRm9yQ2hhaW4odGhpcy5zdGFydEluZGV4W3RdLHRoaXMuc3RhcnRJbmRleFt0KzFdLGUsZS5zdGFydEluZGV4W25dLGUuc3RhcnRJbmRleFtuKzFdLHIpfWVsc2UgaWYoNj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWFyZ3VtZW50c1syXSxhPWFyZ3VtZW50c1szXSx1PWFyZ3VtZW50c1s0XSxsPWFyZ3VtZW50c1s1XSxjPXRoaXMucHRzW2ldLGg9dGhpcy5wdHNbb10scD1zLnB0c1thXSxmPXMucHRzW3VdO2lmKG8taT09MSYmdS1hPT0xKXJldHVybiBsLmFkZEludGVyc2VjdGlvbnModGhpcy5lLGkscy5lLGEpLG51bGw7aWYodGhpcy5lbnYxLmluaXQoYyxoKSx0aGlzLmVudjIuaW5pdChwLGYpLCF0aGlzLmVudjEuaW50ZXJzZWN0cyh0aGlzLmVudjIpKXJldHVybiBudWxsO3ZhciBnPU1hdGgudHJ1bmMoKGkrbykvMiksZD1NYXRoLnRydW5jKChhK3UpLzIpO2k8ZyYmKGE8ZCYmdGhpcy5jb21wdXRlSW50ZXJzZWN0c0ZvckNoYWluKGksZyxzLGEsZCxsKSxkPHUmJnRoaXMuY29tcHV0ZUludGVyc2VjdHNGb3JDaGFpbihpLGcscyxkLHUsbCkpLGc8byYmKGE8ZCYmdGhpcy5jb21wdXRlSW50ZXJzZWN0c0ZvckNoYWluKGcsbyxzLGEsZCxsKSxkPHUmJnRoaXMuY29tcHV0ZUludGVyc2VjdHNGb3JDaGFpbihnLG8scyxkLHUsbCkpfX0sZWYucHJvdG90eXBlLmdldFN0YXJ0SW5kZXhlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0SW5kZXh9LGVmLnByb3RvdHlwZS5jb21wdXRlSW50ZXJzZWN0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wO248dGhpcy5zdGFydEluZGV4Lmxlbmd0aC0xO24rKylmb3IodmFyIHI9MDtyPHQuc3RhcnRJbmRleC5sZW5ndGgtMTtyKyspdGhpcy5jb21wdXRlSW50ZXJzZWN0c0ZvckNoYWluKG4sdCxyLGUpfSxlZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGVmfTt2YXIgbmY9ZnVuY3Rpb24gdCgpe3RoaXMuX2RlcHRoPUFycmF5KDIpLmZpbGwoKS5tYXAoKGZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5KDMpfSkpO2Zvcih2YXIgZT0wO2U8MjtlKyspZm9yKHZhciBuPTA7bjwzO24rKyl0aGlzLl9kZXB0aFtlXVtuXT10Lk5VTExfVkFMVUV9LHJmPXtOVUxMX1ZBTFVFOntjb25maWd1cmFibGU6ITB9fTtuZi5wcm90b3R5cGUuZ2V0RGVwdGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGVwdGhbdF1bZV19LG5mLnByb3RvdHlwZS5zZXREZXB0aD1mdW5jdGlvbih0LGUsbil7dGhpcy5fZGVwdGhbdF1bZV09bn0sbmYucHJvdG90eXBlLmlzTnVsbD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT0wO2U8MjtlKyspZm9yKHZhciBuPTA7bjwzO24rKylpZih0Ll9kZXB0aFtlXVtuXSE9PW5mLk5VTExfVkFMVUUpcmV0dXJuITE7cmV0dXJuITB9aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5fZGVwdGhbcl1bMV09PT1uZi5OVUxMX1ZBTFVFfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX2RlcHRoW2ldW29dPT09bmYuTlVMTF9WQUxVRX19LG5mLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcyxlPTA7ZTwyO2UrKylpZighdC5pc051bGwoZSkpe3ZhciBuPXQuX2RlcHRoW2VdWzFdO3QuX2RlcHRoW2VdWzJdPG4mJihuPXQuX2RlcHRoW2VdWzJdKSxuPDAmJihuPTApO2Zvcih2YXIgcj0xO3I8MztyKyspe3ZhciBpPTA7dC5fZGVwdGhbZV1bcl0+biYmKGk9MSksdC5fZGVwdGhbZV1bcl09aX19fSxuZi5wcm90b3R5cGUuZ2V0RGVsdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlcHRoW3RdW1NoLlJJR0hUXS10aGlzLl9kZXB0aFt0XVtTaC5MRUZUXX0sbmYucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RlcHRoW3RdW2VdPD0wP3BsLkVYVEVSSU9SOnBsLklOVEVSSU9SfSxuZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iQTogIit0aGlzLl9kZXB0aFswXVsxXSsiLCIrdGhpcy5fZGVwdGhbMF1bMl0rIiBCOiAiK3RoaXMuX2RlcHRoWzFdWzFdKyIsIit0aGlzLl9kZXB0aFsxXVsyXX0sbmYucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPTA7bjwyO24rKylmb3IodmFyIHI9MTtyPDM7cisrKXt2YXIgaT1lLmdldExvY2F0aW9uKG4scik7aSE9PXBsLkVYVEVSSU9SJiZpIT09cGwuSU5URVJJT1J8fCh0LmlzTnVsbChuLHIpP3QuX2RlcHRoW25dW3JdPW5mLmRlcHRoQXRMb2NhdGlvbihpKTp0Ll9kZXB0aFtuXVtyXSs9bmYuZGVwdGhBdExvY2F0aW9uKGkpKX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1hcmd1bWVudHNbMl07YT09PXBsLklOVEVSSU9SJiZ0aGlzLl9kZXB0aFtvXVtzXSsrfX0sbmYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LG5mLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBuZn0sbmYuZGVwdGhBdExvY2F0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09cGwuRVhURVJJT1I/MDp0PT09cGwuSU5URVJJT1I/MTpuZi5OVUxMX1ZBTFVFfSxyZi5OVUxMX1ZBTFVFLmdldD1mdW5jdGlvbigpe3JldHVybi0xfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuZixyZik7dmFyIG9mPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpZih0LmNhbGwodGhpcyksdGhpcy5wdHM9bnVsbCx0aGlzLl9lbnY9bnVsbCx0aGlzLmVpTGlzdD1uZXcgJHAodGhpcyksdGhpcy5fbmFtZT1udWxsLHRoaXMuX21jZT1udWxsLHRoaXMuX2lzSXNvbGF0ZWQ9ITAsdGhpcy5fZGVwdGg9bmV3IG5mLHRoaXMuX2RlcHRoRGVsdGE9MCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdO2UuY2FsbCh0aGlzLG4sbnVsbCl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdO3RoaXMucHRzPXIsdGhpcy5fbGFiZWw9aX19cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmdldERlcHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRofSxlLnByb3RvdHlwZS5nZXRDb2xsYXBzZWRFZGdlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEFycmF5KDIpLmZpbGwobnVsbCk7cmV0dXJuIHRbMF09dGhpcy5wdHNbMF0sdFsxXT10aGlzLnB0c1sxXSxuZXcgZSh0LERoLnRvTGluZUxhYmVsKHRoaXMuX2xhYmVsKSl9LGUucHJvdG90eXBlLmlzSXNvbGF0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNJc29sYXRlZH0sZS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdHN9LGUucHJvdG90eXBlLnNldElzb2xhdGVkPWZ1bmN0aW9uKHQpe3RoaXMuX2lzSXNvbGF0ZWQ9dH0sZS5wcm90b3R5cGUuc2V0TmFtZT1mdW5jdGlvbih0KXt0aGlzLl9uYW1lPXR9LGUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0KXtpZighKHQgaW5zdGFuY2VvZiBlKSlyZXR1cm4hMTt2YXIgbj10O2lmKHRoaXMucHRzLmxlbmd0aCE9PW4ucHRzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHI9ITAsaT0hMCxvPXRoaXMucHRzLmxlbmd0aCxzPTA7czx0aGlzLnB0cy5sZW5ndGg7cysrKWlmKHRoaXMucHRzW3NdLmVxdWFsczJEKG4ucHRzW3NdKXx8KHI9ITEpLHRoaXMucHRzW3NdLmVxdWFsczJEKG4ucHRzWy0tb10pfHwoaT0hMSksIXImJiFpKXJldHVybiExO3JldHVybiEwfSxlLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMucHRzLmxlbmd0aD4wP3RoaXMucHRzWzBdOm51bGw7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtyZXR1cm4gdGhpcy5wdHNbdF19fSxlLnByb3RvdHlwZS5wcmludD1mdW5jdGlvbih0KXt0LnByaW50KCJlZGdlICIrdGhpcy5fbmFtZSsiOiAiKSx0LnByaW50KCJMSU5FU1RSSU5HICgiKTtmb3IodmFyIGU9MDtlPHRoaXMucHRzLmxlbmd0aDtlKyspZT4wJiZ0LnByaW50KCIsIiksdC5wcmludCh0aGlzLnB0c1tlXS54KyIgIit0aGlzLnB0c1tlXS55KTt0LnByaW50KCIpICAiK3RoaXMuX2xhYmVsKyIgIit0aGlzLl9kZXB0aERlbHRhKX0sZS5wcm90b3R5cGUuY29tcHV0ZUlNPWZ1bmN0aW9uKHQpe2UudXBkYXRlSU0odGhpcy5fbGFiZWwsdCl9LGUucHJvdG90eXBlLmlzQ29sbGFwc2VkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9sYWJlbC5pc0FyZWEoKSYmKDM9PT10aGlzLnB0cy5sZW5ndGgmJiEhdGhpcy5wdHNbMF0uZXF1YWxzKHRoaXMucHRzWzJdKSl9LGUucHJvdG90eXBlLmlzQ2xvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHRzWzBdLmVxdWFscyh0aGlzLnB0c1t0aGlzLnB0cy5sZW5ndGgtMV0pfSxlLnByb3RvdHlwZS5nZXRNYXhpbXVtU2VnbWVudEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHRzLmxlbmd0aC0xfSxlLnByb3RvdHlwZS5nZXREZXB0aERlbHRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoRGVsdGF9LGUucHJvdG90eXBlLmdldE51bVBvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB0cy5sZW5ndGh9LGUucHJvdG90eXBlLnByaW50UmV2ZXJzZT1mdW5jdGlvbih0KXt0LnByaW50KCJlZGdlICIrdGhpcy5fbmFtZSsiOiAiKTtmb3IodmFyIGU9dGhpcy5wdHMubGVuZ3RoLTE7ZT49MDtlLS0pdC5wcmludCh0aGlzLnB0c1tlXSsiICIpO3QucHJpbnRsbigiIil9LGUucHJvdG90eXBlLmdldE1vbm90b25lQ2hhaW5FZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLl9tY2UmJih0aGlzLl9tY2U9bmV3IGVmKHRoaXMpKSx0aGlzLl9tY2V9LGUucHJvdG90eXBlLmdldEVudmVsb3BlPWZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuX2Vudil7dGhpcy5fZW52PW5ldyBMbDtmb3IodmFyIHQ9MDt0PHRoaXMucHRzLmxlbmd0aDt0KyspdGhpcy5fZW52LmV4cGFuZFRvSW5jbHVkZSh0aGlzLnB0c1t0XSl9cmV0dXJuIHRoaXMuX2Vudn0sZS5wcm90b3R5cGUuYWRkSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPW5ldyB1bCh0LmdldEludGVyc2VjdGlvbihyKSksbz1lLHM9dC5nZXRFZGdlRGlzdGFuY2UobixyKSxhPW8rMTtpZihhPHRoaXMucHRzLmxlbmd0aCl7dmFyIHU9dGhpcy5wdHNbYV07aS5lcXVhbHMyRCh1KSYmKG89YSxzPTApfXRoaXMuZWlMaXN0LmFkZChpLG8scyl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHZsO3QuYXBwZW5kKCJlZGdlICIrdGhpcy5fbmFtZSsiOiAiKSx0LmFwcGVuZCgiTElORVNUUklORyAoIik7Zm9yKHZhciBlPTA7ZTx0aGlzLnB0cy5sZW5ndGg7ZSsrKWU+MCYmdC5hcHBlbmQoIiwiKSx0LmFwcGVuZCh0aGlzLnB0c1tlXS54KyIgIit0aGlzLnB0c1tlXS55KTtyZXR1cm4gdC5hcHBlbmQoIikgICIrdGhpcy5fbGFiZWwrIiAiK3RoaXMuX2RlcHRoRGVsdGEpLHQudG9TdHJpbmcoKX0sZS5wcm90b3R5cGUuaXNQb2ludHdpc2VFcXVhbD1mdW5jdGlvbih0KXtpZih0aGlzLnB0cy5sZW5ndGghPT10LnB0cy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLnB0cy5sZW5ndGg7ZSsrKWlmKCF0aGlzLnB0c1tlXS5lcXVhbHMyRCh0LnB0c1tlXSkpcmV0dXJuITE7cmV0dXJuITB9LGUucHJvdG90eXBlLnNldERlcHRoRGVsdGE9ZnVuY3Rpb24odCl7dGhpcy5fZGVwdGhEZWx0YT10fSxlLnByb3RvdHlwZS5nZXRFZGdlSW50ZXJzZWN0aW9uTGlzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVpTGlzdH0sZS5wcm90b3R5cGUuYWRkSW50ZXJzZWN0aW9ucz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPTA7cjx0LmdldEludGVyc2VjdGlvbk51bSgpO3IrKyl0aGlzLmFkZEludGVyc2VjdGlvbih0LGUsbixyKX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZS51cGRhdGVJTT1mdW5jdGlvbigpe2lmKDIhPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0LnByb3RvdHlwZS51cGRhdGVJTS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO24uc2V0QXRMZWFzdElmVmFsaWQoZS5nZXRMb2NhdGlvbigwLFNoLk9OKSxlLmdldExvY2F0aW9uKDEsU2guT04pLDEpLGUuaXNBcmVhKCkmJihuLnNldEF0TGVhc3RJZlZhbGlkKGUuZ2V0TG9jYXRpb24oMCxTaC5MRUZUKSxlLmdldExvY2F0aW9uKDEsU2guTEVGVCksMiksbi5zZXRBdExlYXN0SWZWYWxpZChlLmdldExvY2F0aW9uKDAsU2guUklHSFQpLGUuZ2V0TG9jYXRpb24oMSxTaC5SSUdIVCksMikpfSxlfShxaCksc2Y9ZnVuY3Rpb24odCl7dGhpcy5fd29ya2luZ1ByZWNpc2lvbk1vZGVsPW51bGwsdGhpcy5fd29ya2luZ05vZGVyPW51bGwsdGhpcy5fZ2VvbUZhY3Q9bnVsbCx0aGlzLl9ncmFwaD1udWxsLHRoaXMuX2VkZ2VMaXN0PW5ldyBKcCx0aGlzLl9idWZQYXJhbXM9dHx8bnVsbH07c2YucHJvdG90eXBlLnNldFdvcmtpbmdQcmVjaXNpb25Nb2RlbD1mdW5jdGlvbih0KXt0aGlzLl93b3JraW5nUHJlY2lzaW9uTW9kZWw9dH0sc2YucHJvdG90eXBlLmluc2VydFVuaXF1ZUVkZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fZWRnZUxpc3QuZmluZEVxdWFsRWRnZSh0KTtpZihudWxsIT09ZSl7dmFyIG49ZS5nZXRMYWJlbCgpLHI9dC5nZXRMYWJlbCgpO2UuaXNQb2ludHdpc2VFcXVhbCh0KXx8KHI9bmV3IERoKHQuZ2V0TGFiZWwoKSkpLmZsaXAoKSxuLm1lcmdlKHIpO3ZhciBpPXNmLmRlcHRoRGVsdGEociksbz1lLmdldERlcHRoRGVsdGEoKStpO2Uuc2V0RGVwdGhEZWx0YShvKX1lbHNlIHRoaXMuX2VkZ2VMaXN0LmFkZCh0KSx0LnNldERlcHRoRGVsdGEoc2YuZGVwdGhEZWx0YSh0LmdldExhYmVsKCkpKX0sc2YucHJvdG90eXBlLmJ1aWxkU3ViZ3JhcGhzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW5ldyBsYyxyPXQuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpLG89aS5nZXRSaWdodG1vc3RDb29yZGluYXRlKCkscz1uZXcga3AobikuZ2V0RGVwdGgobyk7aS5jb21wdXRlRGVwdGgocyksaS5maW5kUmVzdWx0RWRnZXMoKSxuLmFkZChpKSxlLmFkZChpLmdldERpcmVjdGVkRWRnZXMoKSxpLmdldE5vZGVzKCkpfX0sc2YucHJvdG90eXBlLmNyZWF0ZVN1YmdyYXBocz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49dC5nZXROb2RlcygpLml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtpZighci5pc1Zpc2l0ZWQoKSl7dmFyIGk9bmV3IFRoO2kuY3JlYXRlKHIpLGUuYWRkKGkpfX1yZXR1cm4gbnAuc29ydChlLG5wLnJldmVyc2VPcmRlcigpKSxlfSxzZi5wcm90b3R5cGUuY3JlYXRlRW1wdHlSZXN1bHRHZW9tZXRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tRmFjdC5jcmVhdGVQb2x5Z29uKCl9LHNmLnByb3RvdHlwZS5nZXROb2Rlcj1mdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5fd29ya2luZ05vZGVyKXJldHVybiB0aGlzLl93b3JraW5nTm9kZXI7dmFyIGU9bmV3IElwLG49bmV3IGpsO3JldHVybiBuLnNldFByZWNpc2lvbk1vZGVsKHQpLGUuc2V0U2VnbWVudEludGVyc2VjdG9yKG5ldyBLcChuKSksZX0sc2YucHJvdG90eXBlLmJ1ZmZlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX3dvcmtpbmdQcmVjaXNpb25Nb2RlbDtudWxsPT09biYmKG49dC5nZXRQcmVjaXNpb25Nb2RlbCgpKSx0aGlzLl9nZW9tRmFjdD10LmdldEZhY3RvcnkoKTt2YXIgcj1uZXcgRnAobix0aGlzLl9idWZQYXJhbXMpLGk9bmV3IHpwKHQsZSxyKS5nZXRDdXJ2ZXMoKTtpZihpLnNpemUoKTw9MClyZXR1cm4gdGhpcy5jcmVhdGVFbXB0eVJlc3VsdEdlb21ldHJ5KCk7dGhpcy5jb21wdXRlTm9kZWRFZGdlcyhpLG4pLHRoaXMuX2dyYXBoPW5ldyBIaChuZXcgSHApLHRoaXMuX2dyYXBoLmFkZEVkZ2VzKHRoaXMuX2VkZ2VMaXN0LmdldEVkZ2VzKCkpO3ZhciBvPXRoaXMuY3JlYXRlU3ViZ3JhcGhzKHRoaXMuX2dyYXBoKSxzPW5ldyBXaCh0aGlzLl9nZW9tRmFjdCk7dGhpcy5idWlsZFN1YmdyYXBocyhvLHMpO3ZhciBhPXMuZ2V0UG9seWdvbnMoKTtyZXR1cm4gYS5zaXplKCk8PTA/dGhpcy5jcmVhdGVFbXB0eVJlc3VsdEdlb21ldHJ5KCk6dGhpcy5fZ2VvbUZhY3QuYnVpbGRHZW9tZXRyeShhKX0sc2YucHJvdG90eXBlLmNvbXB1dGVOb2RlZEVkZ2VzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5nZXROb2RlcihlKTtuLmNvbXB1dGVOb2Rlcyh0KTtmb3IodmFyIHI9bi5nZXROb2RlZFN1YnN0cmluZ3MoKS5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCksbz1pLmdldENvb3JkaW5hdGVzKCk7aWYoMiE9PW8ubGVuZ3RofHwhb1swXS5lcXVhbHMyRChvWzFdKSl7dmFyIHM9aS5nZXREYXRhKCksYT1uZXcgb2YoaS5nZXRDb29yZGluYXRlcygpLG5ldyBEaChzKSk7dGhpcy5pbnNlcnRVbmlxdWVFZGdlKGEpfX19LHNmLnByb3RvdHlwZS5zZXROb2Rlcj1mdW5jdGlvbih0KXt0aGlzLl93b3JraW5nTm9kZXI9dH0sc2YucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHNmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBzZn0sc2YuZGVwdGhEZWx0YT1mdW5jdGlvbih0KXt2YXIgZT10LmdldExvY2F0aW9uKDAsU2guTEVGVCksbj10LmdldExvY2F0aW9uKDAsU2guUklHSFQpO3JldHVybiBlPT09cGwuSU5URVJJT1ImJm49PT1wbC5FWFRFUklPUj8xOmU9PT1wbC5FWFRFUklPUiYmbj09PXBsLklOVEVSSU9SPy0xOjB9LHNmLmNvbnZlcnRTZWdTdHJpbmdzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgX2gsbj1uZXcgbGM7dC5oYXNOZXh0KCk7KXt2YXIgcj10Lm5leHQoKSxpPWUuY3JlYXRlTGluZVN0cmluZyhyLmdldENvb3JkaW5hdGVzKCkpO24uYWRkKGkpfXJldHVybiBlLmJ1aWxkR2VvbWV0cnkobil9O3ZhciBhZj1mdW5jdGlvbigpe2lmKHRoaXMuX25vZGVyPW51bGwsdGhpcy5fc2NhbGVGYWN0b3I9bnVsbCx0aGlzLl9vZmZzZXRYPW51bGwsdGhpcy5fb2Zmc2V0WT1udWxsLHRoaXMuX2lzU2NhbGVkPSExLDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fbm9kZXI9dCx0aGlzLl9zY2FsZUZhY3Rvcj1lLHRoaXMuX29mZnNldFg9MCx0aGlzLl9vZmZzZXRZPTAsdGhpcy5faXNTY2FsZWQ9IXRoaXMuaXNJbnRlZ2VyUHJlY2lzaW9uKCl9ZWxzZSBpZig0PT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdLGk9YXJndW1lbnRzWzJdLG89YXJndW1lbnRzWzNdO3RoaXMuX25vZGVyPW4sdGhpcy5fc2NhbGVGYWN0b3I9cix0aGlzLl9vZmZzZXRYPWksdGhpcy5fb2Zmc2V0WT1vLHRoaXMuX2lzU2NhbGVkPSF0aGlzLmlzSW50ZWdlclByZWNpc2lvbigpfX07YWYucHJvdG90eXBlLnJlc2NhbGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKGdsKGFyZ3VtZW50c1swXSxpYykpZm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO3QucmVzY2FsZShyLmdldENvb3JkaW5hdGVzKCkpfWVsc2UgaWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBpPWFyZ3VtZW50c1swXSxvPTA7bzxpLmxlbmd0aDtvKyspaVtvXS54PWlbb10ueC90Ll9zY2FsZUZhY3Rvcit0Ll9vZmZzZXRYLGlbb10ueT1pW29dLnkvdC5fc2NhbGVGYWN0b3IrdC5fb2Zmc2V0WTsyPT09aS5sZW5ndGgmJmlbMF0uZXF1YWxzMkQoaVsxXSkmJlBsLm91dC5wcmludGxuKGkpfX0sYWYucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihnbChhcmd1bWVudHNbMF0saWMpKXtmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49bmV3IGxjLHI9ZS5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCk7bi5hZGQobmV3IHlwKHQuc2NhbGUoaS5nZXRDb29yZGluYXRlcygpKSxpLmdldERhdGEoKSkpfXJldHVybiBufWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgQXJyYXkpe2Zvcih2YXIgbz1hcmd1bWVudHNbMF0scz1uZXcgQXJyYXkoby5sZW5ndGgpLmZpbGwobnVsbCksYT0wO2E8by5sZW5ndGg7YSsrKXNbYV09bmV3IHVsKE1hdGgucm91bmQoKG9bYV0ueC10Ll9vZmZzZXRYKSp0Ll9zY2FsZUZhY3RvciksTWF0aC5yb3VuZCgob1thXS55LXQuX29mZnNldFkpKnQuX3NjYWxlRmFjdG9yKSxvW2FdLnopO3ZhciB1PXBjLnJlbW92ZVJlcGVhdGVkUG9pbnRzKHMpO3JldHVybiB1fX0sYWYucHJvdG90eXBlLmlzSW50ZWdlclByZWNpc2lvbj1mdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5fc2NhbGVGYWN0b3J9LGFmLnByb3RvdHlwZS5nZXROb2RlZFN1YnN0cmluZ3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9ub2Rlci5nZXROb2RlZFN1YnN0cmluZ3MoKTtyZXR1cm4gdGhpcy5faXNTY2FsZWQmJnRoaXMucmVzY2FsZSh0KSx0fSxhZi5wcm90b3R5cGUuY29tcHV0ZU5vZGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7dGhpcy5faXNTY2FsZWQmJihlPXRoaXMuc2NhbGUodCkpLHRoaXMuX25vZGVyLmNvbXB1dGVOb2RlcyhlKX0sYWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2JwXX0sYWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGFmfTt2YXIgdWY9ZnVuY3Rpb24oKXt0aGlzLl9saT1uZXcgamwsdGhpcy5fc2VnU3RyaW5ncz1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9zZWdTdHJpbmdzPXR9LGxmPXtmYWN0Ontjb25maWd1cmFibGU6ITB9fTt1Zi5wcm90b3R5cGUuY2hlY2tFbmRQdFZlcnRleEludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgZT10aGlzLl9zZWdTdHJpbmdzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKSxyPW4uZ2V0Q29vcmRpbmF0ZXMoKTt0LmNoZWNrRW5kUHRWZXJ0ZXhJbnRlcnNlY3Rpb25zKHJbMF0sdC5fc2VnU3RyaW5ncyksdC5jaGVja0VuZFB0VmVydGV4SW50ZXJzZWN0aW9ucyhyW3IubGVuZ3RoLTFdLHQuX3NlZ1N0cmluZ3MpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPW8uaXRlcmF0b3IoKTtzLmhhc05leHQoKTspZm9yKHZhciBhPXMubmV4dCgpLHU9YS5nZXRDb29yZGluYXRlcygpLGw9MTtsPHUubGVuZ3RoLTE7bCsrKWlmKHVbbF0uZXF1YWxzKGkpKXRocm93IG5ldyBrbCgiZm91bmQgZW5kcHQvaW50ZXJpb3IgcHQgaW50ZXJzZWN0aW9uIGF0IGluZGV4ICIrbCsiIDpwdCAiK2kpfSx1Zi5wcm90b3R5cGUuY2hlY2tJbnRlcmlvckludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgZT10aGlzLl9zZWdTdHJpbmdzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KWZvcih2YXIgbj1lLm5leHQoKSxyPXRoaXMuX3NlZ1N0cmluZ3MuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpO3QuY2hlY2tJbnRlcmlvckludGVyc2VjdGlvbnMobixpKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1vLmdldENvb3JkaW5hdGVzKCksdT1zLmdldENvb3JkaW5hdGVzKCksbD0wO2w8YS5sZW5ndGgtMTtsKyspZm9yKHZhciBjPTA7Yzx1Lmxlbmd0aC0xO2MrKyl0LmNoZWNrSW50ZXJpb3JJbnRlcnNlY3Rpb25zKG8sbCxzLGMpO2Vsc2UgaWYoND09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBoPWFyZ3VtZW50c1swXSxwPWFyZ3VtZW50c1sxXSxmPWFyZ3VtZW50c1syXSxnPWFyZ3VtZW50c1szXTtpZihoPT09ZiYmcD09PWcpcmV0dXJuIG51bGw7dmFyIGQ9aC5nZXRDb29yZGluYXRlcygpW3BdLHk9aC5nZXRDb29yZGluYXRlcygpW3ArMV0sdj1mLmdldENvb3JkaW5hdGVzKClbZ10sXz1mLmdldENvb3JkaW5hdGVzKClbZysxXTtpZih0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKGQseSx2LF8pLHRoaXMuX2xpLmhhc0ludGVyc2VjdGlvbigpJiYodGhpcy5fbGkuaXNQcm9wZXIoKXx8dGhpcy5oYXNJbnRlcmlvckludGVyc2VjdGlvbih0aGlzLl9saSxkLHkpfHx0aGlzLmhhc0ludGVyaW9ySW50ZXJzZWN0aW9uKHRoaXMuX2xpLHYsXykpKXRocm93IG5ldyBrbCgiZm91bmQgbm9uLW5vZGVkIGludGVyc2VjdGlvbiBhdCAiK2QrIi0iK3krIiBhbmQgIit2KyItIitfKX19LHVmLnByb3RvdHlwZS5jaGVja1ZhbGlkPWZ1bmN0aW9uKCl7dGhpcy5jaGVja0VuZFB0VmVydGV4SW50ZXJzZWN0aW9ucygpLHRoaXMuY2hlY2tJbnRlcmlvckludGVyc2VjdGlvbnMoKSx0aGlzLmNoZWNrQ29sbGFwc2VzKCl9LHVmLnByb3RvdHlwZS5jaGVja0NvbGxhcHNlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBlPXRoaXMuX3NlZ1N0cmluZ3MuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpO3QuY2hlY2tDb2xsYXBzZXMobil9ZWxzZSBpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIHI9YXJndW1lbnRzWzBdLGk9ci5nZXRDb29yZGluYXRlcygpLG89MDtvPGkubGVuZ3RoLTI7bysrKXQuY2hlY2tDb2xsYXBzZShpW29dLGlbbysxXSxpW28rMl0pfSx1Zi5wcm90b3R5cGUuaGFzSW50ZXJpb3JJbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj0wO3I8dC5nZXRJbnRlcnNlY3Rpb25OdW0oKTtyKyspe3ZhciBpPXQuZ2V0SW50ZXJzZWN0aW9uKHIpO2lmKCFpLmVxdWFscyhlKSYmIWkuZXF1YWxzKG4pKXJldHVybiEwfXJldHVybiExfSx1Zi5wcm90b3R5cGUuY2hlY2tDb2xsYXBzZT1mdW5jdGlvbih0LGUsbil7aWYodC5lcXVhbHMobikpdGhyb3cgbmV3IGtsKCJmb3VuZCBub24tbm9kZWQgY29sbGFwc2UgYXQgIit1Zi5mYWN0LmNyZWF0ZUxpbmVTdHJpbmcoW3QsZSxuXSkpfSx1Zi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHVmfSxsZi5mYWN0LmdldD1mdW5jdGlvbigpe3JldHVybiBuZXcgX2h9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHVmLGxmKTt2YXIgY2Y9ZnVuY3Rpb24oKXt0aGlzLl9saT1udWxsLHRoaXMuX3B0PW51bGwsdGhpcy5fb3JpZ2luYWxQdD1udWxsLHRoaXMuX3B0U2NhbGVkPW51bGwsdGhpcy5fcDBTY2FsZWQ9bnVsbCx0aGlzLl9wMVNjYWxlZD1udWxsLHRoaXMuX3NjYWxlRmFjdG9yPW51bGwsdGhpcy5fbWlueD1udWxsLHRoaXMuX21heHg9bnVsbCx0aGlzLl9taW55PW51bGwsdGhpcy5fbWF4eT1udWxsLHRoaXMuX2Nvcm5lcj1uZXcgQXJyYXkoNCkuZmlsbChudWxsKSx0aGlzLl9zYWZlRW52PW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO2lmKHRoaXMuX29yaWdpbmFsUHQ9dCx0aGlzLl9wdD10LHRoaXMuX3NjYWxlRmFjdG9yPWUsdGhpcy5fbGk9bixlPD0wKXRocm93IG5ldyBlbCgiU2NhbGUgZmFjdG9yIG11c3QgYmUgbm9uLXplcm8iKTsxIT09ZSYmKHRoaXMuX3B0PW5ldyB1bCh0aGlzLnNjYWxlKHQueCksdGhpcy5zY2FsZSh0LnkpKSx0aGlzLl9wMFNjYWxlZD1uZXcgdWwsdGhpcy5fcDFTY2FsZWQ9bmV3IHVsKSx0aGlzLmluaXRDb3JuZXJzKHRoaXMuX3B0KX0saGY9e1NBRkVfRU5WX0VYUEFOU0lPTl9GQUNUT1I6e2NvbmZpZ3VyYWJsZTohMH19O2NmLnByb3RvdHlwZS5pbnRlcnNlY3RzU2NhbGVkPWZ1bmN0aW9uKHQsZSl7dmFyIG49TWF0aC5taW4odC54LGUueCkscj1NYXRoLm1heCh0LngsZS54KSxpPU1hdGgubWluKHQueSxlLnkpLG89TWF0aC5tYXgodC55LGUueSkscz10aGlzLl9tYXh4PG58fHRoaXMuX21pbng+cnx8dGhpcy5fbWF4eTxpfHx0aGlzLl9taW55Pm87aWYocylyZXR1cm4hMTt2YXIgYT10aGlzLmludGVyc2VjdHNUb2xlcmFuY2VTcXVhcmUodCxlKTtyZXR1cm4gcWwuaXNUcnVlKCEocyYmYSksIkZvdW5kIGJhZCBlbnZlbG9wZSB0ZXN0IiksYX0sY2YucHJvdG90eXBlLmluaXRDb3JuZXJzPWZ1bmN0aW9uKHQpe3ZhciBlPS41O3RoaXMuX21pbng9dC54LWUsdGhpcy5fbWF4eD10LngrZSx0aGlzLl9taW55PXQueS1lLHRoaXMuX21heHk9dC55K2UsdGhpcy5fY29ybmVyWzBdPW5ldyB1bCh0aGlzLl9tYXh4LHRoaXMuX21heHkpLHRoaXMuX2Nvcm5lclsxXT1uZXcgdWwodGhpcy5fbWlueCx0aGlzLl9tYXh5KSx0aGlzLl9jb3JuZXJbMl09bmV3IHVsKHRoaXMuX21pbngsdGhpcy5fbWlueSksdGhpcy5fY29ybmVyWzNdPW5ldyB1bCh0aGlzLl9tYXh4LHRoaXMuX21pbnkpfSxjZi5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbih0LGUpe3JldHVybiAxPT09dGhpcy5fc2NhbGVGYWN0b3I/dGhpcy5pbnRlcnNlY3RzU2NhbGVkKHQsZSk6KHRoaXMuY29weVNjYWxlZCh0LHRoaXMuX3AwU2NhbGVkKSx0aGlzLmNvcHlTY2FsZWQoZSx0aGlzLl9wMVNjYWxlZCksdGhpcy5pbnRlcnNlY3RzU2NhbGVkKHRoaXMuX3AwU2NhbGVkLHRoaXMuX3AxU2NhbGVkKSl9LGNmLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZCh0KnRoaXMuX3NjYWxlRmFjdG9yKX0sY2YucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3JpZ2luYWxQdH0sY2YucHJvdG90eXBlLmNvcHlTY2FsZWQ9ZnVuY3Rpb24odCxlKXtlLng9dGhpcy5zY2FsZSh0LngpLGUueT10aGlzLnNjYWxlKHQueSl9LGNmLnByb3RvdHlwZS5nZXRTYWZlRW52ZWxvcGU9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5fc2FmZUVudil7dmFyIHQ9Y2YuU0FGRV9FTlZfRVhQQU5TSU9OX0ZBQ1RPUi90aGlzLl9zY2FsZUZhY3Rvcjt0aGlzLl9zYWZlRW52PW5ldyBMbCh0aGlzLl9vcmlnaW5hbFB0LngtdCx0aGlzLl9vcmlnaW5hbFB0LngrdCx0aGlzLl9vcmlnaW5hbFB0LnktdCx0aGlzLl9vcmlnaW5hbFB0LnkrdCl9cmV0dXJuIHRoaXMuX3NhZmVFbnZ9LGNmLnByb3RvdHlwZS5pbnRlcnNlY3RzUGl4ZWxDbG9zdXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24odCxlLHRoaXMuX2Nvcm5lclswXSx0aGlzLl9jb3JuZXJbMV0pLCEhdGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCl8fCh0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKHQsZSx0aGlzLl9jb3JuZXJbMV0sdGhpcy5fY29ybmVyWzJdKSwhIXRoaXMuX2xpLmhhc0ludGVyc2VjdGlvbigpfHwodGhpcy5fbGkuY29tcHV0ZUludGVyc2VjdGlvbih0LGUsdGhpcy5fY29ybmVyWzJdLHRoaXMuX2Nvcm5lclszXSksISF0aGlzLl9saS5oYXNJbnRlcnNlY3Rpb24oKXx8KHRoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24odCxlLHRoaXMuX2Nvcm5lclszXSx0aGlzLl9jb3JuZXJbMF0pLCEhdGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCkpKSl9LGNmLnByb3RvdHlwZS5pbnRlcnNlY3RzVG9sZXJhbmNlU3F1YXJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49ITEscj0hMTtyZXR1cm4gdGhpcy5fbGkuY29tcHV0ZUludGVyc2VjdGlvbih0LGUsdGhpcy5fY29ybmVyWzBdLHRoaXMuX2Nvcm5lclsxXSksISF0aGlzLl9saS5pc1Byb3BlcigpfHwodGhpcy5fbGkuY29tcHV0ZUludGVyc2VjdGlvbih0LGUsdGhpcy5fY29ybmVyWzFdLHRoaXMuX2Nvcm5lclsyXSksISF0aGlzLl9saS5pc1Byb3BlcigpfHwodGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCkmJihuPSEwKSx0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKHQsZSx0aGlzLl9jb3JuZXJbMl0sdGhpcy5fY29ybmVyWzNdKSwhIXRoaXMuX2xpLmlzUHJvcGVyKCl8fCh0aGlzLl9saS5oYXNJbnRlcnNlY3Rpb24oKSYmKHI9ITApLHRoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24odCxlLHRoaXMuX2Nvcm5lclszXSx0aGlzLl9jb3JuZXJbMF0pLCEhdGhpcy5fbGkuaXNQcm9wZXIoKXx8KCEoIW58fCFyKXx8KCEhdC5lcXVhbHModGhpcy5fcHQpfHwhIWUuZXF1YWxzKHRoaXMuX3B0KSkpKSkpfSxjZi5wcm90b3R5cGUuYWRkU25hcHBlZE5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldENvb3JkaW5hdGUoZSkscj10LmdldENvb3JkaW5hdGUoZSsxKTtyZXR1cm4hIXRoaXMuaW50ZXJzZWN0cyhuLHIpJiYodC5hZGRJbnRlcnNlY3Rpb24odGhpcy5nZXRDb29yZGluYXRlKCksZSksITApfSxjZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sY2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGNmfSxoZi5TQUZFX0VOVl9FWFBBTlNJT05fRkFDVE9SLmdldD1mdW5jdGlvbigpe3JldHVybi43NX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY2YsaGYpO3ZhciBwZj1mdW5jdGlvbigpe3RoaXMudGVtcEVudjE9bmV3IExsLHRoaXMuc2VsZWN0ZWRTZWdtZW50PW5ldyB2cH07cGYucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKTtlbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dC5nZXRMaW5lU2VnbWVudChlLHRoaXMuc2VsZWN0ZWRTZWdtZW50KSx0aGlzLnNlbGVjdCh0aGlzLnNlbGVjdGVkU2VnbWVudCl9fSxwZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0scGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHBmfTt2YXIgZmY9ZnVuY3Rpb24oKXt0aGlzLl9pbmRleD1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9pbmRleD10fSxnZj17SG90UGl4ZWxTbmFwQWN0aW9uOntjb25maWd1cmFibGU6ITB9fTtmZi5wcm90b3R5cGUuc25hcD1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuc25hcCh0LG51bGwsLTEpfWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl0saT1lLmdldFNhZmVFbnZlbG9wZSgpLG89bmV3IGRmKGUsbixyKTtyZXR1cm4gdGhpcy5faW5kZXgucXVlcnkoaSx7aW50ZXJmYWNlc186ZnVuY3Rpb24oKXtyZXR1cm5bUWhdfSx2aXNpdEl0ZW06ZnVuY3Rpb24odCl7dC5zZWxlY3QoaSxvKX19KSxvLmlzTm9kZUFkZGVkKCl9fSxmZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZmYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGZmfSxnZi5Ib3RQaXhlbFNuYXBBY3Rpb24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGRmfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhmZixnZik7dmFyIGRmPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyksdGhpcy5faG90UGl4ZWw9bnVsbCx0aGlzLl9wYXJlbnRFZGdlPW51bGwsdGhpcy5faG90UGl4ZWxWZXJ0ZXhJbmRleD1udWxsLHRoaXMuX2lzTm9kZUFkZGVkPSExO3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXTt0aGlzLl9ob3RQaXhlbD1lLHRoaXMuX3BhcmVudEVkZ2U9bix0aGlzLl9ob3RQaXhlbFZlcnRleEluZGV4PXJ9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLmlzTm9kZUFkZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTm9kZUFkZGVkfSxlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXtpZigyIT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC5wcm90b3R5cGUuc2VsZWN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1lLmdldENvbnRleHQoKTtpZihudWxsIT09dGhpcy5fcGFyZW50RWRnZSYmcj09PXRoaXMuX3BhcmVudEVkZ2UmJm49PT10aGlzLl9ob3RQaXhlbFZlcnRleEluZGV4KXJldHVybiBudWxsO3RoaXMuX2lzTm9kZUFkZGVkPXRoaXMuX2hvdFBpeGVsLmFkZFNuYXBwZWROb2RlKHIsbil9LGUucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGUucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LGV9KHBmKSx5Zj1mdW5jdGlvbigpe3RoaXMuX2xpPW51bGwsdGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb25zPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuX2xpPXQsdGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb25zPW5ldyBsY307eWYucHJvdG90eXBlLnByb2Nlc3NJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9PT1uJiZlPT09cilyZXR1cm4gbnVsbDt2YXIgaT10LmdldENvb3JkaW5hdGVzKClbZV0sbz10LmdldENvb3JkaW5hdGVzKClbZSsxXSxzPW4uZ2V0Q29vcmRpbmF0ZXMoKVtyXSxhPW4uZ2V0Q29vcmRpbmF0ZXMoKVtyKzFdO2lmKHRoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24oaSxvLHMsYSksdGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCkmJnRoaXMuX2xpLmlzSW50ZXJpb3JJbnRlcnNlY3Rpb24oKSl7Zm9yKHZhciB1PTA7dTx0aGlzLl9saS5nZXRJbnRlcnNlY3Rpb25OdW0oKTt1KyspdGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb25zLmFkZCh0aGlzLl9saS5nZXRJbnRlcnNlY3Rpb24odSkpO3QuYWRkSW50ZXJzZWN0aW9ucyh0aGlzLl9saSxlLDApLG4uYWRkSW50ZXJzZWN0aW9ucyh0aGlzLl9saSxyLDEpfX0seWYucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiExfSx5Zi5wcm90b3R5cGUuZ2V0SW50ZXJpb3JJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVyaW9ySW50ZXJzZWN0aW9uc30seWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW1pwXX0seWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHlmfTt2YXIgdmY9ZnVuY3Rpb24oKXt0aGlzLl9wbT1udWxsLHRoaXMuX2xpPW51bGwsdGhpcy5fc2NhbGVGYWN0b3I9bnVsbCx0aGlzLl9ub2Rlcj1udWxsLHRoaXMuX3BvaW50U25hcHBlcj1udWxsLHRoaXMuX25vZGVkU2VnU3RyaW5ncz1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9wbT10LHRoaXMuX2xpPW5ldyBqbCx0aGlzLl9saS5zZXRQcmVjaXNpb25Nb2RlbCh0KSx0aGlzLl9zY2FsZUZhY3Rvcj10LmdldFNjYWxlKCl9O3ZmLnByb3RvdHlwZS5jaGVja0NvcnJlY3RuZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXlwLmdldE5vZGVkU3Vic3RyaW5ncyh0KSxuPW5ldyB1ZihlKTt0cnl7bi5jaGVja1ZhbGlkKCl9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2YgU2wpKXRocm93IHQ7dC5wcmludFN0YWNrVHJhY2UoKX19LHZmLnByb3RvdHlwZS5nZXROb2RlZFN1YnN0cmluZ3M9ZnVuY3Rpb24oKXtyZXR1cm4geXAuZ2V0Tm9kZWRTdWJzdHJpbmdzKHRoaXMuX25vZGVkU2VnU3RyaW5ncyl9LHZmLnByb3RvdHlwZS5zbmFwUm91bmQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmZpbmRJbnRlcmlvckludGVyc2VjdGlvbnModCxlKTt0aGlzLmNvbXB1dGVJbnRlcnNlY3Rpb25TbmFwcyhuKSx0aGlzLmNvbXB1dGVWZXJ0ZXhTbmFwcyh0KX0sdmYucHJvdG90eXBlLmZpbmRJbnRlcmlvckludGVyc2VjdGlvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgeWYoZSk7cmV0dXJuIHRoaXMuX25vZGVyLnNldFNlZ21lbnRJbnRlcnNlY3RvcihuKSx0aGlzLl9ub2Rlci5jb21wdXRlTm9kZXModCksbi5nZXRJbnRlcmlvckludGVyc2VjdGlvbnMoKX0sdmYucHJvdG90eXBlLmNvbXB1dGVWZXJ0ZXhTbmFwcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoZ2woYXJndW1lbnRzWzBdLGljKSlmb3IodmFyIGU9YXJndW1lbnRzWzBdLG49ZS5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7dC5jb21wdXRlVmVydGV4U25hcHMocil9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHlwKWZvcih2YXIgaT1hcmd1bWVudHNbMF0sbz1pLmdldENvb3JkaW5hdGVzKCkscz0wO3M8by5sZW5ndGg7cysrKXt2YXIgYT1uZXcgY2Yob1tzXSx0Ll9zY2FsZUZhY3Rvcix0Ll9saSksdT10Ll9wb2ludFNuYXBwZXIuc25hcChhLGkscyk7dSYmaS5hZGRJbnRlcnNlY3Rpb24ob1tzXSxzKX19LHZmLnByb3RvdHlwZS5jb21wdXRlTm9kZXM9ZnVuY3Rpb24odCl7dGhpcy5fbm9kZWRTZWdTdHJpbmdzPXQsdGhpcy5fbm9kZXI9bmV3IElwLHRoaXMuX3BvaW50U25hcHBlcj1uZXcgZmYodGhpcy5fbm9kZXIuZ2V0SW5kZXgoKSksdGhpcy5zbmFwUm91bmQodCx0aGlzLl9saSl9LHZmLnByb3RvdHlwZS5jb21wdXRlSW50ZXJzZWN0aW9uU25hcHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKSxpPW5ldyBjZihyLGUuX3NjYWxlRmFjdG9yLGUuX2xpKTtlLl9wb2ludFNuYXBwZXIuc25hcChpKX19LHZmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVyblticF19LHZmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB2Zn07dmFyIF9mPWZ1bmN0aW9uKCl7aWYodGhpcy5fYXJnR2VvbT1udWxsLHRoaXMuX2Rpc3RhbmNlPW51bGwsdGhpcy5fYnVmUGFyYW1zPW5ldyBTcCx0aGlzLl9yZXN1bHRHZW9tZXRyeT1udWxsLHRoaXMuX3NhdmVFeGNlcHRpb249bnVsbCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuX2FyZ0dlb209dH1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dGhpcy5fYXJnR2VvbT1lLHRoaXMuX2J1ZlBhcmFtcz1ufX0sbWY9e0NBUF9ST1VORDp7Y29uZmlndXJhYmxlOiEwfSxDQVBfQlVUVDp7Y29uZmlndXJhYmxlOiEwfSxDQVBfRkxBVDp7Y29uZmlndXJhYmxlOiEwfSxDQVBfU1FVQVJFOntjb25maWd1cmFibGU6ITB9LE1BWF9QUkVDSVNJT05fRElHSVRTOntjb25maWd1cmFibGU6ITB9fTtfZi5wcm90b3R5cGUuYnVmZmVyRml4ZWRQcmVjaXNpb249ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGFmKG5ldyB2ZihuZXcgZ2goMSkpLHQuZ2V0U2NhbGUoKSksbj1uZXcgc2YodGhpcy5fYnVmUGFyYW1zKTtuLnNldFdvcmtpbmdQcmVjaXNpb25Nb2RlbCh0KSxuLnNldE5vZGVyKGUpLHRoaXMuX3Jlc3VsdEdlb21ldHJ5PW4uYnVmZmVyKHRoaXMuX2FyZ0dlb20sdGhpcy5fZGlzdGFuY2UpfSxfZi5wcm90b3R5cGUuYnVmZmVyUmVkdWNlZFByZWNpc2lvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT1fZi5NQVhfUFJFQ0lTSU9OX0RJR0lUUztlPj0wO2UtLSl7dHJ5e3QuYnVmZmVyUmVkdWNlZFByZWNpc2lvbihlKX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBPaCkpdGhyb3cgZTt0Ll9zYXZlRXhjZXB0aW9uPWV9aWYobnVsbCE9PXQuX3Jlc3VsdEdlb21ldHJ5KXJldHVybiBudWxsfXRocm93IHRoaXMuX3NhdmVFeGNlcHRpb259aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPV9mLnByZWNpc2lvblNjYWxlRmFjdG9yKHRoaXMuX2FyZ0dlb20sdGhpcy5fZGlzdGFuY2UsbiksaT1uZXcgZ2gocik7dGhpcy5idWZmZXJGaXhlZFByZWNpc2lvbihpKX19LF9mLnByb3RvdHlwZS5jb21wdXRlR2VvbWV0cnk9ZnVuY3Rpb24oKXtpZih0aGlzLmJ1ZmZlck9yaWdpbmFsUHJlY2lzaW9uKCksbnVsbCE9PXRoaXMuX3Jlc3VsdEdlb21ldHJ5KXJldHVybiBudWxsO3ZhciB0PXRoaXMuX2FyZ0dlb20uZ2V0RmFjdG9yeSgpLmdldFByZWNpc2lvbk1vZGVsKCk7dC5nZXRUeXBlKCk9PT1naC5GSVhFRD90aGlzLmJ1ZmZlckZpeGVkUHJlY2lzaW9uKHQpOnRoaXMuYnVmZmVyUmVkdWNlZFByZWNpc2lvbigpfSxfZi5wcm90b3R5cGUuc2V0UXVhZHJhbnRTZWdtZW50cz1mdW5jdGlvbih0KXt0aGlzLl9idWZQYXJhbXMuc2V0UXVhZHJhbnRTZWdtZW50cyh0KX0sX2YucHJvdG90eXBlLmJ1ZmZlck9yaWdpbmFsUHJlY2lzaW9uPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW5ldyBzZih0aGlzLl9idWZQYXJhbXMpO3RoaXMuX3Jlc3VsdEdlb21ldHJ5PXQuYnVmZmVyKHRoaXMuX2FyZ0dlb20sdGhpcy5fZGlzdGFuY2UpfWNhdGNoKHQpe2lmKCEodCBpbnN0YW5jZW9mIGtsKSl0aHJvdyB0O3RoaXMuX3NhdmVFeGNlcHRpb249dH19LF9mLnByb3RvdHlwZS5nZXRSZXN1bHRHZW9tZXRyeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGlzdGFuY2U9dCx0aGlzLmNvbXB1dGVHZW9tZXRyeSgpLHRoaXMuX3Jlc3VsdEdlb21ldHJ5fSxfZi5wcm90b3R5cGUuc2V0RW5kQ2FwU3R5bGU9ZnVuY3Rpb24odCl7dGhpcy5fYnVmUGFyYW1zLnNldEVuZENhcFN0eWxlKHQpfSxfZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sX2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIF9mfSxfZi5idWZmZXJPcD1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1uZXcgX2YodCkscj1uLmdldFJlc3VsdEdlb21ldHJ5KGUpO3JldHVybiByfWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihOdW1iZXIuaXNJbnRlZ2VyKGFyZ3VtZW50c1syXSkmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgV2wmJiJudW1iZXIiPT10eXBlb2YgYXJndW1lbnRzWzFdKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0scz1hcmd1bWVudHNbMl0sYT1uZXcgX2YoaSk7YS5zZXRRdWFkcmFudFNlZ21lbnRzKHMpO3ZhciB1PWEuZ2V0UmVzdWx0R2VvbWV0cnkobyk7cmV0dXJuIHV9aWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBTcCYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBXbCYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBsPWFyZ3VtZW50c1swXSxjPWFyZ3VtZW50c1sxXSxoPWFyZ3VtZW50c1syXSxwPW5ldyBfZihsLGgpLGY9cC5nZXRSZXN1bHRHZW9tZXRyeShjKTtyZXR1cm4gZn19ZWxzZSBpZig0PT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGc9YXJndW1lbnRzWzBdLGQ9YXJndW1lbnRzWzFdLHk9YXJndW1lbnRzWzJdLHY9YXJndW1lbnRzWzNdLF89bmV3IF9mKGcpO18uc2V0UXVhZHJhbnRTZWdtZW50cyh5KSxfLnNldEVuZENhcFN0eWxlKHYpO3ZhciBtPV8uZ2V0UmVzdWx0R2VvbWV0cnkoZCk7cmV0dXJuIG19fSxfZi5wcmVjaXNpb25TY2FsZUZhY3Rvcj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5nZXRFbnZlbG9wZUludGVybmFsKCksaT1kbC5tYXgoTWF0aC5hYnMoci5nZXRNYXhYKCkpLE1hdGguYWJzKHIuZ2V0TWF4WSgpKSxNYXRoLmFicyhyLmdldE1pblgoKSksTWF0aC5hYnMoci5nZXRNaW5ZKCkpKSsyKihlPjA/ZTowKSxvPW4tTWF0aC50cnVuYyhNYXRoLmxvZyhpKS9NYXRoLmxvZygxMCkrMSk7cmV0dXJuIE1hdGgucG93KDEwLG8pfSxtZi5DQVBfUk9VTkQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFNwLkNBUF9ST1VORH0sbWYuQ0FQX0JVVFQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFNwLkNBUF9GTEFUfSxtZi5DQVBfRkxBVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gU3AuQ0FQX0ZMQVR9LG1mLkNBUF9TUVVBUkUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFNwLkNBUF9TUVVBUkV9LG1mLk1BWF9QUkVDSVNJT05fRElHSVRTLmdldD1mdW5jdGlvbigpe3JldHVybiAxMn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX2YsbWYpO3ZhciB4Zj1mdW5jdGlvbigpe3RoaXMuX3B0PVtuZXcgdWwsbmV3IHVsXSx0aGlzLl9kaXN0YW5jZT1ubC5OYU4sdGhpcy5faXNOdWxsPSEwfTt4Zi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHR9LHhmLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wdFt0XX0seGYucHJvdG90eXBlLnNldE1pbmltdW09ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuc2V0TWluaW11bSh0Ll9wdFswXSx0Ll9wdFsxXSl9ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO2lmKHRoaXMuX2lzTnVsbClyZXR1cm4gdGhpcy5pbml0aWFsaXplKGUsbiksbnVsbDt2YXIgcj1lLmRpc3RhbmNlKG4pO3I8dGhpcy5fZGlzdGFuY2UmJnRoaXMuaW5pdGlhbGl6ZShlLG4scil9fSx4Zi5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXRoaXMuX2lzTnVsbD0hMDtlbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fcHRbMF0uc2V0Q29vcmRpbmF0ZSh0KSx0aGlzLl9wdFsxXS5zZXRDb29yZGluYXRlKGUpLHRoaXMuX2Rpc3RhbmNlPXQuZGlzdGFuY2UoZSksdGhpcy5faXNOdWxsPSExfWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50c1syXTt0aGlzLl9wdFswXS5zZXRDb29yZGluYXRlKG4pLHRoaXMuX3B0WzFdLnNldENvb3JkaW5hdGUociksdGhpcy5fZGlzdGFuY2U9aSx0aGlzLl9pc051bGw9ITF9fSx4Zi5wcm90b3R5cGUuZ2V0RGlzdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2V9LHhmLnByb3RvdHlwZS5zZXRNYXhpbXVtPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnNldE1heGltdW0odC5fcHRbMF0sdC5fcHRbMV0pfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZih0aGlzLl9pc051bGwpcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShlLG4pLG51bGw7dmFyIHI9ZS5kaXN0YW5jZShuKTtyPnRoaXMuX2Rpc3RhbmNlJiZ0aGlzLmluaXRpYWxpemUoZSxuLHIpfX0seGYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHhmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB4Zn07dmFyIEVmPWZ1bmN0aW9uKCl7fTtFZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEVmfSxFZi5jb21wdXRlRGlzdGFuY2U9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIHhmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFpjJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKWZvcih2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl0scj10LmdldENvb3JkaW5hdGVzKCksaT1uZXcgdnAsbz0wO288ci5sZW5ndGgtMTtvKyspe2kuc2V0Q29vcmRpbmF0ZXMocltvXSxyW28rMV0pO3ZhciBzPWkuY2xvc2VzdFBvaW50KGUpO24uc2V0TWluaW11bShzLGUpfWVsc2UgaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiB4ZiYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0aCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB1bCl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdO0VmLmNvbXB1dGVEaXN0YW5jZShhLmdldEV4dGVyaW9yUmluZygpLHUsbCk7Zm9yKHZhciBjPTA7YzxhLmdldE51bUludGVyaW9yUmluZygpO2MrKylFZi5jb21wdXRlRGlzdGFuY2UoYS5nZXRJbnRlcmlvclJpbmdOKGMpLHUsbCl9ZWxzZSBpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIHhmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFdsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgaD1hcmd1bWVudHNbMF0scD1hcmd1bWVudHNbMV0sZj1hcmd1bWVudHNbMl07aWYoaCBpbnN0YW5jZW9mIFpjKUVmLmNvbXB1dGVEaXN0YW5jZShoLHAsZik7ZWxzZSBpZihoIGluc3RhbmNlb2YgdGgpRWYuY29tcHV0ZURpc3RhbmNlKGgscCxmKTtlbHNlIGlmKGggaW5zdGFuY2VvZiBrYylmb3IodmFyIGc9aCxkPTA7ZDxnLmdldE51bUdlb21ldHJpZXMoKTtkKyspe3ZhciB5PWcuZ2V0R2VvbWV0cnlOKGQpO0VmLmNvbXB1dGVEaXN0YW5jZSh5LHAsZil9ZWxzZSBmLnNldE1pbmltdW0oaC5nZXRDb29yZGluYXRlKCkscCl9ZWxzZSBpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIHhmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHZwJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgdj1hcmd1bWVudHNbMF0sXz1hcmd1bWVudHNbMV0sbT1hcmd1bWVudHNbMl0seD12LmNsb3Nlc3RQb2ludChfKTttLnNldE1pbmltdW0oeCxfKX19O3ZhciBiZj1mdW5jdGlvbih0KXt0aGlzLl9tYXhQdERpc3Q9bmV3IHhmLHRoaXMuX2lucHV0R2VvbT10fHxudWxsfSx3Zj17TWF4UG9pbnREaXN0YW5jZUZpbHRlcjp7Y29uZmlndXJhYmxlOiEwfSxNYXhNaWRwb2ludERpc3RhbmNlRmlsdGVyOntjb25maWd1cmFibGU6ITB9fTtiZi5wcm90b3R5cGUuY29tcHV0ZU1heE1pZHBvaW50RGlzdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE5mKHRoaXMuX2lucHV0R2VvbSk7dC5hcHBseShlKSx0aGlzLl9tYXhQdERpc3Quc2V0TWF4aW11bShlLmdldE1heFBvaW50RGlzdGFuY2UoKSl9LGJmLnByb3RvdHlwZS5jb21wdXRlTWF4VmVydGV4RGlzdGFuY2U9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IElmKHRoaXMuX2lucHV0R2VvbSk7dC5hcHBseShlKSx0aGlzLl9tYXhQdERpc3Quc2V0TWF4aW11bShlLmdldE1heFBvaW50RGlzdGFuY2UoKSl9LGJmLnByb3RvdHlwZS5maW5kRGlzdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcHV0ZU1heFZlcnRleERpc3RhbmNlKHQpLHRoaXMuY29tcHV0ZU1heE1pZHBvaW50RGlzdGFuY2UodCksdGhpcy5fbWF4UHREaXN0LmdldERpc3RhbmNlKCl9LGJmLnByb3RvdHlwZS5nZXREaXN0YW5jZVBvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhQdERpc3R9LGJmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxiZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYmZ9LHdmLk1heFBvaW50RGlzdGFuY2VGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIElmfSx3Zi5NYXhNaWRwb2ludERpc3RhbmNlRmlsdGVyLmdldD1mdW5jdGlvbigpe3JldHVybiBOZn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYmYsd2YpO3ZhciBJZj1mdW5jdGlvbih0KXt0aGlzLl9tYXhQdERpc3Q9bmV3IHhmLHRoaXMuX21pblB0RGlzdD1uZXcgeGYsdGhpcy5fZ2VvbT10fHxudWxsfTtJZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3RoaXMuX21pblB0RGlzdC5pbml0aWFsaXplKCksRWYuY29tcHV0ZURpc3RhbmNlKHRoaXMuX2dlb20sdCx0aGlzLl9taW5QdERpc3QpLHRoaXMuX21heFB0RGlzdC5zZXRNYXhpbXVtKHRoaXMuX21pblB0RGlzdCl9LElmLnByb3RvdHlwZS5nZXRNYXhQb2ludERpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heFB0RGlzdH0sSWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0tsXX0sSWYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIElmfTt2YXIgTmY9ZnVuY3Rpb24odCl7dGhpcy5fbWF4UHREaXN0PW5ldyB4Zix0aGlzLl9taW5QdERpc3Q9bmV3IHhmLHRoaXMuX2dlb209dHx8bnVsbH07TmYucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0LGUpe2lmKDA9PT1lKXJldHVybiBudWxsO3ZhciBuPXQuZ2V0Q29vcmRpbmF0ZShlLTEpLHI9dC5nZXRDb29yZGluYXRlKGUpLGk9bmV3IHVsKChuLngrci54KS8yLChuLnkrci55KS8yKTt0aGlzLl9taW5QdERpc3QuaW5pdGlhbGl6ZSgpLEVmLmNvbXB1dGVEaXN0YW5jZSh0aGlzLl9nZW9tLGksdGhpcy5fbWluUHREaXN0KSx0aGlzLl9tYXhQdERpc3Quc2V0TWF4aW11bSh0aGlzLl9taW5QdERpc3QpfSxOZi5wcm90b3R5cGUuaXNEb25lPWZ1bmN0aW9uKCl7cmV0dXJuITF9LE5mLnByb3RvdHlwZS5pc0dlb21ldHJ5Q2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiExfSxOZi5wcm90b3R5cGUuZ2V0TWF4UG9pbnREaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhQdERpc3R9LE5mLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltGY119LE5mLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBOZn07dmFyIFNmPWZ1bmN0aW9uKHQpe3RoaXMuX2NvbXBzPXR8fG51bGx9O1NmLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIHRoJiZ0aGlzLl9jb21wcy5hZGQodCl9LFNmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltEY119LFNmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBTZn0sU2YuZ2V0UG9seWdvbnM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiBTZi5nZXRQb2x5Z29ucyh0LG5ldyBsYyl9aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtyZXR1cm4gZSBpbnN0YW5jZW9mIHRoP24uYWRkKGUpOmUgaW5zdGFuY2VvZiBrYyYmZS5hcHBseShuZXcgU2YobikpLG59fTt2YXIgQ2Y9ZnVuY3Rpb24oKXtpZih0aGlzLl9saW5lcz1udWxsLHRoaXMuX2lzRm9yY2VkVG9MaW5lU3RyaW5nPSExLDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fbGluZXM9dH1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dGhpcy5fbGluZXM9ZSx0aGlzLl9pc0ZvcmNlZFRvTGluZVN0cmluZz1ufX07Q2YucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXtpZih0aGlzLl9pc0ZvcmNlZFRvTGluZVN0cmluZyYmdCBpbnN0YW5jZW9mIG5oKXt2YXIgZT10LmdldEZhY3RvcnkoKS5jcmVhdGVMaW5lU3RyaW5nKHQuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCkpO3JldHVybiB0aGlzLl9saW5lcy5hZGQoZSksbnVsbH10IGluc3RhbmNlb2YgWmMmJnRoaXMuX2xpbmVzLmFkZCh0KX0sQ2YucHJvdG90eXBlLnNldEZvcmNlVG9MaW5lU3RyaW5nPWZ1bmN0aW9uKHQpe3RoaXMuX2lzRm9yY2VkVG9MaW5lU3RyaW5nPXR9LENmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltIbF19LENmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBDZn0sQ2YuZ2V0R2VvbWV0cnk9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0LmdldEZhY3RvcnkoKS5idWlsZEdlb21ldHJ5KENmLmdldExpbmVzKHQpKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3JldHVybiBlLmdldEZhY3RvcnkoKS5idWlsZEdlb21ldHJ5KENmLmdldExpbmVzKGUsbikpfX0sQ2YuZ2V0TGluZXM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiBDZi5nZXRMaW5lcyh0LCExKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7aWYoZ2woYXJndW1lbnRzWzBdLGljKSYmZ2woYXJndW1lbnRzWzFdLGljKSl7Zm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPWUuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3ZhciBpPXIubmV4dCgpO0NmLmdldExpbmVzKGksbil9cmV0dXJuIG59aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBXbCYmImJvb2xlYW4iPT10eXBlb2YgYXJndW1lbnRzWzFdKXt2YXIgbz1hcmd1bWVudHNbMF0scz1hcmd1bWVudHNbMV0sYT1uZXcgbGM7cmV0dXJuIG8uYXBwbHkobmV3IENmKGEscykpLGF9aWYoYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBXbCYmZ2woYXJndW1lbnRzWzFdLGljKSl7dmFyIHU9YXJndW1lbnRzWzBdLGw9YXJndW1lbnRzWzFdO3JldHVybiB1IGluc3RhbmNlb2YgWmM/bC5hZGQodSk6dS5hcHBseShuZXcgQ2YobCkpLGx9fWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe2lmKCJib29sZWFuIj09dHlwZW9mIGFyZ3VtZW50c1syXSYmZ2woYXJndW1lbnRzWzBdLGljKSYmZ2woYXJndW1lbnRzWzFdLGljKSl7Zm9yKHZhciBjPWFyZ3VtZW50c1swXSxoPWFyZ3VtZW50c1sxXSxwPWFyZ3VtZW50c1syXSxmPWMuaXRlcmF0b3IoKTtmLmhhc05leHQoKTspe3ZhciBnPWYubmV4dCgpO0NmLmdldExpbmVzKGcsaCxwKX1yZXR1cm4gaH1pZigiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMl0mJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgV2wmJmdsKGFyZ3VtZW50c1sxXSxpYykpe3ZhciBkPWFyZ3VtZW50c1swXSx5PWFyZ3VtZW50c1sxXSx2PWFyZ3VtZW50c1syXTtyZXR1cm4gZC5hcHBseShuZXcgQ2YoeSx2KSkseX19fTt2YXIgUGY9ZnVuY3Rpb24oKXtpZih0aGlzLl9ib3VuZGFyeVJ1bGU9UWwuT0dDX1NGU19CT1VOREFSWV9SVUxFLHRoaXMuX2lzSW49bnVsbCx0aGlzLl9udW1Cb3VuZGFyaWVzPW51bGwsMD09PWFyZ3VtZW50cy5sZW5ndGgpO2Vsc2UgaWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTtpZihudWxsPT09dCl0aHJvdyBuZXcgZWwoIlJ1bGUgbXVzdCBiZSBub24tbnVsbCIpO3RoaXMuX2JvdW5kYXJ5UnVsZT10fX07UGYucHJvdG90eXBlLmxvY2F0ZUludGVybmFsPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHRoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07aWYobi5pc0VtcHR5KCkpcmV0dXJuIHBsLkVYVEVSSU9SO3ZhciByPW4uZ2V0RXh0ZXJpb3JSaW5nKCksaT10aGlzLmxvY2F0ZUluUG9seWdvblJpbmcoZSxyKTtpZihpPT09cGwuRVhURVJJT1IpcmV0dXJuIHBsLkVYVEVSSU9SO2lmKGk9PT1wbC5CT1VOREFSWSlyZXR1cm4gcGwuQk9VTkRBUlk7Zm9yKHZhciBvPTA7bzxuLmdldE51bUludGVyaW9yUmluZygpO28rKyl7dmFyIHM9bi5nZXRJbnRlcmlvclJpbmdOKG8pLGE9dC5sb2NhdGVJblBvbHlnb25SaW5nKGUscyk7aWYoYT09PXBsLklOVEVSSU9SKXJldHVybiBwbC5FWFRFUklPUjtpZihhPT09cGwuQk9VTkRBUlkpcmV0dXJuIHBsLkJPVU5EQVJZfXJldHVybiBwbC5JTlRFUklPUn1pZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIFpjKXt2YXIgdT1hcmd1bWVudHNbMF0sbD1hcmd1bWVudHNbMV07aWYoIWwuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpLmludGVyc2VjdHModSkpcmV0dXJuIHBsLkVYVEVSSU9SO3ZhciBjPWwuZ2V0Q29vcmRpbmF0ZXMoKTtyZXR1cm4gbC5pc0Nsb3NlZCgpfHwhdS5lcXVhbHMoY1swXSkmJiF1LmVxdWFscyhjW2MubGVuZ3RoLTFdKT9YbC5pc09uTGluZSh1LGMpP3BsLklOVEVSSU9SOnBsLkVYVEVSSU9SOnBsLkJPVU5EQVJZfWlmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgdWwmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgUWMpe3ZhciBoPWFyZ3VtZW50c1swXSxwPWFyZ3VtZW50c1sxXSxmPXAuZ2V0Q29vcmRpbmF0ZSgpO3JldHVybiBmLmVxdWFsczJEKGgpP3BsLklOVEVSSU9SOnBsLkVYVEVSSU9SfX0sUGYucHJvdG90eXBlLmxvY2F0ZUluUG9seWdvblJpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5nZXRFbnZlbG9wZUludGVybmFsKCkuaW50ZXJzZWN0cyh0KT9YbC5sb2NhdGVQb2ludEluUmluZyh0LGUuZ2V0Q29vcmRpbmF0ZXMoKSk6cGwuRVhURVJJT1J9LFBmLnByb3RvdHlwZS5pbnRlcnNlY3RzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubG9jYXRlKHQsZSkhPT1wbC5FWFRFUklPUn0sUGYucHJvdG90eXBlLnVwZGF0ZUxvY2F0aW9uSW5mbz1mdW5jdGlvbih0KXt0PT09cGwuSU5URVJJT1ImJih0aGlzLl9pc0luPSEwKSx0PT09cGwuQk9VTkRBUlkmJnRoaXMuX251bUJvdW5kYXJpZXMrK30sUGYucHJvdG90eXBlLmNvbXB1dGVMb2NhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoZSBpbnN0YW5jZW9mIFFjJiZ0aGlzLnVwZGF0ZUxvY2F0aW9uSW5mbyh0aGlzLmxvY2F0ZUludGVybmFsKHQsZSkpLGUgaW5zdGFuY2VvZiBaYyl0aGlzLnVwZGF0ZUxvY2F0aW9uSW5mbyh0aGlzLmxvY2F0ZUludGVybmFsKHQsZSkpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHRoKXRoaXMudXBkYXRlTG9jYXRpb25JbmZvKHRoaXMubG9jYXRlSW50ZXJuYWwodCxlKSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgR2MpZm9yKHZhciByPWUsaT0wO2k8ci5nZXROdW1HZW9tZXRyaWVzKCk7aSsrKXt2YXIgbz1yLmdldEdlb21ldHJ5TihpKTtuLnVwZGF0ZUxvY2F0aW9uSW5mbyhuLmxvY2F0ZUludGVybmFsKHQsbykpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIHJoKWZvcih2YXIgcz1lLGE9MDthPHMuZ2V0TnVtR2VvbWV0cmllcygpO2ErKyl7dmFyIHU9cy5nZXRHZW9tZXRyeU4oYSk7bi51cGRhdGVMb2NhdGlvbkluZm8obi5sb2NhdGVJbnRlcm5hbCh0LHUpKX1lbHNlIGlmKGUgaW5zdGFuY2VvZiBrYylmb3IodmFyIGw9bmV3IFVwKGUpO2wuaGFzTmV4dCgpOyl7dmFyIGM9bC5uZXh0KCk7YyE9PWUmJm4uY29tcHV0ZUxvY2F0aW9uKHQsYyl9fSxQZi5wcm90b3R5cGUubG9jYXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuaXNFbXB0eSgpP3BsLkVYVEVSSU9SOmUgaW5zdGFuY2VvZiBaY3x8ZSBpbnN0YW5jZW9mIHRoP3RoaXMubG9jYXRlSW50ZXJuYWwodCxlKToodGhpcy5faXNJbj0hMSx0aGlzLl9udW1Cb3VuZGFyaWVzPTAsdGhpcy5jb21wdXRlTG9jYXRpb24odCxlKSx0aGlzLl9ib3VuZGFyeVJ1bGUuaXNJbkJvdW5kYXJ5KHRoaXMuX251bUJvdW5kYXJpZXMpP3BsLkJPVU5EQVJZOnRoaXMuX251bUJvdW5kYXJpZXM+MHx8dGhpcy5faXNJbj9wbC5JTlRFUklPUjpwbC5FWFRFUklPUil9LFBmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxQZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gUGZ9O3ZhciBNZj1mdW5jdGlvbiB0KCl7aWYodGhpcy5fY29tcG9uZW50PW51bGwsdGhpcy5fc2VnSW5kZXg9bnVsbCx0aGlzLl9wdD1udWxsLDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dC5jYWxsKHRoaXMsZSx0LklOU0lERV9BUkVBLG4pfWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXTt0aGlzLl9jb21wb25lbnQ9cix0aGlzLl9zZWdJbmRleD1pLHRoaXMuX3B0PW99fSxMZj17SU5TSURFX0FSRUE6e2NvbmZpZ3VyYWJsZTohMH19O01mLnByb3RvdHlwZS5pc0luc2lkZUFyZWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VnSW5kZXg9PT1NZi5JTlNJREVfQVJFQX0sTWYucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHR9LE1mLnByb3RvdHlwZS5nZXRHZW9tZXRyeUNvbXBvbmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wb25lbnR9LE1mLnByb3RvdHlwZS5nZXRTZWdtZW50SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VnSW5kZXh9LE1mLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxNZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gTWZ9LExmLklOU0lERV9BUkVBLmdldD1mdW5jdGlvbigpe3JldHVybi0xfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNZixMZik7dmFyIE9mPWZ1bmN0aW9uKHQpe3RoaXMuX3B0cz10fHxudWxsfTtPZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3QgaW5zdGFuY2VvZiBRYyYmdGhpcy5fcHRzLmFkZCh0KX0sT2YucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0RjXX0sT2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIE9mfSxPZi5nZXRQb2ludHM9ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3JldHVybiB0IGluc3RhbmNlb2YgUWM/bnAuc2luZ2xldG9uTGlzdCh0KTpPZi5nZXRQb2ludHModCxuZXcgbGMpfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07cmV0dXJuIGUgaW5zdGFuY2VvZiBRYz9uLmFkZChlKTplIGluc3RhbmNlb2Yga2MmJmUuYXBwbHkobmV3IE9mKG4pKSxufX07dmFyIFJmPWZ1bmN0aW9uKCl7dGhpcy5fbG9jYXRpb25zPW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuX2xvY2F0aW9ucz10fTtSZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpeyh0IGluc3RhbmNlb2YgUWN8fHQgaW5zdGFuY2VvZiBaY3x8dCBpbnN0YW5jZW9mIHRoKSYmdGhpcy5fbG9jYXRpb25zLmFkZChuZXcgTWYodCwwLHQuZ2V0Q29vcmRpbmF0ZSgpKSl9LFJmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltEY119LFJmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBSZn0sUmYuZ2V0TG9jYXRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBsYztyZXR1cm4gdC5hcHBseShuZXcgUmYoZSkpLGV9O3ZhciBUZj1mdW5jdGlvbigpe2lmKHRoaXMuX2dlb209bnVsbCx0aGlzLl90ZXJtaW5hdGVEaXN0YW5jZT0wLHRoaXMuX3B0TG9jYXRvcj1uZXcgUGYsdGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvbj1udWxsLHRoaXMuX21pbkRpc3RhbmNlPW5sLk1BWF9WQUxVRSwyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdO3RoaXMuX2dlb209W3QsZV0sdGhpcy5fdGVybWluYXRlRGlzdGFuY2U9MH1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT1hcmd1bWVudHNbMl07dGhpcy5fZ2VvbT1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9nZW9tWzBdPW4sdGhpcy5fZ2VvbVsxXT1yLHRoaXMuX3Rlcm1pbmF0ZURpc3RhbmNlPWl9fTtUZi5wcm90b3R5cGUuY29tcHV0ZUNvbnRhaW5tZW50RGlzdGFuY2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1uZXcgQXJyYXkoMikuZmlsbChudWxsKTtpZih0aGlzLmNvbXB1dGVDb250YWlubWVudERpc3RhbmNlKDAsZSksdGhpcy5fbWluRGlzdGFuY2U8PXRoaXMuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiBudWxsO3RoaXMuY29tcHV0ZUNvbnRhaW5tZW50RGlzdGFuY2UoMSxlKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT0xLW4sbz1TZi5nZXRQb2x5Z29ucyh0aGlzLl9nZW9tW25dKTtpZihvLnNpemUoKT4wKXt2YXIgcz1SZi5nZXRMb2NhdGlvbnModGhpcy5fZ2VvbVtpXSk7aWYodGhpcy5jb21wdXRlQ29udGFpbm1lbnREaXN0YW5jZShzLG8sciksdGhpcy5fbWluRGlzdGFuY2U8PXRoaXMuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiB0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uW2ldPXJbMF0sdGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvbltuXT1yWzFdLG51bGx9fWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBBcnJheSYmZ2woYXJndW1lbnRzWzBdLGFjKSYmZ2woYXJndW1lbnRzWzFdLGFjKSl7Zm9yKHZhciBhPWFyZ3VtZW50c1swXSx1PWFyZ3VtZW50c1sxXSxsPWFyZ3VtZW50c1syXSxjPTA7YzxhLnNpemUoKTtjKyspZm9yKHZhciBoPWEuZ2V0KGMpLHA9MDtwPHUuc2l6ZSgpO3ArKylpZih0LmNvbXB1dGVDb250YWlubWVudERpc3RhbmNlKGgsdS5nZXQocCksbCksdC5fbWluRGlzdGFuY2U8PXQuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiBudWxsfWVsc2UgaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBBcnJheSYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBNZiYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB0aCl7dmFyIGY9YXJndW1lbnRzWzBdLGc9YXJndW1lbnRzWzFdLGQ9YXJndW1lbnRzWzJdLHk9Zi5nZXRDb29yZGluYXRlKCk7aWYocGwuRVhURVJJT1IhPT10aGlzLl9wdExvY2F0b3IubG9jYXRlKHksZykpcmV0dXJuIHRoaXMuX21pbkRpc3RhbmNlPTAsZFswXT1mLGRbMV09bmV3IE1mKGcseSksbnVsbH19LFRmLnByb3RvdHlwZS5jb21wdXRlTWluRGlzdGFuY2VMaW5lc1BvaW50cz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXRoaXMsaT0wO2k8dC5zaXplKCk7aSsrKWZvcih2YXIgbz10LmdldChpKSxzPTA7czxlLnNpemUoKTtzKyspe3ZhciBhPWUuZ2V0KHMpO2lmKHIuY29tcHV0ZU1pbkRpc3RhbmNlKG8sYSxuKSxyLl9taW5EaXN0YW5jZTw9ci5fdGVybWluYXRlRGlzdGFuY2UpcmV0dXJuIG51bGx9fSxUZi5wcm90b3R5cGUuY29tcHV0ZUZhY2V0RGlzdGFuY2U9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgQXJyYXkoMikuZmlsbChudWxsKSxlPUNmLmdldExpbmVzKHRoaXMuX2dlb21bMF0pLG49Q2YuZ2V0TGluZXModGhpcy5fZ2VvbVsxXSkscj1PZi5nZXRQb2ludHModGhpcy5fZ2VvbVswXSksaT1PZi5nZXRQb2ludHModGhpcy5fZ2VvbVsxXSk7cmV0dXJuIHRoaXMuY29tcHV0ZU1pbkRpc3RhbmNlTGluZXMoZSxuLHQpLHRoaXMudXBkYXRlTWluRGlzdGFuY2UodCwhMSksdGhpcy5fbWluRGlzdGFuY2U8PXRoaXMuX3Rlcm1pbmF0ZURpc3RhbmNlP251bGw6KHRbMF09bnVsbCx0WzFdPW51bGwsdGhpcy5jb21wdXRlTWluRGlzdGFuY2VMaW5lc1BvaW50cyhlLGksdCksdGhpcy51cGRhdGVNaW5EaXN0YW5jZSh0LCExKSx0aGlzLl9taW5EaXN0YW5jZTw9dGhpcy5fdGVybWluYXRlRGlzdGFuY2U/bnVsbDoodFswXT1udWxsLHRbMV09bnVsbCx0aGlzLmNvbXB1dGVNaW5EaXN0YW5jZUxpbmVzUG9pbnRzKG4scix0KSx0aGlzLnVwZGF0ZU1pbkRpc3RhbmNlKHQsITApLHRoaXMuX21pbkRpc3RhbmNlPD10aGlzLl90ZXJtaW5hdGVEaXN0YW5jZT9udWxsOih0WzBdPW51bGwsdFsxXT1udWxsLHRoaXMuY29tcHV0ZU1pbkRpc3RhbmNlUG9pbnRzKHIsaSx0KSx2b2lkIHRoaXMudXBkYXRlTWluRGlzdGFuY2UodCwhMSkpKSl9LFRmLnByb3RvdHlwZS5uZWFyZXN0TG9jYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZU1pbkRpc3RhbmNlKCksdGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvbn0sVGYucHJvdG90eXBlLnVwZGF0ZU1pbkRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PXRbMF0pcmV0dXJuIG51bGw7ZT8odGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvblswXT10WzFdLHRoaXMuX21pbkRpc3RhbmNlTG9jYXRpb25bMV09dFswXSk6KHRoaXMuX21pbkRpc3RhbmNlTG9jYXRpb25bMF09dFswXSx0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uWzFdPXRbMV0pfSxUZi5wcm90b3R5cGUubmVhcmVzdFBvaW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXB1dGVNaW5EaXN0YW5jZSgpLFt0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uWzBdLmdldENvb3JkaW5hdGUoKSx0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uWzFdLmdldENvb3JkaW5hdGUoKV19LFRmLnByb3RvdHlwZS5jb21wdXRlTWluRGlzdGFuY2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihudWxsIT09dGhpcy5fbWluRGlzdGFuY2VMb2NhdGlvbilyZXR1cm4gbnVsbDtpZih0aGlzLl9taW5EaXN0YW5jZUxvY2F0aW9uPW5ldyBBcnJheSgyKS5maWxsKG51bGwpLHRoaXMuY29tcHV0ZUNvbnRhaW5tZW50RGlzdGFuY2UoKSx0aGlzLl9taW5EaXN0YW5jZTw9dGhpcy5fdGVybWluYXRlRGlzdGFuY2UpcmV0dXJuIG51bGw7dGhpcy5jb21wdXRlRmFjZXREaXN0YW5jZSgpfWVsc2UgaWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBBcnJheSYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBaYyYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiBRYyl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO2lmKGUuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpLmRpc3RhbmNlKG4uZ2V0RW52ZWxvcGVJbnRlcm5hbCgpKT50aGlzLl9taW5EaXN0YW5jZSlyZXR1cm4gbnVsbDtmb3IodmFyIGk9ZS5nZXRDb29yZGluYXRlcygpLG89bi5nZXRDb29yZGluYXRlKCkscz0wO3M8aS5sZW5ndGgtMTtzKyspe3ZhciBhPVhsLmRpc3RhbmNlUG9pbnRMaW5lKG8saVtzXSxpW3MrMV0pO2lmKGE8dC5fbWluRGlzdGFuY2Upe3QuX21pbkRpc3RhbmNlPWE7dmFyIHU9bmV3IHZwKGlbc10saVtzKzFdKSxsPXUuY2xvc2VzdFBvaW50KG8pO3JbMF09bmV3IE1mKGUscyxsKSxyWzFdPW5ldyBNZihuLDAsbyl9aWYodC5fbWluRGlzdGFuY2U8PXQuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiBudWxsfX1lbHNlIGlmKGFyZ3VtZW50c1syXWluc3RhbmNlb2YgQXJyYXkmJmFyZ3VtZW50c1swXWluc3RhbmNlb2YgWmMmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgWmMpe3ZhciBjPWFyZ3VtZW50c1swXSxoPWFyZ3VtZW50c1sxXSxwPWFyZ3VtZW50c1syXTtpZihjLmdldEVudmVsb3BlSW50ZXJuYWwoKS5kaXN0YW5jZShoLmdldEVudmVsb3BlSW50ZXJuYWwoKSk+dGhpcy5fbWluRGlzdGFuY2UpcmV0dXJuIG51bGw7Zm9yKHZhciBmPWMuZ2V0Q29vcmRpbmF0ZXMoKSxnPWguZ2V0Q29vcmRpbmF0ZXMoKSxkPTA7ZDxmLmxlbmd0aC0xO2QrKylmb3IodmFyIHk9MDt5PGcubGVuZ3RoLTE7eSsrKXt2YXIgdj1YbC5kaXN0YW5jZUxpbmVMaW5lKGZbZF0sZltkKzFdLGdbeV0sZ1t5KzFdKTtpZih2PHQuX21pbkRpc3RhbmNlKXt0Ll9taW5EaXN0YW5jZT12O3ZhciBfPW5ldyB2cChmW2RdLGZbZCsxXSksbT1uZXcgdnAoZ1t5XSxnW3krMV0pLHg9Xy5jbG9zZXN0UG9pbnRzKG0pO3BbMF09bmV3IE1mKGMsZCx4WzBdKSxwWzFdPW5ldyBNZihoLHkseFsxXSl9aWYodC5fbWluRGlzdGFuY2U8PXQuX3Rlcm1pbmF0ZURpc3RhbmNlKXJldHVybiBudWxsfX19LFRmLnByb3RvdHlwZS5jb21wdXRlTWluRGlzdGFuY2VQb2ludHM9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj10aGlzLGk9MDtpPHQuc2l6ZSgpO2krKylmb3IodmFyIG89dC5nZXQoaSkscz0wO3M8ZS5zaXplKCk7cysrKXt2YXIgYT1lLmdldChzKSx1PW8uZ2V0Q29vcmRpbmF0ZSgpLmRpc3RhbmNlKGEuZ2V0Q29vcmRpbmF0ZSgpKTtpZih1PHIuX21pbkRpc3RhbmNlJiYoci5fbWluRGlzdGFuY2U9dSxuWzBdPW5ldyBNZihvLDAsby5nZXRDb29yZGluYXRlKCkpLG5bMV09bmV3IE1mKGEsMCxhLmdldENvb3JkaW5hdGUoKSkpLHIuX21pbkRpc3RhbmNlPD1yLl90ZXJtaW5hdGVEaXN0YW5jZSlyZXR1cm4gbnVsbH19LFRmLnByb3RvdHlwZS5kaXN0YW5jZT1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLl9nZW9tWzBdfHxudWxsPT09dGhpcy5fZ2VvbVsxXSl0aHJvdyBuZXcgZWwoIm51bGwgZ2VvbWV0cmllcyBhcmUgbm90IHN1cHBvcnRlZCIpO3JldHVybiB0aGlzLl9nZW9tWzBdLmlzRW1wdHkoKXx8dGhpcy5fZ2VvbVsxXS5pc0VtcHR5KCk/MDoodGhpcy5jb21wdXRlTWluRGlzdGFuY2UoKSx0aGlzLl9taW5EaXN0YW5jZSl9LFRmLnByb3RvdHlwZS5jb21wdXRlTWluRGlzdGFuY2VMaW5lcz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXRoaXMsaT0wO2k8dC5zaXplKCk7aSsrKWZvcih2YXIgbz10LmdldChpKSxzPTA7czxlLnNpemUoKTtzKyspe3ZhciBhPWUuZ2V0KHMpO2lmKHIuY29tcHV0ZU1pbkRpc3RhbmNlKG8sYSxuKSxyLl9taW5EaXN0YW5jZTw9ci5fdGVybWluYXRlRGlzdGFuY2UpcmV0dXJuIG51bGx9fSxUZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sVGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFRmfSxUZi5kaXN0YW5jZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgVGYodCxlKS5kaXN0YW5jZSgpfSxUZi5pc1dpdGhpbkRpc3RhbmNlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IFRmKHQsZSxuKS5kaXN0YW5jZSgpPD1ufSxUZi5uZWFyZXN0UG9pbnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBUZih0LGUpLm5lYXJlc3RQb2ludHMoKX07dmFyIEFmPWZ1bmN0aW9uKCl7dGhpcy5fcHQ9W25ldyB1bCxuZXcgdWxdLHRoaXMuX2Rpc3RhbmNlPW5sLk5hTix0aGlzLl9pc051bGw9ITB9O0FmLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wdH0sQWYucHJvdG90eXBlLmdldENvb3JkaW5hdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3B0W3RdfSxBZi5wcm90b3R5cGUuc2V0TWluaW11bT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5zZXRNaW5pbXVtKHQuX3B0WzBdLHQuX3B0WzFdKX1lbHNlIGlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07aWYodGhpcy5faXNOdWxsKXJldHVybiB0aGlzLmluaXRpYWxpemUoZSxuKSxudWxsO3ZhciByPWUuZGlzdGFuY2Uobik7cjx0aGlzLl9kaXN0YW5jZSYmdGhpcy5pbml0aWFsaXplKGUsbixyKX19LEFmLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpdGhpcy5faXNOdWxsPSEwO2Vsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTt0aGlzLl9wdFswXS5zZXRDb29yZGluYXRlKHQpLHRoaXMuX3B0WzFdLnNldENvb3JkaW5hdGUoZSksdGhpcy5fZGlzdGFuY2U9dC5kaXN0YW5jZShlKSx0aGlzLl9pc051bGw9ITF9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49YXJndW1lbnRzWzBdLHI9YXJndW1lbnRzWzFdLGk9YXJndW1lbnRzWzJdO3RoaXMuX3B0WzBdLnNldENvb3JkaW5hdGUobiksdGhpcy5fcHRbMV0uc2V0Q29vcmRpbmF0ZShyKSx0aGlzLl9kaXN0YW5jZT1pLHRoaXMuX2lzTnVsbD0hMX19LEFmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBGbC50b0xpbmVTdHJpbmcodGhpcy5fcHRbMF0sdGhpcy5fcHRbMV0pfSxBZi5wcm90b3R5cGUuZ2V0RGlzdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2V9LEFmLnByb3RvdHlwZS5zZXRNYXhpbXVtPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnNldE1heGltdW0odC5fcHRbMF0sdC5fcHRbMV0pfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTtpZih0aGlzLl9pc051bGwpcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShlLG4pLG51bGw7dmFyIHI9ZS5kaXN0YW5jZShuKTtyPnRoaXMuX2Rpc3RhbmNlJiZ0aGlzLmluaXRpYWxpemUoZSxuLHIpfX0sQWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEFmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBBZn07dmFyIERmPWZ1bmN0aW9uKCl7fTtEZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sRGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIERmfSxEZi5jb21wdXRlRGlzdGFuY2U9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIEFmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFpjJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKWZvcih2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl0scj1uZXcgdnAsaT10LmdldENvb3JkaW5hdGVzKCksbz0wO288aS5sZW5ndGgtMTtvKyspe3Iuc2V0Q29vcmRpbmF0ZXMoaVtvXSxpW28rMV0pO3ZhciBzPXIuY2xvc2VzdFBvaW50KGUpO24uc2V0TWluaW11bShzLGUpfWVsc2UgaWYoYXJndW1lbnRzWzJdaW5zdGFuY2VvZiBBZiYmYXJndW1lbnRzWzBdaW5zdGFuY2VvZiB0aCYmYXJndW1lbnRzWzFdaW5zdGFuY2VvZiB1bCl7dmFyIGE9YXJndW1lbnRzWzBdLHU9YXJndW1lbnRzWzFdLGw9YXJndW1lbnRzWzJdO0RmLmNvbXB1dGVEaXN0YW5jZShhLmdldEV4dGVyaW9yUmluZygpLHUsbCk7Zm9yKHZhciBjPTA7YzxhLmdldE51bUludGVyaW9yUmluZygpO2MrKylEZi5jb21wdXRlRGlzdGFuY2UoYS5nZXRJbnRlcmlvclJpbmdOKGMpLHUsbCl9ZWxzZSBpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIEFmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFdsJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgaD1hcmd1bWVudHNbMF0scD1hcmd1bWVudHNbMV0sZj1hcmd1bWVudHNbMl07aWYoaCBpbnN0YW5jZW9mIFpjKURmLmNvbXB1dGVEaXN0YW5jZShoLHAsZik7ZWxzZSBpZihoIGluc3RhbmNlb2YgdGgpRGYuY29tcHV0ZURpc3RhbmNlKGgscCxmKTtlbHNlIGlmKGggaW5zdGFuY2VvZiBrYylmb3IodmFyIGc9aCxkPTA7ZDxnLmdldE51bUdlb21ldHJpZXMoKTtkKyspe3ZhciB5PWcuZ2V0R2VvbWV0cnlOKGQpO0RmLmNvbXB1dGVEaXN0YW5jZSh5LHAsZil9ZWxzZSBmLnNldE1pbmltdW0oaC5nZXRDb29yZGluYXRlKCkscCl9ZWxzZSBpZihhcmd1bWVudHNbMl1pbnN0YW5jZW9mIEFmJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHZwJiZhcmd1bWVudHNbMV1pbnN0YW5jZW9mIHVsKXt2YXIgdj1hcmd1bWVudHNbMF0sXz1hcmd1bWVudHNbMV0sbT1hcmd1bWVudHNbMl0seD12LmNsb3Nlc3RQb2ludChfKTttLnNldE1pbmltdW0oeCxfKX19O3ZhciBGZj1mdW5jdGlvbigpe3RoaXMuX2cwPW51bGwsdGhpcy5fZzE9bnVsbCx0aGlzLl9wdERpc3Q9bmV3IEFmLHRoaXMuX2RlbnNpZnlGcmFjPTA7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdO3RoaXMuX2cwPXQsdGhpcy5fZzE9ZX0sa2Y9e01heFBvaW50RGlzdGFuY2VGaWx0ZXI6e2NvbmZpZ3VyYWJsZTohMH0sTWF4RGVuc2lmaWVkQnlGcmFjdGlvbkRpc3RhbmNlRmlsdGVyOntjb25maWd1cmFibGU6ITB9fTtGZi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHREaXN0LmdldENvb3JkaW5hdGVzKCl9LEZmLnByb3RvdHlwZS5zZXREZW5zaWZ5RnJhY3Rpb249ZnVuY3Rpb24odCl7aWYodD4xfHx0PD0wKXRocm93IG5ldyBlbCgiRnJhY3Rpb24gaXMgbm90IGluIHJhbmdlICgwLjAgLSAxLjBdIik7dGhpcy5fZGVuc2lmeUZyYWM9dH0sRmYucHJvdG90eXBlLmNvbXB1dGU9ZnVuY3Rpb24odCxlKXt0aGlzLmNvbXB1dGVPcmllbnRlZERpc3RhbmNlKHQsZSx0aGlzLl9wdERpc3QpLHRoaXMuY29tcHV0ZU9yaWVudGVkRGlzdGFuY2UoZSx0LHRoaXMuX3B0RGlzdCl9LEZmLnByb3RvdHlwZS5kaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXB1dGUodGhpcy5fZzAsdGhpcy5fZzEpLHRoaXMuX3B0RGlzdC5nZXREaXN0YW5jZSgpfSxGZi5wcm90b3R5cGUuY29tcHV0ZU9yaWVudGVkRGlzdGFuY2U9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBHZihlKTtpZih0LmFwcGx5KHIpLG4uc2V0TWF4aW11bShyLmdldE1heFBvaW50RGlzdGFuY2UoKSksdGhpcy5fZGVuc2lmeUZyYWM+MCl7dmFyIGk9bmV3IHFmKGUsdGhpcy5fZGVuc2lmeUZyYWMpO3QuYXBwbHkoaSksbi5zZXRNYXhpbXVtKGkuZ2V0TWF4UG9pbnREaXN0YW5jZSgpKX19LEZmLnByb3RvdHlwZS5vcmllbnRlZERpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZU9yaWVudGVkRGlzdGFuY2UodGhpcy5fZzAsdGhpcy5fZzEsdGhpcy5fcHREaXN0KSx0aGlzLl9wdERpc3QuZ2V0RGlzdGFuY2UoKX0sRmYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEZmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBGZn0sRmYuZGlzdGFuY2U9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49bmV3IEZmKHQsZSk7cmV0dXJuIG4uZGlzdGFuY2UoKX1pZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdLHM9bmV3IEZmKHIsaSk7cmV0dXJuIHMuc2V0RGVuc2lmeUZyYWN0aW9uKG8pLHMuZGlzdGFuY2UoKX19LGtmLk1heFBvaW50RGlzdGFuY2VGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIEdmfSxrZi5NYXhEZW5zaWZpZWRCeUZyYWN0aW9uRGlzdGFuY2VGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHFmfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhGZixrZik7dmFyIEdmPWZ1bmN0aW9uKCl7dGhpcy5fbWF4UHREaXN0PW5ldyBBZix0aGlzLl9taW5QdERpc3Q9bmV3IEFmLHRoaXMuX2V1Y2xpZGVhbkRpc3Q9bmV3IERmLHRoaXMuX2dlb209bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fZ2VvbT10fTtHZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQpe3RoaXMuX21pblB0RGlzdC5pbml0aWFsaXplKCksRGYuY29tcHV0ZURpc3RhbmNlKHRoaXMuX2dlb20sdCx0aGlzLl9taW5QdERpc3QpLHRoaXMuX21heFB0RGlzdC5zZXRNYXhpbXVtKHRoaXMuX21pblB0RGlzdCl9LEdmLnByb3RvdHlwZS5nZXRNYXhQb2ludERpc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heFB0RGlzdH0sR2YucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0tsXX0sR2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEdmfTt2YXIgcWY9ZnVuY3Rpb24oKXt0aGlzLl9tYXhQdERpc3Q9bmV3IEFmLHRoaXMuX21pblB0RGlzdD1uZXcgQWYsdGhpcy5fZ2VvbT1udWxsLHRoaXMuX251bVN1YlNlZ3M9MDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fZ2VvbT10LHRoaXMuX251bVN1YlNlZ3M9TWF0aC50cnVuYyhNYXRoLnJvdW5kKDEvZSkpfTtxZi5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZigwPT09ZSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9dC5nZXRDb29yZGluYXRlKGUtMSksaT10LmdldENvb3JkaW5hdGUoZSksbz0oaS54LXIueCkvdGhpcy5fbnVtU3ViU2VncyxzPShpLnktci55KS90aGlzLl9udW1TdWJTZWdzLGE9MDthPHRoaXMuX251bVN1YlNlZ3M7YSsrKXt2YXIgdT1yLngrYSpvLGw9ci55K2EqcyxjPW5ldyB1bCh1LGwpO24uX21pblB0RGlzdC5pbml0aWFsaXplKCksRGYuY29tcHV0ZURpc3RhbmNlKG4uX2dlb20sYyxuLl9taW5QdERpc3QpLG4uX21heFB0RGlzdC5zZXRNYXhpbXVtKG4uX21pblB0RGlzdCl9fSxxZi5wcm90b3R5cGUuaXNEb25lPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHFmLnByb3RvdHlwZS5pc0dlb21ldHJ5Q2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiExfSxxZi5wcm90b3R5cGUuZ2V0TWF4UG9pbnREaXN0YW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhQdERpc3R9LHFmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltGY119LHFmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBxZn07dmFyIEJmPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9taW5WYWxpZERpc3RhbmNlPW51bGwsdGhpcy5fbWF4VmFsaWREaXN0YW5jZT1udWxsLHRoaXMuX21pbkRpc3RhbmNlRm91bmQ9bnVsbCx0aGlzLl9tYXhEaXN0YW5jZUZvdW5kPW51bGwsdGhpcy5faXNWYWxpZD0hMCx0aGlzLl9lcnJNc2c9bnVsbCx0aGlzLl9lcnJvckxvY2F0aW9uPW51bGwsdGhpcy5fZXJyb3JJbmRpY2F0b3I9bnVsbCx0aGlzLl9pbnB1dD10fHxudWxsLHRoaXMuX2J1ZkRpc3RhbmNlPWV8fG51bGwsdGhpcy5fcmVzdWx0PW58fG51bGx9LHpmPXtWRVJCT1NFOntjb25maWd1cmFibGU6ITB9LE1BWF9ESVNUQU5DRV9ESUZGX0ZSQUM6e2NvbmZpZ3VyYWJsZTohMH19O0JmLnByb3RvdHlwZS5jaGVja01heGltdW1EaXN0YW5jZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IEZmKGUsdCk7aWYoci5zZXREZW5zaWZ5RnJhY3Rpb24oLjI1KSx0aGlzLl9tYXhEaXN0YW5jZUZvdW5kPXIub3JpZW50ZWREaXN0YW5jZSgpLHRoaXMuX21heERpc3RhbmNlRm91bmQ+bil7dGhpcy5faXNWYWxpZD0hMTt2YXIgaT1yLmdldENvb3JkaW5hdGVzKCk7dGhpcy5fZXJyb3JMb2NhdGlvbj1pWzFdLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXQuZ2V0RmFjdG9yeSgpLmNyZWF0ZUxpbmVTdHJpbmcoaSksdGhpcy5fZXJyTXNnPSJEaXN0YW5jZSBiZXR3ZWVuIGJ1ZmZlciBjdXJ2ZSBhbmQgaW5wdXQgaXMgdG9vIGxhcmdlICgiK3RoaXMuX21heERpc3RhbmNlRm91bmQrIiBhdCAiK0ZsLnRvTGluZVN0cmluZyhpWzBdLGlbMV0pKyIpIn19LEJmLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5hYnModGhpcy5fYnVmRGlzdGFuY2UpLGU9QmYuTUFYX0RJU1RBTkNFX0RJRkZfRlJBQyp0O3JldHVybiB0aGlzLl9taW5WYWxpZERpc3RhbmNlPXQtZSx0aGlzLl9tYXhWYWxpZERpc3RhbmNlPXQrZSwhKCF0aGlzLl9pbnB1dC5pc0VtcHR5KCkmJiF0aGlzLl9yZXN1bHQuaXNFbXB0eSgpKXx8KHRoaXMuX2J1ZkRpc3RhbmNlPjA/dGhpcy5jaGVja1Bvc2l0aXZlVmFsaWQoKTp0aGlzLmNoZWNrTmVnYXRpdmVWYWxpZCgpLEJmLlZFUkJPU0UmJlBsLm91dC5wcmludGxuKCJNaW4gRGlzdD0gIit0aGlzLl9taW5EaXN0YW5jZUZvdW5kKyIgIGVycj0gIisoMS10aGlzLl9taW5EaXN0YW5jZUZvdW5kL3RoaXMuX2J1ZkRpc3RhbmNlKSsiICBNYXggRGlzdD0gIit0aGlzLl9tYXhEaXN0YW5jZUZvdW5kKyIgIGVycj0gIisodGhpcy5fbWF4RGlzdGFuY2VGb3VuZC90aGlzLl9idWZEaXN0YW5jZS0xKSksdGhpcy5faXNWYWxpZCl9LEJmLnByb3RvdHlwZS5jaGVja05lZ2F0aXZlVmFsaWQ9ZnVuY3Rpb24oKXtpZighKHRoaXMuX2lucHV0IGluc3RhbmNlb2YgdGh8fHRoaXMuX2lucHV0IGluc3RhbmNlb2Ygcmh8fHRoaXMuX2lucHV0IGluc3RhbmNlb2Yga2MpKXJldHVybiBudWxsO3ZhciB0PXRoaXMuZ2V0UG9seWdvbkxpbmVzKHRoaXMuX2lucHV0KTtpZih0aGlzLmNoZWNrTWluaW11bURpc3RhbmNlKHQsdGhpcy5fcmVzdWx0LHRoaXMuX21pblZhbGlkRGlzdGFuY2UpLCF0aGlzLl9pc1ZhbGlkKXJldHVybiBudWxsO3RoaXMuY2hlY2tNYXhpbXVtRGlzdGFuY2UodCx0aGlzLl9yZXN1bHQsdGhpcy5fbWF4VmFsaWREaXN0YW5jZSl9LEJmLnByb3RvdHlwZS5nZXRFcnJvckluZGljYXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lcnJvckluZGljYXRvcn0sQmYucHJvdG90eXBlLmNoZWNrTWluaW11bURpc3RhbmNlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgVGYodCxlLG4pO2lmKHRoaXMuX21pbkRpc3RhbmNlRm91bmQ9ci5kaXN0YW5jZSgpLHRoaXMuX21pbkRpc3RhbmNlRm91bmQ8bil7dGhpcy5faXNWYWxpZD0hMTt2YXIgaT1yLm5lYXJlc3RQb2ludHMoKTt0aGlzLl9lcnJvckxvY2F0aW9uPXIubmVhcmVzdFBvaW50cygpWzFdLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXQuZ2V0RmFjdG9yeSgpLmNyZWF0ZUxpbmVTdHJpbmcoaSksdGhpcy5fZXJyTXNnPSJEaXN0YW5jZSBiZXR3ZWVuIGJ1ZmZlciBjdXJ2ZSBhbmQgaW5wdXQgaXMgdG9vIHNtYWxsICgiK3RoaXMuX21pbkRpc3RhbmNlRm91bmQrIiBhdCAiK0ZsLnRvTGluZVN0cmluZyhpWzBdLGlbMV0pKyIgKSJ9fSxCZi5wcm90b3R5cGUuY2hlY2tQb3NpdGl2ZVZhbGlkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVzdWx0LmdldEJvdW5kYXJ5KCk7aWYodGhpcy5jaGVja01pbmltdW1EaXN0YW5jZSh0aGlzLl9pbnB1dCx0LHRoaXMuX21pblZhbGlkRGlzdGFuY2UpLCF0aGlzLl9pc1ZhbGlkKXJldHVybiBudWxsO3RoaXMuY2hlY2tNYXhpbXVtRGlzdGFuY2UodGhpcy5faW5wdXQsdCx0aGlzLl9tYXhWYWxpZERpc3RhbmNlKX0sQmYucHJvdG90eXBlLmdldEVycm9yTG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JMb2NhdGlvbn0sQmYucHJvdG90eXBlLmdldFBvbHlnb25MaW5lcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49bmV3IENmKGUpLHI9U2YuZ2V0UG9seWdvbnModCkuaXRlcmF0b3IoKTtyLmhhc05leHQoKTspe3IubmV4dCgpLmFwcGx5KG4pfXJldHVybiB0LmdldEZhY3RvcnkoKS5idWlsZEdlb21ldHJ5KGUpfSxCZi5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vyck1zZ30sQmYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEJmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBCZn0semYuVkVSQk9TRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0semYuTUFYX0RJU1RBTkNFX0RJRkZfRlJBQy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4uMDEyfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCZix6Zik7dmFyIGpmPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLl9pc1ZhbGlkPSEwLHRoaXMuX2Vycm9yTXNnPW51bGwsdGhpcy5fZXJyb3JMb2NhdGlvbj1udWxsLHRoaXMuX2Vycm9ySW5kaWNhdG9yPW51bGwsdGhpcy5faW5wdXQ9dHx8bnVsbCx0aGlzLl9kaXN0YW5jZT1lfHxudWxsLHRoaXMuX3Jlc3VsdD1ufHxudWxsfSxVZj17VkVSQk9TRTp7Y29uZmlndXJhYmxlOiEwfSxNQVhfRU5WX0RJRkZfRlJBQzp7Y29uZmlndXJhYmxlOiEwfX07amYucHJvdG90eXBlLmlzVmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja1BvbHlnb25hbCgpLHRoaXMuX2lzVmFsaWQ/KHRoaXMuY2hlY2tFeHBlY3RlZEVtcHR5KCksdGhpcy5faXNWYWxpZD8odGhpcy5jaGVja0VudmVsb3BlKCksdGhpcy5faXNWYWxpZD8odGhpcy5jaGVja0FyZWEoKSx0aGlzLl9pc1ZhbGlkPyh0aGlzLmNoZWNrRGlzdGFuY2UoKSx0aGlzLl9pc1ZhbGlkKTp0aGlzLl9pc1ZhbGlkKTp0aGlzLl9pc1ZhbGlkKTp0aGlzLl9pc1ZhbGlkKTp0aGlzLl9pc1ZhbGlkfSxqZi5wcm90b3R5cGUuY2hlY2tFbnZlbG9wZT1mdW5jdGlvbigpe2lmKHRoaXMuX2Rpc3RhbmNlPDApcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5fZGlzdGFuY2UqamYuTUFYX0VOVl9ESUZGX0ZSQUM7MD09PXQmJih0PS4wMDEpO3ZhciBlPW5ldyBMbCh0aGlzLl9pbnB1dC5nZXRFbnZlbG9wZUludGVybmFsKCkpO2UuZXhwYW5kQnkodGhpcy5fZGlzdGFuY2UpO3ZhciBuPW5ldyBMbCh0aGlzLl9yZXN1bHQuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpKTtuLmV4cGFuZEJ5KHQpLG4uY29udGFpbnMoZSl8fCh0aGlzLl9pc1ZhbGlkPSExLHRoaXMuX2Vycm9yTXNnPSJCdWZmZXIgZW52ZWxvcGUgaXMgaW5jb3JyZWN0Iix0aGlzLl9lcnJvckluZGljYXRvcj10aGlzLl9pbnB1dC5nZXRGYWN0b3J5KCkudG9HZW9tZXRyeShuKSksdGhpcy5yZXBvcnQoIkVudmVsb3BlIil9LGpmLnByb3RvdHlwZS5jaGVja0Rpc3RhbmNlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEJmKHRoaXMuX2lucHV0LHRoaXMuX2Rpc3RhbmNlLHRoaXMuX3Jlc3VsdCk7dC5pc1ZhbGlkKCl8fCh0aGlzLl9pc1ZhbGlkPSExLHRoaXMuX2Vycm9yTXNnPXQuZ2V0RXJyb3JNZXNzYWdlKCksdGhpcy5fZXJyb3JMb2NhdGlvbj10LmdldEVycm9yTG9jYXRpb24oKSx0aGlzLl9lcnJvckluZGljYXRvcj10LmdldEVycm9ySW5kaWNhdG9yKCkpLHRoaXMucmVwb3J0KCJEaXN0YW5jZSIpfSxqZi5wcm90b3R5cGUuY2hlY2tBcmVhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW5wdXQuZ2V0QXJlYSgpLGU9dGhpcy5fcmVzdWx0LmdldEFyZWEoKTt0aGlzLl9kaXN0YW5jZT4wJiZ0PmUmJih0aGlzLl9pc1ZhbGlkPSExLHRoaXMuX2Vycm9yTXNnPSJBcmVhIG9mIHBvc2l0aXZlIGJ1ZmZlciBpcyBzbWFsbGVyIHRoYW4gaW5wdXQiLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXRoaXMuX3Jlc3VsdCksdGhpcy5fZGlzdGFuY2U8MCYmdDxlJiYodGhpcy5faXNWYWxpZD0hMSx0aGlzLl9lcnJvck1zZz0iQXJlYSBvZiBuZWdhdGl2ZSBidWZmZXIgaXMgbGFyZ2VyIHRoYW4gaW5wdXQiLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXRoaXMuX3Jlc3VsdCksdGhpcy5yZXBvcnQoIkFyZWEiKX0samYucHJvdG90eXBlLmNoZWNrUG9seWdvbmFsPWZ1bmN0aW9uKCl7dGhpcy5fcmVzdWx0IGluc3RhbmNlb2YgdGh8fHRoaXMuX3Jlc3VsdCBpbnN0YW5jZW9mIHJofHwodGhpcy5faXNWYWxpZD0hMSksdGhpcy5fZXJyb3JNc2c9IlJlc3VsdCBpcyBub3QgcG9seWdvbmFsIix0aGlzLl9lcnJvckluZGljYXRvcj10aGlzLl9yZXN1bHQsdGhpcy5yZXBvcnQoIlBvbHlnb25hbCIpfSxqZi5wcm90b3R5cGUuZ2V0RXJyb3JJbmRpY2F0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXJyb3JJbmRpY2F0b3J9LGpmLnByb3RvdHlwZS5nZXRFcnJvckxvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vycm9yTG9jYXRpb259LGpmLnByb3RvdHlwZS5jaGVja0V4cGVjdGVkRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXQuZ2V0RGltZW5zaW9uKCk+PTJ8fHRoaXMuX2Rpc3RhbmNlPjA/bnVsbDoodGhpcy5fcmVzdWx0LmlzRW1wdHkoKXx8KHRoaXMuX2lzVmFsaWQ9ITEsdGhpcy5fZXJyb3JNc2c9IlJlc3VsdCBpcyBub24tZW1wdHkiLHRoaXMuX2Vycm9ySW5kaWNhdG9yPXRoaXMuX3Jlc3VsdCksdm9pZCB0aGlzLnJlcG9ydCgiRXhwZWN0ZWRFbXB0eSIpKX0samYucHJvdG90eXBlLnJlcG9ydD1mdW5jdGlvbih0KXtpZighamYuVkVSQk9TRSlyZXR1cm4gbnVsbDtQbC5vdXQucHJpbnRsbigiQ2hlY2sgIit0KyI6ICIrKHRoaXMuX2lzVmFsaWQ/InBhc3NlZCI6IkZBSUxFRCIpKX0samYucHJvdG90eXBlLmdldEVycm9yTWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9lcnJvck1zZ30samYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGpmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBqZn0samYuaXNWYWxpZE1zZz1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IGpmKHQsZSxuKTtyZXR1cm4gci5pc1ZhbGlkKCk/bnVsbDpyLmdldEVycm9yTWVzc2FnZSgpfSxqZi5pc1ZhbGlkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4hIW5ldyBqZih0LGUsbikuaXNWYWxpZCgpfSxVZi5WRVJCT1NFLmdldD1mdW5jdGlvbigpe3JldHVybiExfSxVZi5NQVhfRU5WX0RJRkZfRlJBQy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4uMDEyfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhqZixVZik7dmFyIFZmPWZ1bmN0aW9uKCl7dGhpcy5fcHRzPW51bGwsdGhpcy5fZGF0YT1udWxsO3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTt0aGlzLl9wdHM9dCx0aGlzLl9kYXRhPWV9O1ZmLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wdHN9LFZmLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3B0cy5sZW5ndGh9LFZmLnByb3RvdHlwZS5nZXRDb29yZGluYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wdHNbdF19LFZmLnByb3RvdHlwZS5pc0Nsb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wdHNbMF0uZXF1YWxzKHRoaXMuX3B0c1t0aGlzLl9wdHMubGVuZ3RoLTFdKX0sVmYucHJvdG90eXBlLmdldFNlZ21lbnRPY3RhbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzLl9wdHMubGVuZ3RoLTE/LTE6ZnAub2N0YW50KHRoaXMuZ2V0Q29vcmRpbmF0ZSh0KSx0aGlzLmdldENvb3JkaW5hdGUodCsxKSl9LFZmLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuX2RhdGE9dH0sVmYucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0sVmYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEZsLnRvTGluZVN0cmluZyhuZXcgbGgodGhpcy5fcHRzKSl9LFZmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltncF19LFZmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBWZn07dmFyIFhmPWZ1bmN0aW9uKCl7dGhpcy5fZmluZEFsbEludGVyc2VjdGlvbnM9ITEsdGhpcy5faXNDaGVja0VuZFNlZ21lbnRzT25seT0hMSx0aGlzLl9saT1udWxsLHRoaXMuX2ludGVyaW9ySW50ZXJzZWN0aW9uPW51bGwsdGhpcy5faW50U2VnbWVudHM9bnVsbCx0aGlzLl9pbnRlcnNlY3Rpb25zPW5ldyBsYyx0aGlzLl9pbnRlcnNlY3Rpb25Db3VudD0wLHRoaXMuX2tlZXBJbnRlcnNlY3Rpb25zPSEwO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9saT10LHRoaXMuX2ludGVyaW9ySW50ZXJzZWN0aW9uPW51bGx9O1hmLnByb3RvdHlwZS5nZXRJbnRlcmlvckludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcmlvckludGVyc2VjdGlvbn0sWGYucHJvdG90eXBlLnNldENoZWNrRW5kU2VnbWVudHNPbmx5PWZ1bmN0aW9uKHQpe3RoaXMuX2lzQ2hlY2tFbmRTZWdtZW50c09ubHk9dH0sWGYucHJvdG90eXBlLmdldEludGVyc2VjdGlvblNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludFNlZ21lbnRzfSxYZi5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJzZWN0aW9uQ291bnR9LFhmLnByb3RvdHlwZS5nZXRJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVyc2VjdGlvbnN9LFhmLnByb3RvdHlwZS5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucz1mdW5jdGlvbih0KXt0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucz10fSxYZi5wcm90b3R5cGUuc2V0S2VlcEludGVyc2VjdGlvbnM9ZnVuY3Rpb24odCl7dGhpcy5fa2VlcEludGVyc2VjdGlvbnM9dH0sWGYucHJvdG90eXBlLnByb2Nlc3NJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKCF0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucyYmdGhpcy5oYXNJbnRlcnNlY3Rpb24oKSlyZXR1cm4gbnVsbDtpZih0PT09biYmZT09PXIpcmV0dXJuIG51bGw7aWYodGhpcy5faXNDaGVja0VuZFNlZ21lbnRzT25seSYmISh0aGlzLmlzRW5kU2VnbWVudCh0LGUpfHx0aGlzLmlzRW5kU2VnbWVudChuLHIpKSlyZXR1cm4gbnVsbDt2YXIgaT10LmdldENvb3JkaW5hdGVzKClbZV0sbz10LmdldENvb3JkaW5hdGVzKClbZSsxXSxzPW4uZ2V0Q29vcmRpbmF0ZXMoKVtyXSxhPW4uZ2V0Q29vcmRpbmF0ZXMoKVtyKzFdO3RoaXMuX2xpLmNvbXB1dGVJbnRlcnNlY3Rpb24oaSxvLHMsYSksdGhpcy5fbGkuaGFzSW50ZXJzZWN0aW9uKCkmJnRoaXMuX2xpLmlzSW50ZXJpb3JJbnRlcnNlY3Rpb24oKSYmKHRoaXMuX2ludFNlZ21lbnRzPW5ldyBBcnJheSg0KS5maWxsKG51bGwpLHRoaXMuX2ludFNlZ21lbnRzWzBdPWksdGhpcy5faW50U2VnbWVudHNbMV09byx0aGlzLl9pbnRTZWdtZW50c1syXT1zLHRoaXMuX2ludFNlZ21lbnRzWzNdPWEsdGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb249dGhpcy5fbGkuZ2V0SW50ZXJzZWN0aW9uKDApLHRoaXMuX2tlZXBJbnRlcnNlY3Rpb25zJiZ0aGlzLl9pbnRlcnNlY3Rpb25zLmFkZCh0aGlzLl9pbnRlcmlvckludGVyc2VjdGlvbiksdGhpcy5faW50ZXJzZWN0aW9uQ291bnQrKyl9LFhmLnByb3RvdHlwZS5pc0VuZFNlZ21lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PWV8fGU+PXQuc2l6ZSgpLTJ9LFhmLnByb3RvdHlwZS5oYXNJbnRlcnNlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2ludGVyaW9ySW50ZXJzZWN0aW9ufSxYZi5wcm90b3R5cGUuaXNEb25lPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2ZpbmRBbGxJbnRlcnNlY3Rpb25zJiZudWxsIT09dGhpcy5faW50ZXJpb3JJbnRlcnNlY3Rpb259LFhmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltacF19LFhmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBYZn0sWGYuY3JlYXRlQWxsSW50ZXJzZWN0aW9uc0ZpbmRlcj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgWGYodCk7cmV0dXJuIGUuc2V0RmluZEFsbEludGVyc2VjdGlvbnMoITApLGV9LFhmLmNyZWF0ZUFueUludGVyc2VjdGlvbkZpbmRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFhmKHQpfSxYZi5jcmVhdGVJbnRlcnNlY3Rpb25Db3VudGVyPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBYZih0KTtyZXR1cm4gZS5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucyghMCksZS5zZXRLZWVwSW50ZXJzZWN0aW9ucyghMSksZX07dmFyIFlmPWZ1bmN0aW9uKCl7dGhpcy5fbGk9bmV3IGpsLHRoaXMuX3NlZ1N0cmluZ3M9bnVsbCx0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucz0hMSx0aGlzLl9zZWdJbnQ9bnVsbCx0aGlzLl9pc1ZhbGlkPSEwO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLl9zZWdTdHJpbmdzPXR9O1lmLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXRoaXMuX3NlZ0ludClyZXR1cm4gbnVsbDt0aGlzLmNoZWNrSW50ZXJpb3JJbnRlcnNlY3Rpb25zKCl9LFlmLnByb3RvdHlwZS5nZXRJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlZ0ludC5nZXRJbnRlcnNlY3Rpb25zKCl9LFlmLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXhlY3V0ZSgpLHRoaXMuX2lzVmFsaWR9LFlmLnByb3RvdHlwZS5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucz1mdW5jdGlvbih0KXt0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucz10fSxZZi5wcm90b3R5cGUuY2hlY2tJbnRlcmlvckludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLl9pc1ZhbGlkPSEwLHRoaXMuX3NlZ0ludD1uZXcgWGYodGhpcy5fbGkpLHRoaXMuX3NlZ0ludC5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucyh0aGlzLl9maW5kQWxsSW50ZXJzZWN0aW9ucyk7dmFyIHQ9bmV3IElwO2lmKHQuc2V0U2VnbWVudEludGVyc2VjdG9yKHRoaXMuX3NlZ0ludCksdC5jb21wdXRlTm9kZXModGhpcy5fc2VnU3RyaW5ncyksdGhpcy5fc2VnSW50Lmhhc0ludGVyc2VjdGlvbigpKXJldHVybiB0aGlzLl9pc1ZhbGlkPSExLG51bGx9LFlmLnByb3RvdHlwZS5jaGVja1ZhbGlkPWZ1bmN0aW9uKCl7aWYodGhpcy5leGVjdXRlKCksIXRoaXMuX2lzVmFsaWQpdGhyb3cgbmV3IE9oKHRoaXMuZ2V0RXJyb3JNZXNzYWdlKCksdGhpcy5fc2VnSW50LmdldEludGVyaW9ySW50ZXJzZWN0aW9uKCkpfSxZZi5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlPWZ1bmN0aW9uKCl7aWYodGhpcy5faXNWYWxpZClyZXR1cm4ibm8gaW50ZXJzZWN0aW9ucyBmb3VuZCI7dmFyIHQ9dGhpcy5fc2VnSW50LmdldEludGVyc2VjdGlvblNlZ21lbnRzKCk7cmV0dXJuImZvdW5kIG5vbi1ub2RlZCBpbnRlcnNlY3Rpb24gYmV0d2VlbiAiK0ZsLnRvTGluZVN0cmluZyh0WzBdLHRbMV0pKyIgYW5kICIrRmwudG9MaW5lU3RyaW5nKHRbMl0sdFszXSl9LFlmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxZZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gWWZ9LFlmLmNvbXB1dGVJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBZZih0KTtyZXR1cm4gZS5zZXRGaW5kQWxsSW50ZXJzZWN0aW9ucyghMCksZS5pc1ZhbGlkKCksZS5nZXRJbnRlcnNlY3Rpb25zKCl9O3ZhciBIZj1mdW5jdGlvbiB0KCl7dGhpcy5fbnY9bnVsbDt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5fbnY9bmV3IFlmKHQudG9TZWdtZW50U3RyaW5ncyhlKSl9O0hmLnByb3RvdHlwZS5jaGVja1ZhbGlkPWZ1bmN0aW9uKCl7dGhpcy5fbnYuY2hlY2tWYWxpZCgpfSxIZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sSGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEhmfSxIZi50b1NlZ21lbnRTdHJpbmdzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbGMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKTtlLmFkZChuZXcgVmYoci5nZXRDb29yZGluYXRlcygpLHIpKX1yZXR1cm4gZX0sSGYuY2hlY2tWYWxpZD1mdW5jdGlvbih0KXtuZXcgSGYodCkuY2hlY2tWYWxpZCgpfTt2YXIgV2Y9ZnVuY3Rpb24odCl7dGhpcy5fbWFwT3A9dH07V2YucHJvdG90eXBlLm1hcD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49MDtuPHQuZ2V0TnVtR2VvbWV0cmllcygpO24rKyl7dmFyIHI9dGhpcy5fbWFwT3AubWFwKHQuZ2V0R2VvbWV0cnlOKG4pKTtyLmlzRW1wdHkoKXx8ZS5hZGQocil9cmV0dXJuIHQuZ2V0RmFjdG9yeSgpLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihfaC50b0dlb21ldHJ5QXJyYXkoZSkpfSxXZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sV2YucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFdmfSxXZi5tYXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IFdmKGUpLm1hcCh0KX07dmFyIEpmPWZ1bmN0aW9uKCl7dGhpcy5fb3A9bnVsbCx0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9bnVsbCx0aGlzLl9wdExvY2F0b3I9bnVsbCx0aGlzLl9saW5lRWRnZXNMaXN0PW5ldyBsYyx0aGlzLl9yZXN1bHRMaW5lTGlzdD1uZXcgbGM7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO3RoaXMuX29wPXQsdGhpcy5fZ2VvbWV0cnlGYWN0b3J5PWUsdGhpcy5fcHRMb2NhdG9yPW59O0pmLnByb3RvdHlwZS5jb2xsZWN0TGluZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj10aGlzLl9vcC5nZXRHcmFwaCgpLmdldEVkZ2VFbmRzKCkuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO2UuY29sbGVjdExpbmVFZGdlKHIsdCxlLl9saW5lRWRnZXNMaXN0KSxlLmNvbGxlY3RCb3VuZGFyeVRvdWNoRWRnZShyLHQsZS5fbGluZUVkZ2VzTGlzdCl9fSxKZi5wcm90b3R5cGUubGFiZWxJc29sYXRlZExpbmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9wdExvY2F0b3IubG9jYXRlKHQuZ2V0Q29vcmRpbmF0ZSgpLHRoaXMuX29wLmdldEFyZ0dlb21ldHJ5KGUpKTt0LmdldExhYmVsKCkuc2V0TG9jYXRpb24oZSxuKX0sSmYucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbmRDb3ZlcmVkTGluZUVkZ2VzKCksdGhpcy5jb2xsZWN0TGluZXModCksdGhpcy5idWlsZExpbmVzKHQpLHRoaXMuX3Jlc3VsdExpbmVMaXN0fSxKZi5wcm90b3R5cGUuY29sbGVjdExpbmVFZGdlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LmdldExhYmVsKCksaT10LmdldEVkZ2UoKTt0LmlzTGluZUVkZ2UoKSYmKHQuaXNWaXNpdGVkKCl8fCFNZy5pc1Jlc3VsdE9mT3AocixlKXx8aS5pc0NvdmVyZWQoKXx8KG4uYWRkKGkpLHQuc2V0VmlzaXRlZEVkZ2UoITApKSl9LEpmLnByb3RvdHlwZS5maW5kQ292ZXJlZExpbmVFZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9vcC5nZXRHcmFwaCgpLmdldE5vZGVzKCkuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe3QubmV4dCgpLmdldEVkZ2VzKCkuZmluZENvdmVyZWRMaW5lRWRnZXMoKX1mb3IodmFyIGU9dGhpcy5fb3AuZ2V0R3JhcGgoKS5nZXRFZGdlRW5kcygpLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKSxyPW4uZ2V0RWRnZSgpO2lmKG4uaXNMaW5lRWRnZSgpJiYhci5pc0NvdmVyZWRTZXQoKSl7dmFyIGk9dGhpcy5fb3AuaXNDb3ZlcmVkQnlBKG4uZ2V0Q29vcmRpbmF0ZSgpKTtyLnNldENvdmVyZWQoaSl9fX0sSmYucHJvdG90eXBlLmxhYmVsSXNvbGF0ZWRMaW5lcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCkscj1uLmdldExhYmVsKCk7bi5pc0lzb2xhdGVkKCkmJihyLmlzTnVsbCgwKT90aGlzLmxhYmVsSXNvbGF0ZWRMaW5lKG4sMCk6dGhpcy5sYWJlbElzb2xhdGVkTGluZShuLDEpKX19LEpmLnByb3RvdHlwZS5idWlsZExpbmVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9saW5lRWRnZXNMaXN0Lml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKSxyPXRoaXMuX2dlb21ldHJ5RmFjdG9yeS5jcmVhdGVMaW5lU3RyaW5nKG4uZ2V0Q29vcmRpbmF0ZXMoKSk7dGhpcy5fcmVzdWx0TGluZUxpc3QuYWRkKHIpLG4uc2V0SW5SZXN1bHQoITApfX0sSmYucHJvdG90eXBlLmNvbGxlY3RCb3VuZGFyeVRvdWNoRWRnZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dC5nZXRMYWJlbCgpO3JldHVybiB0LmlzTGluZUVkZ2UoKXx8dC5pc1Zpc2l0ZWQoKXx8dC5pc0ludGVyaW9yQXJlYUVkZ2UoKXx8dC5nZXRFZGdlKCkuaXNJblJlc3VsdCgpP251bGw6KHFsLmlzVHJ1ZSghKHQuaXNJblJlc3VsdCgpfHx0LmdldFN5bSgpLmlzSW5SZXN1bHQoKSl8fCF0LmdldEVkZ2UoKS5pc0luUmVzdWx0KCkpLHZvaWQoTWcuaXNSZXN1bHRPZk9wKHIsZSkmJmU9PT1NZy5JTlRFUlNFQ1RJT04mJihuLmFkZCh0LmdldEVkZ2UoKSksdC5zZXRWaXNpdGVkRWRnZSghMCkpKSl9LEpmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxKZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gSmZ9O3ZhciBaZj1mdW5jdGlvbigpe3RoaXMuX29wPW51bGwsdGhpcy5fZ2VvbWV0cnlGYWN0b3J5PW51bGwsdGhpcy5fcmVzdWx0UG9pbnRMaXN0PW5ldyBsYzt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fb3A9dCx0aGlzLl9nZW9tZXRyeUZhY3Rvcnk9ZX07WmYucHJvdG90eXBlLmZpbHRlckNvdmVyZWROb2RlVG9Qb2ludD1mdW5jdGlvbih0KXt2YXIgZT10LmdldENvb3JkaW5hdGUoKTtpZighdGhpcy5fb3AuaXNDb3ZlcmVkQnlMQShlKSl7dmFyIG49dGhpcy5fZ2VvbWV0cnlGYWN0b3J5LmNyZWF0ZVBvaW50KGUpO3RoaXMuX3Jlc3VsdFBvaW50TGlzdC5hZGQobil9fSxaZi5wcm90b3R5cGUuZXh0cmFjdE5vbkNvdmVyZWRSZXN1bHROb2Rlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fb3AuZ2V0R3JhcGgoKS5nZXROb2RlcygpLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKTtpZighbi5pc0luUmVzdWx0KCkmJighbi5pc0luY2lkZW50RWRnZUluUmVzdWx0KCkmJigwPT09bi5nZXRFZGdlcygpLmdldERlZ3JlZSgpfHx0PT09TWcuSU5URVJTRUNUSU9OKSkpe3ZhciByPW4uZ2V0TGFiZWwoKTtNZy5pc1Jlc3VsdE9mT3Aocix0KSYmdGhpcy5maWx0ZXJDb3ZlcmVkTm9kZVRvUG9pbnQobil9fX0sWmYucHJvdG90eXBlLmJ1aWxkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmV4dHJhY3ROb25Db3ZlcmVkUmVzdWx0Tm9kZXModCksdGhpcy5fcmVzdWx0UG9pbnRMaXN0fSxaZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sWmYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFpmfTt2YXIgS2Y9ZnVuY3Rpb24oKXt0aGlzLl9pbnB1dEdlb209bnVsbCx0aGlzLl9mYWN0b3J5PW51bGwsdGhpcy5fcHJ1bmVFbXB0eUdlb21ldHJ5PSEwLHRoaXMuX3ByZXNlcnZlR2VvbWV0cnlDb2xsZWN0aW9uVHlwZT0hMCx0aGlzLl9wcmVzZXJ2ZUNvbGxlY3Rpb25zPSExLHRoaXMuX3ByZXNlcnZlVHlwZT0hMX07S2YucHJvdG90eXBlLnRyYW5zZm9ybVBvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2ZhY3RvcnkuY3JlYXRlUG9pbnQodGhpcy50cmFuc2Zvcm1Db29yZGluYXRlcyh0LmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLHQpKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybVBvbHlnb249ZnVuY3Rpb24odCxlKXt2YXIgbj0hMCxyPXRoaXMudHJhbnNmb3JtTGluZWFyUmluZyh0LmdldEV4dGVyaW9yUmluZygpLHQpO251bGwhPT1yJiZyIGluc3RhbmNlb2YgbmgmJiFyLmlzRW1wdHkoKXx8KG49ITEpO2Zvcih2YXIgaT1uZXcgbGMsbz0wO288dC5nZXROdW1JbnRlcmlvclJpbmcoKTtvKyspe3ZhciBzPXRoaXMudHJhbnNmb3JtTGluZWFyUmluZyh0LmdldEludGVyaW9yUmluZ04obyksdCk7bnVsbD09PXN8fHMuaXNFbXB0eSgpfHwocyBpbnN0YW5jZW9mIG5ofHwobj0hMSksaS5hZGQocykpfWlmKG4pcmV0dXJuIHRoaXMuX2ZhY3RvcnkuY3JlYXRlUG9seWdvbihyLGkudG9BcnJheShbXSkpO3ZhciBhPW5ldyBsYztyZXR1cm4gbnVsbCE9PXImJmEuYWRkKHIpLGEuYWRkQWxsKGkpLHRoaXMuX2ZhY3RvcnkuYnVpbGRHZW9tZXRyeShhKX0sS2YucHJvdG90eXBlLmNyZWF0ZUNvb3JkaW5hdGVTZXF1ZW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZmFjdG9yeS5nZXRDb29yZGluYXRlU2VxdWVuY2VGYWN0b3J5KCkuY3JlYXRlKHQpfSxLZi5wcm90b3R5cGUuZ2V0SW5wdXRHZW9tZXRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dEdlb219LEtmLnByb3RvdHlwZS50cmFuc2Zvcm1NdWx0aUxpbmVTdHJpbmc9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IGxjLHI9MDtyPHQuZ2V0TnVtR2VvbWV0cmllcygpO3IrKyl7dmFyIGk9dGhpcy50cmFuc2Zvcm1MaW5lU3RyaW5nKHQuZ2V0R2VvbWV0cnlOKHIpLHQpO251bGwhPT1pJiYoaS5pc0VtcHR5KCl8fG4uYWRkKGkpKX1yZXR1cm4gdGhpcy5fZmFjdG9yeS5idWlsZEdlb21ldHJ5KG4pfSxLZi5wcm90b3R5cGUudHJhbnNmb3JtQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb3B5KHQpfSxLZi5wcm90b3R5cGUudHJhbnNmb3JtTGluZVN0cmluZz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9mYWN0b3J5LmNyZWF0ZUxpbmVTdHJpbmcodGhpcy50cmFuc2Zvcm1Db29yZGluYXRlcyh0LmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLHQpKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybU11bHRpUG9pbnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49bmV3IGxjLHI9MDtyPHQuZ2V0TnVtR2VvbWV0cmllcygpO3IrKyl7dmFyIGk9dGhpcy50cmFuc2Zvcm1Qb2ludCh0LmdldEdlb21ldHJ5TihyKSx0KTtudWxsIT09aSYmKGkuaXNFbXB0eSgpfHxuLmFkZChpKSl9cmV0dXJuIHRoaXMuX2ZhY3RvcnkuYnVpbGRHZW9tZXRyeShuKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybU11bHRpUG9seWdvbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgbGMscj0wO3I8dC5nZXROdW1HZW9tZXRyaWVzKCk7cisrKXt2YXIgaT10aGlzLnRyYW5zZm9ybVBvbHlnb24odC5nZXRHZW9tZXRyeU4ociksdCk7bnVsbCE9PWkmJihpLmlzRW1wdHkoKXx8bi5hZGQoaSkpfXJldHVybiB0aGlzLl9mYWN0b3J5LmJ1aWxkR2VvbWV0cnkobil9LEtmLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3JldHVybiB0LmNvcHkoKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybUdlb21ldHJ5Q29sbGVjdGlvbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1uZXcgbGMscj0wO3I8dC5nZXROdW1HZW9tZXRyaWVzKCk7cisrKXt2YXIgaT10aGlzLnRyYW5zZm9ybSh0LmdldEdlb21ldHJ5TihyKSk7bnVsbCE9PWkmJih0aGlzLl9wcnVuZUVtcHR5R2VvbWV0cnkmJmkuaXNFbXB0eSgpfHxuLmFkZChpKSl9cmV0dXJuIHRoaXMuX3ByZXNlcnZlR2VvbWV0cnlDb2xsZWN0aW9uVHlwZT90aGlzLl9mYWN0b3J5LmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihfaC50b0dlb21ldHJ5QXJyYXkobikpOnRoaXMuX2ZhY3RvcnkuYnVpbGRHZW9tZXRyeShuKX0sS2YucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbih0KXtpZih0aGlzLl9pbnB1dEdlb209dCx0aGlzLl9mYWN0b3J5PXQuZ2V0RmFjdG9yeSgpLHQgaW5zdGFuY2VvZiBRYylyZXR1cm4gdGhpcy50cmFuc2Zvcm1Qb2ludCh0LG51bGwpO2lmKHQgaW5zdGFuY2VvZiBlaClyZXR1cm4gdGhpcy50cmFuc2Zvcm1NdWx0aVBvaW50KHQsbnVsbCk7aWYodCBpbnN0YW5jZW9mIG5oKXJldHVybiB0aGlzLnRyYW5zZm9ybUxpbmVhclJpbmcodCxudWxsKTtpZih0IGluc3RhbmNlb2YgWmMpcmV0dXJuIHRoaXMudHJhbnNmb3JtTGluZVN0cmluZyh0LG51bGwpO2lmKHQgaW5zdGFuY2VvZiBHYylyZXR1cm4gdGhpcy50cmFuc2Zvcm1NdWx0aUxpbmVTdHJpbmcodCxudWxsKTtpZih0IGluc3RhbmNlb2YgdGgpcmV0dXJuIHRoaXMudHJhbnNmb3JtUG9seWdvbih0LG51bGwpO2lmKHQgaW5zdGFuY2VvZiByaClyZXR1cm4gdGhpcy50cmFuc2Zvcm1NdWx0aVBvbHlnb24odCxudWxsKTtpZih0IGluc3RhbmNlb2Yga2MpcmV0dXJuIHRoaXMudHJhbnNmb3JtR2VvbWV0cnlDb2xsZWN0aW9uKHQsbnVsbCk7dGhyb3cgbmV3IGVsKCJVbmtub3duIEdlb21ldHJ5IHN1YnR5cGU6ICIrdC5nZXRDbGFzcygpLmdldE5hbWUoKSl9LEtmLnByb3RvdHlwZS50cmFuc2Zvcm1MaW5lYXJSaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy50cmFuc2Zvcm1Db29yZGluYXRlcyh0LmdldENvb3JkaW5hdGVTZXF1ZW5jZSgpLHQpO2lmKG51bGw9PT1uKXJldHVybiB0aGlzLl9mYWN0b3J5LmNyZWF0ZUxpbmVhclJpbmcobnVsbCk7dmFyIHI9bi5zaXplKCk7cmV0dXJuIHI+MCYmcjw0JiYhdGhpcy5fcHJlc2VydmVUeXBlP3RoaXMuX2ZhY3RvcnkuY3JlYXRlTGluZVN0cmluZyhuKTp0aGlzLl9mYWN0b3J5LmNyZWF0ZUxpbmVhclJpbmcobil9LEtmLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxLZi5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gS2Z9O3ZhciBRZj1mdW5jdGlvbiB0KCl7aWYodGhpcy5fc25hcFRvbGVyYW5jZT0wLHRoaXMuX3NyY1B0cz1udWxsLHRoaXMuX3NlZz1uZXcgdnAsdGhpcy5fYWxsb3dTbmFwcGluZ1RvU291cmNlVmVydGljZXM9ITEsdGhpcy5faXNDbG9zZWQ9ITEsYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBaYyYmIm51bWJlciI9PXR5cGVvZiBhcmd1bWVudHNbMV0pe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTt0LmNhbGwodGhpcyxlLmdldENvb3JkaW5hdGVzKCksbil9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIEFycmF5JiYibnVtYmVyIj09dHlwZW9mIGFyZ3VtZW50c1sxXSl7dmFyIHI9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdO3RoaXMuX3NyY1B0cz1yLHRoaXMuX2lzQ2xvc2VkPXQuaXNDbG9zZWQociksdGhpcy5fc25hcFRvbGVyYW5jZT1pfX07UWYucHJvdG90eXBlLnNuYXBWZXJ0aWNlcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLl9pc0Nsb3NlZD90LnNpemUoKS0xOnQuc2l6ZSgpLHI9MDtyPG47cisrKXt2YXIgaT10LmdldChyKSxvPXRoaXMuZmluZFNuYXBGb3JWZXJ0ZXgoaSxlKTtudWxsIT09byYmKHQuc2V0KHIsbmV3IHVsKG8pKSwwPT09ciYmdGhpcy5faXNDbG9zZWQmJnQuc2V0KHQuc2l6ZSgpLTEsbmV3IHVsKG8pKSl9fSxRZi5wcm90b3R5cGUuZmluZFNuYXBGb3JWZXJ0ZXg9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7aWYodC5lcXVhbHMyRChlW25dKSlyZXR1cm4gbnVsbDtpZih0LmRpc3RhbmNlKGVbbl0pPHRoaXMuX3NuYXBUb2xlcmFuY2UpcmV0dXJuIGVbbl19cmV0dXJuIG51bGx9LFFmLnByb3RvdHlwZS5zbmFwVG89ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGhjKHRoaXMuX3NyY1B0cyk7cmV0dXJuIHRoaXMuc25hcFZlcnRpY2VzKGUsdCksdGhpcy5zbmFwU2VnbWVudHMoZSx0KSxlLnRvQ29vcmRpbmF0ZUFycmF5KCl9LFFmLnByb3RvdHlwZS5zbmFwU2VnbWVudHM9ZnVuY3Rpb24odCxlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIG49ZS5sZW5ndGg7ZVswXS5lcXVhbHMyRChlW2UubGVuZ3RoLTFdKSYmKG49ZS5sZW5ndGgtMSk7Zm9yKHZhciByPTA7cjxuO3IrKyl7dmFyIGk9ZVtyXSxvPXRoaXMuZmluZFNlZ21lbnRJbmRleFRvU25hcChpLHQpO28+PTAmJnQuYWRkKG8rMSxuZXcgdWwoaSksITEpfX0sUWYucHJvdG90eXBlLmZpbmRTZWdtZW50SW5kZXhUb1NuYXA9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcyxyPW5sLk1BWF9WQUxVRSxpPS0xLG89MDtvPGUuc2l6ZSgpLTE7bysrKXtpZihuLl9zZWcucDA9ZS5nZXQobyksbi5fc2VnLnAxPWUuZ2V0KG8rMSksbi5fc2VnLnAwLmVxdWFsczJEKHQpfHxuLl9zZWcucDEuZXF1YWxzMkQodCkpe2lmKG4uX2FsbG93U25hcHBpbmdUb1NvdXJjZVZlcnRpY2VzKWNvbnRpbnVlO3JldHVybi0xfXZhciBzPW4uX3NlZy5kaXN0YW5jZSh0KTtzPG4uX3NuYXBUb2xlcmFuY2UmJnM8ciYmKHI9cyxpPW8pfXJldHVybiBpfSxRZi5wcm90b3R5cGUuc2V0QWxsb3dTbmFwcGluZ1RvU291cmNlVmVydGljZXM9ZnVuY3Rpb24odCl7dGhpcy5fYWxsb3dTbmFwcGluZ1RvU291cmNlVmVydGljZXM9dH0sUWYucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFFmLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBRZn0sUWYuaXNDbG9zZWQ9ZnVuY3Rpb24odCl7cmV0dXJuISh0Lmxlbmd0aDw9MSkmJnRbMF0uZXF1YWxzMkQodFt0Lmxlbmd0aC0xXSl9O3ZhciAkZj1mdW5jdGlvbih0KXt0aGlzLl9zcmNHZW9tPXR8fG51bGx9LHRnPXtTTkFQX1BSRUNJU0lPTl9GQUNUT1I6e2NvbmZpZ3VyYWJsZTohMH19OyRmLnByb3RvdHlwZS5zbmFwVG89ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmV4dHJhY3RUYXJnZXRDb29yZGluYXRlcyh0KTtyZXR1cm4gbmV3IGVnKGUsbikudHJhbnNmb3JtKHRoaXMuX3NyY0dlb20pfSwkZi5wcm90b3R5cGUuc25hcFRvU2VsZj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZXh0cmFjdFRhcmdldENvb3JkaW5hdGVzKHRoaXMuX3NyY0dlb20pLHI9bmV3IGVnKHQsbiwhMCkudHJhbnNmb3JtKHRoaXMuX3NyY0dlb20pLGk9cjtyZXR1cm4gZSYmZ2woaSwkYykmJihpPXIuYnVmZmVyKDApKSxpfSwkZi5wcm90b3R5cGUuY29tcHV0ZVNuYXBUb2xlcmFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29tcHV0ZU1pbmltdW1TZWdtZW50TGVuZ3RoKHQpLzEwfSwkZi5wcm90b3R5cGUuZXh0cmFjdFRhcmdldENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgTGMsbj10LmdldENvb3JkaW5hdGVzKCkscj0wO3I8bi5sZW5ndGg7cisrKWUuYWRkKG5bcl0pO3JldHVybiBlLnRvQXJyYXkobmV3IEFycmF5KDApLmZpbGwobnVsbCkpfSwkZi5wcm90b3R5cGUuY29tcHV0ZU1pbmltdW1TZWdtZW50TGVuZ3RoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1ubC5NQVhfVkFMVUUsbj0wO248dC5sZW5ndGgtMTtuKyspe3ZhciByPXRbbl0uZGlzdGFuY2UodFtuKzFdKTtyPGUmJihlPXIpfXJldHVybiBlfSwkZi5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sJGYucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuICRmfSwkZi5zbmFwPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1uZXcgQXJyYXkoMikuZmlsbChudWxsKSxpPW5ldyAkZih0KTtyWzBdPWkuc25hcFRvKGUsbik7dmFyIG89bmV3ICRmKGUpO3JldHVybiByWzFdPW8uc25hcFRvKHJbMF0sbikscn0sJGYuY29tcHV0ZU92ZXJsYXlTbmFwVG9sZXJhbmNlPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPSRmLmNvbXB1dGVTaXplQmFzZWRTbmFwVG9sZXJhbmNlKHQpLG49dC5nZXRQcmVjaXNpb25Nb2RlbCgpO2lmKG4uZ2V0VHlwZSgpPT09Z2guRklYRUQpe3ZhciByPTEvbi5nZXRTY2FsZSgpKjIvMS40MTU7cj5lJiYoZT1yKX1yZXR1cm4gZX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdO3JldHVybiBNYXRoLm1pbigkZi5jb21wdXRlT3ZlcmxheVNuYXBUb2xlcmFuY2UoaSksJGYuY29tcHV0ZU92ZXJsYXlTbmFwVG9sZXJhbmNlKG8pKX19LCRmLmNvbXB1dGVTaXplQmFzZWRTbmFwVG9sZXJhbmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpO3JldHVybiBNYXRoLm1pbihlLmdldEhlaWdodCgpLGUuZ2V0V2lkdGgoKSkqJGYuU05BUF9QUkVDSVNJT05fRkFDVE9SfSwkZi5zbmFwVG9TZWxmPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3ICRmKHQpLnNuYXBUb1NlbGYoZSxuKX0sdGcuU05BUF9QUkVDSVNJT05fRkFDVE9SLmdldD1mdW5jdGlvbigpe3JldHVybiAxZS05fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcygkZix0Zyk7dmFyIGVnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuLHIpe3QuY2FsbCh0aGlzKSx0aGlzLl9zbmFwVG9sZXJhbmNlPWV8fG51bGwsdGhpcy5fc25hcFB0cz1ufHxudWxsLHRoaXMuX2lzU2VsZlNuYXA9dm9pZCAwIT09ciYmcn1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuc25hcExpbmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgUWYodCx0aGlzLl9zbmFwVG9sZXJhbmNlKTtyZXR1cm4gbi5zZXRBbGxvd1NuYXBwaW5nVG9Tb3VyY2VWZXJ0aWNlcyh0aGlzLl9pc1NlbGZTbmFwKSxuLnNuYXBUbyhlKX0sZS5wcm90b3R5cGUudHJhbnNmb3JtQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnRvQ29vcmRpbmF0ZUFycmF5KCkscj10aGlzLnNuYXBMaW5lKG4sdGhpcy5fc25hcFB0cyk7cmV0dXJuIHRoaXMuX2ZhY3RvcnkuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlRmFjdG9yeSgpLmNyZWF0ZShyKX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0oS2YpLG5nPWZ1bmN0aW9uKCl7dGhpcy5faXNGaXJzdD0hMCx0aGlzLl9jb21tb25NYW50aXNzYUJpdHNDb3VudD01Myx0aGlzLl9jb21tb25CaXRzPTAsdGhpcy5fY29tbW9uU2lnbkV4cD1udWxsfTtuZy5wcm90b3R5cGUuZ2V0Q29tbW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5sLmxvbmdCaXRzVG9Eb3VibGUodGhpcy5fY29tbW9uQml0cyl9LG5nLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU9bmwuZG91YmxlVG9Mb25nQml0cyh0KTtyZXR1cm4gdGhpcy5faXNGaXJzdD8odGhpcy5fY29tbW9uQml0cz1lLHRoaXMuX2NvbW1vblNpZ25FeHA9bmcuc2lnbkV4cEJpdHModGhpcy5fY29tbW9uQml0cyksdGhpcy5faXNGaXJzdD0hMSxudWxsKTpuZy5zaWduRXhwQml0cyhlKSE9PXRoaXMuX2NvbW1vblNpZ25FeHA/KHRoaXMuX2NvbW1vbkJpdHM9MCxudWxsKToodGhpcy5fY29tbW9uTWFudGlzc2FCaXRzQ291bnQ9bmcubnVtQ29tbW9uTW9zdFNpZ01hbnRpc3NhQml0cyh0aGlzLl9jb21tb25CaXRzLGUpLHZvaWQodGhpcy5fY29tbW9uQml0cz1uZy56ZXJvTG93ZXJCaXRzKHRoaXMuX2NvbW1vbkJpdHMsNjQtKDEyK3RoaXMuX2NvbW1vbk1hbnRpc3NhQml0c0NvdW50KSkpKX0sbmcucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPW5sLmxvbmdCaXRzVG9Eb3VibGUodCksbj1ubC50b0JpbmFyeVN0cmluZyh0KSxyPSIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwIituLGk9ci5zdWJzdHJpbmcoci5sZW5ndGgtNjQpLG89aS5zdWJzdHJpbmcoMCwxKSsiICAiK2kuc3Vic3RyaW5nKDEsMTIpKyIoZXhwKSAiK2kuc3Vic3RyaW5nKDEyKSsiIFsgIitlKyIgXSI7cmV0dXJuIG99fSxuZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sbmcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIG5nfSxuZy5nZXRCaXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMCE9KHQmMTw8ZSk/MTowfSxuZy5zaWduRXhwQml0cz1mdW5jdGlvbih0KXtyZXR1cm4gdD4+NTJ9LG5nLnplcm9Mb3dlckJpdHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCZ+KCgxPDxlKS0xKX0sbmcubnVtQ29tbW9uTW9zdFNpZ01hbnRpc3NhQml0cz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9NTI7cj49MDtyLS0pe2lmKG5nLmdldEJpdCh0LHIpIT09bmcuZ2V0Qml0KGUscikpcmV0dXJuIG47bisrfXJldHVybiA1Mn07dmFyIHJnPWZ1bmN0aW9uKCl7dGhpcy5fY29tbW9uQ29vcmQ9bnVsbCx0aGlzLl9jY0ZpbHRlcj1uZXcgb2d9LGlnPXtDb21tb25Db29yZGluYXRlRmlsdGVyOntjb25maWd1cmFibGU6ITB9LFRyYW5zbGF0ZXI6e2NvbmZpZ3VyYWJsZTohMH19O3JnLnByb3RvdHlwZS5hZGRDb21tb25CaXRzPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBzZyh0aGlzLl9jb21tb25Db29yZCk7dC5hcHBseShlKSx0Lmdlb21ldHJ5Q2hhbmdlZCgpfSxyZy5wcm90b3R5cGUucmVtb3ZlQ29tbW9uQml0cz1mdW5jdGlvbih0KXtpZigwPT09dGhpcy5fY29tbW9uQ29vcmQueCYmMD09PXRoaXMuX2NvbW1vbkNvb3JkLnkpcmV0dXJuIHQ7dmFyIGU9bmV3IHVsKHRoaXMuX2NvbW1vbkNvb3JkKTtlLng9LWUueCxlLnk9LWUueTt2YXIgbj1uZXcgc2coZSk7cmV0dXJuIHQuYXBwbHkobiksdC5nZW9tZXRyeUNoYW5nZWQoKSx0fSxyZy5wcm90b3R5cGUuZ2V0Q29tbW9uQ29vcmRpbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21tb25Db29yZH0scmcucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0LmFwcGx5KHRoaXMuX2NjRmlsdGVyKSx0aGlzLl9jb21tb25Db29yZD10aGlzLl9jY0ZpbHRlci5nZXRDb21tb25Db29yZGluYXRlKCl9LHJnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxyZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gcmd9LGlnLkNvbW1vbkNvb3JkaW5hdGVGaWx0ZXIuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG9nfSxpZy5UcmFuc2xhdGVyLmdldD1mdW5jdGlvbigpe3JldHVybiBzZ30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocmcsaWcpO3ZhciBvZz1mdW5jdGlvbigpe3RoaXMuX2NvbW1vbkJpdHNYPW5ldyBuZyx0aGlzLl9jb21tb25CaXRzWT1uZXcgbmd9O29nLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCl7dGhpcy5fY29tbW9uQml0c1guYWRkKHQueCksdGhpcy5fY29tbW9uQml0c1kuYWRkKHQueSl9LG9nLnByb3RvdHlwZS5nZXRDb21tb25Db29yZGluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1bCh0aGlzLl9jb21tb25CaXRzWC5nZXRDb21tb24oKSx0aGlzLl9jb21tb25CaXRzWS5nZXRDb21tb24oKSl9LG9nLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltLbF19LG9nLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBvZ307dmFyIHNnPWZ1bmN0aW9uKCl7dGhpcy50cmFucz1udWxsO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLnRyYW5zPXR9O3NnLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldE9yZGluYXRlKGUsMCkrdGhpcy50cmFucy54LHI9dC5nZXRPcmRpbmF0ZShlLDEpK3RoaXMudHJhbnMueTt0LnNldE9yZGluYXRlKGUsMCxuKSx0LnNldE9yZGluYXRlKGUsMSxyKX0sc2cucHJvdG90eXBlLmlzRG9uZT1mdW5jdGlvbigpe3JldHVybiExfSxzZy5wcm90b3R5cGUuaXNHZW9tZXRyeUNoYW5nZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sc2cucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW0ZjXX0sc2cucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHNnfTt2YXIgYWc9ZnVuY3Rpb24odCxlKXt0aGlzLl9nZW9tPW5ldyBBcnJheSgyKS5maWxsKG51bGwpLHRoaXMuX3NuYXBUb2xlcmFuY2U9bnVsbCx0aGlzLl9jYnI9bnVsbCx0aGlzLl9nZW9tWzBdPXQsdGhpcy5fZ2VvbVsxXT1lLHRoaXMuY29tcHV0ZVNuYXBUb2xlcmFuY2UoKX07YWcucHJvdG90eXBlLnNlbGZTbmFwPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgJGYodCkuc25hcFRvKHQsdGhpcy5fc25hcFRvbGVyYW5jZSl9LGFnLnByb3RvdHlwZS5yZW1vdmVDb21tb25CaXRzPWZ1bmN0aW9uKHQpe3RoaXMuX2Nicj1uZXcgcmcsdGhpcy5fY2JyLmFkZCh0WzBdKSx0aGlzLl9jYnIuYWRkKHRbMV0pO3ZhciBlPW5ldyBBcnJheSgyKS5maWxsKG51bGwpO3JldHVybiBlWzBdPXRoaXMuX2Nici5yZW1vdmVDb21tb25CaXRzKHRbMF0uY29weSgpKSxlWzFdPXRoaXMuX2Nici5yZW1vdmVDb21tb25CaXRzKHRbMV0uY29weSgpKSxlfSxhZy5wcm90b3R5cGUucHJlcGFyZVJlc3VsdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2JyLmFkZENvbW1vbkJpdHModCksdH0sYWcucHJvdG90eXBlLmdldFJlc3VsdEdlb21ldHJ5PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc25hcCh0aGlzLl9nZW9tKSxuPU1nLm92ZXJsYXlPcChlWzBdLGVbMV0sdCk7cmV0dXJuIHRoaXMucHJlcGFyZVJlc3VsdChuKX0sYWcucHJvdG90eXBlLmNoZWNrVmFsaWQ9ZnVuY3Rpb24odCl7dC5pc1ZhbGlkKCl8fFBsLm91dC5wcmludGxuKCJTbmFwcGVkIGdlb21ldHJ5IGlzIGludmFsaWQiKX0sYWcucHJvdG90eXBlLmNvbXB1dGVTbmFwVG9sZXJhbmNlPWZ1bmN0aW9uKCl7dGhpcy5fc25hcFRvbGVyYW5jZT0kZi5jb21wdXRlT3ZlcmxheVNuYXBUb2xlcmFuY2UodGhpcy5fZ2VvbVswXSx0aGlzLl9nZW9tWzFdKX0sYWcucHJvdG90eXBlLnNuYXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5yZW1vdmVDb21tb25CaXRzKHQpO3JldHVybiAkZi5zbmFwKGVbMF0sZVsxXSx0aGlzLl9zbmFwVG9sZXJhbmNlKX0sYWcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LGFnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBhZ30sYWcub3ZlcmxheU9wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IGFnKHQsZSkuZ2V0UmVzdWx0R2VvbWV0cnkobil9LGFnLnVuaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFnLm92ZXJsYXlPcCh0LGUsTWcuVU5JT04pfSxhZy5pbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gYWcub3ZlcmxheU9wKHQsZSxNZy5JTlRFUlNFQ1RJT04pfSxhZy5zeW1EaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFnLm92ZXJsYXlPcCh0LGUsTWcuU1lNRElGRkVSRU5DRSl9LGFnLmRpZmZlcmVuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYWcub3ZlcmxheU9wKHQsZSxNZy5ESUZGRVJFTkNFKX07dmFyIHVnPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZ2VvbT1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9nZW9tWzBdPXQsdGhpcy5fZ2VvbVsxXT1lfTt1Zy5wcm90b3R5cGUuZ2V0UmVzdWx0R2VvbWV0cnk9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbCxuPSExLHI9bnVsbDt0cnl7ZT1NZy5vdmVybGF5T3AodGhpcy5fZ2VvbVswXSx0aGlzLl9nZW9tWzFdLHQpO249ITB9Y2F0Y2godCl7aWYoISh0IGluc3RhbmNlb2Yga2wpKXRocm93IHQ7cj10fWlmKCFuKXRyeXtlPWFnLm92ZXJsYXlPcCh0aGlzLl9nZW9tWzBdLHRoaXMuX2dlb21bMV0sdCl9Y2F0Y2godCl7dGhyb3cgdCBpbnN0YW5jZW9mIGtsP3I6dH1yZXR1cm4gZX0sdWcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHVnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB1Z30sdWcub3ZlcmxheU9wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IHVnKHQsZSkuZ2V0UmVzdWx0R2VvbWV0cnkobil9LHVnLnVuaW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHVnLm92ZXJsYXlPcCh0LGUsTWcuVU5JT04pfSx1Zy5pbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdWcub3ZlcmxheU9wKHQsZSxNZy5JTlRFUlNFQ1RJT04pfSx1Zy5zeW1EaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHVnLm92ZXJsYXlPcCh0LGUsTWcuU1lNRElGRkVSRU5DRSl9LHVnLmRpZmZlcmVuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdWcub3ZlcmxheU9wKHQsZSxNZy5ESUZGRVJFTkNFKX07dmFyIGxnPWZ1bmN0aW9uKCl7dGhpcy5tY2U9bnVsbCx0aGlzLmNoYWluSW5kZXg9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5tY2U9dCx0aGlzLmNoYWluSW5kZXg9ZX07bGcucHJvdG90eXBlLmNvbXB1dGVJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSl7dGhpcy5tY2UuY29tcHV0ZUludGVyc2VjdHNGb3JDaGFpbih0aGlzLmNoYWluSW5kZXgsdC5tY2UsdC5jaGFpbkluZGV4LGUpfSxsZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sbGcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGxnfTt2YXIgY2c9ZnVuY3Rpb24gdCgpe2lmKHRoaXMuX2xhYmVsPW51bGwsdGhpcy5feFZhbHVlPW51bGwsdGhpcy5fZXZlbnRUeXBlPW51bGwsdGhpcy5faW5zZXJ0RXZlbnQ9bnVsbCx0aGlzLl9kZWxldGVFdmVudEluZGV4PW51bGwsdGhpcy5fb2JqPW51bGwsMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXTt0aGlzLl9ldmVudFR5cGU9dC5ERUxFVEUsdGhpcy5feFZhbHVlPWUsdGhpcy5faW5zZXJ0RXZlbnQ9bn1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl07dGhpcy5fZXZlbnRUeXBlPXQuSU5TRVJULHRoaXMuX2xhYmVsPXIsdGhpcy5feFZhbHVlPWksdGhpcy5fb2JqPW99fSxoZz17SU5TRVJUOntjb25maWd1cmFibGU6ITB9LERFTEVURTp7Y29uZmlndXJhYmxlOiEwfX07Y2cucHJvdG90eXBlLmlzRGVsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50VHlwZT09PWNnLkRFTEVURX0sY2cucHJvdG90eXBlLnNldERlbGV0ZUV2ZW50SW5kZXg9ZnVuY3Rpb24odCl7dGhpcy5fZGVsZXRlRXZlbnRJbmRleD10fSxjZy5wcm90b3R5cGUuZ2V0T2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ian0sY2cucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10O3JldHVybiB0aGlzLl94VmFsdWU8ZS5feFZhbHVlPy0xOnRoaXMuX3hWYWx1ZT5lLl94VmFsdWU/MTp0aGlzLl9ldmVudFR5cGU8ZS5fZXZlbnRUeXBlPy0xOnRoaXMuX2V2ZW50VHlwZT5lLl9ldmVudFR5cGU/MTowfSxjZy5wcm90b3R5cGUuZ2V0SW5zZXJ0RXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zZXJ0RXZlbnR9LGNnLnByb3RvdHlwZS5pc0luc2VydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudFR5cGU9PT1jZy5JTlNFUlR9LGNnLnByb3RvdHlwZS5pc1NhbWVMYWJlbD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXRoaXMuX2xhYmVsJiZ0aGlzLl9sYWJlbD09PXQuX2xhYmVsfSxjZy5wcm90b3R5cGUuZ2V0RGVsZXRlRXZlbnRJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxldGVFdmVudEluZGV4fSxjZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5baWxdfSxjZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gY2d9LGhnLklOU0VSVC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0saGcuREVMRVRFLmdldD1mdW5jdGlvbigpe3JldHVybiAyfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjZyxoZyk7dmFyIHBnPWZ1bmN0aW9uKCl7fTtwZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0scGcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIHBnfTt2YXIgZmc9ZnVuY3Rpb24oKXt0aGlzLl9oYXNJbnRlcnNlY3Rpb249ITEsdGhpcy5faGFzUHJvcGVyPSExLHRoaXMuX2hhc1Byb3BlckludGVyaW9yPSExLHRoaXMuX3Byb3BlckludGVyc2VjdGlvblBvaW50PW51bGwsdGhpcy5fbGk9bnVsbCx0aGlzLl9pbmNsdWRlUHJvcGVyPW51bGwsdGhpcy5fcmVjb3JkSXNvbGF0ZWQ9bnVsbCx0aGlzLl9pc1NlbGZJbnRlcnNlY3Rpb249bnVsbCx0aGlzLl9udW1JbnRlcnNlY3Rpb25zPTAsdGhpcy5udW1UZXN0cz0wLHRoaXMuX2JkeU5vZGVzPW51bGwsdGhpcy5faXNEb25lPSExLHRoaXMuX2lzRG9uZVdoZW5Qcm9wZXJJbnQ9ITE7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49YXJndW1lbnRzWzJdO3RoaXMuX2xpPXQsdGhpcy5faW5jbHVkZVByb3Blcj1lLHRoaXMuX3JlY29yZElzb2xhdGVkPW59O2ZnLnByb3RvdHlwZS5pc1RyaXZpYWxJbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlLG4scil7aWYodD09PW4mJjE9PT10aGlzLl9saS5nZXRJbnRlcnNlY3Rpb25OdW0oKSl7aWYoZmcuaXNBZGphY2VudFNlZ21lbnRzKGUscikpcmV0dXJuITA7aWYodC5pc0Nsb3NlZCgpKXt2YXIgaT10LmdldE51bVBvaW50cygpLTE7aWYoMD09PWUmJnI9PT1pfHwwPT09ciYmZT09PWkpcmV0dXJuITB9fXJldHVybiExfSxmZy5wcm90b3R5cGUuZ2V0UHJvcGVySW50ZXJzZWN0aW9uUG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvcGVySW50ZXJzZWN0aW9uUG9pbnR9LGZnLnByb3RvdHlwZS5zZXRJc0RvbmVJZlByb3BlckludD1mdW5jdGlvbih0KXt0aGlzLl9pc0RvbmVXaGVuUHJvcGVySW50PXR9LGZnLnByb3RvdHlwZS5oYXNQcm9wZXJJbnRlcmlvckludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNQcm9wZXJJbnRlcmlvcn0sZmcucHJvdG90eXBlLmlzQm91bmRhcnlQb2ludEludGVybmFsPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpLmdldENvb3JkaW5hdGUoKTtpZih0LmlzSW50ZXJzZWN0aW9uKHIpKXJldHVybiEwfXJldHVybiExfSxmZy5wcm90b3R5cGUuaGFzUHJvcGVySW50ZXJzZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhc1Byb3Blcn0sZmcucHJvdG90eXBlLmhhc0ludGVyc2VjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNJbnRlcnNlY3Rpb259LGZnLnByb3RvdHlwZS5pc0RvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEb25lfSxmZy5wcm90b3R5cGUuaXNCb3VuZGFyeVBvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPT1lJiYoISF0aGlzLmlzQm91bmRhcnlQb2ludEludGVybmFsKHQsZVswXSl8fCEhdGhpcy5pc0JvdW5kYXJ5UG9pbnRJbnRlcm5hbCh0LGVbMV0pKX0sZmcucHJvdG90eXBlLnNldEJvdW5kYXJ5Tm9kZXM9ZnVuY3Rpb24odCxlKXt0aGlzLl9iZHlOb2Rlcz1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9iZHlOb2Rlc1swXT10LHRoaXMuX2JkeU5vZGVzWzFdPWV9LGZnLnByb3RvdHlwZS5hZGRJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKHQ9PT1uJiZlPT09cilyZXR1cm4gbnVsbDt0aGlzLm51bVRlc3RzKys7dmFyIGk9dC5nZXRDb29yZGluYXRlcygpW2VdLG89dC5nZXRDb29yZGluYXRlcygpW2UrMV0scz1uLmdldENvb3JkaW5hdGVzKClbcl0sYT1uLmdldENvb3JkaW5hdGVzKClbcisxXTt0aGlzLl9saS5jb21wdXRlSW50ZXJzZWN0aW9uKGksbyxzLGEpLHRoaXMuX2xpLmhhc0ludGVyc2VjdGlvbigpJiYodGhpcy5fcmVjb3JkSXNvbGF0ZWQmJih0LnNldElzb2xhdGVkKCExKSxuLnNldElzb2xhdGVkKCExKSksdGhpcy5fbnVtSW50ZXJzZWN0aW9ucysrLHRoaXMuaXNUcml2aWFsSW50ZXJzZWN0aW9uKHQsZSxuLHIpfHwodGhpcy5faGFzSW50ZXJzZWN0aW9uPSEwLCF0aGlzLl9pbmNsdWRlUHJvcGVyJiZ0aGlzLl9saS5pc1Byb3BlcigpfHwodC5hZGRJbnRlcnNlY3Rpb25zKHRoaXMuX2xpLGUsMCksbi5hZGRJbnRlcnNlY3Rpb25zKHRoaXMuX2xpLHIsMSkpLHRoaXMuX2xpLmlzUHJvcGVyKCkmJih0aGlzLl9wcm9wZXJJbnRlcnNlY3Rpb25Qb2ludD10aGlzLl9saS5nZXRJbnRlcnNlY3Rpb24oMCkuY29weSgpLHRoaXMuX2hhc1Byb3Blcj0hMCx0aGlzLl9pc0RvbmVXaGVuUHJvcGVySW50JiYodGhpcy5faXNEb25lPSEwKSx0aGlzLmlzQm91bmRhcnlQb2ludCh0aGlzLl9saSx0aGlzLl9iZHlOb2Rlcyl8fCh0aGlzLl9oYXNQcm9wZXJJbnRlcmlvcj0hMCkpKSl9LGZnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxmZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZmd9LGZnLmlzQWRqYWNlbnRTZWdtZW50cz1mdW5jdGlvbih0LGUpe3JldHVybiAxPT09TWF0aC5hYnModC1lKX07dmFyIGdnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt0LmNhbGwodGhpcyksdGhpcy5ldmVudHM9bmV3IGxjLHRoaXMubk92ZXJsYXBzPW51bGx9cmV0dXJuIHQmJihlLl9fcHJvdG9fXz10KSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUucHJvdG90eXBlLnByZXBhcmVFdmVudHM9ZnVuY3Rpb24oKXtucC5zb3J0KHRoaXMuZXZlbnRzKTtmb3IodmFyIHQ9MDt0PHRoaXMuZXZlbnRzLnNpemUoKTt0Kyspe3ZhciBlPXRoaXMuZXZlbnRzLmdldCh0KTtlLmlzRGVsZXRlKCkmJmUuZ2V0SW5zZXJ0RXZlbnQoKS5zZXREZWxldGVFdmVudEluZGV4KHQpfX0sZS5wcm90b3R5cGUuY29tcHV0ZUludGVyc2VjdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07dGhpcy5uT3ZlcmxhcHM9MCx0aGlzLnByZXBhcmVFdmVudHMoKTtmb3IodmFyIG49MDtuPHRoaXMuZXZlbnRzLnNpemUoKTtuKyspe3ZhciByPXQuZXZlbnRzLmdldChuKTtpZihyLmlzSW5zZXJ0KCkmJnQucHJvY2Vzc092ZXJsYXBzKG4sci5nZXREZWxldGVFdmVudEluZGV4KCkscixlKSxlLmlzRG9uZSgpKWJyZWFrfX1lbHNlIGlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKWlmKGFyZ3VtZW50c1syXWluc3RhbmNlb2YgZmcmJmdsKGFyZ3VtZW50c1swXSxhYykmJmdsKGFyZ3VtZW50c1sxXSxhYykpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWFyZ3VtZW50c1syXTt0aGlzLmFkZEVkZ2VzKGksaSksdGhpcy5hZGRFZGdlcyhvLG8pLHRoaXMuY29tcHV0ZUludGVyc2VjdGlvbnMocyl9ZWxzZSBpZigiYm9vbGVhbiI9PXR5cGVvZiBhcmd1bWVudHNbMl0mJmdsKGFyZ3VtZW50c1swXSxhYykmJmFyZ3VtZW50c1sxXWluc3RhbmNlb2YgZmcpe3ZhciBhPWFyZ3VtZW50c1swXSx1PWFyZ3VtZW50c1sxXSxsPWFyZ3VtZW50c1syXTtsP3RoaXMuYWRkRWRnZXMoYSxudWxsKTp0aGlzLmFkZEVkZ2VzKGEpLHRoaXMuY29tcHV0ZUludGVyc2VjdGlvbnModSl9fSxlLnByb3RvdHlwZS5hZGRFZGdlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZ2V0TW9ub3RvbmVDaGFpbkVkZ2UoKSxyPW4uZ2V0U3RhcnRJbmRleGVzKCksaT0wO2k8ci5sZW5ndGgtMTtpKyspe3ZhciBvPW5ldyBsZyhuLGkpLHM9bmV3IGNnKGUsbi5nZXRNaW5YKGkpLG8pO3RoaXMuZXZlbnRzLmFkZChzKSx0aGlzLmV2ZW50cy5hZGQobmV3IGNnKG4uZ2V0TWF4WChpKSxzKSl9fSxlLnByb3RvdHlwZS5wcm9jZXNzT3ZlcmxhcHM9ZnVuY3Rpb24odCxlLG4scil7Zm9yKHZhciBpPW4uZ2V0T2JqZWN0KCksbz10O288ZTtvKyspe3ZhciBzPXRoaXMuZXZlbnRzLmdldChvKTtpZihzLmlzSW5zZXJ0KCkpe3ZhciBhPXMuZ2V0T2JqZWN0KCk7bi5pc1NhbWVMYWJlbChzKXx8KGkuY29tcHV0ZUludGVyc2VjdGlvbnMoYSxyKSx0aGlzLm5PdmVybGFwcysrKX19fSxlLnByb3RvdHlwZS5hZGRFZGdlcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBlPWFyZ3VtZW50c1swXSxuPWUuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO3QuYWRkRWRnZShyLHIpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKHZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWkuaXRlcmF0b3IoKTtzLmhhc05leHQoKTspe3ZhciBhPXMubmV4dCgpO3QuYWRkRWRnZShhLG8pfX0sZS5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX0ocGcpLGRnPWZ1bmN0aW9uKCl7dGhpcy5fbWluPW5sLlBPU0lUSVZFX0lORklOSVRZLHRoaXMuX21heD1ubC5ORUdBVElWRV9JTkZJTklUWX0seWc9e05vZGVDb21wYXJhdG9yOntjb25maWd1cmFibGU6ITB9fTtkZy5wcm90b3R5cGUuZ2V0TWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pbn0sZGcucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHRoaXMuX21pbj5lfHx0aGlzLl9tYXg8dCl9LGRnLnByb3RvdHlwZS5nZXRNYXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4fSxkZy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gRmwudG9MaW5lU3RyaW5nKG5ldyB1bCh0aGlzLl9taW4sMCksbmV3IHVsKHRoaXMuX21heCwwKSl9LGRnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxkZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZGd9LHlnLk5vZGVDb21wYXJhdG9yLmdldD1mdW5jdGlvbigpe3JldHVybiB2Z30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZGcseWcpO3ZhciB2Zz1mdW5jdGlvbigpe307dmcucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LHI9ZSxpPShuLl9taW4rbi5fbWF4KS8yLG89KHIuX21pbityLl9tYXgpLzI7cmV0dXJuIGk8bz8tMTppPm8/MTowfSx2Zy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bc2xdfSx2Zy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gdmd9O3ZhciBfZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dC5jYWxsKHRoaXMpLHRoaXMuX2l0ZW09bnVsbDt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl07dGhpcy5fbWluPWUsdGhpcy5fbWF4PW4sdGhpcy5faXRlbT1yfXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUsbil7aWYoIXRoaXMuaW50ZXJzZWN0cyh0LGUpKXJldHVybiBudWxsO24udmlzaXRJdGVtKHRoaXMuX2l0ZW0pfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShkZyksbWc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3QuY2FsbCh0aGlzKSx0aGlzLl9ub2RlMT1udWxsLHRoaXMuX25vZGUyPW51bGw7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdO3RoaXMuX25vZGUxPWUsdGhpcy5fbm9kZTI9bix0aGlzLmJ1aWxkRXh0ZW50KHRoaXMuX25vZGUxLHRoaXMuX25vZGUyKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuYnVpbGRFeHRlbnQ9ZnVuY3Rpb24odCxlKXt0aGlzLl9taW49TWF0aC5taW4odC5fbWluLGUuX21pbiksdGhpcy5fbWF4PU1hdGgubWF4KHQuX21heCxlLl9tYXgpfSxlLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbih0LGUsbil7aWYoIXRoaXMuaW50ZXJzZWN0cyh0LGUpKXJldHVybiBudWxsO251bGwhPT10aGlzLl9ub2RlMSYmdGhpcy5fbm9kZTEucXVlcnkodCxlLG4pLG51bGwhPT10aGlzLl9ub2RlMiYmdGhpcy5fbm9kZTIucXVlcnkodCxlLG4pfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShkZykseGc9ZnVuY3Rpb24oKXt0aGlzLl9sZWF2ZXM9bmV3IGxjLHRoaXMuX3Jvb3Q9bnVsbCx0aGlzLl9sZXZlbD0wfTt4Zy5wcm90b3R5cGUuYnVpbGRUcmVlPWZ1bmN0aW9uKCl7bnAuc29ydCh0aGlzLl9sZWF2ZXMsbmV3IGRnLk5vZGVDb21wYXJhdG9yKTtmb3IodmFyIHQ9dGhpcy5fbGVhdmVzLGU9bnVsbCxuPW5ldyBsYzs7KXtpZih0aGlzLmJ1aWxkTGV2ZWwodCxuKSwxPT09bi5zaXplKCkpcmV0dXJuIG4uZ2V0KDApO2U9dCx0PW4sbj1lfX0seGcucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbih0LGUsbil7aWYobnVsbCE9PXRoaXMuX3Jvb3QpdGhyb3cgbmV3IEVycm9yKCJJbmRleCBjYW5ub3QgYmUgYWRkZWQgdG8gb25jZSBpdCBoYXMgYmVlbiBxdWVyaWVkIik7dGhpcy5fbGVhdmVzLmFkZChuZXcgX2codCxlLG4pKX0seGcucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQsZSxuKXt0aGlzLmluaXQoKSx0aGlzLl9yb290LnF1ZXJ5KHQsZSxuKX0seGcucHJvdG90eXBlLmJ1aWxkUm9vdD1mdW5jdGlvbigpe2lmKG51bGwhPT10aGlzLl9yb290KXJldHVybiBudWxsO3RoaXMuX3Jvb3Q9dGhpcy5idWlsZFRyZWUoKX0seGcucHJvdG90eXBlLnByaW50Tm9kZT1mdW5jdGlvbih0KXtQbC5vdXQucHJpbnRsbihGbC50b0xpbmVTdHJpbmcobmV3IHVsKHQuX21pbix0aGlzLl9sZXZlbCksbmV3IHVsKHQuX21heCx0aGlzLl9sZXZlbCkpKX0seGcucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZihudWxsIT09dGhpcy5fcm9vdClyZXR1cm4gbnVsbDt0aGlzLmJ1aWxkUm9vdCgpfSx4Zy5wcm90b3R5cGUuYnVpbGRMZXZlbD1mdW5jdGlvbih0LGUpe3RoaXMuX2xldmVsKyssZS5jbGVhcigpO2Zvcih2YXIgbj0wO248dC5zaXplKCk7bis9Mil7dmFyIHI9dC5nZXQobik7aWYobnVsbD09PShuKzE8dC5zaXplKCk/dC5nZXQobik6bnVsbCkpZS5hZGQocik7ZWxzZXt2YXIgaT1uZXcgbWcodC5nZXQobiksdC5nZXQobisxKSk7ZS5hZGQoaSl9fX0seGcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LHhnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiB4Z307dmFyIEVnPWZ1bmN0aW9uKCl7dGhpcy5faXRlbXM9bmV3IGxjfTtFZy5wcm90b3R5cGUudmlzaXRJdGVtPWZ1bmN0aW9uKHQpe3RoaXMuX2l0ZW1zLmFkZCh0KX0sRWcucHJvdG90eXBlLmdldEl0ZW1zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW1zfSxFZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bUWhdfSxFZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gRWd9O3ZhciBiZz1mdW5jdGlvbigpe3RoaXMuX2luZGV4PW51bGw7dmFyIHQ9YXJndW1lbnRzWzBdO2lmKCFnbCh0LCRjKSl0aHJvdyBuZXcgZWwoIkFyZ3VtZW50IG11c3QgYmUgUG9seWdvbmFsIik7dGhpcy5faW5kZXg9bmV3IE5nKHQpfSx3Zz17U2VnbWVudFZpc2l0b3I6e2NvbmZpZ3VyYWJsZTohMH0sSW50ZXJ2YWxJbmRleGVkR2VvbWV0cnk6e2NvbmZpZ3VyYWJsZTohMH19O2JnLnByb3RvdHlwZS5sb2NhdGU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFZsKHQpLG49bmV3IElnKGUpO3JldHVybiB0aGlzLl9pbmRleC5xdWVyeSh0LnksdC55LG4pLGUuZ2V0TG9jYXRpb24oKX0sYmcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW2pwXX0sYmcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGJnfSx3Zy5TZWdtZW50VmlzaXRvci5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gSWd9LHdnLkludGVydmFsSW5kZXhlZEdlb21ldHJ5LmdldD1mdW5jdGlvbigpe3JldHVybiBOZ30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYmcsd2cpO3ZhciBJZz1mdW5jdGlvbigpe3RoaXMuX2NvdW50ZXI9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fY291bnRlcj10fTtJZy5wcm90b3R5cGUudmlzaXRJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7dGhpcy5fY291bnRlci5jb3VudFNlZ21lbnQoZS5nZXRDb29yZGluYXRlKDApLGUuZ2V0Q29vcmRpbmF0ZSgxKSl9LElnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltRaF19LElnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBJZ307dmFyIE5nPWZ1bmN0aW9uKCl7dGhpcy5faW5kZXg9bmV3IHhnO3ZhciB0PWFyZ3VtZW50c1swXTt0aGlzLmluaXQodCl9O05nLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1DZi5nZXRMaW5lcyh0KS5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCkuZ2V0Q29vcmRpbmF0ZXMoKTt0aGlzLmFkZExpbmUobil9fSxOZy5wcm90b3R5cGUuYWRkTGluZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPHQubGVuZ3RoO2UrKyl7dmFyIG49bmV3IHZwKHRbZS0xXSx0W2VdKSxyPU1hdGgubWluKG4ucDAueSxuLnAxLnkpLGk9TWF0aC5tYXgobi5wMC55LG4ucDEueSk7dGhpcy5faW5kZXguaW5zZXJ0KHIsaSxuKX19LE5nLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbigpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV0sbj1uZXcgRWc7cmV0dXJuIHRoaXMuX2luZGV4LnF1ZXJ5KHQsZSxuKSxuLmdldEl0ZW1zKCl9aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciByPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXTt0aGlzLl9pbmRleC5xdWVyeShyLGksbyl9fSxOZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sTmcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIE5nfTt2YXIgU2c9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe2lmKHQuY2FsbCh0aGlzKSx0aGlzLl9wYXJlbnRHZW9tPW51bGwsdGhpcy5fbGluZUVkZ2VNYXA9bmV3IGZoLHRoaXMuX2JvdW5kYXJ5Tm9kZVJ1bGU9bnVsbCx0aGlzLl91c2VCb3VuZGFyeURldGVybWluYXRpb25SdWxlPSEwLHRoaXMuX2FyZ0luZGV4PW51bGwsdGhpcy5fYm91bmRhcnlOb2Rlcz1udWxsLHRoaXMuX2hhc1Rvb0Zld1BvaW50cz0hMSx0aGlzLl9pbnZhbGlkUG9pbnQ9bnVsbCx0aGlzLl9hcmVhUHRMb2NhdG9yPW51bGwsdGhpcy5fcHRMb2NhdG9yPW5ldyBQZiwyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9UWwuT0dDX1NGU19CT1VOREFSWV9SVUxFO3RoaXMuX2FyZ0luZGV4PWUsdGhpcy5fcGFyZW50R2VvbT1uLHRoaXMuX2JvdW5kYXJ5Tm9kZVJ1bGU9cixudWxsIT09biYmdGhpcy5hZGQobil9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdO3RoaXMuX2FyZ0luZGV4PWksdGhpcy5fcGFyZW50R2VvbT1vLHRoaXMuX2JvdW5kYXJ5Tm9kZVJ1bGU9cyxudWxsIT09byYmdGhpcy5hZGQobyl9fXJldHVybiB0JiYoZS5fX3Byb3RvX189dCksZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLnByb3RvdHlwZS5pbnNlcnRCb3VuZGFyeVBvaW50PWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcy5fbm9kZXMuYWRkTm9kZShuKS5nZXRMYWJlbCgpLGk9MTtyLmdldExvY2F0aW9uKHQsU2guT04pPT09cGwuQk9VTkRBUlkmJmkrKzt2YXIgbz1lLmRldGVybWluZUJvdW5kYXJ5KHRoaXMuX2JvdW5kYXJ5Tm9kZVJ1bGUsaSk7ci5zZXRMb2NhdGlvbih0LG8pfSxlLnByb3RvdHlwZS5jb21wdXRlU2VsZk5vZGVzPWZ1bmN0aW9uKCl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5jb21wdXRlU2VsZk5vZGVzKHQsZSwhMSl9aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50c1syXSxvPW5ldyBmZyhuLCEwLCExKTtvLnNldElzRG9uZUlmUHJvcGVySW50KGkpO3ZhciBzPXRoaXMuY3JlYXRlRWRnZVNldEludGVyc2VjdG9yKCksYT10aGlzLl9wYXJlbnRHZW9tIGluc3RhbmNlb2Ygbmh8fHRoaXMuX3BhcmVudEdlb20gaW5zdGFuY2VvZiB0aHx8dGhpcy5fcGFyZW50R2VvbSBpbnN0YW5jZW9mIHJoLHU9cnx8IWE7cmV0dXJuIHMuY29tcHV0ZUludGVyc2VjdGlvbnModGhpcy5fZWRnZXMsbyx1KSx0aGlzLmFkZFNlbGZJbnRlcnNlY3Rpb25Ob2Rlcyh0aGlzLl9hcmdJbmRleCksb319LGUucHJvdG90eXBlLmNvbXB1dGVTcGxpdEVkZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9lZGdlcy5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7ZS5uZXh0KCkuZWlMaXN0LmFkZFNwbGl0RWRnZXModCl9fSxlLnByb3RvdHlwZS5jb21wdXRlRWRnZUludGVyc2VjdGlvbnM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPW5ldyBmZyhlLG4sITApO3JldHVybiByLnNldEJvdW5kYXJ5Tm9kZXModGhpcy5nZXRCb3VuZGFyeU5vZGVzKCksdC5nZXRCb3VuZGFyeU5vZGVzKCkpLHRoaXMuY3JlYXRlRWRnZVNldEludGVyc2VjdG9yKCkuY29tcHV0ZUludGVyc2VjdGlvbnModGhpcy5fZWRnZXMsdC5fZWRnZXMscikscn0sZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyZW50R2VvbX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnlOb2RlUnVsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib3VuZGFyeU5vZGVSdWxlfSxlLnByb3RvdHlwZS5oYXNUb29GZXdQb2ludHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzVG9vRmV3UG9pbnRzfSxlLnByb3RvdHlwZS5hZGRQb2ludD1mdW5jdGlvbigpe2lmKGFyZ3VtZW50c1swXWluc3RhbmNlb2YgUWMpe3ZhciB0PWFyZ3VtZW50c1swXSxlPXQuZ2V0Q29vcmRpbmF0ZSgpO3RoaXMuaW5zZXJ0UG9pbnQodGhpcy5fYXJnSW5kZXgsZSxwbC5JTlRFUklPUil9ZWxzZSBpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIHVsKXt2YXIgbj1hcmd1bWVudHNbMF07dGhpcy5pbnNlcnRQb2ludCh0aGlzLl9hcmdJbmRleCxuLHBsLklOVEVSSU9SKX19LGUucHJvdG90eXBlLmFkZFBvbHlnb249ZnVuY3Rpb24odCl7dGhpcy5hZGRQb2x5Z29uUmluZyh0LmdldEV4dGVyaW9yUmluZygpLHBsLkVYVEVSSU9SLHBsLklOVEVSSU9SKTtmb3IodmFyIGU9MDtlPHQuZ2V0TnVtSW50ZXJpb3JSaW5nKCk7ZSsrKXt2YXIgbj10LmdldEludGVyaW9yUmluZ04oZSk7dGhpcy5hZGRQb2x5Z29uUmluZyhuLHBsLklOVEVSSU9SLHBsLkVYVEVSSU9SKX19LGUucHJvdG90eXBlLmFkZEVkZ2U9ZnVuY3Rpb24odCl7dGhpcy5pbnNlcnRFZGdlKHQpO3ZhciBlPXQuZ2V0Q29vcmRpbmF0ZXMoKTt0aGlzLmluc2VydFBvaW50KHRoaXMuX2FyZ0luZGV4LGVbMF0scGwuQk9VTkRBUlkpLHRoaXMuaW5zZXJ0UG9pbnQodGhpcy5fYXJnSW5kZXgsZVtlLmxlbmd0aC0xXSxwbC5CT1VOREFSWSl9LGUucHJvdG90eXBlLmFkZExpbmVTdHJpbmc9ZnVuY3Rpb24odCl7dmFyIGU9cGMucmVtb3ZlUmVwZWF0ZWRQb2ludHModC5nZXRDb29yZGluYXRlcygpKTtpZihlLmxlbmd0aDwyKXJldHVybiB0aGlzLl9oYXNUb29GZXdQb2ludHM9ITAsdGhpcy5faW52YWxpZFBvaW50PWVbMF0sbnVsbDt2YXIgbj1uZXcgb2YoZSxuZXcgRGgodGhpcy5fYXJnSW5kZXgscGwuSU5URVJJT1IpKTt0aGlzLl9saW5lRWRnZU1hcC5wdXQodCxuKSx0aGlzLmluc2VydEVkZ2UobikscWwuaXNUcnVlKGUubGVuZ3RoPj0yLCJmb3VuZCBMaW5lU3RyaW5nIHdpdGggc2luZ2xlIHBvaW50IiksdGhpcy5pbnNlcnRCb3VuZGFyeVBvaW50KHRoaXMuX2FyZ0luZGV4LGVbMF0pLHRoaXMuaW5zZXJ0Qm91bmRhcnlQb2ludCh0aGlzLl9hcmdJbmRleCxlW2UubGVuZ3RoLTFdKX0sZS5wcm90b3R5cGUuZ2V0SW52YWxpZFBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludmFsaWRQb2ludH0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnlQb2ludHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRCb3VuZGFyeU5vZGVzKCksZT1uZXcgQXJyYXkodC5zaXplKCkpLmZpbGwobnVsbCksbj0wLHI9dC5pdGVyYXRvcigpO3IuaGFzTmV4dCgpOyl7dmFyIGk9ci5uZXh0KCk7ZVtuKytdPWkuZ2V0Q29vcmRpbmF0ZSgpLmNvcHkoKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0Qm91bmRhcnlOb2Rlcz1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5fYm91bmRhcnlOb2RlcyYmKHRoaXMuX2JvdW5kYXJ5Tm9kZXM9dGhpcy5fbm9kZXMuZ2V0Qm91bmRhcnlOb2Rlcyh0aGlzLl9hcmdJbmRleCkpLHRoaXMuX2JvdW5kYXJ5Tm9kZXN9LGUucHJvdG90eXBlLmFkZFNlbGZJbnRlcnNlY3Rpb25Ob2RlPWZ1bmN0aW9uKHQsZSxuKXtpZih0aGlzLmlzQm91bmRhcnlOb2RlKHQsZSkpcmV0dXJuIG51bGw7bj09PXBsLkJPVU5EQVJZJiZ0aGlzLl91c2VCb3VuZGFyeURldGVybWluYXRpb25SdWxlP3RoaXMuaW5zZXJ0Qm91bmRhcnlQb2ludCh0LGUpOnRoaXMuaW5zZXJ0UG9pbnQodCxlLG4pfSxlLnByb3RvdHlwZS5hZGRQb2x5Z29uUmluZz1mdW5jdGlvbih0LGUsbil7aWYodC5pc0VtcHR5KCkpcmV0dXJuIG51bGw7dmFyIHI9cGMucmVtb3ZlUmVwZWF0ZWRQb2ludHModC5nZXRDb29yZGluYXRlcygpKTtpZihyLmxlbmd0aDw0KXJldHVybiB0aGlzLl9oYXNUb29GZXdQb2ludHM9ITAsdGhpcy5faW52YWxpZFBvaW50PXJbMF0sbnVsbDt2YXIgaT1lLG89bjtYbC5pc0NDVyhyKSYmKGk9bixvPWUpO3ZhciBzPW5ldyBvZihyLG5ldyBEaCh0aGlzLl9hcmdJbmRleCxwbC5CT1VOREFSWSxpLG8pKTt0aGlzLl9saW5lRWRnZU1hcC5wdXQodCxzKSx0aGlzLmluc2VydEVkZ2UocyksdGhpcy5pbnNlcnRQb2ludCh0aGlzLl9hcmdJbmRleCxyWzBdLHBsLkJPVU5EQVJZKX0sZS5wcm90b3R5cGUuaW5zZXJ0UG9pbnQ9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXMuX25vZGVzLmFkZE5vZGUoZSksaT1yLmdldExhYmVsKCk7bnVsbD09PWk/ci5fbGFiZWw9bmV3IERoKHQsbik6aS5zZXRMb2NhdGlvbih0LG4pfSxlLnByb3RvdHlwZS5jcmVhdGVFZGdlU2V0SW50ZXJzZWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGdnfSxlLnByb3RvdHlwZS5hZGRTZWxmSW50ZXJzZWN0aW9uTm9kZXM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2VkZ2VzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KWZvcih2YXIgbj1lLm5leHQoKSxyPW4uZ2V0TGFiZWwoKS5nZXRMb2NhdGlvbih0KSxpPW4uZWlMaXN0Lml0ZXJhdG9yKCk7aS5oYXNOZXh0KCk7KXt2YXIgbz1pLm5leHQoKTt0aGlzLmFkZFNlbGZJbnRlcnNlY3Rpb25Ob2RlKHQsby5jb29yZCxyKX19LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbigpe2lmKDEhPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0LnByb3RvdHlwZS5hZGQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPWFyZ3VtZW50c1swXTtpZihlLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDtpZihlIGluc3RhbmNlb2YgcmgmJih0aGlzLl91c2VCb3VuZGFyeURldGVybWluYXRpb25SdWxlPSExKSxlIGluc3RhbmNlb2YgdGgpdGhpcy5hZGRQb2x5Z29uKGUpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIFpjKXRoaXMuYWRkTGluZVN0cmluZyhlKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBRYyl0aGlzLmFkZFBvaW50KGUpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIGVoKXRoaXMuYWRkQ29sbGVjdGlvbihlKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBHYyl0aGlzLmFkZENvbGxlY3Rpb24oZSk7ZWxzZSBpZihlIGluc3RhbmNlb2YgcmgpdGhpcy5hZGRDb2xsZWN0aW9uKGUpO2Vsc2V7aWYoIShlIGluc3RhbmNlb2Yga2MpKXRocm93IG5ldyBFcnJvcihlLmdldENsYXNzKCkuZ2V0TmFtZSgpKTt0aGlzLmFkZENvbGxlY3Rpb24oZSl9fSxlLnByb3RvdHlwZS5hZGRDb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5nZXROdW1HZW9tZXRyaWVzKCk7ZSsrKXt2YXIgbj10LmdldEdlb21ldHJ5TihlKTt0aGlzLmFkZChuKX19LGUucHJvdG90eXBlLmxvY2F0ZT1mdW5jdGlvbih0KXtyZXR1cm4gZ2wodGhpcy5fcGFyZW50R2VvbSwkYykmJnRoaXMuX3BhcmVudEdlb20uZ2V0TnVtR2VvbWV0cmllcygpPjUwPyhudWxsPT09dGhpcy5fYXJlYVB0TG9jYXRvciYmKHRoaXMuX2FyZWFQdExvY2F0b3I9bmV3IGJnKHRoaXMuX3BhcmVudEdlb20pKSx0aGlzLl9hcmVhUHRMb2NhdG9yLmxvY2F0ZSh0KSk6dGhpcy5fcHRMb2NhdG9yLmxvY2F0ZSh0LHRoaXMuX3BhcmVudEdlb20pfSxlLnByb3RvdHlwZS5maW5kRWRnZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuX2xpbmVFZGdlTWFwLmdldChlKX1yZXR1cm4gdC5wcm90b3R5cGUuZmluZEVkZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlLmRldGVybWluZUJvdW5kYXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaXNJbkJvdW5kYXJ5KGUpP3BsLkJPVU5EQVJZOnBsLklOVEVSSU9SfSxlfShIaCksQ2c9ZnVuY3Rpb24oKXtpZih0aGlzLl9saT1uZXcgamwsdGhpcy5fcmVzdWx0UHJlY2lzaW9uTW9kZWw9bnVsbCx0aGlzLl9hcmc9bnVsbCwxPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdO3RoaXMuc2V0Q29tcHV0YXRpb25QcmVjaXNpb24odC5nZXRQcmVjaXNpb25Nb2RlbCgpKSx0aGlzLl9hcmc9bmV3IEFycmF5KDEpLmZpbGwobnVsbCksdGhpcy5fYXJnWzBdPW5ldyBTZygwLHQpfWVsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxyPVFsLk9HQ19TRlNfQk9VTkRBUllfUlVMRTtlLmdldFByZWNpc2lvbk1vZGVsKCkuY29tcGFyZVRvKG4uZ2V0UHJlY2lzaW9uTW9kZWwoKSk+PTA/dGhpcy5zZXRDb21wdXRhdGlvblByZWNpc2lvbihlLmdldFByZWNpc2lvbk1vZGVsKCkpOnRoaXMuc2V0Q29tcHV0YXRpb25QcmVjaXNpb24obi5nZXRQcmVjaXNpb25Nb2RlbCgpKSx0aGlzLl9hcmc9bmV3IEFycmF5KDIpLmZpbGwobnVsbCksdGhpcy5fYXJnWzBdPW5ldyBTZygwLGUsciksdGhpcy5fYXJnWzFdPW5ldyBTZygxLG4scil9ZWxzZSBpZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGk9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHM9YXJndW1lbnRzWzJdO2kuZ2V0UHJlY2lzaW9uTW9kZWwoKS5jb21wYXJlVG8oby5nZXRQcmVjaXNpb25Nb2RlbCgpKT49MD90aGlzLnNldENvbXB1dGF0aW9uUHJlY2lzaW9uKGkuZ2V0UHJlY2lzaW9uTW9kZWwoKSk6dGhpcy5zZXRDb21wdXRhdGlvblByZWNpc2lvbihvLmdldFByZWNpc2lvbk1vZGVsKCkpLHRoaXMuX2FyZz1uZXcgQXJyYXkoMikuZmlsbChudWxsKSx0aGlzLl9hcmdbMF09bmV3IFNnKDAsaSxzKSx0aGlzLl9hcmdbMV09bmV3IFNnKDEsbyxzKX19O0NnLnByb3RvdHlwZS5nZXRBcmdHZW9tZXRyeT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYXJnW3RdLmdldEdlb21ldHJ5KCl9LENnLnByb3RvdHlwZS5zZXRDb21wdXRhdGlvblByZWNpc2lvbj1mdW5jdGlvbih0KXt0aGlzLl9yZXN1bHRQcmVjaXNpb25Nb2RlbD10LHRoaXMuX2xpLnNldFByZWNpc2lvbk1vZGVsKHRoaXMuX3Jlc3VsdFByZWNpc2lvbk1vZGVsKX0sQ2cucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LENnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBDZ307dmFyIFBnPWZ1bmN0aW9uKCl7fTtQZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sUGcucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIFBnfSxQZy5tYXA9ZnVuY3Rpb24oKXtpZihhcmd1bWVudHNbMF1pbnN0YW5jZW9mIFdsJiZnbChhcmd1bWVudHNbMV0sUGcuTWFwT3ApKXtmb3IodmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49bmV3IGxjLHI9MDtyPHQuZ2V0TnVtR2VvbWV0cmllcygpO3IrKyl7dmFyIGk9ZS5tYXAodC5nZXRHZW9tZXRyeU4ocikpO251bGwhPT1pJiZuLmFkZChpKX1yZXR1cm4gdC5nZXRGYWN0b3J5KCkuYnVpbGRHZW9tZXRyeShuKX1pZihnbChhcmd1bWVudHNbMF0saWMpJiZnbChhcmd1bWVudHNbMV0sUGcuTWFwT3ApKXtmb3IodmFyIG89YXJndW1lbnRzWzBdLHM9YXJndW1lbnRzWzFdLGE9bmV3IGxjLHU9by5pdGVyYXRvcigpO3UuaGFzTmV4dCgpOyl7dmFyIGw9dS5uZXh0KCksYz1zLm1hcChsKTtudWxsIT09YyYmYS5hZGQoYyl9cmV0dXJuIGF9fSxQZy5NYXBPcD1mdW5jdGlvbigpe307dmFyIE1nPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV07dC5jYWxsKHRoaXMsZSxuKSx0aGlzLl9wdExvY2F0b3I9bmV3IFBmLHRoaXMuX2dlb21GYWN0PW51bGwsdGhpcy5fcmVzdWx0R2VvbT1udWxsLHRoaXMuX2dyYXBoPW51bGwsdGhpcy5fZWRnZUxpc3Q9bmV3IEpwLHRoaXMuX3Jlc3VsdFBvbHlMaXN0PW5ldyBsYyx0aGlzLl9yZXN1bHRMaW5lTGlzdD1uZXcgbGMsdGhpcy5fcmVzdWx0UG9pbnRMaXN0PW5ldyBsYyx0aGlzLl9ncmFwaD1uZXcgSGgobmV3IEhwKSx0aGlzLl9nZW9tRmFjdD1lLmdldEZhY3RvcnkoKX1yZXR1cm4gdCYmKGUuX19wcm90b19fPXQpLGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5wcm90b3R5cGUuaW5zZXJ0VW5pcXVlRWRnZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9lZGdlTGlzdC5maW5kRXF1YWxFZGdlKHQpO2lmKG51bGwhPT1lKXt2YXIgbj1lLmdldExhYmVsKCkscj10LmdldExhYmVsKCk7ZS5pc1BvaW50d2lzZUVxdWFsKHQpfHwocj1uZXcgRGgodC5nZXRMYWJlbCgpKSkuZmxpcCgpO3ZhciBpPWUuZ2V0RGVwdGgoKTtpLmlzTnVsbCgpJiZpLmFkZChuKSxpLmFkZChyKSxuLm1lcmdlKHIpfWVsc2UgdGhpcy5fZWRnZUxpc3QuYWRkKHQpfSxlLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ncmFwaH0sZS5wcm90b3R5cGUuY2FuY2VsRHVwbGljYXRlUmVzdWx0RWRnZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZ3JhcGguZ2V0RWRnZUVuZHMoKS5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dmFyIGU9dC5uZXh0KCksbj1lLmdldFN5bSgpO2UuaXNJblJlc3VsdCgpJiZuLmlzSW5SZXN1bHQoKSYmKGUuc2V0SW5SZXN1bHQoITEpLG4uc2V0SW5SZXN1bHQoITEpKX19LGUucHJvdG90eXBlLmlzQ292ZXJlZEJ5TEE9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmlzQ292ZXJlZCh0LHRoaXMuX3Jlc3VsdExpbmVMaXN0KXx8ISF0aGlzLmlzQ292ZXJlZCh0LHRoaXMuX3Jlc3VsdFBvbHlMaXN0KX0sZS5wcm90b3R5cGUuY29tcHV0ZUdlb21ldHJ5PWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvPW5ldyBsYztyZXR1cm4gby5hZGRBbGwodCksby5hZGRBbGwobiksby5hZGRBbGwociksby5pc0VtcHR5KCk/ZS5jcmVhdGVFbXB0eVJlc3VsdChpLHRoaXMuX2FyZ1swXS5nZXRHZW9tZXRyeSgpLHRoaXMuX2FyZ1sxXS5nZXRHZW9tZXRyeSgpLHRoaXMuX2dlb21GYWN0KTp0aGlzLl9nZW9tRmFjdC5idWlsZEdlb21ldHJ5KG8pfSxlLnByb3RvdHlwZS5tZXJnZVN5bUxhYmVscz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9ncmFwaC5nZXROb2RlcygpLml0ZXJhdG9yKCk7dC5oYXNOZXh0KCk7KXt0Lm5leHQoKS5nZXRFZGdlcygpLm1lcmdlU3ltTGFiZWxzKCl9fSxlLnByb3RvdHlwZS5pc0NvdmVyZWQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ZS5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7aWYodGhpcy5fcHRMb2NhdG9yLmxvY2F0ZSh0LHIpIT09cGwuRVhURVJJT1IpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLnJlcGxhY2VDb2xsYXBzZWRFZGdlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgbGMsZT10aGlzLl9lZGdlTGlzdC5pdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7bi5pc0NvbGxhcHNlZCgpJiYoZS5yZW1vdmUoKSx0LmFkZChuLmdldENvbGxhcHNlZEVkZ2UoKSkpfXRoaXMuX2VkZ2VMaXN0LmFkZEFsbCh0KX0sZS5wcm90b3R5cGUudXBkYXRlTm9kZUxhYmVsbGluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9ncmFwaC5nZXROb2RlcygpLml0ZXJhdG9yKCk7dC5oYXNOZXh0KCk7KXt2YXIgZT10Lm5leHQoKSxuPWUuZ2V0RWRnZXMoKS5nZXRMYWJlbCgpO2UuZ2V0TGFiZWwoKS5tZXJnZShuKX19LGUucHJvdG90eXBlLmdldFJlc3VsdEdlb21ldHJ5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXB1dGVPdmVybGF5KHQpLHRoaXMuX3Jlc3VsdEdlb219LGUucHJvdG90eXBlLmluc2VydFVuaXF1ZUVkZ2VzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKTt0aGlzLmluc2VydFVuaXF1ZUVkZ2Uobil9fSxlLnByb3RvdHlwZS5jb21wdXRlT3ZlcmxheT1mdW5jdGlvbih0KXt0aGlzLmNvcHlQb2ludHMoMCksdGhpcy5jb3B5UG9pbnRzKDEpLHRoaXMuX2FyZ1swXS5jb21wdXRlU2VsZk5vZGVzKHRoaXMuX2xpLCExKSx0aGlzLl9hcmdbMV0uY29tcHV0ZVNlbGZOb2Rlcyh0aGlzLl9saSwhMSksdGhpcy5fYXJnWzBdLmNvbXB1dGVFZGdlSW50ZXJzZWN0aW9ucyh0aGlzLl9hcmdbMV0sdGhpcy5fbGksITApO3ZhciBlPW5ldyBsYzt0aGlzLl9hcmdbMF0uY29tcHV0ZVNwbGl0RWRnZXMoZSksdGhpcy5fYXJnWzFdLmNvbXB1dGVTcGxpdEVkZ2VzKGUpLHRoaXMuaW5zZXJ0VW5pcXVlRWRnZXMoZSksdGhpcy5jb21wdXRlTGFiZWxzRnJvbURlcHRocygpLHRoaXMucmVwbGFjZUNvbGxhcHNlZEVkZ2VzKCksSGYuY2hlY2tWYWxpZCh0aGlzLl9lZGdlTGlzdC5nZXRFZGdlcygpKSx0aGlzLl9ncmFwaC5hZGRFZGdlcyh0aGlzLl9lZGdlTGlzdC5nZXRFZGdlcygpKSx0aGlzLmNvbXB1dGVMYWJlbGxpbmcoKSx0aGlzLmxhYmVsSW5jb21wbGV0ZU5vZGVzKCksdGhpcy5maW5kUmVzdWx0QXJlYUVkZ2VzKHQpLHRoaXMuY2FuY2VsRHVwbGljYXRlUmVzdWx0RWRnZXMoKTt2YXIgbj1uZXcgV2godGhpcy5fZ2VvbUZhY3QpO24uYWRkKHRoaXMuX2dyYXBoKSx0aGlzLl9yZXN1bHRQb2x5TGlzdD1uLmdldFBvbHlnb25zKCk7dmFyIHI9bmV3IEpmKHRoaXMsdGhpcy5fZ2VvbUZhY3QsdGhpcy5fcHRMb2NhdG9yKTt0aGlzLl9yZXN1bHRMaW5lTGlzdD1yLmJ1aWxkKHQpO3ZhciBpPW5ldyBaZih0aGlzLHRoaXMuX2dlb21GYWN0LHRoaXMuX3B0TG9jYXRvcik7dGhpcy5fcmVzdWx0UG9pbnRMaXN0PWkuYnVpbGQodCksdGhpcy5fcmVzdWx0R2VvbT10aGlzLmNvbXB1dGVHZW9tZXRyeSh0aGlzLl9yZXN1bHRQb2ludExpc3QsdGhpcy5fcmVzdWx0TGluZUxpc3QsdGhpcy5fcmVzdWx0UG9seUxpc3QsdCl9LGUucHJvdG90eXBlLmxhYmVsSW5jb21wbGV0ZU5vZGU9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9wdExvY2F0b3IubG9jYXRlKHQuZ2V0Q29vcmRpbmF0ZSgpLHRoaXMuX2FyZ1tlXS5nZXRHZW9tZXRyeSgpKTt0LmdldExhYmVsKCkuc2V0TG9jYXRpb24oZSxuKX0sZS5wcm90b3R5cGUuY29weVBvaW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fYXJnW3RdLmdldE5vZGVJdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIG49ZS5uZXh0KCk7dGhpcy5fZ3JhcGguYWRkTm9kZShuLmdldENvb3JkaW5hdGUoKSkuc2V0TGFiZWwodCxuLmdldExhYmVsKCkuZ2V0TG9jYXRpb24odCkpfX0sZS5wcm90b3R5cGUuZmluZFJlc3VsdEFyZWFFZGdlcz1mdW5jdGlvbih0KXtmb3IodmFyIG49dGhpcy5fZ3JhcGguZ2V0RWRnZUVuZHMoKS5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCksaT1yLmdldExhYmVsKCk7aS5pc0FyZWEoKSYmIXIuaXNJbnRlcmlvckFyZWFFZGdlKCkmJmUuaXNSZXN1bHRPZk9wKGkuZ2V0TG9jYXRpb24oMCxTaC5SSUdIVCksaS5nZXRMb2NhdGlvbigxLFNoLlJJR0hUKSx0KSYmci5zZXRJblJlc3VsdCghMCl9fSxlLnByb3RvdHlwZS5jb21wdXRlTGFiZWxzRnJvbURlcHRocz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9lZGdlTGlzdC5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dmFyIGU9dC5uZXh0KCksbj1lLmdldExhYmVsKCkscj1lLmdldERlcHRoKCk7aWYoIXIuaXNOdWxsKCkpe3Iubm9ybWFsaXplKCk7Zm9yKHZhciBpPTA7aTwyO2krKyluLmlzTnVsbChpKXx8IW4uaXNBcmVhKCl8fHIuaXNOdWxsKGkpfHwoMD09PXIuZ2V0RGVsdGEoaSk/bi50b0xpbmUoaSk6KHFsLmlzVHJ1ZSghci5pc051bGwoaSxTaC5MRUZUKSwiZGVwdGggb2YgTEVGVCBzaWRlIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCIpLG4uc2V0TG9jYXRpb24oaSxTaC5MRUZULHIuZ2V0TG9jYXRpb24oaSxTaC5MRUZUKSkscWwuaXNUcnVlKCFyLmlzTnVsbChpLFNoLlJJR0hUKSwiZGVwdGggb2YgUklHSFQgc2lkZSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQiKSxuLnNldExvY2F0aW9uKGksU2guUklHSFQsci5nZXRMb2NhdGlvbihpLFNoLlJJR0hUKSkpKX19fSxlLnByb3RvdHlwZS5jb21wdXRlTGFiZWxsaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2dyYXBoLmdldE5vZGVzKCkuaXRlcmF0b3IoKTt0Lmhhc05leHQoKTspe3QubmV4dCgpLmdldEVkZ2VzKCkuY29tcHV0ZUxhYmVsbGluZyh0aGlzLl9hcmcpfXRoaXMubWVyZ2VTeW1MYWJlbHMoKSx0aGlzLnVwZGF0ZU5vZGVMYWJlbGxpbmcoKX0sZS5wcm90b3R5cGUubGFiZWxJbmNvbXBsZXRlTm9kZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZ3JhcGguZ2V0Tm9kZXMoKS5pdGVyYXRvcigpO3QuaGFzTmV4dCgpOyl7dmFyIGU9dC5uZXh0KCksbj1lLmdldExhYmVsKCk7ZS5pc0lzb2xhdGVkKCkmJihuLmlzTnVsbCgwKT90aGlzLmxhYmVsSW5jb21wbGV0ZU5vZGUoZSwwKTp0aGlzLmxhYmVsSW5jb21wbGV0ZU5vZGUoZSwxKSksZS5nZXRFZGdlcygpLnVwZGF0ZUxhYmVsbGluZyhuKX19LGUucHJvdG90eXBlLmlzQ292ZXJlZEJ5QT1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuaXNDb3ZlcmVkKHQsdGhpcy5fcmVzdWx0UG9seUxpc3QpfSxlLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxlLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBlfSxlfShDZyk7TWcub3ZlcmxheU9wPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IE1nKHQsZSkuZ2V0UmVzdWx0R2VvbWV0cnkobil9LE1nLmludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUpe2lmKHQuaXNFbXB0eSgpfHxlLmlzRW1wdHkoKSlyZXR1cm4gTWcuY3JlYXRlRW1wdHlSZXN1bHQoTWcuSU5URVJTRUNUSU9OLHQsZSx0LmdldEZhY3RvcnkoKSk7aWYodC5pc0dlb21ldHJ5Q29sbGVjdGlvbigpKXt2YXIgbj1lO3JldHVybiBXZi5tYXAodCx7aW50ZXJmYWNlc186ZnVuY3Rpb24oKXtyZXR1cm5bUGcuTWFwT3BdfSxtYXA6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW50ZXJzZWN0aW9uKG4pfX0pfXJldHVybiB0LmNoZWNrTm90R2VvbWV0cnlDb2xsZWN0aW9uKHQpLHQuY2hlY2tOb3RHZW9tZXRyeUNvbGxlY3Rpb24oZSksdWcub3ZlcmxheU9wKHQsZSxNZy5JTlRFUlNFQ1RJT04pfSxNZy5zeW1EaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7aWYodC5pc0VtcHR5KCl8fGUuaXNFbXB0eSgpKXtpZih0LmlzRW1wdHkoKSYmZS5pc0VtcHR5KCkpcmV0dXJuIE1nLmNyZWF0ZUVtcHR5UmVzdWx0KE1nLlNZTURJRkZFUkVOQ0UsdCxlLHQuZ2V0RmFjdG9yeSgpKTtpZih0LmlzRW1wdHkoKSlyZXR1cm4gZS5jb3B5KCk7aWYoZS5pc0VtcHR5KCkpcmV0dXJuIHQuY29weSgpfXJldHVybiB0LmNoZWNrTm90R2VvbWV0cnlDb2xsZWN0aW9uKHQpLHQuY2hlY2tOb3RHZW9tZXRyeUNvbGxlY3Rpb24oZSksdWcub3ZlcmxheU9wKHQsZSxNZy5TWU1ESUZGRVJFTkNFKX0sTWcucmVzdWx0RGltZW5zaW9uPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLmdldERpbWVuc2lvbigpLGk9bi5nZXREaW1lbnNpb24oKSxvPS0xO3N3aXRjaCh0KXtjYXNlIE1nLklOVEVSU0VDVElPTjpvPU1hdGgubWluKHIsaSk7YnJlYWs7Y2FzZSBNZy5VTklPTjpvPU1hdGgubWF4KHIsaSk7YnJlYWs7Y2FzZSBNZy5ESUZGRVJFTkNFOm89cjticmVhaztjYXNlIE1nLlNZTURJRkZFUkVOQ0U6bz1NYXRoLm1heChyLGkpfXJldHVybiBvfSxNZy5jcmVhdGVFbXB0eVJlc3VsdD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1udWxsO3N3aXRjaChNZy5yZXN1bHREaW1lbnNpb24odCxlLG4pKXtjYXNlLTE6aT1yLmNyZWF0ZUdlb21ldHJ5Q29sbGVjdGlvbihuZXcgQXJyYXkoMCkuZmlsbChudWxsKSk7YnJlYWs7Y2FzZSAwOmk9ci5jcmVhdGVQb2ludCgpO2JyZWFrO2Nhc2UgMTppPXIuY3JlYXRlTGluZVN0cmluZygpO2JyZWFrO2Nhc2UgMjppPXIuY3JlYXRlUG9seWdvbigpfXJldHVybiBpfSxNZy5kaWZmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaXNFbXB0eSgpP01nLmNyZWF0ZUVtcHR5UmVzdWx0KE1nLkRJRkZFUkVOQ0UsdCxlLHQuZ2V0RmFjdG9yeSgpKTplLmlzRW1wdHkoKT90LmNvcHkoKToodC5jaGVja05vdEdlb21ldHJ5Q29sbGVjdGlvbih0KSx0LmNoZWNrTm90R2VvbWV0cnlDb2xsZWN0aW9uKGUpLHVnLm92ZXJsYXlPcCh0LGUsTWcuRElGRkVSRU5DRSkpfSxNZy5pc1Jlc3VsdE9mT3A9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49dC5nZXRMb2NhdGlvbigwKSxyPXQuZ2V0TG9jYXRpb24oMSk7cmV0dXJuIE1nLmlzUmVzdWx0T2ZPcChuLHIsZSl9aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBpPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxzPWFyZ3VtZW50c1syXTtzd2l0Y2goaT09PXBsLkJPVU5EQVJZJiYoaT1wbC5JTlRFUklPUiksbz09PXBsLkJPVU5EQVJZJiYobz1wbC5JTlRFUklPUikscyl7Y2FzZSBNZy5JTlRFUlNFQ1RJT046cmV0dXJuIGk9PT1wbC5JTlRFUklPUiYmbz09PXBsLklOVEVSSU9SO2Nhc2UgTWcuVU5JT046cmV0dXJuIGk9PT1wbC5JTlRFUklPUnx8bz09PXBsLklOVEVSSU9SO2Nhc2UgTWcuRElGRkVSRU5DRTpyZXR1cm4gaT09PXBsLklOVEVSSU9SJiZvIT09cGwuSU5URVJJT1I7Y2FzZSBNZy5TWU1ESUZGRVJFTkNFOnJldHVybiBpPT09cGwuSU5URVJJT1ImJm8hPT1wbC5JTlRFUklPUnx8aSE9PXBsLklOVEVSSU9SJiZvPT09cGwuSU5URVJJT1J9cmV0dXJuITF9fSxNZy5JTlRFUlNFQ1RJT049MSxNZy5VTklPTj0yLE1nLkRJRkZFUkVOQ0U9MyxNZy5TWU1ESUZGRVJFTkNFPTQ7dmFyIExnPWZ1bmN0aW9uKCl7dGhpcy5fZz1udWxsLHRoaXMuX2JvdW5kYXJ5RGlzdGFuY2VUb2xlcmFuY2U9bnVsbCx0aGlzLl9saW5ld29yaz1udWxsLHRoaXMuX3B0TG9jYXRvcj1uZXcgUGYsdGhpcy5fc2VnPW5ldyB2cDt2YXIgdD1hcmd1bWVudHNbMF0sZT1hcmd1bWVudHNbMV07dGhpcy5fZz10LHRoaXMuX2JvdW5kYXJ5RGlzdGFuY2VUb2xlcmFuY2U9ZSx0aGlzLl9saW5ld29yaz10aGlzLmV4dHJhY3RMaW5ld29yayh0KX07TGcucHJvdG90eXBlLmlzV2l0aGluVG9sZXJhbmNlT2ZCb3VuZGFyeT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPTA7bjx0aGlzLl9saW5ld29yay5nZXROdW1HZW9tZXRyaWVzKCk7bisrKWZvcih2YXIgcj1lLl9saW5ld29yay5nZXRHZW9tZXRyeU4obikuZ2V0Q29vcmRpbmF0ZVNlcXVlbmNlKCksaT0wO2k8ci5zaXplKCktMTtpKyspe2lmKHIuZ2V0Q29vcmRpbmF0ZShpLGUuX3NlZy5wMCksci5nZXRDb29yZGluYXRlKGkrMSxlLl9zZWcucDEpLGUuX3NlZy5kaXN0YW5jZSh0KTw9ZS5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZSlyZXR1cm4hMH1yZXR1cm4hMX0sTGcucHJvdG90eXBlLmdldExvY2F0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzV2l0aGluVG9sZXJhbmNlT2ZCb3VuZGFyeSh0KT9wbC5CT1VOREFSWTp0aGlzLl9wdExvY2F0b3IubG9jYXRlKHQsdGhpcy5fZyl9LExnLnByb3RvdHlwZS5leHRyYWN0TGluZXdvcms9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE9nO3QuYXBwbHkoZSk7dmFyIG49ZS5nZXRMaW5ld29yaygpLHI9X2gudG9MaW5lU3RyaW5nQXJyYXkobik7cmV0dXJuIHQuZ2V0RmFjdG9yeSgpLmNyZWF0ZU11bHRpTGluZVN0cmluZyhyKX0sTGcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LExnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBMZ307dmFyIE9nPWZ1bmN0aW9uKCl7dGhpcy5fbGluZXdvcms9bnVsbCx0aGlzLl9saW5ld29yaz1uZXcgbGN9O09nLnByb3RvdHlwZS5nZXRMaW5ld29yaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5ld29ya30sT2cucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgdGgpe3ZhciBlPXQ7dGhpcy5fbGluZXdvcmsuYWRkKGUuZ2V0RXh0ZXJpb3JSaW5nKCkpO2Zvcih2YXIgbj0wO248ZS5nZXROdW1JbnRlcmlvclJpbmcoKTtuKyspdGhpcy5fbGluZXdvcmsuYWRkKGUuZ2V0SW50ZXJpb3JSaW5nTihuKSl9fSxPZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bRGNdfSxPZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gT2d9O3ZhciBSZz1mdW5jdGlvbigpe3RoaXMuX2c9bnVsbCx0aGlzLl9kb0xlZnQ9ITAsdGhpcy5fZG9SaWdodD0hMDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5fZz10fTtSZy5wcm90b3R5cGUuZXh0cmFjdFBvaW50cz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPXQuZ2V0Q29vcmRpbmF0ZXMoKSxpPTA7aTxyLmxlbmd0aC0xO2krKyl0aGlzLmNvbXB1dGVPZmZzZXRQb2ludHMocltpXSxyW2krMV0sZSxuKX0sUmcucHJvdG90eXBlLnNldFNpZGVzVG9HZW5lcmF0ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2RvTGVmdD10LHRoaXMuX2RvUmlnaHQ9ZX0sUmcucHJvdG90eXBlLmdldFBvaW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGxjLG49Q2YuZ2V0TGluZXModGhpcy5fZykuaXRlcmF0b3IoKTtuLmhhc05leHQoKTspe3ZhciByPW4ubmV4dCgpO3RoaXMuZXh0cmFjdFBvaW50cyhyLHQsZSl9cmV0dXJuIGV9LFJnLnByb3RvdHlwZS5jb21wdXRlT2Zmc2V0UG9pbnRzPWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPWUueC10Lngsbz1lLnktdC55LHM9TWF0aC5zcXJ0KGkqaStvKm8pLGE9bippL3MsdT1uKm8vcyxsPShlLngrdC54KS8yLGM9KGUueSt0LnkpLzI7aWYodGhpcy5fZG9MZWZ0KXt2YXIgaD1uZXcgdWwobC11LGMrYSk7ci5hZGQoaCl9aWYodGhpcy5fZG9SaWdodCl7dmFyIHA9bmV3IHVsKGwrdSxjLWEpO3IuYWRkKHApfX0sUmcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LFJnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBSZ307dmFyIFRnPWZ1bmN0aW9uIHQoKXt0aGlzLl9nZW9tPW51bGwsdGhpcy5fbG9jRmluZGVyPW51bGwsdGhpcy5fbG9jYXRpb249bmV3IEFycmF5KDMpLmZpbGwobnVsbCksdGhpcy5faW52YWxpZExvY2F0aW9uPW51bGwsdGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZT10LlRPTEVSQU5DRSx0aGlzLl90ZXN0Q29vcmRzPW5ldyBsYzt2YXIgZT1hcmd1bWVudHNbMF0sbj1hcmd1bWVudHNbMV0scj1hcmd1bWVudHNbMl07dGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZT10LmNvbXB1dGVCb3VuZGFyeURpc3RhbmNlVG9sZXJhbmNlKGUsbiksdGhpcy5fZ2VvbT1bZSxuLHJdLHRoaXMuX2xvY0ZpbmRlcj1bbmV3IExnKHRoaXMuX2dlb21bMF0sdGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZSksbmV3IExnKHRoaXMuX2dlb21bMV0sdGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZSksbmV3IExnKHRoaXMuX2dlb21bMl0sdGhpcy5fYm91bmRhcnlEaXN0YW5jZVRvbGVyYW5jZSldfSxBZz17VE9MRVJBTkNFOntjb25maWd1cmFibGU6ITB9fTtUZy5wcm90b3R5cGUucmVwb3J0UmVzdWx0PWZ1bmN0aW9uKHQsZSxuKXtQbC5vdXQucHJpbnRsbigiT3ZlcmxheSByZXN1bHQgaW52YWxpZCAtIEE6IitwbC50b0xvY2F0aW9uU3ltYm9sKGVbMF0pKyIgQjoiK3BsLnRvTG9jYXRpb25TeW1ib2woZVsxXSkrIiBleHBlY3RlZDoiKyhuPyJpIjoiZSIpKyIgYWN0dWFsOiIrcGwudG9Mb2NhdGlvblN5bWJvbChlWzJdKSl9LFRnLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKHQpe3RoaXMuYWRkVGVzdFB0cyh0aGlzLl9nZW9tWzBdKSx0aGlzLmFkZFRlc3RQdHModGhpcy5fZ2VvbVsxXSk7dmFyIGU9dGhpcy5jaGVja1ZhbGlkKHQpO3JldHVybiBlfSxUZy5wcm90b3R5cGUuY2hlY2tWYWxpZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZT1hcmd1bWVudHNbMF0sbj0wO248dGhpcy5fdGVzdENvb3Jkcy5zaXplKCk7bisrKXt2YXIgcj10Ll90ZXN0Q29vcmRzLmdldChuKTtpZighdC5jaGVja1ZhbGlkKGUscikpcmV0dXJuIHQuX2ludmFsaWRMb2NhdGlvbj1yLCExfXJldHVybiEwfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuX2xvY2F0aW9uWzBdPXRoaXMuX2xvY0ZpbmRlclswXS5nZXRMb2NhdGlvbihvKSx0aGlzLl9sb2NhdGlvblsxXT10aGlzLl9sb2NGaW5kZXJbMV0uZ2V0TG9jYXRpb24obyksdGhpcy5fbG9jYXRpb25bMl09dGhpcy5fbG9jRmluZGVyWzJdLmdldExvY2F0aW9uKG8pLCEhVGcuaGFzTG9jYXRpb24odGhpcy5fbG9jYXRpb24scGwuQk9VTkRBUlkpfHx0aGlzLmlzVmFsaWRSZXN1bHQoaSx0aGlzLl9sb2NhdGlvbil9fSxUZy5wcm90b3R5cGUuYWRkVGVzdFB0cz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgUmcodCk7dGhpcy5fdGVzdENvb3Jkcy5hZGRBbGwoZS5nZXRQb2ludHMoNSp0aGlzLl9ib3VuZGFyeURpc3RhbmNlVG9sZXJhbmNlKSl9LFRnLnByb3RvdHlwZS5pc1ZhbGlkUmVzdWx0PWZ1bmN0aW9uKHQsZSl7dmFyIG49TWcuaXNSZXN1bHRPZk9wKGVbMF0sZVsxXSx0KSxyPSEobl5lWzJdPT09cGwuSU5URVJJT1IpO3JldHVybiByfHx0aGlzLnJlcG9ydFJlc3VsdCh0LGUsbikscn0sVGcucHJvdG90eXBlLmdldEludmFsaWRMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnZhbGlkTG9jYXRpb259LFRnLnByb3RvdHlwZS5pbnRlcmZhY2VzXz1mdW5jdGlvbigpe3JldHVybltdfSxUZy5wcm90b3R5cGUuZ2V0Q2xhc3M9ZnVuY3Rpb24oKXtyZXR1cm4gVGd9LFRnLmhhc0xvY2F0aW9uPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjwzO24rKylpZih0W25dPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sVGcuY29tcHV0ZUJvdW5kYXJ5RGlzdGFuY2VUb2xlcmFuY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5taW4oJGYuY29tcHV0ZVNpemVCYXNlZFNuYXBUb2xlcmFuY2UodCksJGYuY29tcHV0ZVNpemVCYXNlZFNuYXBUb2xlcmFuY2UoZSkpfSxUZy5pc1ZhbGlkPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBuZXcgVGcodCxlLHIpLmlzVmFsaWQobil9LEFnLlRPTEVSQU5DRS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMWUtNn0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVGcsQWcpO3ZhciBEZz1mdW5jdGlvbiB0KGUpe3RoaXMuX2dlb21GYWN0b3J5PW51bGwsdGhpcy5fc2tpcEVtcHR5PSExLHRoaXMuX2lucHV0R2VvbXM9bnVsbCx0aGlzLl9nZW9tRmFjdG9yeT10LmV4dHJhY3RGYWN0b3J5KGUpLHRoaXMuX2lucHV0R2VvbXM9ZX07RGcucHJvdG90eXBlLmV4dHJhY3RFbGVtZW50cz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PT10KXJldHVybiBudWxsO2Zvcih2YXIgbj0wO248dC5nZXROdW1HZW9tZXRyaWVzKCk7bisrKXt2YXIgcj10LmdldEdlb21ldHJ5TihuKTt0aGlzLl9za2lwRW1wdHkmJnIuaXNFbXB0eSgpfHxlLmFkZChyKX19LERnLnByb3RvdHlwZS5jb21iaW5lPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBsYyxlPXRoaXMuX2lucHV0R2VvbXMuaXRlcmF0b3IoKTtlLmhhc05leHQoKTspe3ZhciBuPWUubmV4dCgpO3RoaXMuZXh0cmFjdEVsZW1lbnRzKG4sdCl9cmV0dXJuIDA9PT10LnNpemUoKT9udWxsIT09dGhpcy5fZ2VvbUZhY3Rvcnk/dGhpcy5fZ2VvbUZhY3RvcnkuY3JlYXRlR2VvbWV0cnlDb2xsZWN0aW9uKG51bGwpOm51bGw6dGhpcy5fZ2VvbUZhY3RvcnkuYnVpbGRHZW9tZXRyeSh0KX0sRGcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LERnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBEZ30sRGcuY29tYmluZT1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF0sZT1uZXcgRGcodCk7cmV0dXJuIGUuY29tYmluZSgpfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgbj1hcmd1bWVudHNbMF0scj1hcmd1bWVudHNbMV0saT1uZXcgRGcoRGcuY3JlYXRlTGlzdChuLHIpKTtyZXR1cm4gaS5jb21iaW5lKCl9aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBvPWFyZ3VtZW50c1swXSxzPWFyZ3VtZW50c1sxXSxhPWFyZ3VtZW50c1syXSx1PW5ldyBEZyhEZy5jcmVhdGVMaXN0KG8scyxhKSk7cmV0dXJuIHUuY29tYmluZSgpfX0sRGcuZXh0cmFjdEZhY3Rvcnk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNFbXB0eSgpP251bGw6dC5pdGVyYXRvcigpLm5leHQoKS5nZXRGYWN0b3J5KCl9LERnLmNyZWF0ZUxpc3Q9ZnVuY3Rpb24oKXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9YXJndW1lbnRzWzBdLGU9YXJndW1lbnRzWzFdLG49bmV3IGxjO3JldHVybiBuLmFkZCh0KSxuLmFkZChlKSxufWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcj1hcmd1bWVudHNbMF0saT1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl0scz1uZXcgbGM7cmV0dXJuIHMuYWRkKHIpLHMuYWRkKGkpLHMuYWRkKG8pLHN9fTt2YXIgRmc9ZnVuY3Rpb24oKXt0aGlzLl9pbnB1dFBvbHlzPW51bGwsdGhpcy5fZ2VvbUZhY3Rvcnk9bnVsbDt2YXIgdD1hcmd1bWVudHNbMF07dGhpcy5faW5wdXRQb2x5cz10LG51bGw9PT10aGlzLl9pbnB1dFBvbHlzJiYodGhpcy5faW5wdXRQb2x5cz1uZXcgbGMpfSxrZz17U1RSVFJFRV9OT0RFX0NBUEFDSVRZOntjb25maWd1cmFibGU6ITB9fTtGZy5wcm90b3R5cGUucmVkdWNlVG9HZW9tZXRyaWVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbGMsbj10Lml0ZXJhdG9yKCk7bi5oYXNOZXh0KCk7KXt2YXIgcj1uLm5leHQoKSxpPW51bGw7Z2wocixhYyk/aT10aGlzLnVuaW9uVHJlZShyKTpyIGluc3RhbmNlb2YgV2wmJihpPXIpLGUuYWRkKGkpfXJldHVybiBlfSxGZy5wcm90b3R5cGUuZXh0cmFjdEJ5RW52ZWxvcGU9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1uZXcgbGMsaT0wO2k8ZS5nZXROdW1HZW9tZXRyaWVzKCk7aSsrKXt2YXIgbz1lLmdldEdlb21ldHJ5TihpKTtvLmdldEVudmVsb3BlSW50ZXJuYWwoKS5pbnRlcnNlY3RzKHQpP3IuYWRkKG8pOm4uYWRkKG8pfXJldHVybiB0aGlzLl9nZW9tRmFjdG9yeS5idWlsZEdlb21ldHJ5KHIpfSxGZy5wcm90b3R5cGUudW5pb25PcHRpbWl6ZWQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10LmdldEVudmVsb3BlSW50ZXJuYWwoKSxyPWUuZ2V0RW52ZWxvcGVJbnRlcm5hbCgpO2lmKCFuLmludGVyc2VjdHMocikpcmV0dXJuIERnLmNvbWJpbmUodCxlKTtpZih0LmdldE51bUdlb21ldHJpZXMoKTw9MSYmZS5nZXROdW1HZW9tZXRyaWVzKCk8PTEpcmV0dXJuIHRoaXMudW5pb25BY3R1YWwodCxlKTt2YXIgaT1uLmludGVyc2VjdGlvbihyKTtyZXR1cm4gdGhpcy51bmlvblVzaW5nRW52ZWxvcGVJbnRlcnNlY3Rpb24odCxlLGkpfSxGZy5wcm90b3R5cGUudW5pb249ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5faW5wdXRQb2x5cyl0aHJvdyBuZXcgRXJyb3IoInVuaW9uKCkgbWV0aG9kIGNhbm5vdCBiZSBjYWxsZWQgdHdpY2UiKTtpZih0aGlzLl9pbnB1dFBvbHlzLmlzRW1wdHkoKSlyZXR1cm4gbnVsbDt0aGlzLl9nZW9tRmFjdG9yeT10aGlzLl9pbnB1dFBvbHlzLml0ZXJhdG9yKCkubmV4dCgpLmdldEZhY3RvcnkoKTtmb3IodmFyIHQ9bmV3IHVwKEZnLlNUUlRSRUVfTk9ERV9DQVBBQ0lUWSksZT10aGlzLl9pbnB1dFBvbHlzLml0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgbj1lLm5leHQoKTt0Lmluc2VydChuLmdldEVudmVsb3BlSW50ZXJuYWwoKSxuKX10aGlzLl9pbnB1dFBvbHlzPW51bGw7dmFyIHI9dC5pdGVtc1RyZWUoKTtyZXR1cm4gdGhpcy51bmlvblRyZWUocil9LEZnLnByb3RvdHlwZS5iaW5hcnlVbmlvbj1mdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuYmluYXJ5VW5pb24odCwwLHQuc2l6ZSgpKX1pZigzPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIGU9YXJndW1lbnRzWzBdLG49YXJndW1lbnRzWzFdLHI9YXJndW1lbnRzWzJdO2lmKHItbjw9MSl7dmFyIGk9RmcuZ2V0R2VvbWV0cnkoZSxuKTtyZXR1cm4gdGhpcy51bmlvblNhZmUoaSxudWxsKX1pZihyLW49PTIpcmV0dXJuIHRoaXMudW5pb25TYWZlKEZnLmdldEdlb21ldHJ5KGUsbiksRmcuZ2V0R2VvbWV0cnkoZSxuKzEpKTt2YXIgbz1NYXRoLnRydW5jKChyK24pLzIpLHM9dGhpcy5iaW5hcnlVbmlvbihlLG4sbyksYT10aGlzLmJpbmFyeVVuaW9uKGUsbyxyKTtyZXR1cm4gdGhpcy51bmlvblNhZmUocyxhKX19LEZnLnByb3RvdHlwZS5yZXBlYXRlZFVuaW9uPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1udWxsLG49dC5pdGVyYXRvcigpO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5uZXh0KCk7ZT1udWxsPT09ZT9yLmNvcHkoKTplLnVuaW9uKHIpfXJldHVybiBlfSxGZy5wcm90b3R5cGUudW5pb25TYWZlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGw9PT10JiZudWxsPT09ZT9udWxsOm51bGw9PT10P2UuY29weSgpOm51bGw9PT1lP3QuY29weSgpOnRoaXMudW5pb25PcHRpbWl6ZWQodCxlKX0sRmcucHJvdG90eXBlLnVuaW9uQWN0dWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEZnLnJlc3RyaWN0VG9Qb2x5Z29ucyh0LnVuaW9uKGUpKX0sRmcucHJvdG90eXBlLnVuaW9uVHJlZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJlZHVjZVRvR2VvbWV0cmllcyh0KTtyZXR1cm4gdGhpcy5iaW5hcnlVbmlvbihlKX0sRmcucHJvdG90eXBlLnVuaW9uVXNpbmdFbnZlbG9wZUludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9bmV3IGxjLGk9dGhpcy5leHRyYWN0QnlFbnZlbG9wZShuLHQsciksbz10aGlzLmV4dHJhY3RCeUVudmVsb3BlKG4sZSxyKSxzPXRoaXMudW5pb25BY3R1YWwoaSxvKTtyZXR1cm4gci5hZGQocyksRGcuY29tYmluZShyKX0sRmcucHJvdG90eXBlLmJ1ZmZlclVuaW9uPWZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciB0PWFyZ3VtZW50c1swXSxlPXQuZ2V0KDApLmdldEZhY3RvcnkoKSxuPWUuYnVpbGRHZW9tZXRyeSh0KSxyPW4uYnVmZmVyKDApO3JldHVybiByfWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgaT1hcmd1bWVudHNbMF0sbz1hcmd1bWVudHNbMV0scz1pLmdldEZhY3RvcnkoKSxhPXMuY3JlYXRlR2VvbWV0cnlDb2xsZWN0aW9uKFtpLG9dKSx1PWEuYnVmZmVyKDApO3JldHVybiB1fX0sRmcucHJvdG90eXBlLmludGVyZmFjZXNfPWZ1bmN0aW9uKCl7cmV0dXJuW119LEZnLnByb3RvdHlwZS5nZXRDbGFzcz1mdW5jdGlvbigpe3JldHVybiBGZ30sRmcucmVzdHJpY3RUb1BvbHlnb25zPWZ1bmN0aW9uKHQpe2lmKGdsKHQsJGMpKXJldHVybiB0O3ZhciBlPVNmLmdldFBvbHlnb25zKHQpO3JldHVybiAxPT09ZS5zaXplKCk/ZS5nZXQoMCk6dC5nZXRGYWN0b3J5KCkuY3JlYXRlTXVsdGlQb2x5Z29uKF9oLnRvUG9seWdvbkFycmF5KGUpKX0sRmcuZ2V0R2VvbWV0cnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT49dC5zaXplKCk/bnVsbDp0LmdldChlKX0sRmcudW5pb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGZyh0KS51bmlvbigpfSxrZy5TVFJUUkVFX05PREVfQ0FQQUNJVFkuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEZnLGtnKTt2YXIgR2c9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHFnKCl7cmV0dXJuIG5ldyBCZ31mdW5jdGlvbiBCZygpe3RoaXMucmVzZXQoKX1HZy5wcm90b3R5cGUuaW50ZXJmYWNlc189ZnVuY3Rpb24oKXtyZXR1cm5bXX0sR2cucHJvdG90eXBlLmdldENsYXNzPWZ1bmN0aW9uKCl7cmV0dXJuIEdnfSxHZy51bmlvbj1mdW5jdGlvbih0LGUpe2lmKHQuaXNFbXB0eSgpfHxlLmlzRW1wdHkoKSl7aWYodC5pc0VtcHR5KCkmJmUuaXNFbXB0eSgpKXJldHVybiBNZy5jcmVhdGVFbXB0eVJlc3VsdChNZy5VTklPTix0LGUsdC5nZXRGYWN0b3J5KCkpO2lmKHQuaXNFbXB0eSgpKXJldHVybiBlLmNvcHkoKTtpZihlLmlzRW1wdHkoKSlyZXR1cm4gdC5jb3B5KCl9cmV0dXJuIHQuY2hlY2tOb3RHZW9tZXRyeUNvbGxlY3Rpb24odCksdC5jaGVja05vdEdlb21ldHJ5Q29sbGVjdGlvbihlKSx1Zy5vdmVybGF5T3AodCxlLE1nLlVOSU9OKX0sQmcucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpCZyxyZXNldDpmdW5jdGlvbigpe3RoaXMucz10aGlzLnQ9MH0sYWRkOmZ1bmN0aW9uKHQpe2pnKHpnLHQsdGhpcy50KSxqZyh0aGlzLHpnLnMsdGhpcy5zKSx0aGlzLnM/dGhpcy50Kz16Zy50OnRoaXMucz16Zy50fSx2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc319O3ZhciB6Zz1uZXcgQmc7ZnVuY3Rpb24gamcodCxlLG4pe3ZhciByPXQucz1lK24saT1yLWUsbz1yLWk7dC50PWUtbysobi1pKX12YXIgVWc9MWUtNixWZz1NYXRoLlBJLFhnPVZnLzIsWWc9VmcvNCxIZz0yKlZnLFdnPTE4MC9WZyxKZz1WZy8xODAsWmc9TWF0aC5hYnMsS2c9TWF0aC5hdGFuLFFnPU1hdGguYXRhbjIsJGc9TWF0aC5jb3MsdGQ9TWF0aC5zaW4sZWQ9TWF0aC5zcXJ0O2Z1bmN0aW9uIG5kKHQpe3JldHVybiB0PjE/MDp0PC0xP1ZnOk1hdGguYWNvcyh0KX1mdW5jdGlvbiByZCh0KXtyZXR1cm4gdD4xP1hnOnQ8LTE/LVhnOk1hdGguYXNpbih0KX1mdW5jdGlvbiBpZCgpe31mdW5jdGlvbiBvZCh0LGUpe3QmJmFkLmhhc093blByb3BlcnR5KHQudHlwZSkmJmFkW3QudHlwZV0odCxlKX12YXIgc2Q9e0ZlYXR1cmU6ZnVuY3Rpb24odCxlKXtvZCh0Lmdlb21ldHJ5LGUpfSxGZWF0dXJlQ29sbGVjdGlvbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmZlYXR1cmVzLHI9LTEsaT1uLmxlbmd0aDsrK3I8aTspb2QobltyXS5nZW9tZXRyeSxlKX19LGFkPXtTcGhlcmU6ZnVuY3Rpb24odCxlKXtlLnNwaGVyZSgpfSxQb2ludDpmdW5jdGlvbih0LGUpe3Q9dC5jb29yZGluYXRlcyxlLnBvaW50KHRbMF0sdFsxXSx0WzJdKX0sTXVsdGlQb2ludDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmNvb3JkaW5hdGVzLHI9LTEsaT1uLmxlbmd0aDsrK3I8aTspdD1uW3JdLGUucG9pbnQodFswXSx0WzFdLHRbMl0pfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKHQsZSl7dWQodC5jb29yZGluYXRlcyxlLDApfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dC5jb29yZGluYXRlcyxyPS0xLGk9bi5sZW5ndGg7KytyPGk7KXVkKG5bcl0sZSwwKX0sUG9seWdvbjpmdW5jdGlvbih0LGUpe2xkKHQuY29vcmRpbmF0ZXMsZSl9LE11bHRpUG9seWdvbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LmNvb3JkaW5hdGVzLHI9LTEsaT1uLmxlbmd0aDsrK3I8aTspbGQobltyXSxlKX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQuZ2VvbWV0cmllcyxyPS0xLGk9bi5sZW5ndGg7KytyPGk7KW9kKG5bcl0sZSl9fTtmdW5jdGlvbiB1ZCh0LGUsbil7dmFyIHIsaT0tMSxvPXQubGVuZ3RoLW47Zm9yKGUubGluZVN0YXJ0KCk7KytpPG87KXI9dFtpXSxlLnBvaW50KHJbMF0sclsxXSxyWzJdKTtlLmxpbmVFbmQoKX1mdW5jdGlvbiBsZCh0LGUpe3ZhciBuPS0xLHI9dC5sZW5ndGg7Zm9yKGUucG9seWdvblN0YXJ0KCk7KytuPHI7KXVkKHRbbl0sZSwxKTtlLnBvbHlnb25FbmQoKX1xZygpLHFnKCk7ZnVuY3Rpb24gY2QodCl7cmV0dXJuW1FnKHRbMV0sdFswXSkscmQodFsyXSldfWZ1bmN0aW9uIGhkKHQpe3ZhciBlPXRbMF0sbj10WzFdLHI9JGcobik7cmV0dXJuW3IqJGcoZSkscip0ZChlKSx0ZChuKV19ZnVuY3Rpb24gcGQodCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXSt0WzJdKmVbMl19ZnVuY3Rpb24gZmQodCxlKXtyZXR1cm5bdFsxXSplWzJdLXRbMl0qZVsxXSx0WzJdKmVbMF0tdFswXSplWzJdLHRbMF0qZVsxXS10WzFdKmVbMF1dfWZ1bmN0aW9uIGdkKHQsZSl7dFswXSs9ZVswXSx0WzFdKz1lWzFdLHRbMl0rPWVbMl19ZnVuY3Rpb24gZGQodCxlKXtyZXR1cm5bdFswXSplLHRbMV0qZSx0WzJdKmVdfWZ1bmN0aW9uIHlkKHQpe3ZhciBlPWVkKHRbMF0qdFswXSt0WzFdKnRbMV0rdFsyXSp0WzJdKTt0WzBdLz1lLHRbMV0vPWUsdFsyXS89ZX1xZygpO2Z1bmN0aW9uIHZkKHQsZSl7ZnVuY3Rpb24gbihuLHIpe3JldHVybiBuPXQobixyKSxlKG5bMF0sblsxXSl9cmV0dXJuIHQuaW52ZXJ0JiZlLmludmVydCYmKG4uaW52ZXJ0PWZ1bmN0aW9uKG4scil7cmV0dXJuKG49ZS5pbnZlcnQobixyKSkmJnQuaW52ZXJ0KG5bMF0sblsxXSl9KSxufWZ1bmN0aW9uIF9kKHQsZSl7cmV0dXJuW3Q+Vmc/dC1IZzp0PC1WZz90K0hnOnQsZV19ZnVuY3Rpb24gbWQodCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuWyhlKz10KT5WZz9lLUhnOmU8LVZnP2UrSGc6ZSxuXX19ZnVuY3Rpb24geGQodCl7dmFyIGU9bWQodCk7cmV0dXJuIGUuaW52ZXJ0PW1kKC10KSxlfWZ1bmN0aW9uIEVkKHQsZSl7dmFyIG49JGcodCkscj10ZCh0KSxpPSRnKGUpLG89dGQoZSk7ZnVuY3Rpb24gcyh0LGUpe3ZhciBzPSRnKGUpLGE9JGcodCkqcyx1PXRkKHQpKnMsbD10ZChlKSxjPWwqbithKnI7cmV0dXJuW1FnKHUqaS1jKm8sYSpuLWwqcikscmQoYyppK3UqbyldfXJldHVybiBzLmludmVydD1mdW5jdGlvbih0LGUpe3ZhciBzPSRnKGUpLGE9JGcodCkqcyx1PXRkKHQpKnMsbD10ZChlKSxjPWwqaS11Km87cmV0dXJuW1FnKHUqaStsKm8sYSpuK2MqcikscmQoYypuLWEqcildfSxzfWZ1bmN0aW9uIGJkKHQsZSl7KGU9aGQoZSkpWzBdLT10LHlkKGUpO3ZhciBuPW5kKC1lWzFdKTtyZXR1cm4oKC1lWzJdPDA/LW46bikrSGctVWcpJUhnfWZ1bmN0aW9uIHdkKCl7dmFyIHQsZT1bXTtyZXR1cm57cG9pbnQ6ZnVuY3Rpb24oZSxuKXt0LnB1c2goW2Usbl0pfSxsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtlLnB1c2godD1bXSl9LGxpbmVFbmQ6aWQscmVqb2luOmZ1bmN0aW9uKCl7ZS5sZW5ndGg+MSYmZS5wdXNoKGUucG9wKCkuY29uY2F0KGUuc2hpZnQoKSkpfSxyZXN1bHQ6ZnVuY3Rpb24oKXt2YXIgbj1lO3JldHVybiBlPVtdLHQ9bnVsbCxufX19ZnVuY3Rpb24gSWQodCxlKXtyZXR1cm4gWmcodFswXS1lWzBdKTxVZyYmWmcodFsxXS1lWzFdKTxVZ31mdW5jdGlvbiBOZCh0LGUsbixyKXt0aGlzLng9dCx0aGlzLno9ZSx0aGlzLm89bix0aGlzLmU9cix0aGlzLnY9ITEsdGhpcy5uPXRoaXMucD1udWxsfWZ1bmN0aW9uIFNkKHQsZSxuLHIsaSl7dmFyIG8scyxhPVtdLHU9W107aWYodC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighKChlPXQubGVuZ3RoLTEpPD0wKSl7dmFyIGUsbixyPXRbMF0scz10W2VdO2lmKElkKHIscykpe2ZvcihpLmxpbmVTdGFydCgpLG89MDtvPGU7KytvKWkucG9pbnQoKHI9dFtvXSlbMF0sclsxXSk7aS5saW5lRW5kKCl9ZWxzZSBhLnB1c2gobj1uZXcgTmQocix0LG51bGwsITApKSx1LnB1c2gobi5vPW5ldyBOZChyLG51bGwsbiwhMSkpLGEucHVzaChuPW5ldyBOZChzLHQsbnVsbCwhMSkpLHUucHVzaChuLm89bmV3IE5kKHMsbnVsbCxuLCEwKSl9fSkpLGEubGVuZ3RoKXtmb3IodS5zb3J0KGUpLENkKGEpLENkKHUpLG89MCxzPXUubGVuZ3RoO288czsrK28pdVtvXS5lPW49IW47Zm9yKHZhciBsLGMsaD1hWzBdOzspe2Zvcih2YXIgcD1oLGY9ITA7cC52OylpZigocD1wLm4pPT09aClyZXR1cm47bD1wLnosaS5saW5lU3RhcnQoKTtkb3tpZihwLnY9cC5vLnY9ITAscC5lKXtpZihmKWZvcihvPTAscz1sLmxlbmd0aDtvPHM7KytvKWkucG9pbnQoKGM9bFtvXSlbMF0sY1sxXSk7ZWxzZSByKHAueCxwLm4ueCwxLGkpO3A9cC5ufWVsc2V7aWYoZilmb3IobD1wLnAueixvPWwubGVuZ3RoLTE7bz49MDstLW8paS5wb2ludCgoYz1sW29dKVswXSxjWzFdKTtlbHNlIHIocC54LHAucC54LC0xLGkpO3A9cC5wfWw9KHA9cC5vKS56LGY9IWZ9d2hpbGUoIXAudik7aS5saW5lRW5kKCl9fX1mdW5jdGlvbiBDZCh0KXtpZihlPXQubGVuZ3RoKXtmb3IodmFyIGUsbixyPTAsaT10WzBdOysrcjxlOylpLm49bj10W3JdLG4ucD1pLGk9bjtpLm49bj10WzBdLG4ucD1pfX1mdW5jdGlvbiBQZCh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6dD49ZT8wOk5hTn1fZC5pbnZlcnQ9X2Q7dmFyIE1kLExkOzE9PT0oTWQ9UGQpLmxlbmd0aCYmKExkPU1kLE1kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFBkKExkKHQpLGUpfSk7ZnVuY3Rpb24gT2QodCl7Zm9yKHZhciBlLG4scixpPXQubGVuZ3RoLG89LTEscz0wOysrbzxpOylzKz10W29dLmxlbmd0aDtmb3Iobj1uZXcgQXJyYXkocyk7LS1pPj0wOylmb3IoZT0ocj10W2ldKS5sZW5ndGg7LS1lPj0wOyluWy0tc109cltlXTtyZXR1cm4gbn12YXIgUmQ9MWU5LFRkPS1SZDtmdW5jdGlvbiBBZCh0LGUsbixyKXtmdW5jdGlvbiBpKGksbyl7cmV0dXJuIHQ8PWkmJmk8PW4mJmU8PW8mJm88PXJ9ZnVuY3Rpb24gbyhpLG8sYSxsKXt2YXIgYz0wLGg9MDtpZihudWxsPT1pfHwoYz1zKGksYSkpIT09KGg9cyhvLGEpKXx8dShpLG8pPDBeYT4wKWRve2wucG9pbnQoMD09PWN8fDM9PT1jP3Q6bixjPjE/cjplKX13aGlsZSgoYz0oYythKzQpJTQpIT09aCk7ZWxzZSBsLnBvaW50KG9bMF0sb1sxXSl9ZnVuY3Rpb24gcyhyLGkpe3JldHVybiBaZyhyWzBdLXQpPFVnP2k+MD8wOjM6WmcoclswXS1uKTxVZz9pPjA/MjoxOlpnKHJbMV0tZSk8VWc/aT4wPzE6MDppPjA/MzoyfWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gdSh0LngsZS54KX1mdW5jdGlvbiB1KHQsZSl7dmFyIG49cyh0LDEpLHI9cyhlLDEpO3JldHVybiBuIT09cj9uLXI6MD09PW4/ZVsxXS10WzFdOjE9PT1uP3RbMF0tZVswXToyPT09bj90WzFdLWVbMV06ZVswXS10WzBdfXJldHVybiBmdW5jdGlvbihzKXt2YXIgdSxsLGMsaCxwLGYsZyxkLHksdixfLG09cyx4PXdkKCksRT17cG9pbnQ6YixsaW5lU3RhcnQ6ZnVuY3Rpb24oKXtFLnBvaW50PXcsbCYmbC5wdXNoKGM9W10pO3Y9ITAseT0hMSxnPWQ9TmFOfSxsaW5lRW5kOmZ1bmN0aW9uKCl7dSYmKHcoaCxwKSxmJiZ5JiZ4LnJlam9pbigpLHUucHVzaCh4LnJlc3VsdCgpKSk7RS5wb2ludD1iLHkmJm0ubGluZUVuZCgpfSxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXttPXgsdT1bXSxsPVtdLF89ITB9LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLG49MCxpPWwubGVuZ3RoO248aTsrK24pZm9yKHZhciBvLHMsYT1sW25dLHU9MSxjPWEubGVuZ3RoLGg9YVswXSxwPWhbMF0sZj1oWzFdO3U8YzsrK3Upbz1wLHM9ZixwPShoPWFbdV0pWzBdLGY9aFsxXSxzPD1yP2Y+ciYmKHAtbykqKHItcyk+KGYtcykqKHQtbykmJisrZTpmPD1yJiYocC1vKSooci1zKTwoZi1zKSoodC1vKSYmLS1lO3JldHVybiBlfSgpLG49XyYmZSxpPSh1PU9kKHUpKS5sZW5ndGg7KG58fGkpJiYocy5wb2x5Z29uU3RhcnQoKSxuJiYocy5saW5lU3RhcnQoKSxvKG51bGwsbnVsbCwxLHMpLHMubGluZUVuZCgpKSxpJiZTZCh1LGEsZSxvLHMpLHMucG9seWdvbkVuZCgpKTttPXMsdT1sPWM9bnVsbH19O2Z1bmN0aW9uIGIodCxlKXtpKHQsZSkmJm0ucG9pbnQodCxlKX1mdW5jdGlvbiB3KG8scyl7dmFyIGE9aShvLHMpO2lmKGwmJmMucHVzaChbbyxzXSksdiloPW8scD1zLGY9YSx2PSExLGEmJihtLmxpbmVTdGFydCgpLG0ucG9pbnQobyxzKSk7ZWxzZSBpZihhJiZ5KW0ucG9pbnQobyxzKTtlbHNle3ZhciB1PVtnPU1hdGgubWF4KFRkLE1hdGgubWluKFJkLGcpKSxkPU1hdGgubWF4KFRkLE1hdGgubWluKFJkLGQpKV0seD1bbz1NYXRoLm1heChUZCxNYXRoLm1pbihSZCxvKSkscz1NYXRoLm1heChUZCxNYXRoLm1pbihSZCxzKSldOyFmdW5jdGlvbih0LGUsbixyLGksbyl7dmFyIHMsYT10WzBdLHU9dFsxXSxsPTAsYz0xLGg9ZVswXS1hLHA9ZVsxXS11O2lmKHM9bi1hLGh8fCEocz4wKSl7aWYocy89aCxoPDApe2lmKHM8bClyZXR1cm47czxjJiYoYz1zKX1lbHNlIGlmKGg+MCl7aWYocz5jKXJldHVybjtzPmwmJihsPXMpfWlmKHM9aS1hLGh8fCEoczwwKSl7aWYocy89aCxoPDApe2lmKHM+YylyZXR1cm47cz5sJiYobD1zKX1lbHNlIGlmKGg+MCl7aWYoczxsKXJldHVybjtzPGMmJihjPXMpfWlmKHM9ci11LHB8fCEocz4wKSl7aWYocy89cCxwPDApe2lmKHM8bClyZXR1cm47czxjJiYoYz1zKX1lbHNlIGlmKHA+MCl7aWYocz5jKXJldHVybjtzPmwmJihsPXMpfWlmKHM9by11LHB8fCEoczwwKSl7aWYocy89cCxwPDApe2lmKHM+YylyZXR1cm47cz5sJiYobD1zKX1lbHNlIGlmKHA+MCl7aWYoczxsKXJldHVybjtzPGMmJihjPXMpfXJldHVybiBsPjAmJih0WzBdPWErbCpoLHRbMV09dStsKnApLGM8MSYmKGVbMF09YStjKmgsZVsxXT11K2MqcCksITB9fX19fSh1LHgsdCxlLG4scik/YSYmKG0ubGluZVN0YXJ0KCksbS5wb2ludChvLHMpLF89ITEpOih5fHwobS5saW5lU3RhcnQoKSxtLnBvaW50KHVbMF0sdVsxXSkpLG0ucG9pbnQoeFswXSx4WzFdKSxhfHxtLmxpbmVFbmQoKSxfPSExKX1nPW8sZD1zLHk9YX1yZXR1cm4gRX19dmFyIERkPXFnKCk7cWcoKTtmdW5jdGlvbiBGZCh0KXtyZXR1cm4gdH1xZygpLHFnKCk7dmFyIGtkPTEvMCxHZD1rZCxxZD0ta2QsQmQ9cWQsemQ9e3BvaW50OmZ1bmN0aW9uKHQsZSl7dDxrZCYmKGtkPXQpO3Q+cWQmJihxZD10KTtlPEdkJiYoR2Q9ZSk7ZT5CZCYmKEJkPWUpfSxsaW5lU3RhcnQ6aWQsbGluZUVuZDppZCxwb2x5Z29uU3RhcnQ6aWQscG9seWdvbkVuZDppZCxyZXN1bHQ6ZnVuY3Rpb24oKXt2YXIgdD1bW2tkLEdkXSxbcWQsQmRdXTtyZXR1cm4gcWQ9QmQ9LShHZD1rZD0xLzApLHR9fTtxZygpO2Z1bmN0aW9uIGpkKHQsZSxuLHIpe3JldHVybiBmdW5jdGlvbihpLG8pe3ZhciBzLGEsdSxsPWUobyksYz1pLmludmVydChyWzBdLHJbMV0pLGg9d2QoKSxwPWUoaCksZj0hMSxnPXtwb2ludDpkLGxpbmVTdGFydDp2LGxpbmVFbmQ6Xyxwb2x5Z29uU3RhcnQ6ZnVuY3Rpb24oKXtnLnBvaW50PW0sZy5saW5lU3RhcnQ9eCxnLmxpbmVFbmQ9RSxhPVtdLHM9W119LHBvbHlnb25FbmQ6ZnVuY3Rpb24oKXtnLnBvaW50PWQsZy5saW5lU3RhcnQ9dixnLmxpbmVFbmQ9XyxhPU9kKGEpO3ZhciB0PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZVswXSxyPWVbMV0saT1bdGQobiksLSRnKG4pLDBdLG89MCxzPTA7RGQucmVzZXQoKTtmb3IodmFyIGE9MCx1PXQubGVuZ3RoO2E8dTsrK2EpaWYoYz0obD10W2FdKS5sZW5ndGgpZm9yKHZhciBsLGMsaD1sW2MtMV0scD1oWzBdLGY9aFsxXS8yK1lnLGc9dGQoZiksZD0kZyhmKSx5PTA7eTxjOysreSxwPV8sZz14LGQ9RSxoPXYpe3ZhciB2PWxbeV0sXz12WzBdLG09dlsxXS8yK1lnLHg9dGQobSksRT0kZyhtKSxiPV8tcCx3PWI+PTA/MTotMSxJPXcqYixOPUk+VmcsUz1nKng7aWYoRGQuYWRkKFFnKFMqdyp0ZChJKSxkKkUrUyokZyhJKSkpLG8rPU4/Yit3KkhnOmIsTl5wPj1uXl8+PW4pe3ZhciBDPWZkKGhkKGgpLGhkKHYpKTt5ZChDKTt2YXIgUD1mZChpLEMpO3lkKFApO3ZhciBNPShOXmI+PTA/LTE6MSkqcmQoUFsyXSk7KHI+TXx8cj09PU0mJihDWzBdfHxDWzFdKSkmJihzKz1OXmI+PTA/MTotMSl9fXJldHVybihvPC0xZS02fHxvPFVnJiZEZDwtMWUtNileMSZzfShzLGMpO2EubGVuZ3RoPyhmfHwoby5wb2x5Z29uU3RhcnQoKSxmPSEwKSxTZChhLFZkLHQsbixvKSk6dCYmKGZ8fChvLnBvbHlnb25TdGFydCgpLGY9ITApLG8ubGluZVN0YXJ0KCksbihudWxsLG51bGwsMSxvKSxvLmxpbmVFbmQoKSksZiYmKG8ucG9seWdvbkVuZCgpLGY9ITEpLGE9cz1udWxsfSxzcGhlcmU6ZnVuY3Rpb24oKXtvLnBvbHlnb25TdGFydCgpLG8ubGluZVN0YXJ0KCksbihudWxsLG51bGwsMSxvKSxvLmxpbmVFbmQoKSxvLnBvbHlnb25FbmQoKX19O2Z1bmN0aW9uIGQoZSxuKXt2YXIgcj1pKGUsbik7dChlPXJbMF0sbj1yWzFdKSYmby5wb2ludChlLG4pfWZ1bmN0aW9uIHkodCxlKXt2YXIgbj1pKHQsZSk7bC5wb2ludChuWzBdLG5bMV0pfWZ1bmN0aW9uIHYoKXtnLnBvaW50PXksbC5saW5lU3RhcnQoKX1mdW5jdGlvbiBfKCl7Zy5wb2ludD1kLGwubGluZUVuZCgpfWZ1bmN0aW9uIG0odCxlKXt1LnB1c2goW3QsZV0pO3ZhciBuPWkodCxlKTtwLnBvaW50KG5bMF0sblsxXSl9ZnVuY3Rpb24geCgpe3AubGluZVN0YXJ0KCksdT1bXX1mdW5jdGlvbiBFKCl7bSh1WzBdWzBdLHVbMF1bMV0pLHAubGluZUVuZCgpO3ZhciB0LGUsbixyLGk9cC5jbGVhbigpLGw9aC5yZXN1bHQoKSxjPWwubGVuZ3RoO2lmKHUucG9wKCkscy5wdXNoKHUpLHU9bnVsbCxjKWlmKDEmaSl7aWYoKGU9KG49bFswXSkubGVuZ3RoLTEpPjApe2ZvcihmfHwoby5wb2x5Z29uU3RhcnQoKSxmPSEwKSxvLmxpbmVTdGFydCgpLHQ9MDt0PGU7Kyt0KW8ucG9pbnQoKHI9blt0XSlbMF0sclsxXSk7by5saW5lRW5kKCl9fWVsc2UgYz4xJiYyJmkmJmwucHVzaChsLnBvcCgpLmNvbmNhdChsLnNoaWZ0KCkpKSxhLnB1c2gobC5maWx0ZXIoVWQpKX1yZXR1cm4gZ319ZnVuY3Rpb24gVWQodCl7cmV0dXJuIHQubGVuZ3RoPjF9ZnVuY3Rpb24gVmQodCxlKXtyZXR1cm4oKHQ9dC54KVswXTwwP3RbMV0tWGctVWc6WGctdFsxXSktKChlPWUueClbMF08MD9lWzFdLVhnLVVnOlhnLWVbMV0pfXZhciBYZD1qZCgoZnVuY3Rpb24oKXtyZXR1cm4hMH0pLChmdW5jdGlvbih0KXt2YXIgZSxuPU5hTixyPU5hTixpPU5hTjtyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7dC5saW5lU3RhcnQoKSxlPTF9LHBvaW50OmZ1bmN0aW9uKG8scyl7dmFyIGE9bz4wP1ZnOi1WZyx1PVpnKG8tbik7WmcodS1WZyk8VWc/KHQucG9pbnQobixyPShyK3MpLzI+MD9YZzotWGcpLHQucG9pbnQoaSxyKSx0LmxpbmVFbmQoKSx0LmxpbmVTdGFydCgpLHQucG9pbnQoYSxyKSx0LnBvaW50KG8sciksZT0wKTppIT09YSYmdT49VmcmJihaZyhuLWkpPFVnJiYobi09aSpVZyksWmcoby1hKTxVZyYmKG8tPWEqVWcpLHI9ZnVuY3Rpb24odCxlLG4scil7dmFyIGksbyxzPXRkKHQtbik7cmV0dXJuIFpnKHMpPlVnP0tnKCh0ZChlKSoobz0kZyhyKSkqdGQobiktdGQocikqKGk9JGcoZSkpKnRkKHQpKS8oaSpvKnMpKTooZStyKS8yfShuLHIsbyxzKSx0LnBvaW50KGksciksdC5saW5lRW5kKCksdC5saW5lU3RhcnQoKSx0LnBvaW50KGEsciksZT0wKSx0LnBvaW50KG49byxyPXMpLGk9YX0sbGluZUVuZDpmdW5jdGlvbigpe3QubGluZUVuZCgpLG49cj1OYU59LGNsZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIDItZX19fSksKGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpO2lmKG51bGw9PXQpaT1uKlhnLHIucG9pbnQoLVZnLGkpLHIucG9pbnQoMCxpKSxyLnBvaW50KFZnLGkpLHIucG9pbnQoVmcsMCksci5wb2ludChWZywtaSksci5wb2ludCgwLC1pKSxyLnBvaW50KC1WZywtaSksci5wb2ludCgtVmcsMCksci5wb2ludCgtVmcsaSk7ZWxzZSBpZihaZyh0WzBdLWVbMF0pPlVnKXt2YXIgbz10WzBdPGVbMF0/Vmc6LVZnO2k9bipvLzIsci5wb2ludCgtbyxpKSxyLnBvaW50KDAsaSksci5wb2ludChvLGkpfWVsc2Ugci5wb2ludChlWzBdLGVbMV0pfSksWy1WZywtWGddKTtmdW5jdGlvbiBZZCh0LGUpe3ZhciBuPSRnKHQpLHI9bj4wLGk9Wmcobik+VWc7ZnVuY3Rpb24gbyh0LGUpe3JldHVybiAkZyh0KSokZyhlKT5ufWZ1bmN0aW9uIHModCxlLHIpe3ZhciBpPVsxLDAsMF0sbz1mZChoZCh0KSxoZChlKSkscz1wZChvLG8pLGE9b1swXSx1PXMtYSphO2lmKCF1KXJldHVybiFyJiZ0O3ZhciBsPW4qcy91LGM9LW4qYS91LGg9ZmQoaSxvKSxwPWRkKGksbCk7Z2QocCxkZChvLGMpKTt2YXIgZj1oLGc9cGQocCxmKSxkPXBkKGYsZikseT1nKmctZCoocGQocCxwKS0xKTtpZighKHk8MCkpe3ZhciB2PWVkKHkpLF89ZGQoZiwoLWctdikvZCk7aWYoZ2QoXyxwKSxfPWNkKF8pLCFyKXJldHVybiBfO3ZhciBtLHg9dFswXSxFPWVbMF0sYj10WzFdLHc9ZVsxXTtFPHgmJihtPXgseD1FLEU9bSk7dmFyIEk9RS14LE49WmcoSS1WZyk8VWc7aWYoIU4mJnc8YiYmKG09YixiPXcsdz1tKSxOfHxJPFVnP04/Yit3PjBeX1sxXTwoWmcoX1swXS14KTxVZz9iOncpOmI8PV9bMV0mJl9bMV08PXc6ST5WZ14oeDw9X1swXSYmX1swXTw9RSkpe3ZhciBTPWRkKGYsKC1nK3YpL2QpO3JldHVybiBnZChTLHApLFtfLGNkKFMpXX19fWZ1bmN0aW9uIGEoZSxuKXt2YXIgaT1yP3Q6VmctdCxvPTA7cmV0dXJuIGU8LWk/b3w9MTplPmkmJihvfD0yKSxuPC1pP298PTQ6bj5pJiYob3w9OCksb31yZXR1cm4gamQobywoZnVuY3Rpb24odCl7dmFyIGUsbix1LGwsYztyZXR1cm57bGluZVN0YXJ0OmZ1bmN0aW9uKCl7bD11PSExLGM9MX0scG9pbnQ6ZnVuY3Rpb24oaCxwKXt2YXIgZixnPVtoLHBdLGQ9byhoLHApLHk9cj9kPzA6YShoLHApOmQ/YShoKyhoPDA/Vmc6LVZnKSxwKTowO2lmKCFlJiYobD11PWQpJiZ0LmxpbmVTdGFydCgpLGQhPT11JiYoIShmPXMoZSxnKSl8fElkKGUsZil8fElkKGcsZikpJiYoZ1swXSs9VWcsZ1sxXSs9VWcsZD1vKGdbMF0sZ1sxXSkpLGQhPT11KWM9MCxkPyh0LmxpbmVTdGFydCgpLGY9cyhnLGUpLHQucG9pbnQoZlswXSxmWzFdKSk6KGY9cyhlLGcpLHQucG9pbnQoZlswXSxmWzFdKSx0LmxpbmVFbmQoKSksZT1mO2Vsc2UgaWYoaSYmZSYmcl5kKXt2YXIgdjt5Jm58fCEodj1zKGcsZSwhMCkpfHwoYz0wLHI/KHQubGluZVN0YXJ0KCksdC5wb2ludCh2WzBdWzBdLHZbMF1bMV0pLHQucG9pbnQodlsxXVswXSx2WzFdWzFdKSx0LmxpbmVFbmQoKSk6KHQucG9pbnQodlsxXVswXSx2WzFdWzFdKSx0LmxpbmVFbmQoKSx0LmxpbmVTdGFydCgpLHQucG9pbnQodlswXVswXSx2WzBdWzFdKSkpfSFkfHxlJiZJZChlLGcpfHx0LnBvaW50KGdbMF0sZ1sxXSksZT1nLHU9ZCxuPXl9LGxpbmVFbmQ6ZnVuY3Rpb24oKXt1JiZ0LmxpbmVFbmQoKSxlPW51bGx9LGNsZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIGN8KGwmJnUpPDwxfX19KSwoZnVuY3Rpb24obixyLGksbyl7IWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtpZihuKXt2YXIgcz0kZyhlKSxhPXRkKGUpLHU9cipuO251bGw9PWk/KGk9ZStyKkhnLG89ZS11LzIpOihpPWJkKHMsaSksbz1iZChzLG8pLChyPjA/aTxvOmk+bykmJihpKz1yKkhnKSk7Zm9yKHZhciBsLGM9aTtyPjA/Yz5vOmM8bztjLT11KWw9Y2QoW3MsLWEqJGcoYyksLWEqdGQoYyldKSx0LnBvaW50KGxbMF0sbFsxXSl9fShvLHQsZSxpLG4scil9KSxyP1swLC10XTpbLVZnLHQtVmddKX1mdW5jdGlvbiBIZCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49bmV3IFdkO2Zvcih2YXIgciBpbiB0KW5bcl09dFtyXTtyZXR1cm4gbi5zdHJlYW09ZSxufX1mdW5jdGlvbiBXZCgpe31mdW5jdGlvbiBKZCh0LGUsbil7dmFyIHI9ZVsxXVswXS1lWzBdWzBdLGk9ZVsxXVsxXS1lWzBdWzFdLG89dC5jbGlwRXh0ZW50JiZ0LmNsaXBFeHRlbnQoKTt0LnNjYWxlKDE1MCkudHJhbnNsYXRlKFswLDBdKSxudWxsIT1vJiZ0LmNsaXBFeHRlbnQobnVsbCksZnVuY3Rpb24odCxlKXt0JiZzZC5oYXNPd25Qcm9wZXJ0eSh0LnR5cGUpP3NkW3QudHlwZV0odCxlKTpvZCh0LGUpfShuLHQuc3RyZWFtKHpkKSk7dmFyIHM9emQucmVzdWx0KCksYT1NYXRoLm1pbihyLyhzWzFdWzBdLXNbMF1bMF0pLGkvKHNbMV1bMV0tc1swXVsxXSkpLHU9K2VbMF1bMF0rKHItYSooc1sxXVswXStzWzBdWzBdKSkvMixsPStlWzBdWzFdKyhpLWEqKHNbMV1bMV0rc1swXVsxXSkpLzI7cmV0dXJuIG51bGwhPW8mJnQuY2xpcEV4dGVudChvKSx0LnNjYWxlKDE1MCphKS50cmFuc2xhdGUoW3UsbF0pfVdkLnByb3RvdHlwZT17Y29uc3RydWN0b3I6V2QscG9pbnQ6ZnVuY3Rpb24odCxlKXt0aGlzLnN0cmVhbS5wb2ludCh0LGUpfSxzcGhlcmU6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5zcGhlcmUoKX0sbGluZVN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ubGluZVN0YXJ0KCl9LGxpbmVFbmQ6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbS5saW5lRW5kKCl9LHBvbHlnb25TdGFydDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtLnBvbHlnb25TdGFydCgpfSxwb2x5Z29uRW5kOmZ1bmN0aW9uKCl7dGhpcy5zdHJlYW0ucG9seWdvbkVuZCgpfX07dmFyIFpkPSRnKDMwKkpnKTtmdW5jdGlvbiBLZCh0LGUpe3JldHVybitlP2Z1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihyLGksbyxzLGEsdSxsLGMsaCxwLGYsZyxkLHkpe3ZhciB2PWwtcixfPWMtaSxtPXYqditfKl87aWYobT40KmUmJmQtLSl7dmFyIHg9cytwLEU9YStmLGI9dStnLHc9ZWQoeCp4K0UqRStiKmIpLEk9cmQoYi89dyksTj1aZyhaZyhiKS0xKTxVZ3x8Wmcoby1oKTxVZz8obytoKS8yOlFnKEUseCksUz10KE4sSSksQz1TWzBdLFA9U1sxXSxNPUMtcixMPVAtaSxPPV8qTS12Kkw7KE8qTy9tPmV8fFpnKCh2Kk0rXypMKS9tLS41KT4uM3x8cypwK2EqZit1Kmc8WmQpJiYobihyLGksbyxzLGEsdSxDLFAsTix4Lz13LEUvPXcsYixkLHkpLHkucG9pbnQoQyxQKSxuKEMsUCxOLHgsRSxiLGwsYyxoLHAsZixnLGQseSkpfX1yZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHIsaSxvLHMsYSx1LGwsYyxoLHAsZixnLGQ9e3BvaW50OnksbGluZVN0YXJ0OnYsbGluZUVuZDptLHBvbHlnb25TdGFydDpmdW5jdGlvbigpe2UucG9seWdvblN0YXJ0KCksZC5saW5lU3RhcnQ9eH0scG9seWdvbkVuZDpmdW5jdGlvbigpe2UucG9seWdvbkVuZCgpLGQubGluZVN0YXJ0PXZ9fTtmdW5jdGlvbiB5KG4scil7bj10KG4sciksZS5wb2ludChuWzBdLG5bMV0pfWZ1bmN0aW9uIHYoKXtjPU5hTixkLnBvaW50PV8sZS5saW5lU3RhcnQoKX1mdW5jdGlvbiBfKHIsaSl7dmFyIG89aGQoW3IsaV0pLHM9dChyLGkpO24oYyxoLGwscCxmLGcsYz1zWzBdLGg9c1sxXSxsPXIscD1vWzBdLGY9b1sxXSxnPW9bMl0sMTYsZSksZS5wb2ludChjLGgpfWZ1bmN0aW9uIG0oKXtkLnBvaW50PXksZS5saW5lRW5kKCl9ZnVuY3Rpb24geCgpe3YoKSxkLnBvaW50PUUsZC5saW5lRW5kPWJ9ZnVuY3Rpb24gRSh0LGUpe18ocj10LGUpLGk9YyxvPWgscz1wLGE9Zix1PWcsZC5wb2ludD1ffWZ1bmN0aW9uIGIoKXtuKGMsaCxsLHAsZixnLGksbyxyLHMsYSx1LDE2LGUpLGQubGluZUVuZD1tLG0oKX1yZXR1cm4gZH19KHQsZSk6ZnVuY3Rpb24odCl7cmV0dXJuIEhkKHtwb2ludDpmdW5jdGlvbihlLG4pe2U9dChlLG4pLHRoaXMuc3RyZWFtLnBvaW50KGVbMF0sZVsxXSl9fSl9KHQpfXZhciBRZD1IZCh7cG9pbnQ6ZnVuY3Rpb24odCxlKXt0aGlzLnN0cmVhbS5wb2ludCh0KkpnLGUqSmcpfX0pO2Z1bmN0aW9uICRkKHQpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLHMsYSx1LGwsYyxoPTE1MCxwPTQ4MCxmPTI1MCxnPTAsZD0wLHk9MCx2PTAsXz0wLG09bnVsbCx4PVhkLEU9bnVsbCxiPUZkLHc9LjUsST1LZChDLHcpO2Z1bmN0aW9uIE4odCl7cmV0dXJuWyh0PW8odFswXSpKZyx0WzFdKkpnKSlbMF0qaCtuLHItdFsxXSpoXX1mdW5jdGlvbiBTKHQpe3JldHVybih0PW8uaW52ZXJ0KCh0WzBdLW4pL2gsKHItdFsxXSkvaCkpJiZbdFswXSpXZyx0WzFdKldnXX1mdW5jdGlvbiBDKHQsaSl7cmV0dXJuWyh0PWUodCxpKSlbMF0qaCtuLHItdFsxXSpoXX1mdW5jdGlvbiBQKCl7bz12ZChpPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4odCU9SGcpP2V8fG4/dmQoeGQodCksRWQoZSxuKSk6eGQodCk6ZXx8bj9FZChlLG4pOl9kfSh5LHYsXyksZSk7dmFyIHQ9ZShnLGQpO3JldHVybiBuPXAtdFswXSpoLHI9Zit0WzFdKmgsTSgpfWZ1bmN0aW9uIE0oKXtyZXR1cm4gbD1jPW51bGwsTn1yZXR1cm4gTi5zdHJlYW09ZnVuY3Rpb24odCl7cmV0dXJuIGwmJmM9PT10P2w6bD1RZCh4KGksSShiKGM9dCkpKSl9LE4uY2xpcEFuZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh4PSt0P1lkKG09dCpKZyw2KkpnKToobT1udWxsLFhkKSxNKCkpOm0qV2d9LE4uY2xpcEV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oYj1udWxsPT10PyhFPXM9YT11PW51bGwsRmQpOkFkKEU9K3RbMF1bMF0scz0rdFswXVsxXSxhPSt0WzFdWzBdLHU9K3RbMV1bMV0pLE0oKSk6bnVsbD09RT9udWxsOltbRSxzXSxbYSx1XV19LE4uc2NhbGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGg9K3QsUCgpKTpofSxOLnRyYW5zbGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD0rdFswXSxmPSt0WzFdLFAoKSk6W3AsZl19LE4uY2VudGVyPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhnPXRbMF0lMzYwKkpnLGQ9dFsxXSUzNjAqSmcsUCgpKTpbZypXZyxkKldnXX0sTi5yb3RhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHk9dFswXSUzNjAqSmcsdj10WzFdJTM2MCpKZyxfPXQubGVuZ3RoPjI/dFsyXSUzNjAqSmc6MCxQKCkpOlt5KldnLHYqV2csXypXZ119LE4ucHJlY2lzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhJPUtkKEMsdz10KnQpLE0oKSk6ZWQodyl9LE4uZml0RXh0ZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEpkKE4sdCxlKX0sTi5maXRTaXplPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gSmQodCxbWzAsMF0sZV0sbil9KE4sdCxlKX0sZnVuY3Rpb24oKXtyZXR1cm4gZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxOLmludmVydD1lLmludmVydCYmUyxQKCl9fSgoZnVuY3Rpb24oKXtyZXR1cm4gdH0pKSgpfXZhciB0eT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj0kZyhlKSxpPSRnKG4pLG89dChyKmkpO3JldHVybltvKmkqdGQoZSksbyp0ZChuKV19fSgoZnVuY3Rpb24odCl7cmV0dXJuKHQ9bmQodCkpJiZ0L3RkKHQpfSkpO2Z1bmN0aW9uIGV5KCl7cmV0dXJuICRkKHR5KS5zY2FsZSg3OS40MTg4KS5jbGlwQW5nbGUoMTc5Ljk5OSl9ZnVuY3Rpb24gbnkodCxuLHIsaSl7dmFyIHM9dC5wcm9wZXJ0aWVzfHx7fSxhPSJGZWF0dXJlIj09PXQudHlwZT90Lmdlb21ldHJ5OnQ7aWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT1hLnR5cGUpe3ZhciB1PVtdO3JldHVybiBxKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPW55KHQsbixyLGkpO2UmJnUucHVzaChlKX0pKSxmKHUpfXZhciBsPWZ1bmN0aW9uKHQpe3ZhciBuPXhuKHQpLmdlb21ldHJ5LmNvb3JkaW5hdGVzLHI9Wy1uWzBdLC1uWzFdXTtyZXR1cm4gZXkoKS5yb3RhdGUocikuc2NhbGUoZSl9KGEpLGM9e3R5cGU6YS50eXBlLGNvb3JkaW5hdGVzOml5KGEuY29vcmRpbmF0ZXMsbCl9LGg9KG5ldyBJaCkucmVhZChjKSxwPW0oeChuLHIpLCJtZXRlcnMiKSxnPV9mLmJ1ZmZlck9wKGgscCxpKTtpZighcnkoKGc9KG5ldyBOaCkud3JpdGUoZykpLmNvb3JkaW5hdGVzKSlyZXR1cm4gbyh7dHlwZTpnLnR5cGUsY29vcmRpbmF0ZXM6b3koZy5jb29yZGluYXRlcyxsKX0scyl9ZnVuY3Rpb24gcnkodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodFswXSk/cnkodFswXSk6aXNOYU4odFswXSl9ZnVuY3Rpb24gaXkodCxlKXtyZXR1cm4ib2JqZWN0IiE9dHlwZW9mIHRbMF0/ZSh0KTp0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGl5KHQsZSl9KSl9ZnVuY3Rpb24gb3kodCxlKXtyZXR1cm4ib2JqZWN0IiE9dHlwZW9mIHRbMF0/ZS5pbnZlcnQodCk6dC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBveSh0LGUpfSkpfWZ1bmN0aW9uIHN5KHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSk7dmFyIHI9cnQodCksaT1ydChlKSxvPSR1LmludGVyc2VjdGlvbihyLmNvb3JkaW5hdGVzLGkuY29vcmRpbmF0ZXMpO3JldHVybiAwPT09by5sZW5ndGg/bnVsbDoxPT09by5sZW5ndGg/bChvWzBdLG4ucHJvcGVydGllcyk6eShvLG4ucHJvcGVydGllcyl9ZnVuY3Rpb24gYXkodCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj1KU09OLnN0cmluZ2lmeShuLnByb3BlcnRpZXN8fHt9KSxpPXRbMF0sbz10WzFdLHM9dFsyXSxhPXRbM10sdT0obythKS8yLGw9KGkrcykvMixjPTIqZS9tZShbaSx1XSxbcyx1XSxuKSoocy1pKSxoPTIqZS9tZShbbCxvXSxbbCxhXSxuKSooYS1vKSxwPWMvMixnPTIqcCxkPU1hdGguc3FydCgzKS8yKmgseT1zLWksdj1hLW8sXz0zLzQqZyxtPWQseD0oeS1nKS8oZy1wLzIpLEU9TWF0aC5mbG9vcih4KSxiPShFKl8tcC8yLXkpLzItcC8yK18vMix3PU1hdGguZmxvb3IoKHYtZCkvZCksST0odi13KmQpLzIsTj13KmQtdj5kLzI7TiYmKEktPWQvNCk7Zm9yKHZhciBTPVtdLEM9W10sUD0wO1A8NjtQKyspe3ZhciBNPTIqTWF0aC5QSS82KlA7Uy5wdXNoKE1hdGguY29zKE0pKSxDLnB1c2goTWF0aC5zaW4oTSkpfWZvcih2YXIgTD1bXSxPPTA7Tzw9RTtPKyspZm9yKHZhciBSPTA7Ujw9dztSKyspe3ZhciBUPU8lMj09MTtpZigoMCE9PVJ8fCFUKSYmKDAhPT1SfHwhTikpe3ZhciBBPU8qXytpLWIsRD1SKm0rbytJO2lmKFQmJihELT1kLzIpLCEwPT09bi50cmlhbmdsZXMpbHkoW0EsRF0sYy8yLGgvMixKU09OLnBhcnNlKHIpLFMsQykuZm9yRWFjaCgoZnVuY3Rpb24odCl7bi5tYXNrP3N5KG4ubWFzayx0KSYmTC5wdXNoKHQpOkwucHVzaCh0KX0pKTtlbHNle3ZhciBGPXV5KFtBLERdLGMvMixoLzIsSlNPTi5wYXJzZShyKSxTLEMpO24ubWFzaz9zeShuLm1hc2ssRikmJkwucHVzaChGKTpMLnB1c2goRil9fX1yZXR1cm4gZihMKX1mdW5jdGlvbiB1eSh0LGUsbixyLGksbyl7Zm9yKHZhciBzPVtdLGE9MDthPDY7YSsrKXt2YXIgdT10WzBdK2UqaVthXSxjPXRbMV0rbipvW2FdO3MucHVzaChbdSxjXSl9cmV0dXJuIHMucHVzaChzWzBdLnNsaWNlKCkpLGwoW3NdLHIpfWZ1bmN0aW9uIGx5KHQsZSxuLHIsaSxvKXtmb3IodmFyIHM9W10sYT0wO2E8NjthKyspe3ZhciB1PVtdO3UucHVzaCh0KSx1LnB1c2goW3RbMF0rZSppW2FdLHRbMV0rbipvW2FdXSksdS5wdXNoKFt0WzBdK2UqaVsoYSsxKSU2XSx0WzFdK24qb1soYSsxKSU2XV0pLHUucHVzaCh0KSxzLnB1c2gobChbdV0scikpfXJldHVybiBzfWZ1bmN0aW9uIGN5KHQpe3JldHVybiB5KHQpfWZ1bmN0aW9uIGh5KHQpe3JldHVybiBsKHQmJnQuZ2VvbWV0cnkuY29vcmRpbmF0ZXN8fFtbWzE4MCw5MF0sWy0xODAsOTBdLFstMTgwLC05MF0sWzE4MCwtOTBdLFsxODAsOTBdXV0pfWZ1bmN0aW9uIHB5KHQsZSxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49e30pLGZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PXImJihyPXt9KTtmb3IodmFyIGk9W10sbz10WzBdLHM9dFsxXSxhPXRbMl0sdT10WzNdLGM9ZS9tZShbbyxzXSxbYSxzXSxyKSooYS1vKSxoPW4vbWUoW28sc10sW28sdV0scikqKHUtcykscD1hLW8sZz11LXMsZD1NYXRoLmZsb29yKHAvYykseT1NYXRoLmZsb29yKGcvaCksdj0oZy15KmgpLzIsXz1vKyhwLWQqYykvMixtPTA7bTxkO20rKyl7Zm9yKHZhciB4PXMrdixFPTA7RTx5O0UrKyl7dmFyIGI9bChbW1tfLHhdLFtfLHgraF0sW18rYyx4K2hdLFtfK2MseF0sW18seF1dXSxyLnByb3BlcnRpZXMpO3IubWFzaz9QcyhyLm1hc2ssYikmJmkucHVzaChiKTppLnB1c2goYikseCs9aH1fKz1jfXJldHVybiBmKGkpfSh0LGUsZSxuKX1mdW5jdGlvbiBmeSh0LGUsbil7dm9pZCAwPT09biYmKG49e30pO2Zvcih2YXIgcj1bXSxpPWUvbWUoW3RbMF0sdFsxXV0sW3RbMl0sdFsxXV0sbikqKHRbMl0tdFswXSksbz1lL21lKFt0WzBdLHRbMV1dLFt0WzBdLHRbM11dLG4pKih0WzNdLXRbMV0pLHM9MCxhPXRbMF07YTw9dFsyXTspe2Zvcih2YXIgdT0wLGM9dFsxXTtjPD10WzNdOyl7dmFyIGg9bnVsbCxwPW51bGw7cyUyPT0wJiZ1JTI9PTA/KGg9bChbW1thLGNdLFthLGMrb10sW2EraSxjXSxbYSxjXV1dLG4ucHJvcGVydGllcykscD1sKFtbW2EsYytvXSxbYStpLGMrb10sW2EraSxjXSxbYSxjK29dXV0sbi5wcm9wZXJ0aWVzKSk6cyUyPT0wJiZ1JTI9PTE/KGg9bChbW1thLGNdLFthK2ksYytvXSxbYStpLGNdLFthLGNdXV0sbi5wcm9wZXJ0aWVzKSxwPWwoW1tbYSxjXSxbYSxjK29dLFthK2ksYytvXSxbYSxjXV1dLG4ucHJvcGVydGllcykpOnUlMj09MCYmcyUyPT0xPyhoPWwoW1tbYSxjXSxbYSxjK29dLFthK2ksYytvXSxbYSxjXV1dLG4ucHJvcGVydGllcykscD1sKFtbW2EsY10sW2EraSxjK29dLFthK2ksY10sW2EsY11dXSxuLnByb3BlcnRpZXMpKTp1JTI9PTEmJnMlMj09MSYmKGg9bChbW1thLGNdLFthLGMrb10sW2EraSxjXSxbYSxjXV1dLG4ucHJvcGVydGllcykscD1sKFtbW2EsYytvXSxbYStpLGMrb10sW2EraSxjXSxbYSxjK29dXV0sbi5wcm9wZXJ0aWVzKSksbi5tYXNrPyhzeShuLm1hc2ssaCkmJnIucHVzaChoKSxzeShuLm1hc2sscCkmJnIucHVzaChwKSk6KHIucHVzaChoKSxyLnB1c2gocCkpLGMrPW8sdSsrfXMrKyxhKz1pfXJldHVybiBmKHIpfXR5LmludmVydD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgcj1lZChlKmUrbipuKSxpPXQociksbz10ZChpKSxzPSRnKGkpO3JldHVybltRZyhlKm8scipzKSxyZChyJiZuKm8vcildfX0oKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLHQuYWxvbmc9ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTtmb3IodmFyIHI9cnQodCkuY29vcmRpbmF0ZXMsaT0wLG89MDtvPHIubGVuZ3RoJiYhKGU+PWkmJm89PT1yLmxlbmd0aC0xKTtvKyspe2lmKGk+PWUpe3ZhciBzPWUtaTtpZihzKXt2YXIgdT1tbihyW29dLHJbby0xXSktMTgwO3JldHVybiB2bihyW29dLHMsdSxuKX1yZXR1cm4gYShyW29dKX1pKz1tZShyW29dLHJbbysxXSxuKX1yZXR1cm4gYShyW3IubGVuZ3RoLTFdKX0sdC5hbmdsZT1mdW5jdGlvbih0LGUsbixyKXtpZih2b2lkIDA9PT1yJiYocj17fSksIVAocikpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoInN0YXJ0UG9pbnQgaXMgcmVxdWlyZWQiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIm1pZFBvaW50IGlzIHJlcXVpcmVkIik7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJlbmRQb2ludCBpcyByZXF1aXJlZCIpO3ZhciBpPXQsbz1lLHM9bixhPWIoITAhPT1yLm1lcmNhdG9yP21uKGksbyk6QmkoaSxvKSksdT1iKCEwIT09ci5tZXJjYXRvcj9tbihzLG8pOkJpKHMsbykpLGw9TWF0aC5hYnMoYS11KTtyZXR1cm4hMD09PXIuZXhwbGVtZW50YXJ5PzM2MC1sOmx9LHQuYXBwbHlGaWx0ZXI9dXUsdC5hcmVhPWpyLHQuYXJlYUZhY3RvcnM9aSx0LmJib3g9Wix0LmJib3hDbGlwPWZ1bmN0aW9uKHQsZSl7dmFyIG49cnQodCkscj1uLnR5cGUsaT0iRmVhdHVyZSI9PT10LnR5cGU/dC5wcm9wZXJ0aWVzOnt9LG89bi5jb29yZGluYXRlcztzd2l0Y2gocil7Y2FzZSJMaW5lU3RyaW5nIjpjYXNlIk11bHRpTGluZVN0cmluZyI6dmFyIHM9W107cmV0dXJuIkxpbmVTdHJpbmciPT09ciYmKG89W29dKSxvLmZvckVhY2goKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbil7dmFyIHIsaSxvLHMsYSx1PXQubGVuZ3RoLGw9UmkodFswXSxlKSxjPVtdO2ZvcihufHwobj1bXSkscj0xO3I8dTtyKyspe2ZvcihzPXRbci0xXSxpPW89UmkoYT10W3JdLGUpOzspe2lmKCEobHxpKSl7Yy5wdXNoKHMpLGkhPT1vPyhjLnB1c2goYSkscjx1LTEmJihuLnB1c2goYyksYz1bXSkpOnI9PT11LTEmJmMucHVzaChhKTticmVha31pZihsJmkpYnJlYWs7bD9sPVJpKHM9T2kocyxhLGwsZSksZSk6aT1SaShhPU9pKHMsYSxpLGUpLGUpfWw9b31jLmxlbmd0aCYmbi5wdXNoKGMpfSh0LGUscyl9KSksMT09PXMubGVuZ3RoP2goc1swXSxpKTpnKHMsaSk7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gbChUaShvLGUpLGkpO2Nhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4geShvLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIFRpKHQsZSl9KSksaSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImdlb21ldHJ5ICIrcisiIG5vdCBzdXBwb3J0ZWQiKX19LHQuYmJveFBvbHlnb249Z24sdC5iZWFyaW5nPW1uLHQuYmVhcmluZ1RvQW5nbGU9Yix0LmJlYXJpbmdUb0F6aW11dGg9Yix0LmJlemllcj1mbix0LmJlemllclNwbGluZT1mbix0LmJvb2xlYW5DbG9ja3dpc2U9WWksdC5ib29sZWFuQ29udGFpbnM9ZnVuY3Rpb24odCxlKXt2YXIgbj1ydCh0KSxyPXJ0KGUpLGk9bi50eXBlLG89ci50eXBlLHM9bi5jb29yZGluYXRlcyxhPXIuY29vcmRpbmF0ZXM7c3dpdGNoKGkpe2Nhc2UiUG9pbnQiOnN3aXRjaChvKXtjYXNlIlBvaW50IjpyZXR1cm4gdnMocyxhKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTIgIitvKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfWNhc2UiTXVsdGlQb2ludCI6c3dpdGNoKG8pe2Nhc2UiUG9pbnQiOnJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuLHI9ITE7Zm9yKG49MDtuPHQuY29vcmRpbmF0ZXMubGVuZ3RoO24rKylpZih2cyh0LmNvb3JkaW5hdGVzW25dLGUuY29vcmRpbmF0ZXMpKXtyPSEwO2JyZWFrfXJldHVybiByfShuLHIpO2Nhc2UiTXVsdGlQb2ludCI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1lLmNvb3JkaW5hdGVzO248ci5sZW5ndGg7bisrKXtmb3IodmFyIGk9cltuXSxvPSExLHM9MCxhPXQuY29vcmRpbmF0ZXM7czxhLmxlbmd0aDtzKyspe2lmKHZzKGksYVtzXSkpe289ITA7YnJlYWt9fWlmKCFvKXJldHVybiExfXJldHVybiEwfShuLHIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9Y2FzZSJMaW5lU3RyaW5nIjpzd2l0Y2gobyl7Y2FzZSJQb2ludCI6cmV0dXJuIFdyKHIsbix7aWdub3JlRW5kVmVydGljZXM6ITB9KTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0hMSxyPTAsaT1lLmNvb3JkaW5hdGVzO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2lmKFdyKHt0eXBlOiJQb2ludCIsY29vcmRpbmF0ZXM6b30sdCx7aWdub3JlRW5kVmVydGljZXM6ITB9KSYmKG49ITApLCFXcih7dHlwZToiUG9pbnQiLGNvb3JkaW5hdGVzOm99LHQse2lnbm9yZUVuZFZlcnRpY2VzOiExfSkpcmV0dXJuITF9cmV0dXJuIG59KG4scik7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITEscj0wLGk9ZS5jb29yZGluYXRlcztyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtpZihXcihvLHQse2lnbm9yZUVuZFZlcnRpY2VzOiEwfSkmJihuPSEwKSwhV3Iobyx0KSlyZXR1cm4hMX1pZihuKXJldHVybiEwO3JldHVybiExfShuLHIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9Y2FzZSJQb2x5Z29uIjpzd2l0Y2gobyl7Y2FzZSJQb2ludCI6cmV0dXJuIHllKHIsbix7aWdub3JlQm91bmRhcnk6ITB9KTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPSExLHI9MCxpPVoodCksbz1aKGUpO2lmKCF5cyhpLG8pKXJldHVybiExO2Zvcig7cjxlLmNvb3JkaW5hdGVzLmxlbmd0aC0xO3IrKyl7aWYoeWUoe3R5cGU6IlBvaW50Iixjb29yZGluYXRlczpfcyhlLmNvb3JkaW5hdGVzW3JdLGUuY29vcmRpbmF0ZXNbcisxXSl9LHQse2lnbm9yZUJvdW5kYXJ5OiEwfSkpe249ITA7YnJlYWt9fXJldHVybiBufShuLHIpO2Nhc2UiUG9seWdvbiI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoIkZlYXR1cmUiPT09dC50eXBlJiZudWxsPT09dC5nZW9tZXRyeSlyZXR1cm4hMTtpZigiRmVhdHVyZSI9PT1lLnR5cGUmJm51bGw9PT1lLmdlb21ldHJ5KXJldHVybiExO3ZhciBuPVoodCkscj1aKGUpO2lmKCF5cyhuLHIpKXJldHVybiExO2Zvcih2YXIgaT1ydChlKS5jb29yZGluYXRlcyxvPTAscz1pO288cy5sZW5ndGg7bysrKWZvcih2YXIgYT0wLHU9c1tvXTthPHUubGVuZ3RoO2ErKyl7aWYoIXllKHVbYV0sdCkpcmV0dXJuITF9cmV0dXJuITB9KG4scik7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPWUuY29vcmRpbmF0ZXM7bjxyLmxlbmd0aDtuKyspe2lmKCF5ZShyW25dLHQse2lnbm9yZUJvdW5kYXJ5OiEwfSkpcmV0dXJuITF9cmV0dXJuITB9KG4scik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmUyICIrbysiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWQiKX1kZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTEgIitpKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfX0sdC5ib29sZWFuQ3Jvc3Nlcz1mdW5jdGlvbih0LGUpe3ZhciBuPXJ0KHQpLHI9cnQoZSksaT1uLnR5cGUsbz1yLnR5cGU7c3dpdGNoKGkpe2Nhc2UiTXVsdGlQb2ludCI6c3dpdGNoKG8pe2Nhc2UiTGluZVN0cmluZyI6cmV0dXJuIG1zKG4scik7Y2FzZSJQb2x5Z29uIjpyZXR1cm4gRXMobixyKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiZmVhdHVyZTIgIitvKyIgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpfWNhc2UiTGluZVN0cmluZyI6c3dpdGNoKG8pe2Nhc2UiTXVsdGlQb2ludCI6cmV0dXJuIG1zKHIsbik7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihPcih0LGUpLmZlYXR1cmVzLmxlbmd0aD4wKWZvcih2YXIgbj0wO248dC5jb29yZGluYXRlcy5sZW5ndGgtMTtuKyspZm9yKHZhciByPTA7cjxlLmNvb3JkaW5hdGVzLmxlbmd0aC0xO3IrKyl7dmFyIGk9ITA7aWYoMCE9PXImJnIhPT1lLmNvb3JkaW5hdGVzLmxlbmd0aC0yfHwoaT0hMSksYnModC5jb29yZGluYXRlc1tuXSx0LmNvb3JkaW5hdGVzW24rMV0sZS5jb29yZGluYXRlc1tyXSxpKSlyZXR1cm4hMH1yZXR1cm4hMX0obixyKTtjYXNlIlBvbHlnb24iOnJldHVybiB4cyhuLHIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9Y2FzZSJQb2x5Z29uIjpzd2l0Y2gobyl7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gRXMocixuKTtjYXNlIkxpbmVTdHJpbmciOnJldHVybiB4cyhyLG4pO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlMiAiK28rIiBnZW9tZXRyeSBub3Qgc3VwcG9ydGVkIil9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmUxICIraSsiIGdlb21ldHJ5IG5vdCBzdXBwb3J0ZWQiKX19LHQuYm9vbGVhbkRpc2pvaW50PXBzLHQuYm9vbGVhbkVxdWFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJ0KHQpLnR5cGU9PT1ydChlKS50eXBlJiZuZXcgQ3Moe3ByZWNpc2lvbjo2fSkuY29tcGFyZSh0bih0KSx0bihlKSl9LHQuYm9vbGVhbkludGVyc2VjdHM9UHMsdC5ib29sZWFuT3ZlcmxhcD1mdW5jdGlvbih0LGUpe3ZhciBuPXJ0KHQpLHI9cnQoZSksaT1uLnR5cGUsbz1yLnR5cGU7aWYoIk11bHRpUG9pbnQiPT09aSYmIk11bHRpUG9pbnQiIT09b3x8KCJMaW5lU3RyaW5nIj09PWl8fCJNdWx0aUxpbmVTdHJpbmciPT09aSkmJiJMaW5lU3RyaW5nIiE9PW8mJiJNdWx0aUxpbmVTdHJpbmciIT09b3x8KCJQb2x5Z29uIj09PWl8fCJNdWx0aVBvbHlnb24iPT09aSkmJiJQb2x5Z29uIiE9PW8mJiJNdWx0aVBvbHlnb24iIT09byl0aHJvdyBuZXcgRXJyb3IoImZlYXR1cmVzIG11c3QgYmUgb2YgdGhlIHNhbWUgdHlwZSIpO2lmKCJQb2ludCI9PT1pKXRocm93IG5ldyBFcnJvcigiUG9pbnQgZ2VvbWV0cnkgbm90IHN1cHBvcnRlZCIpO2lmKG5ldyBDcyh7cHJlY2lzaW9uOjZ9KS5jb21wYXJlKHQsZSkpcmV0dXJuITE7dmFyIHM9MDtzd2l0Y2goaSl7Y2FzZSJNdWx0aVBvaW50Ijpmb3IodmFyIGE9MDthPG4uY29vcmRpbmF0ZXMubGVuZ3RoO2ErKylmb3IodmFyIHU9MDt1PHIuY29vcmRpbmF0ZXMubGVuZ3RoO3UrKyl7dmFyIGw9bi5jb29yZGluYXRlc1thXSxjPXIuY29vcmRpbmF0ZXNbdV07aWYobFswXT09PWNbMF0mJmxbMV09PT1jWzFdKXJldHVybiEwfXJldHVybiExO2Nhc2UiTGluZVN0cmluZyI6Y2FzZSJNdWx0aUxpbmVTdHJpbmciOlUodCwoZnVuY3Rpb24odCl7VShlLChmdW5jdGlvbihlKXtraSh0LGUpLmZlYXR1cmVzLmxlbmd0aCYmcysrfSkpfSkpO2JyZWFrO2Nhc2UiUG9seWdvbiI6Y2FzZSJNdWx0aVBvbHlnb24iOlUodCwoZnVuY3Rpb24odCl7VShlLChmdW5jdGlvbihlKXtPcih0LGUpLmZlYXR1cmVzLmxlbmd0aCYmcysrfSkpfSkpfXJldHVybiBzPjB9LHQuYm9vbGVhblBhcmFsbGVsPWZ1bmN0aW9uKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJsaW5lMSBpcyByZXF1aXJlZCIpO2lmKCFlKXRocm93IG5ldyBFcnJvcigibGluZTIgaXMgcmVxdWlyZWQiKTtpZigiTGluZVN0cmluZyIhPT1Vcyh0LCJsaW5lMSIpKXRocm93IG5ldyBFcnJvcigibGluZTEgbXVzdCBiZSBhIExpbmVTdHJpbmciKTtpZigiTGluZVN0cmluZyIhPT1VcyhlLCJsaW5lMiIpKXRocm93IG5ldyBFcnJvcigibGluZTIgbXVzdCBiZSBhIExpbmVTdHJpbmciKTtmb3IodmFyIG49Wm4odG4odCkpLmZlYXR1cmVzLHI9Wm4odG4oZSkpLmZlYXR1cmVzLGk9MDtpPG4ubGVuZ3RoO2krKyl7dmFyIG89bltpXS5nZW9tZXRyeS5jb29yZGluYXRlcztpZighcltpXSlicmVhaztpZighanMobyxyW2ldLmdlb21ldHJ5LmNvb3JkaW5hdGVzKSlyZXR1cm4hMX1yZXR1cm4hMH0sdC5ib29sZWFuUG9pbnRJblBvbHlnb249eWUsdC5ib29sZWFuUG9pbnRPbkxpbmU9V3IsdC5ib29sZWFuV2l0aGluPVpyLHQuYnVmZmVyPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj0obj1ufHx7fSkudW5pdHN8fCJraWxvbWV0ZXJzIixpPW4uc3RlcHN8fDg7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7aWYoIm9iamVjdCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpO2lmKCJudW1iZXIiIT10eXBlb2YgaSl0aHJvdyBuZXcgRXJyb3IoInN0ZXBzIG11c3QgYmUgYW4gbnVtYmVyIik7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoInJhZGl1cyBpcyByZXF1aXJlZCIpO2lmKGk8PTApdGhyb3cgbmV3IEVycm9yKCJzdGVwcyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIik7dmFyIG89W107c3dpdGNoKHQudHlwZSl7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOnJldHVybiBxKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPW55KHQsZSxyLGkpO24mJm8ucHVzaChuKX0pKSxmKG8pO2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnJldHVybiBGKHQsKGZ1bmN0aW9uKHQpe3ZhciBuPW55KHQsZSxyLGkpO24mJkYobiwoZnVuY3Rpb24odCl7dCYmby5wdXNoKHQpfSkpfSkpLGYobyl9cmV0dXJuIG55KHQsZSxyLGkpfSx0LmNlbnRlcj14bix0LmNlbnRlck1lYW49RmEsdC5jZW50ZXJNZWRpYW49ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT17fSksIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbj1lLmNvdW50ZXJ8fDEwO2lmKCFDKG4pKXRocm93IG5ldyBFcnJvcigiY291bnRlciBtdXN0IGJlIGEgbnVtYmVyIik7dmFyIHI9ZS53ZWlnaHQsaT1GYSh0LHt3ZWlnaHQ6ZS53ZWlnaHR9KSxvPWYoW10pO0YodCwoZnVuY3Rpb24odCl7dmFyIGU7by5mZWF0dXJlcy5wdXNoKEVuKHQse3Byb3BlcnRpZXM6e3dlaWdodDpudWxsPT09KGU9dC5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZVtyXX19KSl9KSk7dmFyIHM9e3RvbGVyYW5jZTplLnRvbGVyYW5jZSxtZWRpYW5DYW5kaWRhdGVzOltdfTtyZXR1cm4ga2EoaS5nZW9tZXRyeS5jb29yZGluYXRlcyxbMCwwXSxvLHMsbil9LHQuY2VudGVyT2ZNYXNzPWZ1bmN0aW9uIHQoZSxuKXtzd2l0Y2godm9pZCAwPT09biYmKG49e30pLGl0KGUpKXtjYXNlIlBvaW50IjpyZXR1cm4gYShLKGUpLG4ucHJvcGVydGllcyk7Y2FzZSJQb2x5Z29uIjp2YXIgcj1bXTtSKGUsKGZ1bmN0aW9uKHQpe3IucHVzaCh0KX0pKTt2YXIgaSxvLHMsdSxsLGMsaCxwLGY9RW4oZSx7cHJvcGVydGllczpuLnByb3BlcnRpZXN9KSxnPWYuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsZD0wLHk9MCx2PTAsXz1yLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW3RbMF0tZ1swXSx0WzFdLWdbMV1dfSkpO2ZvcihpPTA7aTxyLmxlbmd0aC0xO2krKyl1PShvPV9baV0pWzBdLGM9b1sxXSxsPShzPV9baSsxXSlbMF0sdis9cD11KihoPXNbMV0pLWwqYyxkKz0odStsKSpwLHkrPShjK2gpKnA7aWYoMD09PXYpcmV0dXJuIGY7dmFyIG09MS8oNiooLjUqdikpO3JldHVybiBhKFtnWzBdK20qZCxnWzFdK20qeV0sbi5wcm9wZXJ0aWVzKTtkZWZhdWx0OnZhciB4PWRlKGUpO3JldHVybiB4P3QoeCx7cHJvcGVydGllczpuLnByb3BlcnRpZXN9KTpFbihlLHtwcm9wZXJ0aWVzOm4ucHJvcGVydGllc30pfX0sdC5jZW50cm9pZD1Fbix0LmNpcmNsZT1fbix0LmNsZWFuQ29vcmRzPXRuLHQuY2xvbmU9SWUsdC5jbHVzdGVyRWFjaD1vdSx0LmNsdXN0ZXJSZWR1Y2U9c3UsdC5jbHVzdGVycz1odSx0LmNsdXN0ZXJzRGJzY2FuPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSksITAhPT1uLm11dGF0ZSYmKHQ9SWUodCkpLG4ubWluUG9pbnRzPW4ubWluUG9pbnRzfHwzO3ZhciByPW5ldyBUcy5EQlNDQU4saT1yLnJ1bihHKHQpLE4oZSxuLnVuaXRzKSxuLm1pblBvaW50cyxtZSksbz0tMTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlKXtvKyssZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10LmZlYXR1cmVzW2VdO24ucHJvcGVydGllc3x8KG4ucHJvcGVydGllcz17fSksbi5wcm9wZXJ0aWVzLmNsdXN0ZXI9byxuLnByb3BlcnRpZXMuZGJzY2FuPSJjb3JlIn0pKX0pKSxyLm5vaXNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPXQuZmVhdHVyZXNbZV07bi5wcm9wZXJ0aWVzfHwobi5wcm9wZXJ0aWVzPXt9KSxuLnByb3BlcnRpZXMuY2x1c3Rlcj9uLnByb3BlcnRpZXMuZGJzY2FuPSJlZGdlIjpuLnByb3BlcnRpZXMuZGJzY2FuPSJub2lzZSJ9KSksdH0sdC5jbHVzdGVyc0ttZWFucz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgbj10LmZlYXR1cmVzLmxlbmd0aDtlLm51bWJlck9mQ2x1c3RlcnM9ZS5udW1iZXJPZkNsdXN0ZXJzfHxNYXRoLnJvdW5kKE1hdGguc3FydChuLzIpKSxlLm51bWJlck9mQ2x1c3RlcnM+biYmKGUubnVtYmVyT2ZDbHVzdGVycz1uKSwhMCE9PWUubXV0YXRlJiYodD1JZSh0KSk7dmFyIHI9Ryh0KSxpPXIuc2xpY2UoMCxlLm51bWJlck9mQ2x1c3RlcnMpLG89enMocixlLm51bWJlck9mQ2x1c3RlcnMsaSkscz17fTtyZXR1cm4gby5jZW50cm9pZHMuZm9yRWFjaCgoZnVuY3Rpb24odCxlKXtzW2VdPXR9KSksRih0LChmdW5jdGlvbih0LGUpe3ZhciBuPW8uaWR4c1tlXTt0LnByb3BlcnRpZXMuY2x1c3Rlcj1uLHQucHJvcGVydGllcy5jZW50cm9pZD1zW25dfSkpLHR9LHQuY29sbGVjdD1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT1OdCg2KSxvPWUuZmVhdHVyZXMubWFwKChmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm57bWluWDp0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLG1pblk6dC5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSxtYXhYOnQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0sbWF4WTp0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdLHByb3BlcnR5Om51bGw9PT0oZT10LnByb3BlcnRpZXMpfHx2b2lkIDA9PT1lP3ZvaWQgMDplW25dfX0pKTtyZXR1cm4gaS5sb2FkKG8pLHQuZmVhdHVyZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wcm9wZXJ0aWVzfHwodC5wcm9wZXJ0aWVzPXt9KTt2YXIgZT1aKHQpLG49aS5zZWFyY2goe21pblg6ZVswXSxtaW5ZOmVbMV0sbWF4WDplWzJdLG1heFk6ZVszXX0pLG89W107bi5mb3JFYWNoKChmdW5jdGlvbihlKXt5ZShbZS5taW5YLGUubWluWV0sdCkmJm8ucHVzaChlLnByb3BlcnR5KX0pKSx0LnByb3BlcnRpZXNbcl09b30pKSx0fSx0LmNvbGxlY3Rpb25PZj1udCx0LmNvbWJpbmU9ZnVuY3Rpb24odCl7dmFyIGU9e011bHRpUG9pbnQ6e2Nvb3JkaW5hdGVzOltdLHByb3BlcnRpZXM6W119LE11bHRpTGluZVN0cmluZzp7Y29vcmRpbmF0ZXM6W10scHJvcGVydGllczpbXX0sTXVsdGlQb2x5Z29uOntjb29yZGluYXRlczpbXSxwcm9wZXJ0aWVzOltdfX07cmV0dXJuIEYodCwoZnVuY3Rpb24odCl7dmFyIG4scixpLG87c3dpdGNoKG51bGw9PT0obz10Lmdlb21ldHJ5KXx8dm9pZCAwPT09bz92b2lkIDA6by50eXBlKXtjYXNlIlBvaW50IjplLk11bHRpUG9pbnQuY29vcmRpbmF0ZXMucHVzaCh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxlLk11bHRpUG9pbnQucHJvcGVydGllcy5wdXNoKHQucHJvcGVydGllcyk7YnJlYWs7Y2FzZSJNdWx0aVBvaW50Ijoobj1lLk11bHRpUG9pbnQuY29vcmRpbmF0ZXMpLnB1c2guYXBwbHkobix0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxlLk11bHRpUG9pbnQucHJvcGVydGllcy5wdXNoKHQucHJvcGVydGllcyk7YnJlYWs7Y2FzZSJMaW5lU3RyaW5nIjplLk11bHRpTGluZVN0cmluZy5jb29yZGluYXRlcy5wdXNoKHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLGUuTXVsdGlMaW5lU3RyaW5nLnByb3BlcnRpZXMucHVzaCh0LnByb3BlcnRpZXMpO2JyZWFrO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjoocj1lLk11bHRpTGluZVN0cmluZy5jb29yZGluYXRlcykucHVzaC5hcHBseShyLHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLGUuTXVsdGlMaW5lU3RyaW5nLnByb3BlcnRpZXMucHVzaCh0LnByb3BlcnRpZXMpO2JyZWFrO2Nhc2UiUG9seWdvbiI6ZS5NdWx0aVBvbHlnb24uY29vcmRpbmF0ZXMucHVzaCh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxlLk11bHRpUG9seWdvbi5wcm9wZXJ0aWVzLnB1c2godC5wcm9wZXJ0aWVzKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6KGk9ZS5NdWx0aVBvbHlnb24uY29vcmRpbmF0ZXMpLnB1c2guYXBwbHkoaSx0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxlLk11bHRpUG9seWdvbi5wcm9wZXJ0aWVzLnB1c2godC5wcm9wZXJ0aWVzKX19KSksZihPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdLmNvb3JkaW5hdGVzLmxlbmd0aH0pKS5zb3J0KCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbyh7dHlwZTp0LGNvb3JkaW5hdGVzOmVbdF0uY29vcmRpbmF0ZXN9LHtjb2xsZWN0ZWRQcm9wZXJ0aWVzOmVbdF0ucHJvcGVydGllc30pfSkpKX0sdC5jb25jYXZlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPWUubWF4RWRnZXx8MS8wLHI9eGUoZnVuY3Rpb24odCl7dmFyIGU9W10sbj17fTtyZXR1cm4gRih0LChmdW5jdGlvbih0KXtpZih0Lmdlb21ldHJ5KXt2YXIgcj10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmpvaW4oIi0iKTtPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKXx8KGUucHVzaCh0KSxuW3JdPSEwKX19KSksZihlKX0odCkpO2lmKHIuZmVhdHVyZXM9ci5mZWF0dXJlcy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3ZhciByPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF1bMF0saT10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdWzFdLG89dC5nZW9tZXRyeS5jb29yZGluYXRlc1swXVsyXSxzPW1lKHIsaSxlKSxhPW1lKGksbyxlKSx1PW1lKHIsbyxlKTtyZXR1cm4gczw9biYmYTw9biYmdTw9bn0pKSxyLmZlYXR1cmVzLmxlbmd0aDwxKXJldHVybiBudWxsO3ZhciBpPSRlKHIpO3JldHVybiAxPT09aS5jb29yZGluYXRlcy5sZW5ndGgmJihpLmNvb3JkaW5hdGVzPWkuY29vcmRpbmF0ZXNbMF0saS50eXBlPSJQb2x5Z29uIiksbyhpKX0sdC5jb250YWluc051bWJlcj0kLHQuY29udmVydEFyZWE9Uyx0LmNvbnZlcnREaXN0YW5jZT1OLHQuY29udmVydExlbmd0aD1OLHQuY29udmV4PWRlLHQuY29vcmRBbGw9Ryx0LmNvb3JkRWFjaD1SLHQuY29vcmRSZWR1Y2U9VCx0LmNyZWF0ZUJpbnM9YXUsdC5kZWdyZWVzMnJhZGlhbnM9SSx0LmRlZ3JlZXNUb1JhZGlhbnM9SSx0LmRlc3RpbmF0aW9uPXZuLHQuZGlmZmVyZW5jZT1mdW5jdGlvbih0LGUpe3ZhciBuPXJ0KHQpLHI9cnQoZSksaT10LnByb3BlcnRpZXN8fHt9LG89JHUuZGlmZmVyZW5jZShuLmNvb3JkaW5hdGVzLHIuY29vcmRpbmF0ZXMpO3JldHVybiAwPT09by5sZW5ndGg/bnVsbDoxPT09by5sZW5ndGg/bChvWzBdLGkpOnkobyxpKX0sdC5kaXNzb2x2ZT1mdW5jdGlvbih0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS5wcm9wZXJ0eU5hbWU7bnQodCwiUG9seWdvbiIsImRpc3NvbHZlIik7dmFyIHI9W107aWYoIWUucHJvcGVydHlOYW1lKXJldHVybiBuaSh5KCR1LnVuaW9uLmFwcGx5KG51bGwsdC5mZWF0dXJlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzfSkpKSkpO3ZhciBpPXt9O0YodCwoZnVuY3Rpb24odCl7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksdC5wcm9wZXJ0aWVzW25dKXx8KGlbdC5wcm9wZXJ0aWVzW25dXT1bXSksaVt0LnByb3BlcnRpZXNbbl1dLnB1c2godCl9KSk7Zm9yKHZhciBvPU9iamVjdC5rZXlzKGkpLHM9MDtzPG8ubGVuZ3RoO3MrKyl7dmFyIGE9eSgkdS51bmlvbi5hcHBseShudWxsLGlbb1tzXV0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5nZW9tZXRyeS5jb29yZGluYXRlc30pKSkpO2EucHJvcGVydGllc1tuXT1vW3NdLHIucHVzaChhKX1yZXR1cm4gbmkoZihyKSl9LHQuZGlzdGFuY2U9bWUsdC5kaXN0YW5jZVRvRGVncmVlcz1FLHQuZGlzdGFuY2VUb1JhZGlhbnM9eCx0LmRpc3RhbmNlV2VpZ2h0PWphLHQuZWFydGhSYWRpdXM9ZSx0LmVsbGlwc2U9QWEsdC5lbnZlbG9wZT1kbix0LmV4cGxvZGU9Ym4sdC5mYWN0b3JzPW4sdC5mZWF0dXJlPW8sdC5mZWF0dXJlQ29sbGVjdGlvbj1mLHQuZmVhdHVyZUVhY2g9Rix0LmZlYXR1cmVPZj1ldCx0LmZlYXR1cmVSZWR1Y2U9ayx0LmZpbHRlclByb3BlcnRpZXM9Y3UsdC5maW5kUG9pbnQ9Vyx0LmZpbmRTZWdtZW50PUgsdC5mbGF0dGVuPW5pLHQuZmxhdHRlbkVhY2g9eix0LmZsYXR0ZW5SZWR1Y2U9aix0LmZsaXA9ZnVuY3Rpb24odCxlKXtpZighUChlPWV8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuPWUubXV0YXRlO2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO3JldHVybiExIT09biYmdm9pZCAwIT09bnx8KHQ9SWUodCkpLFIodCwoZnVuY3Rpb24odCl7dmFyIGU9dFswXSxuPXRbMV07dFswXT1uLHRbMV09ZX0pKSx0fSx0Lmdlb2pzb25UeXBlPXR0LHQuZ2VvbUVhY2g9cSx0Lmdlb21SZWR1Y2U9Qix0Lmdlb21ldHJ5PXMsdC5nZW9tZXRyeUNvbGxlY3Rpb249dix0LmdldENsdXN0ZXI9aXUsdC5nZXRDb29yZD1LLHQuZ2V0Q29vcmRzPVEsdC5nZXRHZW9tPXJ0LHQuZ2V0VHlwZT1pdCx0LmdyZWF0Q2lyY2xlPWZ1bmN0aW9uKHQsZSxuKXtpZigib2JqZWN0IiE9dHlwZW9mKG49bnx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIHI9bi5wcm9wZXJ0aWVzLGk9bi5ucG9pbnRzLG89bi5vZmZzZXQ7cmV0dXJuIHQ9Syh0KSxlPUsoZSkscj1yfHx7fSxpPWl8fDEwMCxvPW98fDEwLG5ldyB2aSh7eDp0WzBdLHk6dFsxXX0se3g6ZVswXSx5OmVbMV19LHIpLkFyYyhpLHtvZmZzZXQ6b30pLmpzb24oKX0sdC5oZWxwZXJzPU8sdC5oZXhHcmlkPWF5LHQuaW5zaWRlPXllLHQuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCxlLG4pe2lmKCJvYmplY3QiIT10eXBlb2Yobj1ufHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgcj1uLmdyaWRUeXBlLGk9bi5wcm9wZXJ0eSxvPW4ud2VpZ2h0O2lmKCF0KXRocm93IG5ldyBFcnJvcigicG9pbnRzIGlzIHJlcXVpcmVkIik7aWYobnQodCwiUG9pbnQiLCJpbnB1dCBtdXN0IGNvbnRhaW4gUG9pbnRzIiksIWUpdGhyb3cgbmV3IEVycm9yKCJjZWxsU2l6ZSBpcyByZXF1aXJlZCIpO2lmKHZvaWQgMCE9PW8mJiJudW1iZXIiIT10eXBlb2Ygbyl0aHJvdyBuZXcgRXJyb3IoIndlaWdodCBtdXN0IGJlIGEgbnVtYmVyIik7aT1pfHwiZWxldmF0aW9uIixyPXJ8fCJzcXVhcmUiLG89b3x8MTt2YXIgcyxhPVoodCk7c3dpdGNoKHIpe2Nhc2UicG9pbnQiOmNhc2UicG9pbnRzIjpzPXRpKGEsZSxuKTticmVhaztjYXNlInNxdWFyZSI6Y2FzZSJzcXVhcmVzIjpzPXB5KGEsZSxuKTticmVhaztjYXNlImhleCI6Y2FzZSJoZXhlcyI6cz1heShhLGUsbik7YnJlYWs7Y2FzZSJ0cmlhbmdsZSI6Y2FzZSJ0cmlhbmdsZXMiOnM9ZnkoYSxlLG4pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGdyaWRUeXBlIil9dmFyIHU9W107cmV0dXJuIEYocywoZnVuY3Rpb24oZSl7dmFyIHM9MCxhPTA7Rih0LChmdW5jdGlvbih0KXt2YXIgdSxsPW1lKCJwb2ludCI9PT1yP2U6RW4oZSksdCxuKTtpZih2b2lkIDAhPT1pJiYodT10LnByb3BlcnRpZXNbaV0pLHZvaWQgMD09PXUmJih1PXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMl0pLHZvaWQgMD09PXUpdGhyb3cgbmV3IEVycm9yKCJ6VmFsdWUgaXMgbWlzc2luZyIpOzA9PT1sJiYocz11KTt2YXIgYz0xL01hdGgucG93KGwsbyk7YSs9YyxzKz1jKnV9KSk7dmFyIGw9SWUoZSk7bC5wcm9wZXJ0aWVzW2ldPXMvYSx1LnB1c2gobCl9KSksZih1KX0sdC5pbnRlcnNlY3Q9c3ksdC5pbnZhcmlhbnQ9b3QsdC5pc051bWJlcj1DLHQuaXNPYmplY3Q9UCx0Lmlzb2JhbmRzPWZ1bmN0aW9uKHQsZSxuKXtpZighUChuPW58fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciByPW4uelByb3BlcnR5fHwiZWxldmF0aW9uIixpPW4uY29tbW9uUHJvcGVydGllc3x8e30sbz1uLmJyZWFrc1Byb3BlcnRpZXN8fFtdO2lmKG50KHQsIlBvaW50IiwiSW5wdXQgbXVzdCBjb250YWluIFBvaW50cyIpLCFlKXRocm93IG5ldyBFcnJvcigiYnJlYWtzIGlzIHJlcXVpcmVkIik7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKCJicmVha3MgaXMgbm90IGFuIEFycmF5Iik7aWYoIVAoaSkpdGhyb3cgbmV3IEVycm9yKCJjb21tb25Qcm9wZXJ0aWVzIGlzIG5vdCBhbiBPYmplY3QiKTtpZighQXJyYXkuaXNBcnJheShvKSl0aHJvdyBuZXcgRXJyb3IoImJyZWFrc1Byb3BlcnRpZXMgaXMgbm90IGFuIEFycmF5Iik7dmFyIHM9WmkodCx7elByb3BlcnR5OnIsZmxpcDohMH0pLGE9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxpPTE7aTxlLmxlbmd0aDtpKyspe3ZhciBvPStlW2ktMV0scz0rZVtpXSxhPVpvKEpvKCRpKHQsbyxzLW8pKSksdT17fTt1Lmdyb3VwZWRSaW5ncz1hLHVbbl09bysiLSIrcyxyLnB1c2godSl9cmV0dXJuIHJ9KHMsZSxyKTtyZXR1cm4gZigoYT1mdW5jdGlvbih0LGUsbil7dmFyIHI9WihuKSxpPXJbMl0tclswXSxvPXJbM10tclsxXSxzPXJbMF0sYT1yWzFdLHU9ZVswXS5sZW5ndGgtMSxsPWUubGVuZ3RoLTEsYz1pL3UsaD1vL2wscD1mdW5jdGlvbih0KXt0WzBdPXRbMF0qYytzLHRbMV09dFsxXSpoK2F9O3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZ3JvdXBlZFJpbmdzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5mb3JFYWNoKHApfSkpfSkpfSkpLHR9KGEscyx0KSkubWFwKChmdW5jdGlvbih0LGUpe2lmKG9bZV0mJiFQKG9bZV0pKXRocm93IG5ldyBFcnJvcigiRWFjaCBtYXBwZWRQcm9wZXJ0eSBpcyByZXF1aXJlZCB0byBiZSBhbiBPYmplY3QiKTt2YXIgbj1jdCh7fSxpLG9bZV0pO3JldHVybiBuW3JdPXRbcl0seSh0Lmdyb3VwZWRSaW5ncyxuKX0pKSl9LHQuaXNvbGluZXM9ZnVuY3Rpb24odCxlLG4pe2lmKCFQKG49bnx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIHI9bi56UHJvcGVydHl8fCJlbGV2YXRpb24iLGk9bi5jb21tb25Qcm9wZXJ0aWVzfHx7fSxvPW4uYnJlYWtzUHJvcGVydGllc3x8W107aWYobnQodCwiUG9pbnQiLCJJbnB1dCBtdXN0IGNvbnRhaW4gUG9pbnRzIiksIWUpdGhyb3cgbmV3IEVycm9yKCJicmVha3MgaXMgcmVxdWlyZWQiKTtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoImJyZWFrcyBtdXN0IGJlIGFuIEFycmF5Iik7aWYoIVAoaSkpdGhyb3cgbmV3IEVycm9yKCJjb21tb25Qcm9wZXJ0aWVzIG11c3QgYmUgYW4gT2JqZWN0Iik7aWYoIUFycmF5LmlzQXJyYXkobykpdGhyb3cgbmV3IEVycm9yKCJicmVha3NQcm9wZXJ0aWVzIG11c3QgYmUgYW4gQXJyYXkiKTt2YXIgcz1fdCh0LHt6UHJvcGVydHk6cixmbGlwOiEwfSk7cmV0dXJuIGYoZnVuY3Rpb24odCxlLG4pe3ZhciByPVoobiksaT1yWzJdLXJbMF0sbz1yWzNdLXJbMV0scz1yWzBdLGE9clsxXSx1PWVbMF0ubGVuZ3RoLTEsbD1lLmxlbmd0aC0xLGM9aS91LGg9by9sLHA9ZnVuY3Rpb24odCl7dFswXT10WzBdKmMrcyx0WzFdPXRbMV0qaCthfTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtSKHQscCl9KSksdH0oZnVuY3Rpb24odCxlLG4scixpKXtmb3IodmFyIG89W10scz0xO3M8ZS5sZW5ndGg7cysrKXt2YXIgYT0rZVtzXSx1PWN0KHt9LHIsaVtzXSk7dVtuXT1hO3ZhciBsPWcoZnQodCxhKSx1KTtvLnB1c2gobCl9cmV0dXJuIG99KHMsZSxyLGksbykscyx0KSl9LHQua2lua3M9ZnVuY3Rpb24odCl7dmFyIGUsbixyPXt0eXBlOiJGZWF0dXJlQ29sbGVjdGlvbiIsZmVhdHVyZXM6W119O2lmKCJMaW5lU3RyaW5nIj09PShuPSJGZWF0dXJlIj09PXQudHlwZT90Lmdlb21ldHJ5OnQpLnR5cGUpZT1bbi5jb29yZGluYXRlc107ZWxzZSBpZigiTXVsdGlMaW5lU3RyaW5nIj09PW4udHlwZSllPW4uY29vcmRpbmF0ZXM7ZWxzZSBpZigiTXVsdGlQb2x5Z29uIj09PW4udHlwZSllPVtdLmNvbmNhdC5hcHBseShbXSxuLmNvb3JkaW5hdGVzKTtlbHNle2lmKCJQb2x5Z29uIiE9PW4udHlwZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IG11c3QgYmUgYSBMaW5lU3RyaW5nLCBNdWx0aUxpbmVTdHJpbmcsIFBvbHlnb24sIG9yIE11bHRpUG9seWdvbiBGZWF0dXJlIG9yIEdlb21ldHJ5Iik7ZT1uLmNvb3JkaW5hdGVzfXJldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aC0xO24rKylmb3IodmFyIGk9bjtpPGUubGVuZ3RoLTE7aSsrKXtpZih0PT09ZSl7aWYoMT09PU1hdGguYWJzKG4taSkpY29udGludWU7aWYoMD09PW4mJmk9PT10Lmxlbmd0aC0yJiZ0W25dWzBdPT09dFt0Lmxlbmd0aC0xXVswXSYmdFtuXVsxXT09PXRbdC5sZW5ndGgtMV1bMV0pY29udGludWV9dmFyIG89R3IodFtuXVswXSx0W25dWzFdLHRbbisxXVswXSx0W24rMV1bMV0sZVtpXVswXSxlW2ldWzFdLGVbaSsxXVswXSxlW2krMV1bMV0pO28mJnIuZmVhdHVyZXMucHVzaChhKFtvWzBdLG9bMV1dKSl9fSkpfSkpLHJ9LHQubGVuZ3RoPVlyLHQubGVuZ3RoVG9EZWdyZWVzPUUsdC5sZW5ndGhUb1JhZGlhbnM9eCx0LmxpbmVBcmM9YmksdC5saW5lQ2h1bms9ZnVuY3Rpb24odCxlLG4pe2lmKCFQKG49bnx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIHI9bi51bml0cyxpPW4ucmV2ZXJzZTtpZighdCl0aHJvdyBuZXcgRXJyb3IoImdlb2pzb24gaXMgcmVxdWlyZWQiKTtpZihlPD0wKXRocm93IG5ldyBFcnJvcigic2VnbWVudExlbmd0aCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIik7dmFyIG89W107cmV0dXJuIHoodCwoZnVuY3Rpb24odCl7aSYmKHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXM9dC5nZW9tZXRyeS5jb29yZGluYXRlcy5yZXZlcnNlKCkpLGZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBpPVlyKHQse3VuaXRzOm59KTtpZihpPD1lKXJldHVybiByKHQpO3ZhciBvPWkvZTtOdW1iZXIuaXNJbnRlZ2VyKG8pfHwobz1NYXRoLmZsb29yKG8pKzEpO2Zvcih2YXIgcz0wO3M8bztzKyspe3IoSHIodCxlKnMsZSoocysxKSx7dW5pdHM6bn0pLHMpfX0odCxlLHIsKGZ1bmN0aW9uKHQpe28ucHVzaCh0KX0pKX0pKSxmKG8pfSx0LmxpbmVEaXN0YW5jZT1Zcix0LmxpbmVFYWNoPVgsdC5saW5lSW50ZXJzZWN0PU9yLHQubGluZU9mZnNldD1mdW5jdGlvbih0LGUsbil7aWYoIVAobj1ufHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgcj1uLnVuaXRzO2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO2lmKG51bGw9PWV8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiZGlzdGFuY2UgaXMgcmVxdWlyZWQiKTt2YXIgaT1pdCh0KSxvPXQucHJvcGVydGllcztzd2l0Y2goaSl7Y2FzZSJMaW5lU3RyaW5nIjpyZXR1cm4gb3ModCxlLHIpO2Nhc2UiTXVsdGlMaW5lU3RyaW5nIjp2YXIgcz1bXTtyZXR1cm4geih0LChmdW5jdGlvbih0KXtzLnB1c2gob3ModCxlLHIpLmdlb21ldHJ5LmNvb3JkaW5hdGVzKX0pKSxnKHMsbyk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImdlb21ldHJ5ICIraSsiIGlzIG5vdCBzdXBwb3J0ZWQiKX19LHQubGluZU92ZXJsYXA9a2ksdC5saW5lUmVkdWNlPVksdC5saW5lU2VnbWVudD1abix0LmxpbmVTbGljZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9UShuKTtpZigiTGluZVN0cmluZyIhPT1pdChuKSl0aHJvdyBuZXcgRXJyb3IoImxpbmUgbXVzdCBiZSBhIExpbmVTdHJpbmciKTtmb3IodmFyIGksbz1UcihuLHQpLHM9VHIobixlKSxhPVsoaT1vLnByb3BlcnRpZXMuaW5kZXg8PXMucHJvcGVydGllcy5pbmRleD9bbyxzXTpbcyxvXSlbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXNdLHU9aVswXS5wcm9wZXJ0aWVzLmluZGV4KzE7dTxpWzFdLnByb3BlcnRpZXMuaW5kZXgrMTt1KyspYS5wdXNoKHJbdV0pO3JldHVybiBhLnB1c2goaVsxXS5nZW9tZXRyeS5jb29yZGluYXRlcyksaChhLG4ucHJvcGVydGllcyl9LHQubGluZVNsaWNlQWxvbmc9SHIsdC5saW5lU3BsaXQ9ZnVuY3Rpb24odCxlKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoImxpbmUgaXMgcmVxdWlyZWQiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoInNwbGl0dGVyIGlzIHJlcXVpcmVkIik7dmFyIG49aXQodCkscj1pdChlKTtpZigiTGluZVN0cmluZyIhPT1uKXRocm93IG5ldyBFcnJvcigibGluZSBtdXN0IGJlIExpbmVTdHJpbmciKTtpZigiRmVhdHVyZUNvbGxlY3Rpb24iPT09cil0aHJvdyBuZXcgRXJyb3IoInNwbGl0dGVyIGNhbm5vdCBiZSBhIEZlYXR1cmVDb2xsZWN0aW9uIik7aWYoIkdlb21ldHJ5Q29sbGVjdGlvbiI9PT1yKXRocm93IG5ldyBFcnJvcigic3BsaXR0ZXIgY2Fubm90IGJlIGEgR2VvbWV0cnlDb2xsZWN0aW9uIik7dmFyIGk9ZWkoZSx7cHJlY2lzaW9uOjd9KTtzd2l0Y2gocil7Y2FzZSJQb2ludCI6cmV0dXJuIG1pKHQsaSk7Y2FzZSJNdWx0aVBvaW50IjpyZXR1cm4gX2kodCxpKTtjYXNlIkxpbmVTdHJpbmciOmNhc2UiTXVsdGlMaW5lU3RyaW5nIjpjYXNlIlBvbHlnb24iOmNhc2UiTXVsdGlQb2x5Z29uIjpyZXR1cm4gX2kodCxPcih0LGkpKX19LHQubGluZVN0cmluZz1oLHQubGluZVN0cmluZ1RvUG9seWdvbj1DaSx0LmxpbmVTdHJpbmdzPXAsdC5saW5lVG9Qb2x5Z29uPUNpLHQubWFzaz1mdW5jdGlvbih0LGUpe3ZhciBuLHI9aHkoZSksaT1udWxsO3JldHVybiJGZWF0dXJlQ29sbGVjdGlvbiI9PT10LnR5cGU/aT1jeSgyPT09KG49dCkuZmVhdHVyZXMubGVuZ3RoPyR1LnVuaW9uKG4uZmVhdHVyZXNbMF0uZ2VvbWV0cnkuY29vcmRpbmF0ZXMsbi5mZWF0dXJlc1sxXS5nZW9tZXRyeS5jb29yZGluYXRlcyk6JHUudW5pb24uYXBwbHkoJHUsbi5mZWF0dXJlcy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzfSkpKSk6aT1jeSgkdS51bmlvbih0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKSksaS5nZW9tZXRyeS5jb29yZGluYXRlcy5mb3JFYWNoKChmdW5jdGlvbih0KXtyLmdlb21ldHJ5LmNvb3JkaW5hdGVzLnB1c2godFswXSl9KSkscn0sdC5tZXRhPUosdC5taWRwb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiB2bih0LG1lKHQsZSkvMixtbih0LGUpKX0sdC5tb3JhbkluZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5pbnB1dEZpZWxkLHI9ZS50aHJlc2hvbGR8fDFlNSxpPWUucHx8MixvPWUuYmluYXJ5fHwhMSxzPWphKHQse2FscGhhOmUuYWxwaGF8fC0xLGJpbmFyeTpvLHA6aSxzdGFuZGFyZGl6YXRpb246ZS5zdGFuZGFyZGl6YXRpb258fCEwLHRocmVzaG9sZDpyfSksYT1bXTtGKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcGVydGllc3x8e307YS5wdXNoKGVbbl0pfSkpO2Zvcih2YXIgdT1VYShhKSxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1VYSh0KSxuPTAscj0wLGk9dDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtuKz1NYXRoLnBvdyhvLWUsMil9cmV0dXJuIG4vdC5sZW5ndGh9KGEpLGM9MCxoPTAscD0wLGY9MCxnPXMubGVuZ3RoLGQ9MDtkPGc7ZCsrKXtmb3IodmFyIHk9MCx2PTA7djxnO3YrKyljKz1zW2RdW3ZdKihhW2RdLXUpKihhW3ZdLXUpLGgrPXNbZF1bdl0scCs9TWF0aC5wb3coc1tkXVt2XStzW3ZdW2RdLDIpLHkrPXNbZF1bdl0rc1t2XVtkXTtmKz1NYXRoLnBvdyh5LDIpfXZhciBfPWMvaC9sLG09LTEvKGctMSkseD0oZypnKihwKj0uNSktZypmK2gqaCozKS8oKGctMSkqKGcrMSkqKGgqaCkpLW0qbSxFPU1hdGguc3FydCh4KTtyZXR1cm57ZXhwZWN0ZWRNb3JhbkluZGV4Om0sbW9yYW5JbmRleDpfLHN0ZE5vcm06RSx6Tm9ybTooXy1tKS9FfX0sdC5tdWx0aUxpbmVTdHJpbmc9Zyx0Lm11bHRpUG9pbnQ9ZCx0Lm11bHRpUG9seWdvbj15LHQubmVhcmVzdD1Kbix0Lm5lYXJlc3RQb2ludD1Kbix0Lm5lYXJlc3RQb2ludE9uTGluZT1Ucix0Lm5lYXJlc3RQb2ludFRvTGluZT1mdW5jdGlvbih0LGUsbil7dm9pZCAwPT09biYmKG49e30pO3ZhciByPW4udW5pdHMsaT1uLnByb3BlcnRpZXN8fHt9LG89ZnVuY3Rpb24odCl7dmFyIGU9W107c3dpdGNoKHQuZ2VvbWV0cnk/dC5nZW9tZXRyeS50eXBlOnQudHlwZSl7Y2FzZSJHZW9tZXRyeUNvbGxlY3Rpb24iOnJldHVybiBxKHQsKGZ1bmN0aW9uKHQpeyJQb2ludCI9PT10LnR5cGUmJmUucHVzaCh7dHlwZToiRmVhdHVyZSIscHJvcGVydGllczp7fSxnZW9tZXRyeTp0fSl9KSkse3R5cGU6IkZlYXR1cmVDb2xsZWN0aW9uIixmZWF0dXJlczplfTtjYXNlIkZlYXR1cmVDb2xsZWN0aW9uIjpyZXR1cm4gdC5mZWF0dXJlcz10LmZlYXR1cmVzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIlBvaW50Ij09PXQuZ2VvbWV0cnkudHlwZX0pKSx0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJwb2ludHMgbXVzdCBiZSBhIFBvaW50IENvbGxlY3Rpb24iKX19KHQpO2lmKCFvLmZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoInBvaW50cyBtdXN0IGNvbnRhaW4gZmVhdHVyZXMiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoImxpbmUgaXMgcmVxdWlyZWQiKTtpZigiTGluZVN0cmluZyIhPT1pdChlKSl0aHJvdyBuZXcgRXJyb3IoImxpbmUgbXVzdCBiZSBhIExpbmVTdHJpbmciKTt2YXIgcz0xLzAsYT1udWxsO3JldHVybiBGKG8sKGZ1bmN0aW9uKHQpe3ZhciBuPURyKHQsZSx7dW5pdHM6cn0pO248cyYmKHM9bixhPXQpfSkpLGEmJihhLnByb3BlcnRpZXM9Y3Qoe2Rpc3Q6c30sYS5wcm9wZXJ0aWVzLGkpKSxhfSx0LnBsYW5lcG9pbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1LKHQpLHI9cnQoZSkuY29vcmRpbmF0ZXNbMF07aWYoci5sZW5ndGg8NCl0aHJvdyBuZXcgRXJyb3IoIk91dGVyUmluZyBvZiBhIFBvbHlnb24gbXVzdCBoYXZlIDQgb3IgbW9yZSBQb3NpdGlvbnMuIik7dmFyIGk9ZS5wcm9wZXJ0aWVzfHx7fSxvPWkuYSxzPWkuYixhPWkuYyx1PW5bMF0sbD1uWzFdLGM9clswXVswXSxoPXJbMF1bMV0scD12b2lkIDAhPT1vP286clswXVsyXSxmPXJbMV1bMF0sZz1yWzFdWzFdLGQ9dm9pZCAwIT09cz9zOnJbMV1bMl0seT1yWzJdWzBdLHY9clsyXVsxXSxfPXZvaWQgMCE9PWE/YTpyWzJdWzJdO3JldHVybihfKih1LWMpKihsLWcpK3AqKHUtZikqKGwtdikrZCoodS15KSoobC1oKS1kKih1LWMpKihsLXYpLV8qKHUtZikqKGwtaCktcCoodS15KSoobC1nKSkvKCh1LWMpKihsLWcpKyh1LWYpKihsLXYpKyh1LXkpKihsLWgpLSh1LWMpKihsLXYpLSh1LWYpKihsLWgpLSh1LXkpKihsLWcpKX0sdC5wb2ludD1hLHQucG9pbnRHcmlkPXRpLHQucG9pbnRPbkZlYXR1cmU9cXIsdC5wb2ludE9uTGluZT1Ucix0LnBvaW50T25TdXJmYWNlPXFyLHQucG9pbnRUb0xpbmVEaXN0YW5jZT1Ecix0LnBvaW50cz11LHQucG9pbnRzV2l0aGluUG9seWdvbj1fZSx0LnBvbHlnb249bCx0LnBvbHlnb25TbW9vdGg9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXSxyPWUuaXRlcmF0aW9uc3x8MTtpZighdCl0aHJvdyBuZXcgRXJyb3IoImlucHV0UG9seXMgaXMgcmVxdWlyZWQiKTtyZXR1cm4gcSh0LChmdW5jdGlvbih0LGUsaSl7dmFyIG8scyxhO3N3aXRjaCh0LnR5cGUpe2Nhc2UiUG9seWdvbiI6bz1bW11dO2Zvcih2YXIgdT0wO3U8cjt1KyspYT1bW11dLHM9dCx1PjAmJihzPWwobykuZ2VvbWV0cnkpLHFhKHMsYSksbz1hLnNsaWNlKDApO24ucHVzaChsKG8saSkpO2JyZWFrO2Nhc2UiTXVsdGlQb2x5Z29uIjpvPVtbW11dXTtmb3IodmFyIGM9MDtjPHI7YysrKWE9W1tbXV1dLHM9dCxjPjAmJihzPXkobykuZ2VvbWV0cnkpLEJhKHMsYSksbz1hLnNsaWNlKDApO24ucHVzaCh5KG8saSkpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJnZW9tZXRyeSBpcyBpbnZhbGlkLCBtdXN0IGJlIFBvbHlnb24gb3IgTXVsdGlQb2x5Z29uIil9fSkpLGYobil9LHQucG9seWdvblRhbmdlbnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG4scixpLG8scz1RKHQpLHU9UShlKSxsPVooZSksYz0wLGg9bnVsbDtzd2l0Y2goc1swXT5sWzBdJiZzWzBdPGxbMl0mJnNbMV0+bFsxXSYmc1sxXTxsWzNdJiYoYz0oaD1Kbih0LGJuKGUpKSkucHJvcGVydGllcy5mZWF0dXJlSW5kZXgpLGl0KGUpKXtjYXNlIlBvbHlnb24iOm49dVswXVtjXSxyPXVbMF1bMF0sbnVsbCE9PWgmJmguZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV08c1sxXSYmKHI9dVswXVtjXSksbz1YaSh1WzBdWzBdLHVbMF1bdVswXS5sZW5ndGgtMV0scyk7dmFyIHA9VWkodVswXSxzLG8saSxuLHIpO249cFswXSxyPXBbMV07YnJlYWs7Y2FzZSJNdWx0aVBvbHlnb24iOmZvcih2YXIgZz0wLGQ9MCx5PTAsdj0wO3Y8dVswXS5sZW5ndGg7disrKXtnPXY7Zm9yKHZhciBfPSExLG09MDttPHVbMF1bdl0ubGVuZ3RoO20rKyl7aWYoZD1tLHk9PT1jKXtfPSEwO2JyZWFrfXkrK31pZihfKWJyZWFrfW49dVswXVtnXVtkXSxyPXVbMF1bZ11bZF0sbz1YaSh1WzBdWzBdWzBdLHVbMF1bMF1bdVswXVswXS5sZW5ndGgtMV0scyksdS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT1VaSh0WzBdLHMsbyxpLG4scik7bj1lWzBdLHI9ZVsxXX0pKX1yZXR1cm4gZihbYShuKSxhKHIpXSl9LHQucG9seWdvblRvTGluZT1JaSx0LnBvbHlnb25Ub0xpbmVTdHJpbmc9SWksdC5wb2x5Z29uaXplPWZ1bmN0aW9uKHQpe3ZhciBlPWhzLmZyb21HZW9Kc29uKHQpO2UuZGVsZXRlRGFuZ2xlcygpLGUuZGVsZXRlQ3V0RWRnZXMoKTt2YXIgbj1bXSxyPVtdO3JldHVybiBlLmdldEVkZ2VSaW5ncygpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNWYWxpZCgpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuaXNIb2xlKCk/bi5wdXNoKHQpOnIucHVzaCh0KX0pKSxuLmZvckVhY2goKGZ1bmN0aW9uKHQpe2NzLmZpbmRFZGdlUmluZ0NvbnRhaW5pbmcodCxyKSYmci5wdXNoKHQpfSkpLGYoci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvUG9seWdvbigpfSkpKX0sdC5wb2x5Z29ucz1jLHQucHJvamVjdGlvbj1KYSx0LnByb3BFYWNoPUEsdC5wcm9wUmVkdWNlPUQsdC5wcm9wZXJ0aWVzQ29udGFpbnNGaWx0ZXI9bHUsdC5yYWRpYW5zMmRlZ3JlZXM9dyx0LnJhZGlhbnNUb0RlZ3JlZXM9dyx0LnJhZGlhbnNUb0Rpc3RhbmNlPW0sdC5yYWRpYW5zVG9MZW5ndGg9bSx0LnJhbmRvbT1ydSx0LnJhbmRvbUxpbmVTdHJpbmc9dHUsdC5yYW5kb21Qb2ludD1RYSx0LnJhbmRvbVBvbHlnb249JGEsdC5yYW5kb21Qb3NpdGlvbj1LYSx0LnJld2luZD1mdW5jdGlvbih0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS5yZXZlcnNlfHwhMSxyPWUubXV0YXRlfHwhMTtpZighdCl0aHJvdyBuZXcgRXJyb3IoIjxnZW9qc29uPiBpcyByZXF1aXJlZCIpO2lmKCJib29sZWFuIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKCI8cmV2ZXJzZT4gbXVzdCBiZSBhIGJvb2xlYW4iKTtpZigiYm9vbGVhbiIhPXR5cGVvZiByKXRocm93IG5ldyBFcnJvcigiPG11dGF0ZT4gbXVzdCBiZSBhIGJvb2xlYW4iKTshMT09PXImJih0PUllKHQpKTt2YXIgaT1bXTtzd2l0Y2godC50eXBlKXtjYXNlIkdlb21ldHJ5Q29sbGVjdGlvbiI6cmV0dXJuIHEodCwoZnVuY3Rpb24odCl7SGkodCxuKX0pKSx0O2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOnJldHVybiBGKHQsKGZ1bmN0aW9uKHQpe0YoSGkodCxuKSwoZnVuY3Rpb24odCl7aS5wdXNoKHQpfSkpfSkpLGYoaSl9cmV0dXJuIEhpKHQsbil9LHQucmh1bWJCZWFyaW5nPUJpLHQucmh1bWJEZXN0aW5hdGlvbj1qaSx0LnJodW1iRGlzdGFuY2U9QXIsdC5yb3VuZD1fLHQuc2FtcGxlPWZ1bmN0aW9uKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJmZWF0dXJlY29sbGVjdGlvbiBpcyByZXF1aXJlZCIpO2lmKG51bGw9PWUpdGhyb3cgbmV3IEVycm9yKCJudW0gaXMgcmVxdWlyZWQiKTtpZigibnVtYmVyIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJudW0gbXVzdCBiZSBhIG51bWJlciIpO3JldHVybiBmKGZ1bmN0aW9uKHQsZSl7dmFyIG4scixpPXQuc2xpY2UoMCksbz10Lmxlbmd0aCxzPW8tZTtmb3IoO28tLSA+czspbj1pW3I9TWF0aC5mbG9vcigobysxKSpNYXRoLnJhbmRvbSgpKV0saVtyXT1pW29dLGlbb109bjtyZXR1cm4gaS5zbGljZShzKX0odC5mZWF0dXJlcyxlKSl9LHQuc2VjdG9yPWZ1bmN0aW9uKHQsZSxuLHIsaSl7aWYoIVAoaT1pfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbz1pLnByb3BlcnRpZXM7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJjZW50ZXIgaXMgcmVxdWlyZWQiKTtpZihudWxsPT1uKXRocm93IG5ldyBFcnJvcigiYmVhcmluZzEgaXMgcmVxdWlyZWQiKTtpZihudWxsPT1yKXRocm93IG5ldyBFcnJvcigiYmVhcmluZzIgaXMgcmVxdWlyZWQiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoInJhZGl1cyBpcyByZXF1aXJlZCIpO2lmKCJvYmplY3QiIT10eXBlb2YgaSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QiKTtpZihxaShuKT09PXFpKHIpKXJldHVybiBfbih0LGUsaSk7dmFyIHM9USh0KSxhPWJpKHQsZSxuLHIsaSksdT1bW3NdXTtyZXR1cm4gUihhLChmdW5jdGlvbih0KXt1WzBdLnB1c2godCl9KSksdVswXS5wdXNoKHMpLGwodSxvKX0sdC5zZWdtZW50RWFjaD1VLHQuc2VnbWVudFJlZHVjZT1WLHQuc2hvcnRlc3RQYXRoPWZ1bmN0aW9uKHQsZSxuKXtpZighUChuPW58fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciByPW4ucmVzb2x1dGlvbixpPW4ubWluRGlzdGFuY2Uscz1uLm9ic3RhY2xlc3x8ZihbXSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJzdGFydCBpcyByZXF1aXJlZCIpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiZW5kIGlzIHJlcXVpcmVkIik7aWYociYmIUMocil8fHI8PTApdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zLnJlc29sdXRpb24gbXVzdCBiZSBhIG51bWJlciwgZ3JlYXRlciB0aGFuIDAiKTtpZihpKXRocm93IG5ldyBFcnJvcigib3B0aW9ucy5taW5EaXN0YW5jZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIik7dmFyIHU9Syh0KSxsPUsoZSk7c3dpdGNoKHQ9YSh1KSxlPWEobCksaXQocykpe2Nhc2UiRmVhdHVyZUNvbGxlY3Rpb24iOmlmKDA9PT1zLmZlYXR1cmVzLmxlbmd0aClyZXR1cm4gaChbdSxsXSk7YnJlYWs7Y2FzZSJQb2x5Z29uIjpzPWYoW28ocnQocykpXSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoImludmFsaWQgb2JzdGFjbGVzIil9dmFyIGM9cztjLmZlYXR1cmVzLnB1c2godCksYy5mZWF0dXJlcy5wdXNoKGUpO3ZhciBwPVoodHMoZ24oWihjKSksMS4xNSkpO3J8fChyPW1lKFtwWzBdLHBbMV1dLFtwWzJdLHBbMV1dLG4pLzEwMCksYy5mZWF0dXJlcy5wb3AoKSxjLmZlYXR1cmVzLnBvcCgpO2Zvcih2YXIgZz1wWzBdLGQ9cFsxXSx5PXBbMl0sdj1wWzNdLF89ci9tZShbZyxkXSxbeSxkXSxuKSooeS1nKSxtPXIvbWUoW2csZF0sW2csdl0sbikqKHYtZCkseD15LWcsRT12LWQsYj1NYXRoLmZsb29yKHgvXyksdz1NYXRoLmZsb29yKEUvbSksST0oeC1iKl8pLzIsTj1bXSxTPVtdLE09W10sTD1bXSxPPTEvMCxSPTEvMCxUPXYtKEUtdyptKS8yLEE9MDtUPj1kOyl7Zm9yKHZhciBEPVtdLEY9W10saz1nK0ksRz0wO2s8PXk7KXt2YXIgcT1hKFtrLFRdKSxCPUpzKHEscyk7RC5wdXNoKEI/MDoxKSxGLnB1c2goaysifCIrVCk7dmFyIHo9bWUocSx0KTshQiYmejxPJiYoTz16LE09e3g6Ryx5OkF9KTt2YXIgaj1tZShxLGUpOyFCJiZqPFImJihSPWosTD17eDpHLHk6QX0pLGsrPV8sRysrfVMucHVzaChEKSxOLnB1c2goRiksVC09bSxBKyt9dmFyIFU9bmV3IFlzKFMse2RpYWdvbmFsOiEwfSksVj1VLmdyaWRbTS55XVtNLnhdLFg9VS5ncmlkW0wueV1bTC54XSxZPVhzLnNlYXJjaChVLFYsWCksSD1bdV07cmV0dXJuIFkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9Tlt0LnhdW3QueV0uc3BsaXQoInwiKTtILnB1c2goWytlWzBdLCtlWzFdXSl9KSksSC5wdXNoKGwpLHRuKGgoSCkpfSx0LnNpbXBsaWZ5PWZ1bmN0aW9uKHQsZSl7aWYoIVAoZT1lfHx7fSkpdGhyb3cgbmV3IEVycm9yKCJvcHRpb25zIGlzIGludmFsaWQiKTt2YXIgbj12b2lkIDAhPT1lLnRvbGVyYW5jZT9lLnRvbGVyYW5jZToxLHI9ZS5oaWdoUXVhbGl0eXx8ITEsaT1lLm11dGF0ZXx8ITE7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJnZW9qc29uIGlzIHJlcXVpcmVkIik7aWYobiYmbjwwKXRocm93IG5ldyBFcnJvcigiaW52YWxpZCB0b2xlcmFuY2UiKTtyZXR1cm4hMCE9PWkmJih0PUllKHQpKSxxKHQsKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbih0LGUsbil7dmFyIHI9dC50eXBlO2lmKCJQb2ludCI9PT1yfHwiTXVsdGlQb2ludCI9PT1yKXJldHVybiB0O3RuKHQsITApO3ZhciBpPXQuY29vcmRpbmF0ZXM7c3dpdGNoKHIpe2Nhc2UiTGluZVN0cmluZyI6dC5jb29yZGluYXRlcz1sbihpLGUsbik7YnJlYWs7Y2FzZSJNdWx0aUxpbmVTdHJpbmciOnQuY29vcmRpbmF0ZXM9aS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBsbih0LGUsbil9KSk7YnJlYWs7Y2FzZSJQb2x5Z29uIjp0LmNvb3JkaW5hdGVzPWNuKGksZSxuKTticmVhaztjYXNlIk11bHRpUG9seWdvbiI6dC5jb29yZGluYXRlcz1pLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGNuKHQsZSxuKX0pKX19KHQsbixyKX0pKSx0fSx0LnNxdWFyZT15bix0LnNxdWFyZUdyaWQ9cHksdC5zdGFuZGFyZERldmlhdGlvbmFsRWxsaXBzZT1mdW5jdGlvbih0LGUpe2lmKCFQKGU9ZXx8e30pKXRocm93IG5ldyBFcnJvcigib3B0aW9ucyBpcyBpbnZhbGlkIik7dmFyIG49ZS5zdGVwc3x8NjQscj1lLndlaWdodCxpPWUucHJvcGVydGllc3x8e307aWYoIUMobikpdGhyb3cgbmV3IEVycm9yKCJzdGVwcyBtdXN0IGJlIGEgbnVtYmVyIik7aWYoIVAoaSkpdGhyb3cgbmV3IEVycm9yKCJwcm9wZXJ0aWVzIG11c3QgYmUgYSBudW1iZXIiKTt2YXIgbz1HKHQpLmxlbmd0aCxzPUZhKHQse3dlaWdodDpyfSksYT0wLHU9MCxsPTA7Rih0LChmdW5jdGlvbih0KXt2YXIgZT10LnByb3BlcnRpZXNbcl18fDEsbj1HYShRKHQpLFEocykpO2ErPU1hdGgucG93KG4ueCwyKSplLHUrPU1hdGgucG93KG4ueSwyKSplLGwrPW4ueCpuLnkqZX0pKTt2YXIgYz1hLXUsaD1NYXRoLnNxcnQoTWF0aC5wb3coYywyKSs0Kk1hdGgucG93KGwsMikpLHA9MipsLGc9TWF0aC5hdGFuKChjK2gpL3ApLGQ9MTgwKmcvTWF0aC5QSSx5PTAsdj0wLF89MDtGKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQucHJvcGVydGllc1tyXXx8MSxuPUdhKFEodCksUShzKSk7eSs9TWF0aC5wb3cobi54Kk1hdGguY29zKGcpLW4ueSpNYXRoLnNpbihnKSwyKSplLHYrPU1hdGgucG93KG4ueCpNYXRoLnNpbihnKStuLnkqTWF0aC5jb3MoZyksMikqZSxfKz1lfSkpO3ZhciBtPU1hdGguc3FydCgyKnkvXykseD1NYXRoLnNxcnQoMip2L18pLEU9QWEocyxtLHgse3VuaXRzOiJkZWdyZWVzIixhbmdsZTpkLHN0ZXBzOm4scHJvcGVydGllczppfSksYj1fZSh0LGYoW0VdKSksdz17bWVhbkNlbnRlckNvb3JkaW5hdGVzOlEocyksc2VtaU1ham9yQXhpczptLHNlbWlNaW5vckF4aXM6eCxudW1iZXJPZkZlYXR1cmVzOm8sYW5nbGU6ZCxwZXJjZW50YWdlV2l0aGluRWxsaXBzZToxMDAqRyhiKS5sZW5ndGgvb307cmV0dXJuIEUucHJvcGVydGllcy5zdGFuZGFyZERldmlhdGlvbmFsRWxsaXBzZT13LEV9LHQudGFnPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiB0PUllKHQpLGU9SWUoZSksRih0LChmdW5jdGlvbih0KXt0LnByb3BlcnRpZXN8fCh0LnByb3BlcnRpZXM9e30pLEYoZSwoZnVuY3Rpb24oZSl7dm9pZCAwPT09dC5wcm9wZXJ0aWVzW3JdJiZ5ZSh0LGUpJiYodC5wcm9wZXJ0aWVzW3JdPWUucHJvcGVydGllc1tuXSl9KSl9KSksdH0sdC50ZXNzZWxhdGU9ZnVuY3Rpb24odCl7aWYoIXQuZ2VvbWV0cnl8fCJQb2x5Z29uIiE9PXQuZ2VvbWV0cnkudHlwZSYmIk11bHRpUG9seWdvbiIhPT10Lmdlb21ldHJ5LnR5cGUpdGhyb3cgbmV3IEVycm9yKCJpbnB1dCBtdXN0IGJlIGEgUG9seWdvbiBvciBNdWx0aVBvbHlnb24iKTt2YXIgZT17dHlwZToiRmVhdHVyZUNvbGxlY3Rpb24iLGZlYXR1cmVzOltdfTtyZXR1cm4iUG9seWdvbiI9PT10Lmdlb21ldHJ5LnR5cGU/ZS5mZWF0dXJlcz1Xbih0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzKTp0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuZmVhdHVyZXM9ZS5mZWF0dXJlcy5jb25jYXQoV24odCkpfSkpLGV9LHQudGluPXhlLHQudG9NZXJjYXRvcj1WYSx0LnRvV2dzODQ9WGEsdC50cmFuc2Zvcm1Sb3RhdGU9JG8sdC50cmFuc2Zvcm1TY2FsZT10cyx0LnRyYW5zZm9ybVRyYW5zbGF0ZT1mdW5jdGlvbih0LGUsbixyKXtpZighUChyPXJ8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBpPXIudW5pdHMsbz1yLnpUcmFuc2xhdGlvbixzPXIubXV0YXRlO2lmKCF0KXRocm93IG5ldyBFcnJvcigiZ2VvanNvbiBpcyByZXF1aXJlZCIpO2lmKG51bGw9PWV8fGlzTmFOKGUpKXRocm93IG5ldyBFcnJvcigiZGlzdGFuY2UgaXMgcmVxdWlyZWQiKTtpZihvJiYibnVtYmVyIiE9dHlwZW9mIG8mJmlzTmFOKG8pKXRocm93IG5ldyBFcnJvcigielRyYW5zbGF0aW9uIGlzIG5vdCBhIG51bWJlciIpO2lmKG89dm9pZCAwIT09bz9vOjAsMD09PWUmJjA9PT1vKXJldHVybiB0O2lmKG51bGw9PW58fGlzTmFOKG4pKXRocm93IG5ldyBFcnJvcigiZGlyZWN0aW9uIGlzIHJlcXVpcmVkIik7cmV0dXJuIGU8MCYmKGU9LWUsbis9MTgwKSwhMSE9PXMmJnZvaWQgMCE9PXN8fCh0PUllKHQpKSxSKHQsKGZ1bmN0aW9uKHQpe3ZhciByPVEoamkodCxlLG4se3VuaXRzOml9KSk7dFswXT1yWzBdLHRbMV09clsxXSxvJiYzPT09dC5sZW5ndGgmJih0WzJdKz1vKX0pKSx0fSx0LnRyaWFuZ2xlR3JpZD1meSx0LnRydW5jYXRlPWVpLHQudW5pb249ZnVuY3Rpb24odCxlLG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj1ydCh0KSxpPXJ0KGUpLG89JHUudW5pb24oci5jb29yZGluYXRlcyxpLmNvb3JkaW5hdGVzKTtyZXR1cm4gMD09PW8ubGVuZ3RoP251bGw6MT09PW8ubGVuZ3RoP2wob1swXSxuLnByb3BlcnRpZXMpOnkobyxuLnByb3BlcnRpZXMpfSx0LnVuaXRzRmFjdG9ycz1yLHQudW5raW5rUG9seWdvbj1mdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4geih0LChmdW5jdGlvbih0KXsiUG9seWdvbiI9PT10Lmdlb21ldHJ5LnR5cGUmJkYob2kodCksKGZ1bmN0aW9uKG4pe2UucHVzaChsKG4uZ2VvbWV0cnkuY29vcmRpbmF0ZXMsdC5wcm9wZXJ0aWVzKSl9KSl9KSksZihlKX0sdC52YWxpZGF0ZUJCb3g9TSx0LnZhbGlkYXRlSWQ9TCx0LnZvcm9ub2k9ZnVuY3Rpb24odCxlKXtpZighUChlPWV8fHt9KSl0aHJvdyBuZXcgRXJyb3IoIm9wdGlvbnMgaXMgaW52YWxpZCIpO3ZhciBuPWUuYmJveHx8Wy0xODAsLTg1LDE4MCw4NV07aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJwb2ludHMgaXMgcmVxdWlyZWQiKTtpZighQXJyYXkuaXNBcnJheShuKSl0aHJvdyBuZXcgRXJyb3IoImJib3ggaXMgaW52YWxpZCIpO3JldHVybiBudCh0LCJQb2ludCIsInBvaW50cyIpLGYoZnVuY3Rpb24oKXt2YXIgdD1LcyxlPVFzLG49bnVsbDtmdW5jdGlvbiByKHIpe3JldHVybiBuZXcgUmEoci5tYXAoKGZ1bmN0aW9uKG4saSl7dmFyIG89W01hdGgucm91bmQodChuLGkscikvTWEpKk1hLE1hdGgucm91bmQoZShuLGkscikvTWEpKk1hXTtyZXR1cm4gby5pbmRleD1pLG8uZGF0YT1uLG99KSksbil9cmV0dXJuIHIucG9seWdvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHIodCkucG9seWdvbnMoKX0sci5saW5rcz1mdW5jdGlvbih0KXtyZXR1cm4gcih0KS5saW5rcygpfSxyLnRyaWFuZ2xlcz1mdW5jdGlvbih0KXtyZXR1cm4gcih0KS50cmlhbmdsZXMoKX0sci54PWZ1bmN0aW9uKGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0PSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6WnMoK2UpLHIpOnR9LHIueT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT0iZnVuY3Rpb24iPT10eXBlb2YgdD90OlpzKCt0KSxyKTplfSxyLmV4dGVudD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obj1udWxsPT10P251bGw6W1srdFswXVswXSwrdFswXVsxXV0sWyt0WzFdWzBdLCt0WzFdWzFdXV0scik6biYmW1tuWzBdWzBdLG5bMF1bMV1dLFtuWzFdWzBdLG5bMV1bMV1dXX0sci5zaXplPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhuPW51bGw9PXQ/bnVsbDpbWzAsMF0sWyt0WzBdLCt0WzFdXV0scik6biYmW25bMV1bMF0tblswXVswXSxuWzFdWzFdLW5bMF1bMV1dfSxyfSgpLngoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdfSkpLnkoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdfSkpLmV4dGVudChbW25bMF0sblsxXV0sW25bMl0sblszXV1dKS5wb2x5Z29ucyh0LmZlYXR1cmVzKS5tYXAoVGEpKX0sdC53aXRoaW49X2UsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pfSkpOwo="),l.document.getElementsByTagName("head")[0].appendChild(d),l.turf}(),El=null;El=Yl()?Ql:u;var jl=El;function Dl(l){var d=this.__data__=new _(l);this.size=d.size}Dl.prototype.clear=function(){this.__data__=new _,this.size=0},Dl.prototype.delete=function(l){var d=this.__data__,b=d.delete(l);return this.size=d.size,b},Dl.prototype.get=function(l){return this.__data__.get(l)},Dl.prototype.has=function(l){return this.__data__.has(l)},Dl.prototype.set=function(l,d){var b=this.__data__;if(b instanceof _){var c=b.__data__;if(!q||c.length<199)return c.push([l,d]),this.size=++b.size,this;b=this.__data__=new ll(c)}return b.set(l,d),this.size=b.size,this};function Ol(l){var d=-1,b=null==l?0:l.length;for(this.__data__=new ll;++d<b;)this.add(l[d])}function _l(l,d){for(var b=-1,c=null==l?0:l.length;++b<c;)if(d(l[b],b,l))return!0;return!1}function ql(l,d){return l.has(d)}Ol.prototype.add=Ol.prototype.push=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this},Ol.prototype.has=function(l){return this.__data__.has(l)};var $l=1,ld=2;function dd(l,d,b,c,u,Z){var t=b&$l,m=l.length,n=d.length;if(m!=n&&!(t&&n>m))return!1;var i=Z.get(l),a=Z.get(d);if(i&&a)return i==d&&a==l;var X=-1,s=!0,G=b&ld?new Ol:void 0;for(Z.set(l,d),Z.set(d,l);++X<m;){var W=l[X],h=d[X];if(c)var e=t?c(h,W,X,d,l,Z):c(W,h,X,l,d,Z);if(void 0!==e){if(e)continue;s=!1;break}if(G){if(!_l(d,(function(l,d){if(!ql(G,d)&&(W===l||u(W,l,b,c,Z)))return G.push(d)}))){s=!1;break}}else if(W!==h&&!u(W,h,b,c,Z)){s=!1;break}}return Z.delete(l),Z.delete(d),s}var bd=n.Uint8Array;function cd(l){var d=-1,b=Array(l.size);return l.forEach((function(l,c){b[++d]=[c,l]})),b}function ud(l){var d=-1,b=Array(l.size);return l.forEach((function(l){b[++d]=l})),b}var Zd=1,td=2,md="[object Boolean]",nd="[object Date]",id="[object Error]",ad="[object Map]",Xd="[object Number]",sd="[object RegExp]",Gd="[object Set]",Wd="[object String]",hd="[object Symbol]",ed="[object ArrayBuffer]",od="[object DataView]",pd=i?i.prototype:void 0,yd=pd?pd.valueOf:void 0;function Vd(l,d){for(var b=-1,c=d.length,u=l.length;++b<c;)l[u+b]=d[b];return l}function Rd(l,d,b){var c=d(l);return Z(l)?c:Vd(c,b(l))}function Ld(l,d){for(var b=-1,c=null==l?0:l.length,u=0,Z=[];++b<c;){var t=l[b];d(t,b,l)&&(Z[u++]=t)}return Z}function Kd(){return[]}var rd=Object.prototype.propertyIsEnumerable,xd=Object.getOwnPropertySymbols,Sd=xd?function(l){return null==l?[]:(l=Object(l),Ld(xd(l),(function(d){return rd.call(l,d)})))}:Kd,Hd=Sd;function Yd(l){return y(l)&&"[object Arguments]"==p(l)}var gd=Object.prototype,Ad=gd.hasOwnProperty,Cd=gd.propertyIsEnumerable,Id=Yd(function(){return arguments}())?Yd:function(l){return y(l)&&Ad.call(l,"callee")&&!Cd.call(l,"callee")},Jd=Id;var Fd="object"==typeof l&&l&&!l.nodeType&&l,Bd=Fd&&"object"==typeof module&&module&&!module.nodeType&&module,vd=Bd&&Bd.exports===Fd?n.Buffer:void 0,Md=(vd?vd.isBuffer:void 0)||function(){return!1},zd=9007199254740991,Td=/^(?:0|[1-9]\d*)$/;function kd(l,d){var b=typeof l;return!!(d=null==d?zd:d)&&("number"==b||"symbol"!=b&&Td.test(l))&&l>-1&&l%1==0&&l<d}var wd=9007199254740991;function Nd(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=wd}var fd={};function Pd(l){return function(d){return l(d)}}fd["[object Float32Array]"]=fd["[object Float64Array]"]=fd["[object Int8Array]"]=fd["[object Int16Array]"]=fd["[object Int32Array]"]=fd["[object Uint8Array]"]=fd["[object Uint8ClampedArray]"]=fd["[object Uint16Array]"]=fd["[object Uint32Array]"]=!0,fd["[object Arguments]"]=fd["[object Array]"]=fd["[object ArrayBuffer]"]=fd["[object Boolean]"]=fd["[object DataView]"]=fd["[object Date]"]=fd["[object Error]"]=fd["[object Function]"]=fd["[object Map]"]=fd["[object Number]"]=fd["[object Object]"]=fd["[object RegExp]"]=fd["[object Set]"]=fd["[object String]"]=fd["[object WeakMap]"]=!1;var Ud="object"==typeof l&&l&&!l.nodeType&&l,Qd=Ud&&"object"==typeof module&&module&&!module.nodeType&&module,Ed=Qd&&Qd.exports===Ud&&t.process,jd=function(){try{var l=Qd&&Qd.require&&Qd.require("util").types;return l||Ed&&Ed.binding&&Ed.binding("util")}catch(l){}}(),Dd=jd&&jd.isTypedArray,Od=Dd?Pd(Dd):function(l){return y(l)&&Nd(l.length)&&!!fd[p(l)]},_d=Object.prototype.hasOwnProperty;function qd(l,d){var b=Z(l),c=!b&&Jd(l),u=!b&&!c&&Md(l),t=!b&&!c&&!u&&Od(l),m=b||c||u||t,n=m?function(l,d){for(var b=-1,c=Array(l);++b<l;)c[b]=d(b);return c}(l.length,String):[],i=n.length;for(var a in l)!d&&!_d.call(l,a)||m&&("length"==a||u&&("offset"==a||"parent"==a)||t&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||kd(a,i))||n.push(a);return n}var $d=Object.prototype;function lb(l){var d=l&&l.constructor;return l===("function"==typeof d&&d.prototype||$d)}function db(l,d){return function(b){return l(d(b))}}var bb=db(Object.keys,Object),cb=Object.prototype.hasOwnProperty;function ub(l){if(!lb(l))return bb(l);var d=[];for(var b in Object(l))cb.call(l,b)&&"constructor"!=b&&d.push(b);return d}function Zb(l){return null!=l&&Nd(l.length)&&!A(l)}function tb(l){return Zb(l)?qd(l):ub(l)}function mb(l){return Rd(l,tb,Hd)}var nb=1,ib=Object.prototype.hasOwnProperty;var ab=f(n,"DataView"),Xb=f(n,"Promise"),sb=f(n,"Set"),Gb=f(n,"WeakMap"),Wb="[object Map]",hb="[object Promise]",eb="[object Set]",ob="[object WeakMap]",pb="[object DataView]",yb=B(ab),Vb=B(q),Rb=B(Xb),Lb=B(sb),Kb=B(Gb),rb=p;(ab&&rb(new ab(new ArrayBuffer(1)))!=pb||q&&rb(new q)!=Wb||Xb&&rb(Xb.resolve())!=hb||sb&&rb(new sb)!=eb||Gb&&rb(new Gb)!=ob)&&(rb=function(l){var d=p(l),b="[object Object]"==d?l.constructor:void 0,c=b?B(b):"";if(c)switch(c){case yb:return pb;case Vb:return Wb;case Rb:return hb;case Lb:return eb;case Kb:return ob}return d});var xb=rb,Sb=1,Hb="[object Arguments]",Yb="[object Array]",gb="[object Object]",Ab=Object.prototype.hasOwnProperty;function Cb(l,d,b,c,u,t){var m=Z(l),n=Z(d),i=m?Yb:xb(l),a=n?Yb:xb(d),X=(i=i==Hb?gb:i)==gb,s=(a=a==Hb?gb:a)==gb,G=i==a;if(G&&Md(l)){if(!Md(d))return!1;m=!0,X=!1}if(G&&!X)return t||(t=new Dl),m||Od(l)?dd(l,d,b,c,u,t):function(l,d,b,c,u,Z,t){switch(b){case od:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case ed:return!(l.byteLength!=d.byteLength||!Z(new bd(l),new bd(d)));case md:case nd:case Xd:return j(+l,+d);case id:return l.name==d.name&&l.message==d.message;case sd:case Wd:return l==d+"";case ad:var m=cd;case Gd:var n=c&Zd;if(m||(m=ud),l.size!=d.size&&!n)return!1;var i=t.get(l);if(i)return i==d;c|=td,t.set(l,d);var a=dd(m(l),m(d),c,u,Z,t);return t.delete(l),a;case hd:if(yd)return yd.call(l)==yd.call(d)}return!1}(l,d,i,b,c,u,t);if(!(b&Sb)){var W=X&&Ab.call(l,"__wrapped__"),h=s&&Ab.call(d,"__wrapped__");if(W||h){var e=W?l.value():l,o=h?d.value():d;return t||(t=new Dl),u(e,o,b,c,t)}}return!!G&&(t||(t=new Dl),function(l,d,b,c,u,Z){var t=b&nb,m=mb(l),n=m.length;if(n!=mb(d).length&&!t)return!1;for(var i=n;i--;){var a=m[i];if(!(t?a in d:ib.call(d,a)))return!1}var X=Z.get(l),s=Z.get(d);if(X&&s)return X==d&&s==l;var G=!0;Z.set(l,d),Z.set(d,l);for(var W=t;++i<n;){var h=l[a=m[i]],e=d[a];if(c)var o=t?c(e,h,a,d,l,Z):c(h,e,a,l,d,Z);if(!(void 0===o?h===e||u(h,e,b,c,Z):o)){G=!1;break}W||(W="constructor"==a)}if(G&&!W){var p=l.constructor,y=d.constructor;p==y||!("constructor"in l)||!("constructor"in d)||"function"==typeof p&&p instanceof p&&"function"==typeof y&&y instanceof y||(G=!1)}return Z.delete(l),Z.delete(d),G}(l,d,b,c,u,t))}function Ib(l,d,b,c,u){return l===d||(null==l||null==d||!y(l)&&!y(d)?l!=l&&d!=d:Cb(l,d,b,c,Ib,u))}var Jb=1,Fb=2;function Bb(l){return l==l&&!x(l)}function vb(l,d){return function(b){return null!=b&&(b[l]===d&&(void 0!==d||l in Object(b)))}}function Mb(l){var d=function(l){for(var d=tb(l),b=d.length;b--;){var c=d[b],u=l[c];d[b]=[c,u,Bb(u)]}return d}(l);return 1==d.length&&d[0][2]?vb(d[0][0],d[0][1]):function(b){return b===l||function(l,d,b,c){var u=b.length,Z=u,t=!c;if(null==l)return!Z;for(l=Object(l);u--;){var m=b[u];if(t&&m[2]?m[1]!==l[m[0]]:!(m[0]in l))return!1}for(;++u<Z;){var n=(m=b[u])[0],i=l[n],a=m[1];if(t&&m[2]){if(void 0===i&&!(n in l))return!1}else{var X=new Dl;if(c)var s=c(i,a,n,l,d,X);if(!(void 0===s?Ib(a,i,Jb|Fb,c,X):s))return!1}}return!0}(b,l,d)}}function zb(l,d){return null!=l&&d in Object(l)}function Tb(l,d){return null!=l&&function(l,d,b){for(var c=-1,u=(d=el(d,l)).length,t=!1;++c<u;){var m=pl(d[c]);if(!(t=null!=l&&b(l,m)))break;l=l[m]}return t||++c!=u?t:!!(u=null==l?0:l.length)&&Nd(u)&&kd(m,u)&&(Z(l)||Jd(l))}(l,d,zb)}var kb=1,wb=2;function Nb(l){return l}function fb(l){return function(d){return null==d?void 0:d[l]}}function Pb(l){return r(l)?fb(pl(l)):function(l){return function(d){return yl(d,l)}}(l)}function Ub(l){return"function"==typeof l?l:null==l?Nb:"object"==typeof l?Z(l)?(d=l[0],b=l[1],r(d)&&Bb(b)?vb(pl(d),b):function(l){var c=Vl(l,d);return void 0===c&&c===b?Tb(l,d):Ib(b,c,kb|wb)}):Mb(l):Pb(l);var d,b}var Qb,Eb=function(l,d,b){for(var c=-1,u=Object(l),Z=b(l),t=Z.length;t--;){var m=Z[Qb?t:++c];if(!1===d(u[m],m,u))break}return l},jb=Eb;var Db=function(l,d){return function(b,c){if(null==b)return b;if(!Zb(b))return l(b,c);for(var u=b.length,Z=d?u:-1,t=Object(b);(d?Z--:++Z<u)&&!1!==c(t[Z],Z,t););return b}}((function(l,d){return l&&jb(l,d,tb)})),Ob=Db;function _b(l,d){var b=-1,c=Zb(l)?Array(l.length):[];return Ob(l,(function(l,u,Z){c[++b]=d(l,u,Z)})),c}function qb(l,d){return(Z(l)?al:_b)(l,Ub(d))}var $b="[object String]";var lc=fb("length"),dc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function bc(l){return dc.test(l)}var cc="\\ud800-\\udfff",uc="["+cc+"]",Zc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",tc="\\ud83c[\\udffb-\\udfff]",mc="[^"+cc+"]",nc="(?:\\ud83c[\\udde6-\\uddff]){2}",ic="[\\ud800-\\udbff][\\udc00-\\udfff]",ac="(?:"+Zc+"|"+tc+")"+"?",Xc="[\\ufe0e\\ufe0f]?",sc=Xc+ac+("(?:\\u200d(?:"+[mc,nc,ic].join("|")+")"+Xc+ac+")*"),Gc="(?:"+[mc+Zc+"?",Zc,nc,ic,uc].join("|")+")",Wc=RegExp(tc+"(?="+tc+")|"+Gc+sc,"g");function hc(l){return bc(l)?function(l){for(var d=Wc.lastIndex=0;Wc.test(l);)++d;return d}(l):lc(l)}var ec="[object Map]",oc="[object Set]";function pc(l){if(null==l)return 0;if(Zb(l))return"string"==typeof(d=l)||!Z(d)&&y(d)&&p(d)==$b?hc(l):l.length;var d,b=xb(l);return b==ec||b==oc?l.size:ub(l).length}function yc(l){let d=pc(Vl(l,"0",null)),b=pc(Vl(l,"0.0",null));return 2===pc(Vl(l,"0.0.0",null))?3:2===b?2:2===d?1:0===d?0:(console.log("invalid point depth",l),null)}function Vc(l){let d=Vl(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"supposeType");"polygons"!==d&&"ringStrings"!==d&&(d="polygons");let b=yc(l);return 3===b?l:2===b?"polygons"===d?qb(l,(l=>[l])):[l]:1===b?[[l]]:0===b?[]:l}function Rc(l,d){return Ib(l,d)}function Lc(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sl(l)?l=qb(l=Vc(l,d),(l=>l=qb(l,(l=>{let d=pc(l)-1,b=l[0];return Rc(b,l[d])||l.push(b),l})))):null}function Kc(l,d){for(var b=-1,c=null==l?0:l.length;++b<c&&!1!==d(l[b],b,l););return l}function rc(l,d){var b;return(Z(l)?Kc:Ob)(l,"function"==typeof(b=d)?b:Nb)}function xc(l){let d=Vl(l,"geometry.geometries",[]),b=[];return rc(d,(l=>{"Polygon"===l.type?b.push(l.coordinates):"MultiPolygon"===l.type&&rc(l.coordinates,(l=>{b.push(l)}))})),b}function Sc(l){let d=Vl(l,"geometry.type",""),b=Vl(l,"geometry.coordinates",[]);return"Polygon"===d?[b]:"MultiPolygon"===d?b:"GeometryCollection"===d?xc(l):[]}var Hc={};!function(l,d){l.exports=function(){function l(l,d){return l(d={exports:{}},d.exports),d.exports}var d=l((function(l){var d=l.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)})),b=l((function(l){var d=l.exports={version:"2.6.5"};"number"==typeof __e&&(__e=d)}));b.version;var c=function(l){return"object"==typeof l?null!==l:"function"==typeof l},u=function(l){if(!c(l))throw TypeError(l+" is not an object!");return l},Z=function(l){try{return!!l()}catch(l){return!0}},t=!Z((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),m=d.document,n=c(m)&&c(m.createElement),i=function(l){return n?m.createElement(l):{}},a=!t&&!Z((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})),X=function(l,d){if(!c(l))return l;var b,u;if(d&&"function"==typeof(b=l.toString)&&!c(u=b.call(l)))return u;if("function"==typeof(b=l.valueOf)&&!c(u=b.call(l)))return u;if(!d&&"function"==typeof(b=l.toString)&&!c(u=b.call(l)))return u;throw TypeError("Can't convert object to primitive value")},s=Object.defineProperty,G=t?Object.defineProperty:function(l,d,b){if(u(l),d=X(d,!0),u(b),a)try{return s(l,d,b)}catch(l){}if("get"in b||"set"in b)throw TypeError("Accessors not supported!");return"value"in b&&(l[d]=b.value),l},W={f:G},h=function(l,d){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:d}},e=t?function(l,d,b){return W.f(l,d,h(1,b))}:function(l,d,b){return l[d]=b,l},o={}.hasOwnProperty,p=function(l,d){return o.call(l,d)},y=0,V=Math.random(),R=function(l){return"Symbol(".concat(void 0===l?"":l,")_",(++y+V).toString(36))},L=l((function(l){var c="__core-js_shared__",u=d[c]||(d[c]={});(l.exports=function(l,d){return u[l]||(u[l]=void 0!==d?d:{})})("versions",[]).push({version:b.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),K=L("native-function-to-string",Function.toString),r=l((function(l){var c=R("src"),u="toString",Z=(""+K).split(u);b.inspectSource=function(l){return K.call(l)},(l.exports=function(l,b,u,t){var m="function"==typeof u;m&&(p(u,"name")||e(u,"name",b)),l[b]!==u&&(m&&(p(u,c)||e(u,c,l[b]?""+l[b]:Z.join(String(b)))),l===d?l[b]=u:t?l[b]?l[b]=u:e(l,b,u):(delete l[b],e(l,b,u)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[c]||K.call(this)}))})),x=function(l){if("function"!=typeof l)throw TypeError(l+" is not a function!");return l},S=function(l,d,b){if(x(l),void 0===d)return l;switch(b){case 1:return function(b){return l.call(d,b)};case 2:return function(b,c){return l.call(d,b,c)};case 3:return function(b,c,u){return l.call(d,b,c,u)}}return function(){return l.apply(d,arguments)}},H="prototype",Y=function(l,c,u){var Z,t,m,n,i=l&Y.F,a=l&Y.G,X=l&Y.S,s=l&Y.P,G=l&Y.B,W=a?d:X?d[c]||(d[c]={}):(d[c]||{})[H],h=a?b:b[c]||(b[c]={}),o=h[H]||(h[H]={});for(Z in a&&(u=c),u)m=((t=!i&&W&&void 0!==W[Z])?W:u)[Z],n=G&&t?S(m,d):s&&"function"==typeof m?S(Function.call,m):m,W&&r(W,Z,m,l&Y.U),h[Z]!=m&&e(h,Z,n),s&&o[Z]!=m&&(o[Z]=m)};d.core=b,Y.F=1,Y.G=2,Y.S=4,Y.P=8,Y.B=16,Y.W=32,Y.U=64,Y.R=128;var g,A=Y,C=Math.ceil,I=Math.floor,J=function(l){return isNaN(l=+l)?0:(l>0?I:C)(l)},F=function(l){if(null==l)throw TypeError("Can't call method on  "+l);return l},B=(g=!1,function(l,d){var b,c,u=String(F(l)),Z=J(d),t=u.length;return Z<0||Z>=t?g?"":void 0:(b=u.charCodeAt(Z))<55296||b>56319||Z+1===t||(c=u.charCodeAt(Z+1))<56320||c>57343?g?u.charAt(Z):b:g?u.slice(Z,Z+2):c-56320+(b-55296<<10)+65536});A(A.P,"String",{codePointAt:function(l){return B(this,l)}}),b.String.codePointAt;var v=Math.max,M=Math.min,z=function(l,d){return(l=J(l))<0?v(l+d,0):M(l,d)},T=String.fromCharCode,k=String.fromCodePoint;A(A.S+A.F*(!!k&&1!=k.length),"String",{fromCodePoint:function(l){for(var d,b=arguments,c=[],u=arguments.length,Z=0;u>Z;){if(d=+b[Z++],z(d,1114111)!==d)throw RangeError(d+" is not a valid code point");c.push(d<65536?T(d):T(55296+((d-=65536)>>10),d%1024+56320))}return c.join("")}}),b.String.fromCodePoint;var w,N,f,P,U,Q,E,j,D,O,_,q,$,ll,dl={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},bl={isSpaceSeparator:function(l){return"string"==typeof l&&dl.Space_Separator.test(l)},isIdStartChar:function(l){return"string"==typeof l&&(l>="a"&&l<="z"||l>="A"&&l<="Z"||"$"===l||"_"===l||dl.ID_Start.test(l))},isIdContinueChar:function(l){return"string"==typeof l&&(l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||"$"===l||"_"===l||"‌"===l||"‍"===l||dl.ID_Continue.test(l))},isDigit:function(l){return"string"==typeof l&&/[0-9]/.test(l)},isHexDigit:function(l){return"string"==typeof l&&/[0-9A-Fa-f]/.test(l)}},cl=function(l,d){w=String(l),N="start",f=[],P=0,U=1,Q=0,E=void 0,j=void 0,D=void 0;do{E=Zl(),Wl[N]()}while("eof"!==E.type);return"function"==typeof d?ul({"":D},"",d):D};function ul(l,d,b){var c=l[d];if(null!=c&&"object"==typeof c)if(Array.isArray(c))for(var u=0;u<c.length;u++){var Z=String(u),t=ul(c,Z,b);void 0===t?delete c[Z]:Object.defineProperty(c,Z,{value:t,writable:!0,enumerable:!0,configurable:!0})}else for(var m in c){var n=ul(c,m,b);void 0===n?delete c[m]:Object.defineProperty(c,m,{value:n,writable:!0,enumerable:!0,configurable:!0})}return b.call(l,d,c)}function Zl(){for(O="default",_="",q=!1,$=1;;){ll=tl();var l=nl[O]();if(l)return l}}function tl(){if(w[P])return String.fromCodePoint(w.codePointAt(P))}function ml(){var l=tl();return"\n"===l?(U++,Q=0):l?Q+=l.length:Q++,l&&(P+=l.length),l}var nl={default:function(){switch(ll){case"\t":case"\v":case"\f":case" ":case" ":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void ml();case"/":return ml(),void(O="comment");case void 0:return ml(),il("eof")}if(!bl.isSpaceSeparator(ll))return nl[N]();ml()},comment:function(){switch(ll){case"*":return ml(),void(O="multiLineComment");case"/":return ml(),void(O="singleLineComment")}throw ol(ml())},multiLineComment:function(){switch(ll){case"*":return ml(),void(O="multiLineCommentAsterisk");case void 0:throw ol(ml())}ml()},multiLineCommentAsterisk:function(){switch(ll){case"*":return void ml();case"/":return ml(),void(O="default");case void 0:throw ol(ml())}ml(),O="multiLineComment"},singleLineComment:function(){switch(ll){case"\n":case"\r":case"\u2028":case"\u2029":return ml(),void(O="default");case void 0:return ml(),il("eof")}ml()},value:function(){switch(ll){case"{":case"[":return il("punctuator",ml());case"n":return ml(),al("ull"),il("null",null);case"t":return ml(),al("rue"),il("boolean",!0);case"f":return ml(),al("alse"),il("boolean",!1);case"-":case"+":return"-"===ml()&&($=-1),void(O="sign");case".":return _=ml(),void(O="decimalPointLeading");case"0":return _=ml(),void(O="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return _=ml(),void(O="decimalInteger");case"I":return ml(),al("nfinity"),il("numeric",1/0);case"N":return ml(),al("aN"),il("numeric",NaN);case'"':case"'":return q='"'===ml(),_="",void(O="string")}throw ol(ml())},identifierNameStartEscape:function(){if("u"!==ll)throw ol(ml());ml();var l=Gl();switch(l){case"$":case"_":break;default:if(!bl.isIdStartChar(l))throw yl()}_+=l,O="identifierName"},identifierName:function(){switch(ll){case"$":case"_":case"‌":case"‍":return void(_+=ml());case"\\":return ml(),void(O="identifierNameEscape")}if(!bl.isIdContinueChar(ll))return il("identifier",_);_+=ml()},identifierNameEscape:function(){if("u"!==ll)throw ol(ml());ml();var l=Gl();switch(l){case"$":case"_":case"‌":case"‍":break;default:if(!bl.isIdContinueChar(l))throw yl()}_+=l,O="identifierName"},sign:function(){switch(ll){case".":return _=ml(),void(O="decimalPointLeading");case"0":return _=ml(),void(O="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return _=ml(),void(O="decimalInteger");case"I":return ml(),al("nfinity"),il("numeric",$*(1/0));case"N":return ml(),al("aN"),il("numeric",NaN)}throw ol(ml())},zero:function(){switch(ll){case".":return _+=ml(),void(O="decimalPoint");case"e":case"E":return _+=ml(),void(O="decimalExponent");case"x":case"X":return _+=ml(),void(O="hexadecimal")}return il("numeric",0*$)},decimalInteger:function(){switch(ll){case".":return _+=ml(),void(O="decimalPoint");case"e":case"E":return _+=ml(),void(O="decimalExponent")}if(!bl.isDigit(ll))return il("numeric",$*Number(_));_+=ml()},decimalPointLeading:function(){if(bl.isDigit(ll))return _+=ml(),void(O="decimalFraction");throw ol(ml())},decimalPoint:function(){switch(ll){case"e":case"E":return _+=ml(),void(O="decimalExponent")}return bl.isDigit(ll)?(_+=ml(),void(O="decimalFraction")):il("numeric",$*Number(_))},decimalFraction:function(){switch(ll){case"e":case"E":return _+=ml(),void(O="decimalExponent")}if(!bl.isDigit(ll))return il("numeric",$*Number(_));_+=ml()},decimalExponent:function(){switch(ll){case"+":case"-":return _+=ml(),void(O="decimalExponentSign")}if(bl.isDigit(ll))return _+=ml(),void(O="decimalExponentInteger");throw ol(ml())},decimalExponentSign:function(){if(bl.isDigit(ll))return _+=ml(),void(O="decimalExponentInteger");throw ol(ml())},decimalExponentInteger:function(){if(!bl.isDigit(ll))return il("numeric",$*Number(_));_+=ml()},hexadecimal:function(){if(bl.isHexDigit(ll))return _+=ml(),void(O="hexadecimalInteger");throw ol(ml())},hexadecimalInteger:function(){if(!bl.isHexDigit(ll))return il("numeric",$*Number(_));_+=ml()},string:function(){switch(ll){case"\\":return ml(),void(_+=Xl());case'"':return q?(ml(),il("string",_)):void(_+=ml());case"'":return q?void(_+=ml()):(ml(),il("string",_));case"\n":case"\r":throw ol(ml());case"\u2028":case"\u2029":Vl(ll);break;case void 0:throw ol(ml())}_+=ml()},start:function(){switch(ll){case"{":case"[":return il("punctuator",ml())}O="value"},beforePropertyName:function(){switch(ll){case"$":case"_":return _=ml(),void(O="identifierName");case"\\":return ml(),void(O="identifierNameStartEscape");case"}":return il("punctuator",ml());case'"':case"'":return q='"'===ml(),void(O="string")}if(bl.isIdStartChar(ll))return _+=ml(),void(O="identifierName");throw ol(ml())},afterPropertyName:function(){if(":"===ll)return il("punctuator",ml());throw ol(ml())},beforePropertyValue:function(){O="value"},afterPropertyValue:function(){switch(ll){case",":case"}":return il("punctuator",ml())}throw ol(ml())},beforeArrayValue:function(){if("]"===ll)return il("punctuator",ml());O="value"},afterArrayValue:function(){switch(ll){case",":case"]":return il("punctuator",ml())}throw ol(ml())},end:function(){throw ol(ml())}};function il(l,d){return{type:l,value:d,line:U,column:Q}}function al(l){for(var d=0,b=l;d<b.length;d+=1){var c=b[d];if(tl()!==c)throw ol(ml());ml()}}function Xl(){switch(tl()){case"b":return ml(),"\b";case"f":return ml(),"\f";case"n":return ml(),"\n";case"r":return ml(),"\r";case"t":return ml(),"\t";case"v":return ml(),"\v";case"0":if(ml(),bl.isDigit(tl()))throw ol(ml());return"\0";case"x":return ml(),sl();case"u":return ml(),Gl();case"\n":case"\u2028":case"\u2029":return ml(),"";case"\r":return ml(),"\n"===tl()&&ml(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw ol(ml())}return ml()}function sl(){var l="",d=tl();if(!bl.isHexDigit(d))throw ol(ml());if(l+=ml(),d=tl(),!bl.isHexDigit(d))throw ol(ml());return l+=ml(),String.fromCodePoint(parseInt(l,16))}function Gl(){for(var l="",d=4;d-- >0;){var b=tl();if(!bl.isHexDigit(b))throw ol(ml());l+=ml()}return String.fromCodePoint(parseInt(l,16))}var Wl={start:function(){if("eof"===E.type)throw pl();hl()},beforePropertyName:function(){switch(E.type){case"identifier":case"string":return j=E.value,void(N="afterPropertyName");case"punctuator":return void el();case"eof":throw pl()}},afterPropertyName:function(){if("eof"===E.type)throw pl();N="beforePropertyValue"},beforePropertyValue:function(){if("eof"===E.type)throw pl();hl()},beforeArrayValue:function(){if("eof"===E.type)throw pl();"punctuator"!==E.type||"]"!==E.value?hl():el()},afterPropertyValue:function(){if("eof"===E.type)throw pl();switch(E.value){case",":return void(N="beforePropertyName");case"}":el()}},afterArrayValue:function(){if("eof"===E.type)throw pl();switch(E.value){case",":return void(N="beforeArrayValue");case"]":el()}},end:function(){}};function hl(){var l;switch(E.type){case"punctuator":switch(E.value){case"{":l={};break;case"[":l=[]}break;case"null":case"boolean":case"numeric":case"string":l=E.value}if(void 0===D)D=l;else{var d=f[f.length-1];Array.isArray(d)?d.push(l):Object.defineProperty(d,j,{value:l,writable:!0,enumerable:!0,configurable:!0})}if(null!==l&&"object"==typeof l)f.push(l),N=Array.isArray(l)?"beforeArrayValue":"beforePropertyName";else{var b=f[f.length-1];N=null==b?"end":Array.isArray(b)?"afterArrayValue":"afterPropertyValue"}}function el(){f.pop();var l=f[f.length-1];N=null==l?"end":Array.isArray(l)?"afterArrayValue":"afterPropertyValue"}function ol(l){return Ll(void 0===l?"JSON5: invalid end of input at "+U+":"+Q:"JSON5: invalid character '"+Rl(l)+"' at "+U+":"+Q)}function pl(){return Ll("JSON5: invalid end of input at "+U+":"+Q)}function yl(){return Ll("JSON5: invalid identifier character at "+U+":"+(Q-=5))}function Vl(l){console.warn("JSON5: '"+Rl(l)+"' in strings is not valid ECMAScript; consider escaping")}function Rl(l){var d={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(d[l])return d[l];if(l<" "){var b=l.charCodeAt(0).toString(16);return"\\x"+("00"+b).substring(b.length)}return l}function Ll(l){var d=new SyntaxError(l);return d.lineNumber=U,d.columnNumber=Q,d}var Kl=function(l,d,b){var c,u,Z,t=[],m="",n="";if(null==d||"object"!=typeof d||Array.isArray(d)||(b=d.space,Z=d.quote,d=d.replacer),"function"==typeof d)u=d;else if(Array.isArray(d)){c=[];for(var i=0,a=d;i<a.length;i+=1){var X=a[i],s=void 0;"string"==typeof X?s=X:("number"==typeof X||X instanceof String||X instanceof Number)&&(s=String(X)),void 0!==s&&c.indexOf(s)<0&&c.push(s)}}return b instanceof Number?b=Number(b):b instanceof String&&(b=String(b)),"number"==typeof b?b>0&&(b=Math.min(10,Math.floor(b)),n="          ".substr(0,b)):"string"==typeof b&&(n=b.substr(0,10)),G("",{"":l});function G(l,d){var b=d[l];switch(null!=b&&("function"==typeof b.toJSON5?b=b.toJSON5(l):"function"==typeof b.toJSON&&(b=b.toJSON(l))),u&&(b=u.call(d,l,b)),b instanceof Number?b=Number(b):b instanceof String?b=String(b):b instanceof Boolean&&(b=b.valueOf()),b){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof b?W(b):"number"==typeof b?String(b):"object"==typeof b?Array.isArray(b)?o(b):h(b):void 0}function W(l){for(var d={"'":.1,'"':.2},b={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},c="",u=0;u<l.length;u++){var t=l[u];switch(t){case"'":case'"':d[t]++,c+=t;continue;case"\0":if(bl.isDigit(l[u+1])){c+="\\x00";continue}}if(b[t])c+=b[t];else if(t<" "){var m=t.charCodeAt(0).toString(16);c+="\\x"+("00"+m).substring(m.length)}else c+=t}var n=Z||Object.keys(d).reduce((function(l,b){return d[l]<d[b]?l:b}));return n+(c=c.replace(new RegExp(n,"g"),b[n]))+n}function h(l){if(t.indexOf(l)>=0)throw TypeError("Converting circular structure to JSON5");t.push(l);var d=m;m+=n;for(var b,u,Z=[],i=0,a=c||Object.keys(l);i<a.length;i+=1){var X=a[i],s=G(X,l);if(void 0!==s){var W=e(X)+":";""!==n&&(W+=" "),W+=s,Z.push(W)}}if(0===Z.length)b="{}";else if(""===n)b="{"+(u=Z.join(","))+"}";else{var h=",\n"+m;u=Z.join(h),b="{\n"+m+u+",\n"+d+"}"}return t.pop(),m=d,b}function e(l){if(0===l.length)return W(l);var d=String.fromCodePoint(l.codePointAt(0));if(!bl.isIdStartChar(d))return W(l);for(var b=d.length;b<l.length;b++)if(!bl.isIdContinueChar(String.fromCodePoint(l.codePointAt(b))))return W(l);return l}function o(l){if(t.indexOf(l)>=0)throw TypeError("Converting circular structure to JSON5");t.push(l);var d=m;m+=n;for(var b,c=[],u=0;u<l.length;u++){var Z=G(String(u),l);c.push(void 0!==Z?Z:"null")}if(0===c.length)b="[]";else if(""===n)b="["+c.join(",")+"]";else{var i=",\n"+m,a=c.join(i);b="[\n"+m+a+",\n"+d+"]"}return t.pop(),m=d,b}},rl={parse:cl,stringify:Kl},xl=rl;return xl}()}({get exports(){return Hc},set exports(l){Hc=l}});var Yc=Hc;function gc(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=Vl(d,"key","");Hl(b)||(b="");let c,u=Vl(d,"def","");Hl(u)||(u="unknow"),c=Hl(l)?Yc.parse(l):l,c=jl.multiPolygon(c);let Z=Vl(c,"geometry.coordinates.features",[]);if(!Sl(Z))throw new Error("features of geojson is not an effective array");let t={};return rc(Z,(l=>{let d="";Hl(b)&&(d=Vl(l,b,"")),Hl(d)?t[d]=l:Hl(u)?t[u]=l:(console.log("feature",l),console.log("key",b),console.log("def",u),console.log(`can not get key[${b}] in the feature, or invalid opt.key or invalid opt.def`))})),t}var Ac=/\s/;var Cc=/^\s+/;function Ic(l){return l?l.slice(0,function(l){for(var d=l.length;d--&&Ac.test(l.charAt(d)););return d}(l)+1).replace(Cc,""):l}var Jc=NaN,Fc=/^[-+]0x[0-9a-f]+$/i,Bc=/^0b[01]+$/i,vc=/^0o[0-7]+$/i,Mc=parseInt;function zc(l){if("number"==typeof l)return l;if(R(l))return Jc;if(x(l)){var d="function"==typeof l.valueOf?l.valueOf():l;l=x(d)?d+"":d}if("string"!=typeof l)return 0===l?l:+l;l=Ic(l);var b=Bc.test(l);return b||vc.test(l)?Mc(l.slice(2),b?2:8):Fc.test(l)?Jc:+l}var Tc=1/0,kc=17976931348623157e292;function wc(l){return l?(l=zc(l))===Tc||l===-Tc?(l<0?-1:1)*kc:l==l?l:0:0===l?l:0}function Nc(l){if(!fl(l))return 0;return wc(l)}function fc(l){if(Ll(l)){for(let d in l)return!0;return!1}return!1}function Pc(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Sl(l)&&!fc(l))return{};let b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyY");Hl(c)||(c="y");let u="",Z="";return Sl(l)?(u=Vl(l,0,""),Z=Vl(l,1,"")):fc(l)&&(u=Vl(l,b,""),Z=Vl(l,c,"")),fl(u)&&fl(Z)?(u=Nc(u),Z=Nc(Z),{x:u,y:Z}):{}}function Uc(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Pc(l,b);if(!fc(c))throw new Error("p need to be [x,y] or {x,y}");let u=Vl(c,"x","");if(!fl(u))throw new Error("p[0] or p.x is not an effective number");u=Nc(u);let Z=Vl(c,"y","");if(!fl(Z))throw new Error("p[1] or p.y is not an effective number");if(Z=Nc(Z),!fc(d))throw new Error("kpFt is not an effective object");let t=Vl(b,"def","");Hl(t)||(t="unknow"),l=jl.point([u,Z]);let m="";return rc(d,((d,b)=>{if(!fc(d))return!0;return jl.booleanPointInPolygon(l,d)?(m=b,!1):void 0})),Hl(m)||(m=t),m}function Qc(l){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Qc(l)}function Ec(l){var d=function(l,d){if("object"!==Qc(l)||null===l)return l;var b=l[Symbol.toPrimitive];if(void 0!==b){var c=b.call(l,d||"default");if("object"!==Qc(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===Qc(d)?d:String(d)}function jc(l,d,b){return(d=Ec(d))in l?Object.defineProperty(l,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[d]=b,l}var Dc="[object Boolean]";function Oc(l){return!0===(d=l)||!1===d||y(d)&&p(d)==Dc;var d}function _c(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Pc(l,b);if(!fc(c))throw new Error("p need to be [x,y] or {x,y}");let u=Vl(c,"x","");if(!fl(u))throw new Error("p[0] or p.x is not an effective number");u=Nc(u);let Z=Vl(c,"y","");if(!fl(Z))throw new Error("p[1] or p.y is not an effective number");if(Z=Nc(Z),!fc(d))throw new Error("kpPgs is not an effective object");let t=Vl(b,"def","");Hl(t)||(t="unknow");let m=Vl(b,"toTurfMultiPolygon");Oc(m)||(m=!0),l=jl.point([u,Z]);let n="";return rc(d,((d,c)=>{let t=Vl(d,"box",{});if(!fc(t))return!0;let i=Vl(d,"pgs",[]);return!Sl(i)&&!fc(i)||(m&&(Sl(i)&&(i=Vc(i,b)),i=jl.helpers.multiPolygon(i)),u<t.xmin||u>t.xmax||Z<t.ymin||Z>t.ymax||(jl.booleanPointInPolygon(l,i)?(n=c,!1):void 0))})),Hl(n)||(n=t),n}function qc(l,d){var b=Object.keys(l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(l);d&&(c=c.filter((function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),b.push.apply(b,c)}return b}function $c(l){for(var d=1;d<arguments.length;d++){var b=null!=arguments[d]?arguments[d]:{};d%2?qc(Object(b),!0).forEach((function(d){jc(l,d,b[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(b)):qc(Object(b)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(b,d))}))}return l}function lu(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Pc(l,b);if(!fc(c))throw new Error("p need to be [x,y] or {x,y}");let u=Vl(c,"x","");if(!fl(u))throw new Error("p[0] or p.x is not an effective number");u=Nc(u);let Z=Vl(c,"y","");if(!fl(Z))throw new Error("p[1] or p.y is not an effective number");if(Z=Nc(Z),!fc(d))throw new Error("kpPgs is not an effective object");let t=Vl(b,"def","");Hl(t)||(t="unknow");let m=Vl(b,"toTurfMultiPolygon");Oc(m)||(m=!0),l=jl.point([u,Z]);let n="";return rc(d,((d,c)=>{if(!Sl(d)&&!fc(d))return!0;return m&&(Sl(d)&&(d=Vc(d,b)),d=jl.helpers.multiPolygon(d)),jl.booleanPointInPolygon(l,d)?(n=c,!1):void 0})),Hl(n)||(n=t),n}function du(l){var d=wc(l),b=d%1;return d==d?b?d-b:d:0}var bu=n.isFinite,cu=Math.min;function uu(l){var d=Math[l];return function(l,b){if(l=zc(l),(b=null==b?0:cu(du(b),292))&&bu(l)){var c=(hl(l)+"e").split("e");return+((c=(hl(d(c[0]+"e"+(+c[1]+b)))+"e").split("e"))[0]+"e"+(+c[1]-b))}return d(l)}}var Zu=uu("floor");function tu(l){return function(d){for(var b=arguments.length,c=new Array(b>1?b-1:0),u=1;u<b;u++)c[u-1]=arguments[u];return nu(l,d,c)}}function mu(l,d){return tu(su(l,d).get)}const{apply:nu,construct:iu,defineProperty:au,get:Xu,getOwnPropertyDescriptor:su,getPrototypeOf:Gu,has:Wu,ownKeys:hu,set:eu,setPrototypeOf:ou}=Reflect,{iterator:pu,species:yu,toStringTag:Vu,for:Ru}=Symbol,Lu=Object,{create:Ku,defineProperty:ru,freeze:xu,is:Su}=Lu,Hu=Array.prototype[pu],Yu=tu(Hu),gu=ArrayBuffer;mu(gu.prototype,"byteLength");const Au="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:null;Au&&mu(Au.prototype,"byteLength");const Cu=Gu(Uint8Array);Cu.from;const Iu=Cu.prototype;Iu[pu],tu(Iu.keys),tu(Iu.values),tu(Iu.entries),tu(Iu.set),tu(Iu.reverse),tu(Iu.fill),tu(Iu.copyWithin),tu(Iu.sort),tu(Iu.slice),tu(Iu.subarray),mu(Iu,"buffer"),mu(Iu,"byteOffset"),mu(Iu,"length"),mu(Iu,Vu);const Ju=Uint8Array,Fu=Uint16Array,Bu=Uint32Array,vu=Float32Array,Mu=Gu([][pu]()),zu=tu(Mu.next),Tu=tu(function*(){}().next),ku=Gu(Mu),wu=tu(DataView.prototype.getUint16),Nu=WeakMap,fu=Nu.prototype,Pu=tu(fu.get),Uu=tu(fu.set),Qu=new Nu,Eu=Ku(null,{next:{value:function(){const l=Pu(Qu,this);return zu(l)}},[pu]:{value:function(){return this}}});const ju=new Nu,Du=Ku(ku,{next:{value:function(){const l=Pu(ju,this);return Tu(l)},writable:!0,configurable:!0}});for(const l of hu(Mu))"next"!==l&&ru(Du,l,su(Mu,l));const Ou=new gu(4),_u=new vu(Ou),qu=new Bu(Ou),$u=new Fu(512),lZ=new Ju(512);for(let l=0;l<256;++l){const d=l-127;d<-24?($u[l]=0,$u[256|l]=32768,lZ[l]=24,lZ[256|l]=24):d<-14?($u[l]=1024>>-d-14,$u[256|l]=1024>>-d-14|32768,lZ[l]=-d-1,lZ[256|l]=-d-1):d<=15?($u[l]=d+15<<10,$u[256|l]=d+15<<10|32768,lZ[l]=13,lZ[256|l]=13):d<128?($u[l]=31744,$u[256|l]=64512,lZ[l]=24,lZ[256|l]=24):($u[l]=31744,$u[256|l]=64512,lZ[l]=13,lZ[256|l]=13)}const dZ=new Bu(2048);for(let l=1;l<1024;++l){let d=l<<13,b=0;for(;0==(8388608&d);)d<<=1,b-=8388608;d&=-8388609,b+=947912704,dZ[l]=d|b}for(let l=1024;l<2048;++l)dZ[l]=939524096+(l-1024<<13);const bZ=new Bu(64);for(let l=1;l<31;++l)bZ[l]=l<<23;bZ[31]=1199570944,bZ[32]=2147483648;for(let l=33;l<63;++l)bZ[l]=2147483648+(l-32<<23);bZ[63]=3347054592;const cZ=new Fu(64);for(let l=1;l<64;++l)32!==l&&(cZ[l]=1024);function uZ(l,d){for(var b=arguments.length,c=new Array(b>2?b-2:0),u=2;u<b;u++)c[u-2]=arguments[u];return function(l){const d=l>>10;return qu[0]=dZ[cZ[d]+(1023&l)]+bZ[d],_u[0]}(wu(l,d,...function(l){if(l[pu]===Hu&&Mu.next===zu)return l;const d=Ku(Eu);return Uu(Qu,d,Yu(l)),d}(c)))}var ZZ={};function tZ(l,d,b){const c=b&&b.debug||!1;c&&console.log("[xml-utils] getting "+d+" in "+l);const u="object"==typeof l?l.outer:l,Z=u.slice(0,u.indexOf(">")+1),t=['"',"'"];for(let l=0;l<t.length;l++){const b=t[l],u=d+"\\="+b+"([^"+b+"]*)"+b;c&&console.log("[xml-utils] pattern:",u);const m=new RegExp(u).exec(Z);if(c&&console.log("[xml-utils] match:",m),m)return m[1]}}({get exports(){return ZZ},set exports(l){ZZ=l}}).exports=tZ,ZZ.default=tZ;var mZ={},nZ={get exports(){return mZ},set exports(l){mZ=l}},iZ={},aZ={get exports(){return iZ},set exports(l){iZ=l}},XZ={};function sZ(l,d,b){const c=new RegExp(d).exec(l.slice(b));return c?b+c.index:-1}({get exports(){return XZ},set exports(l){XZ=l}}).exports=sZ,XZ.default=sZ;var GZ={};function WZ(l,d,b){const c=new RegExp(d).exec(l.slice(b));return c?b+c.index+c[0].length-1:-1}({get exports(){return GZ},set exports(l){GZ=l}}).exports=WZ,GZ.default=WZ;var hZ={};function eZ(l,d){const b=new RegExp(d,"g"),c=l.match(b);return c?c.length:0}({get exports(){return hZ},set exports(l){hZ=l}}).exports=eZ,hZ.default=eZ;const oZ=XZ,pZ=GZ,yZ=hZ;function VZ(l,d,b){const c=b&&b.debug||!1,u=!(b&&!1===typeof b.nested),Z=b&&b.startIndex||0;c&&console.log("[xml-utils] starting findTagByName with",d," and ",b);const t=oZ(l,`<${d}[ \n>/]`,Z);if(c&&console.log("[xml-utils] start:",t),-1===t)return;const m=l.slice(t+d.length);let n=pZ(m,"^[^<]*[ /]>",0);const i=-1!==n&&"/"===m[n-1];if(c&&console.log("[xml-utils] selfClosing:",i),!1===i)if(u){let l=0,b=1,c=0;for(;-1!==(n=pZ(m,"[ /]"+d+">",l));){const u=m.substring(l,n+1);if(b+=yZ(u,"<"+d+"[ \n\t>]"),c+=yZ(u,"</"+d+">"),c>=b)break;l=n}}else n=pZ(m,"[ /]"+d+">",0);const a=t+d.length+n+1;if(c&&console.log("[xml-utils] end:",a),-1===a)return;const X=l.slice(t,a);let s;return s=i?null:X.slice(X.indexOf(">")+1,X.lastIndexOf("<")),{inner:s,outer:X,start:t,end:a}}aZ.exports=VZ,iZ.default=VZ;const RZ=iZ;function LZ(l,d,b){const c=[],u=b&&b.debug||!1,Z=!b||"boolean"!=typeof b.nested||b.nested;let t,m=b&&b.startIndex||0;for(;t=RZ(l,d,{debug:u,startIndex:m});)m=Z?t.start+1+d.length:t.end,c.push(t);return u&&console.log("findTagsByName found",c.length,"tags"),c}nZ.exports=LZ,mZ.default=LZ;const KZ={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},rZ={};for(const l in KZ)KZ.hasOwnProperty(l)&&(rZ[KZ[l]]=parseInt(l,10));const xZ=[rZ.BitsPerSample,rZ.ExtraSamples,rZ.SampleFormat,rZ.StripByteCounts,rZ.StripOffsets,rZ.StripRowCounts,rZ.TileByteCounts,rZ.TileOffsets,rZ.SubIFDs],SZ={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},HZ={};for(const l in SZ)SZ.hasOwnProperty(l)&&(HZ[SZ[l]]=parseInt(l,10));const YZ=0,gZ=1,AZ=2,CZ=3,IZ=5,JZ=6,FZ=8,BZ=0,vZ=1,MZ=0,zZ=1,TZ=2,kZ={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};const wZ=new Map;function NZ(l,d){Array.isArray(l)||(l=[l]),l.forEach((l=>wZ.set(l,d)))}function fZ(l,d,b){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return new(Object.getPrototypeOf(l).constructor)(d*b*c)}function PZ(l,d,b){return(1-b)*l+b*d}function UZ(l,d,b,c,u){let Z=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"nearest";switch(Z.toLowerCase()){case"nearest":return function(l,d,b,c,u){const Z=d/c,t=b/u;return l.map((l=>{const m=fZ(l,c,u);for(let n=0;n<u;++n){const u=Math.min(Math.round(t*n),b-1);for(let b=0;b<c;++b){const t=Math.min(Math.round(Z*b),d-1),i=l[u*d+t];m[n*c+b]=i}}return m}))}(l,d,b,c,u);case"bilinear":case"linear":return function(l,d,b,c,u){const Z=d/c,t=b/u;return l.map((l=>{const m=fZ(l,c,u);for(let n=0;n<u;++n){const u=t*n,i=Math.floor(u),a=Math.min(Math.ceil(u),b-1);for(let b=0;b<c;++b){const t=Z*b,X=t%1,s=Math.floor(t),G=Math.min(Math.ceil(t),d-1),W=l[i*d+s],h=l[i*d+G],e=l[a*d+s],o=l[a*d+G],p=PZ(PZ(W,h,X),PZ(e,o,X),u%1);m[n*c+b]=p}}return m}))}(l,d,b,c,u);default:throw new Error(`Unsupported resampling method: '${Z}'`)}}function QZ(l,d,b,c,u,Z){let t=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"nearest";switch(t.toLowerCase()){case"nearest":return function(l,d,b,c,u,Z){const t=d/c,m=b/u,n=fZ(l,c,u,Z);for(let i=0;i<u;++i){const u=Math.min(Math.round(m*i),b-1);for(let b=0;b<c;++b){const m=Math.min(Math.round(t*b),d-1);for(let t=0;t<Z;++t){const a=l[u*d*Z+m*Z+t];n[i*c*Z+b*Z+t]=a}}}return n}(l,d,b,c,u,Z);case"bilinear":case"linear":return function(l,d,b,c,u,Z){const t=d/c,m=b/u,n=fZ(l,c,u,Z);for(let i=0;i<u;++i){const u=m*i,a=Math.floor(u),X=Math.min(Math.ceil(u),b-1);for(let b=0;b<c;++b){const m=t*b,s=m%1,G=Math.floor(m),W=Math.min(Math.ceil(m),d-1);for(let t=0;t<Z;++t){const m=l[a*d*Z+G*Z+t],h=l[a*d*Z+W*Z+t],e=l[X*d*Z+G*Z+t],o=l[X*d*Z+W*Z+t],p=PZ(PZ(m,h,s),PZ(e,o,s),u%1);n[i*c*Z+b*Z+t]=p}}}return n}(l,d,b,c,u,Z);default:throw new Error(`Unsupported resampling method: '${t}'`)}}function EZ(l,d,b){let c=0;for(let u=d;u<b;++u)c+=l[u];return c}function jZ(l,d,b){switch(l){case 1:if(d<=8)return new Uint8Array(b);if(d<=16)return new Uint16Array(b);if(d<=32)return new Uint32Array(b);break;case 2:if(8===d)return new Int8Array(b);if(16===d)return new Int16Array(b);if(32===d)return new Int32Array(b);break;case 3:switch(d){case 16:case 32:return new Float32Array(b);case 64:return new Float64Array(b)}}throw Error("Unsupported data format/bitsPerSample")}NZ([void 0,1],(()=>Promise.resolve().then((function(){return co})).then((l=>l.default)))),NZ(5,(()=>Promise.resolve().then((function(){return mo})).then((l=>l.default)))),NZ(6,(()=>{throw new Error("old style JPEG compression is not supported.")})),NZ(7,(()=>Promise.resolve().then((function(){return Ro})).then((l=>l.default)))),NZ([8,32946],(()=>Promise.resolve().then((function(){return MV})).then((l=>l.default)))),NZ(32773,(()=>Promise.resolve().then((function(){return zV})).then((l=>l.default)))),NZ(34887,(()=>Promise.resolve().then((function(){return QV})).then((async l=>(await l.zstd.init(),l))).then((l=>l.default)))),NZ(50001,(()=>Promise.resolve().then((function(){return EV})).then((l=>l.default))));var DZ=class{constructor(l,d,b,c,u,Z){this.fileDirectory=l,this.geoKeys=d,this.dataView=b,this.littleEndian=c,this.tiles=u?{}:null,this.isTiled=!l.StripOffsets;const t=l.PlanarConfiguration;if(this.planarConfiguration=void 0===t?1:t,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");this.source=Z}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return void 0!==this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:void 0!==this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(l){return this.isTiled||(l+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-l*this.getTileHeight()}getBytesPerPixel(){let l=0;for(let d=0;d<this.fileDirectory.BitsPerSample.length;++d)l+=this.getSampleByteSize(d);return l}getSampleByteSize(l){if(l>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${l} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[l]/8)}getReaderForSample(l){const d=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[l]:1,b=this.fileDirectory.BitsPerSample[l];switch(d){case 1:if(b<=8)return DataView.prototype.getUint8;if(b<=16)return DataView.prototype.getUint16;if(b<=32)return DataView.prototype.getUint32;break;case 2:if(b<=8)return DataView.prototype.getInt8;if(b<=16)return DataView.prototype.getInt16;if(b<=32)return DataView.prototype.getInt32;break;case 3:switch(b){case 16:return function(l,d){return uZ(this,l,d)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[l]:1}getBitsPerSample(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.fileDirectory.BitsPerSample[l]}getArrayForSample(l,d){return jZ(this.getSampleFormat(l),this.getBitsPerSample(l),d)}async getTileOrStrip(l,d,b,c,u){const Z=Math.ceil(this.getWidth()/this.getTileWidth()),t=Math.ceil(this.getHeight()/this.getTileHeight());let m;const{tiles:n}=this;let i,a;1===this.planarConfiguration?m=d*Z+l:2===this.planarConfiguration&&(m=b*Z*t+d*Z+l),this.isTiled?(i=this.fileDirectory.TileOffsets[m],a=this.fileDirectory.TileByteCounts[m]):(i=this.fileDirectory.StripOffsets[m],a=this.fileDirectory.StripByteCounts[m]);const X=(await this.source.fetch([{offset:i,length:a}],u))[0];let s;return null!==n&&n[m]?s=n[m]:(s=(async()=>{let l=await c.decode(this.fileDirectory,X);const b=this.getSampleFormat(),u=this.getBitsPerSample();return function(l,d){return(1!==l&&2!==l||!(d<=32)||d%8!=0)&&(3!==l||16!==d&&32!==d&&64!==d)}(b,u)&&(l=function(l,d,b,c,u,Z,t){const m=new DataView(l),n=2===b?1:c,i=jZ(d,u,2===b?t*Z:t*Z*c),a=parseInt("1".repeat(u),2);if(1===d){let l;l=1===b?c*u:u;let d=Z*l;0!=(7&d)&&(d=d+7&-8);for(let l=0;l<t;++l){const b=l*d;for(let d=0;d<Z;++d){const c=b+d*n*u;for(let b=0;b<n;++b){const t=c+b*u,X=(l*Z+d)*n+b,s=Math.floor(t/8),G=t%8;if(G+u<=8)i[X]=m.getUint8(s)>>8-u-G&a;else if(G+u<=16)i[X]=m.getUint16(s)>>16-u-G&a;else if(G+u<=24){const l=m.getUint16(s)<<8|m.getUint8(s+2);i[X]=l>>24-u-G&a}else i[X]=m.getUint32(s)>>32-u-G&a}}}}return i.buffer}(l,b,this.planarConfiguration,this.getSamplesPerPixel(),u,this.getTileWidth(),this.getBlockHeight(d))),l})(),null!==n&&(n[m]=s)),{x:l,y:d,sample:b,data:await s}}async _readRaster(l,d,b,c,u,Z,t,m,n){const i=this.getTileWidth(),a=this.getTileHeight(),X=this.getWidth(),s=this.getHeight(),G=Math.max(Math.floor(l[0]/i),0),W=Math.min(Math.ceil(l[2]/i),Math.ceil(X/i)),h=Math.max(Math.floor(l[1]/a),0),e=Math.min(Math.ceil(l[3]/a),Math.ceil(s/a)),o=l[2]-l[0];let p=this.getBytesPerPixel();const y=[],V=[];for(let l=0;l<d.length;++l)1===this.planarConfiguration?y.push(EZ(this.fileDirectory.BitsPerSample,0,d[l])/8):y.push(0),V.push(this.getReaderForSample(d[l]));const R=[],{littleEndian:L}=this;for(let Z=h;Z<e;++Z)for(let t=G;t<W;++t){let m;1===this.planarConfiguration&&(m=this.getTileOrStrip(t,Z,0,u,n));for(let G=0;G<d.length;++G){const W=G,h=d[G];2===this.planarConfiguration&&(p=this.getSampleByteSize(h),m=this.getTileOrStrip(t,Z,h,u,n));const e=m.then((u=>{const Z=u.data,t=new DataView(Z),m=this.getBlockHeight(u.y),n=u.y*a,G=u.x*i,h=n+m,e=(u.x+1)*i,R=V[W],K=Math.min(m,m-(h-l[3]),s-n),r=Math.min(i,i-(e-l[2]),X-G);for(let u=Math.max(0,l[1]-n);u<K;++u)for(let Z=Math.max(0,l[0]-G);Z<r;++Z){const m=(u*i+Z)*p,a=R.call(t,m+y[W],L);let X;c?(X=(u+n-l[1])*o*d.length+(Z+G-l[0])*d.length+W,b[X]=a):(X=(u+n-l[1])*o+Z+G-l[0],b[W][X]=a)}}));R.push(e)}}if(await Promise.all(R),Z&&l[2]-l[0]!==Z||t&&l[3]-l[1]!==t){let u;return u=c?QZ(b,l[2]-l[0],l[3]-l[1],Z,t,d.length,m):UZ(b,l[2]-l[0],l[3]-l[1],Z,t,m),u.width=Z,u.height=t,u}return b.width=Z||l[2]-l[0],b.height=t||l[3]-l[1],b}async readRasters(){let{window:l,samples:d=[],interleave:b,pool:c=null,width:u,height:Z,resampleMethod:t,fillValue:m,signal:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=l||[0,0,this.getWidth(),this.getHeight()];if(i[0]>i[2]||i[1]>i[3])throw new Error("Invalid subsets");const a=(i[2]-i[0])*(i[3]-i[1]),X=this.getSamplesPerPixel();if(d&&d.length){for(let l=0;l<d.length;++l)if(d[l]>=X)return Promise.reject(new RangeError(`Invalid sample index '${d[l]}'.`))}else for(let l=0;l<X;++l)d.push(l);let s;if(b){s=jZ(this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,Math.max.apply(null,this.fileDirectory.BitsPerSample),a*d.length),m&&s.fill(m)}else{s=[];for(let l=0;l<d.length;++l){const b=this.getArrayForSample(d[l],a);Array.isArray(m)&&l<m.length?b.fill(m[l]):m&&!Array.isArray(m)&&b.fill(m),s.push(b)}}const G=c||await async function(l){const d=wZ.get(l.Compression);if(!d)throw new Error(`Unknown compression method identifier: ${l.Compression}`);return new(await d())(l)}(this.fileDirectory);return await this._readRaster(i,d,s,b,G,u,Z,t,n)}async readRGB(){let{window:l,interleave:d=!0,pool:b=null,width:c,height:u,resampleMethod:Z,enableAlpha:t=!1,signal:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=l||[0,0,this.getWidth(),this.getHeight()];if(n[0]>n[2]||n[1]>n[3])throw new Error("Invalid subsets");const i=this.fileDirectory.PhotometricInterpretation;if(i===AZ){let n=[0,1,2];if(this.fileDirectory.ExtraSamples!==BZ&&t){n=[];for(let l=0;l<this.fileDirectory.BitsPerSample.length;l+=1)n.push(l)}return this.readRasters({window:l,interleave:d,samples:n,pool:b,width:c,height:u,resampleMethod:Z,signal:m})}let a;switch(i){case YZ:case gZ:case CZ:a=[0];break;case IZ:a=[0,1,2,3];break;case JZ:case FZ:a=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const X={window:n,interleave:!0,samples:a,pool:b,width:c,height:u,resampleMethod:Z,signal:m},{fileDirectory:s}=this,G=await this.readRasters(X),W=2**this.fileDirectory.BitsPerSample[0];let h;switch(i){case YZ:h=function(l,d){const{width:b,height:c}=l,u=new Uint8Array(b*c*3);let Z;for(let b=0,c=0;b<l.length;++b,c+=3)Z=256-l[b]/d*256,u[c]=Z,u[c+1]=Z,u[c+2]=Z;return u}(G,W);break;case gZ:h=function(l,d){const{width:b,height:c}=l,u=new Uint8Array(b*c*3);let Z;for(let b=0,c=0;b<l.length;++b,c+=3)Z=l[b]/d*256,u[c]=Z,u[c+1]=Z,u[c+2]=Z;return u}(G,W);break;case CZ:h=function(l,d){const{width:b,height:c}=l,u=new Uint8Array(b*c*3),Z=d.length/3,t=d.length/3*2;for(let b=0,c=0;b<l.length;++b,c+=3){const m=l[b];u[c]=d[m]/65536*256,u[c+1]=d[m+Z]/65536*256,u[c+2]=d[m+t]/65536*256}return u}(G,s.ColorMap);break;case IZ:h=function(l){const{width:d,height:b}=l,c=new Uint8Array(d*b*3);for(let d=0,b=0;d<l.length;d+=4,b+=3){const u=l[d],Z=l[d+1],t=l[d+2],m=l[d+3];c[b]=(255-u)/256*255*((255-m)/256),c[b+1]=(255-Z)/256*255*((255-m)/256),c[b+2]=(255-t)/256*255*((255-m)/256)}return c}(G);break;case JZ:h=function(l){const{width:d,height:b}=l,c=new Uint8ClampedArray(d*b*3);for(let d=0,b=0;d<l.length;d+=3,b+=3){const u=l[d],Z=l[d+1],t=l[d+2];c[b]=u+1.402*(t-128),c[b+1]=u-.34414*(Z-128)-.71414*(t-128),c[b+2]=u+1.772*(Z-128)}return c}(G);break;case FZ:h=function(l){const{width:d,height:b}=l,c=new Uint8Array(d*b*3);for(let d=0,b=0;d<l.length;d+=3,b+=3){let u,Z,t,m=(l[d+0]+16)/116,n=(l[d+1]<<24>>24)/500+m,i=m-(l[d+2]<<24>>24)/200;n=.95047*(n*n*n>.008856?n*n*n:(n-16/116)/7.787),m=1*(m*m*m>.008856?m*m*m:(m-16/116)/7.787),i=1.08883*(i*i*i>.008856?i*i*i:(i-16/116)/7.787),u=3.2406*n+-1.5372*m+-.4986*i,Z=-.9689*n+1.8758*m+.0415*i,t=.0557*n+-.204*m+1.057*i,u=u>.0031308?1.055*u**(1/2.4)-.055:12.92*u,Z=Z>.0031308?1.055*Z**(1/2.4)-.055:12.92*Z,t=t>.0031308?1.055*t**(1/2.4)-.055:12.92*t,c[b]=255*Math.max(0,Math.min(1,u)),c[b+1]=255*Math.max(0,Math.min(1,Z)),c[b+2]=255*Math.max(0,Math.min(1,t))}return c}(G);break;default:throw new Error("Unsupported photometric interpretation.")}if(!d){const l=new Uint8Array(h.length/3),d=new Uint8Array(h.length/3),b=new Uint8Array(h.length/3);for(let c=0,u=0;c<h.length;c+=3,++u)l[u]=h[c],d[u]=h[c+1],b[u]=h[c+2];h=[l,d,b]}return h.width=G.width,h.height=G.height,h}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const l=[];for(let d=0;d<this.fileDirectory.ModelTiepoint.length;d+=6)l.push({i:this.fileDirectory.ModelTiepoint[d],j:this.fileDirectory.ModelTiepoint[d+1],k:this.fileDirectory.ModelTiepoint[d+2],x:this.fileDirectory.ModelTiepoint[d+3],y:this.fileDirectory.ModelTiepoint[d+4],z:this.fileDirectory.ModelTiepoint[d+5]});return l}getGDALMetadata(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const d={};if(!this.fileDirectory.GDAL_METADATA)return null;const b=this.fileDirectory.GDAL_METADATA;let c=mZ(b,"Item");c=null===l?c.filter((l=>void 0===ZZ(l,"sample"))):c.filter((d=>Number(ZZ(d,"sample"))===l));for(let l=0;l<c.length;++l){const b=c[l];d[ZZ(b,"name")]=b.inner}return d}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const l=this.fileDirectory.GDAL_NODATA;return Number(l.substring(0,l.length-1))}getOrigin(){const l=this.fileDirectory.ModelTiepoint,d=this.fileDirectory.ModelTransformation;if(l&&6===l.length)return[l[3],l[4],l[5]];if(d)return[d[3],d[7],d[11]];throw new Error("The image does not have an affine transformation.")}getResolution(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const d=this.fileDirectory.ModelPixelScale,b=this.fileDirectory.ModelTransformation;if(d)return[d[0],-d[1],d[2]];if(b)return 0===b[1]&&0===b[4]?[b[0],-b[5],b[10]]:[Math.sqrt(b[0]*b[0]+b[4]*b[4]),-Math.sqrt(b[1]*b[1]+b[5]*b[5]),b[10]];if(l){const[d,b,c]=l.getResolution();return[d*l.getWidth()/this.getWidth(),b*l.getHeight()/this.getHeight(),c*l.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(){let l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const d=this.getHeight(),b=this.getWidth();if(this.fileDirectory.ModelTransformation&&!l){const[l,c,u,Z,t,m,n,i]=this.fileDirectory.ModelTransformation,a=[[0,0],[0,d],[b,0],[b,d]].map((d=>{let[b,u]=d;return[Z+l*b+c*u,i+t*b+m*u]})),X=a.map((l=>l[0])),s=a.map((l=>l[1]));return[Math.min(...X),Math.min(...s),Math.max(...X),Math.max(...s)]}{const l=this.getOrigin(),c=this.getResolution(),u=l[0],Z=l[1],t=u+c[0]*b,m=Z+c[1]*d;return[Math.min(u,t),Math.min(Z,m),Math.max(u,t),Math.max(Z,m)]}}};class OZ{constructor(l){this._dataView=new DataView(l)}get buffer(){return this._dataView.buffer}getUint64(l,d){const b=this.getUint32(l,d),c=this.getUint32(l+4,d);let u;if(d){if(u=b+2**32*c,!Number.isSafeInteger(u))throw new Error(`${u} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return u}if(u=2**32*b+c,!Number.isSafeInteger(u))throw new Error(`${u} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return u}getInt64(l,d){let b=0;const c=(128&this._dataView.getUint8(l+(d?7:0)))>0;let u=!0;for(let Z=0;Z<8;Z++){let t=this._dataView.getUint8(l+(d?Z:7-Z));c&&(u?0!==t&&(t=255&~(t-1),u=!1):t=255&~t),b+=t*256**Z}return c&&(b=-b),b}getUint8(l,d){return this._dataView.getUint8(l,d)}getInt8(l,d){return this._dataView.getInt8(l,d)}getUint16(l,d){return this._dataView.getUint16(l,d)}getInt16(l,d){return this._dataView.getInt16(l,d)}getUint32(l,d){return this._dataView.getUint32(l,d)}getInt32(l,d){return this._dataView.getInt32(l,d)}getFloat16(l,d){return uZ(this._dataView,l,d)}getFloat32(l,d){return this._dataView.getFloat32(l,d)}getFloat64(l,d){return this._dataView.getFloat64(l,d)}}class _Z{constructor(l,d,b,c){this._dataView=new DataView(l),this._sliceOffset=d,this._littleEndian=b,this._bigTiff=c}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(l,d){return this.sliceOffset<=l&&this.sliceTop>=l+d}readUint8(l){return this._dataView.getUint8(l-this._sliceOffset,this._littleEndian)}readInt8(l){return this._dataView.getInt8(l-this._sliceOffset,this._littleEndian)}readUint16(l){return this._dataView.getUint16(l-this._sliceOffset,this._littleEndian)}readInt16(l){return this._dataView.getInt16(l-this._sliceOffset,this._littleEndian)}readUint32(l){return this._dataView.getUint32(l-this._sliceOffset,this._littleEndian)}readInt32(l){return this._dataView.getInt32(l-this._sliceOffset,this._littleEndian)}readFloat32(l){return this._dataView.getFloat32(l-this._sliceOffset,this._littleEndian)}readFloat64(l){return this._dataView.getFloat64(l-this._sliceOffset,this._littleEndian)}readUint64(l){const d=this.readUint32(l),b=this.readUint32(l+4);let c;if(this._littleEndian){if(c=d+2**32*b,!Number.isSafeInteger(c))throw new Error(`${c} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return c}if(c=2**32*d+b,!Number.isSafeInteger(c))throw new Error(`${c} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return c}readInt64(l){let d=0;const b=(128&this._dataView.getUint8(l+(this._littleEndian?7:0)))>0;let c=!0;for(let u=0;u<8;u++){let Z=this._dataView.getUint8(l+(this._littleEndian?u:7-u));b&&(c?0!==Z&&(Z=255&~(Z-1),c=!1):Z=255&~Z),d+=Z*256**u}return b&&(d=-d),d}readOffset(l){return this._bigTiff?this.readUint64(l):this.readUint32(l)}}class qZ{async fetch(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return Promise.all(l.map((l=>this.fetchSlice(l,d))))}async fetchSlice(l){throw new Error(`fetching of slice ${l} not possible, not implemented`)}get fileSize(){return null}async close(){}}class $Z extends Error{constructor(l){super(l),Error.captureStackTrace&&Error.captureStackTrace(this,$Z),this.name="AbortError"}}class lt extends qZ{constructor(l){super(),this.arrayBuffer=l}fetchSlice(l,d){if(d&&d.aborted)throw new $Z("Request aborted");return this.arrayBuffer.slice(l.offset,l.offset+l.length)}}class dt extends qZ{constructor(l){super(),this.file=l}async fetchSlice(l,d){return new Promise(((b,c)=>{const u=this.file.slice(l.offset,l.offset+l.length),Z=new FileReader;Z.onload=l=>b(l.target.result),Z.onerror=c,Z.onabort=c,Z.readAsArrayBuffer(u),d&&d.addEventListener("abort",(()=>Z.abort()))}))}}function bt(l,d){let b=l.length-d,c=0;do{for(let b=d;b>0;b--)l[c+d]+=l[c],c++;b-=d}while(b>0)}function ct(l,d,b){let c=0,u=l.length;const Z=u/b;for(;u>d;){for(let b=d;b>0;--b)l[c+d]+=l[c],++c;u-=d}const t=l.slice();for(let d=0;d<Z;++d)for(let c=0;c<b;++c)l[b*d+c]=t[(b-c-1)*Z+d]}class ut{async decode(l,d){const b=await this.decodeBlock(d),c=l.Predictor||1;if(1!==c){const d=!l.StripOffsets;return function(l,d,b,c,u,Z){if(!d||1===d)return l;for(let l=0;l<u.length;++l){if(u[l]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(u[l]!==u[0])throw new Error("When decoding with predictor, all samples must have the same size.")}const t=u[0]/8,m=2===Z?1:u.length;for(let Z=0;Z<c&&!(Z*m*b*t>=l.byteLength);++Z){let c;if(2===d){switch(u[0]){case 8:c=new Uint8Array(l,Z*m*b*t,m*b*t);break;case 16:c=new Uint16Array(l,Z*m*b*t,m*b*t/2);break;case 32:c=new Uint32Array(l,Z*m*b*t,m*b*t/4);break;default:throw new Error(`Predictor 2 not allowed with ${u[0]} bits per sample.`)}bt(c,m)}else 3===d&&(c=new Uint8Array(l,Z*m*b*t,m*b*t),ct(c,m,t))}return l}(b,c,d?l.TileWidth:l.ImageWidth,d?l.TileLength:l.RowsPerStrip||l.ImageLength,l.BitsPerSample,l.PlanarConfiguration)}return b}}function Zt(l,d){var b=Object.keys(l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(l);d&&(c=c.filter((function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),b.push.apply(b,c)}return b}function tt(l){for(var d=1;d<arguments.length;d++){var b=null!=arguments[d]?arguments[d]:{};d%2?Zt(Object(b),!0).forEach((function(d){jc(l,d,b[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(b)):Zt(Object(b)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(b,d))}))}return l}function mt(l){switch(l){case HZ.BYTE:case HZ.ASCII:case HZ.SBYTE:case HZ.UNDEFINED:return 1;case HZ.SHORT:case HZ.SSHORT:return 2;case HZ.LONG:case HZ.SLONG:case HZ.FLOAT:case HZ.IFD:return 4;case HZ.RATIONAL:case HZ.SRATIONAL:case HZ.DOUBLE:case HZ.LONG8:case HZ.SLONG8:case HZ.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${l}`)}}function nt(l,d,b,c){let u=null,Z=null;const t=mt(d);switch(d){case HZ.BYTE:case HZ.ASCII:case HZ.UNDEFINED:u=new Uint8Array(b),Z=l.readUint8;break;case HZ.SBYTE:u=new Int8Array(b),Z=l.readInt8;break;case HZ.SHORT:u=new Uint16Array(b),Z=l.readUint16;break;case HZ.SSHORT:u=new Int16Array(b),Z=l.readInt16;break;case HZ.LONG:case HZ.IFD:u=new Uint32Array(b),Z=l.readUint32;break;case HZ.SLONG:u=new Int32Array(b),Z=l.readInt32;break;case HZ.LONG8:case HZ.IFD8:u=new Array(b),Z=l.readUint64;break;case HZ.SLONG8:u=new Array(b),Z=l.readInt64;break;case HZ.RATIONAL:u=new Uint32Array(2*b),Z=l.readUint32;break;case HZ.SRATIONAL:u=new Int32Array(2*b),Z=l.readInt32;break;case HZ.FLOAT:u=new Float32Array(b),Z=l.readFloat32;break;case HZ.DOUBLE:u=new Float64Array(b),Z=l.readFloat64;break;default:throw new RangeError(`Invalid field type: ${d}`)}if(d!==HZ.RATIONAL&&d!==HZ.SRATIONAL)for(let d=0;d<b;++d)u[d]=Z.call(l,c+d*t);else for(let d=0;d<b;d+=2)u[d]=Z.call(l,c+d*t),u[d+1]=Z.call(l,c+(d*t+4));return d===HZ.ASCII?new TextDecoder("utf-8").decode(u):u}class it{constructor(l,d,b){this.fileDirectory=l,this.geoKeyDirectory=d,this.nextIFDByteOffset=b}}class at extends Error{constructor(l){super(`No image at index ${l}`),this.index=l}}class Xt{async readRasters(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{window:d,width:b,height:c}=l;let{resX:u,resY:Z,bbox:t}=l;const m=await this.getImage();let n=m;const i=await this.getImageCount(),a=m.getBoundingBox();if(d&&t)throw new Error('Both "bbox" and "window" passed.');if(b||c){if(d){const[l,b]=m.getOrigin(),[c,u]=m.getResolution();t=[l+d[0]*c,b+d[1]*u,l+d[2]*c,b+d[3]*u]}const l=t||a;if(b){if(u)throw new Error("Both width and resX passed");u=(l[2]-l[0])/b}if(c){if(Z)throw new Error("Both width and resY passed");Z=(l[3]-l[1])/c}}if(u||Z){const l=[];for(let d=0;d<i;++d){const b=await this.getImage(d),{SubfileType:c,NewSubfileType:u}=b.fileDirectory;(0===d||2===c||1&u)&&l.push(b)}l.sort(((l,d)=>l.getWidth()-d.getWidth()));for(let d=0;d<l.length;++d){const b=l[d],c=(a[2]-a[0])/b.getWidth(),t=(a[3]-a[1])/b.getHeight();if(n=b,u&&u>c||Z&&Z>t)break}}let X=d;if(t){const[l,d]=m.getOrigin(),[b,c]=n.getResolution(m);X=[Math.round((t[0]-l)/b),Math.round((t[1]-d)/c),Math.round((t[2]-l)/b),Math.round((t[3]-d)/c)],X=[Math.min(X[0],X[2]),Math.min(X[1],X[3]),Math.max(X[0],X[2]),Math.max(X[1],X[3])]}return n.readRasters(tt(tt({},l),{},{window:X}))}}class st extends Xt{constructor(l,d,b,c){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};super(),this.source=l,this.littleEndian=d,this.bigTiff=b,this.firstIFDOffset=c,this.cache=u.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(l,d){const b=this.bigTiff?4048:1024;return new _Z((await this.source.fetch([{offset:l,length:void 0!==d?d:b}]))[0],l,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(l){const d=this.bigTiff?20:12,b=this.bigTiff?8:2;let c=await this.getSlice(l);const u=this.bigTiff?c.readUint64(l):c.readUint16(l),Z=u*d+(this.bigTiff?16:6);c.covers(l,Z)||(c=await this.getSlice(l,Z));const t={};let m=l+(this.bigTiff?8:2);for(let l=0;l<u;m+=d,++l){const l=c.readUint16(m),d=c.readUint16(m+2),b=this.bigTiff?c.readUint64(m+4):c.readUint32(m+4);let u,Z;const n=mt(d),i=m+(this.bigTiff?12:8);if(n*b<=(this.bigTiff?8:4))u=nt(c,d,b,i);else{const l=c.readOffset(i),Z=mt(d)*b;if(c.covers(l,Z))u=nt(c,d,b,l);else{u=nt(await this.getSlice(l,Z),d,b,l)}}Z=1===b&&-1===xZ.indexOf(l)&&d!==HZ.RATIONAL&&d!==HZ.SRATIONAL?u[0]:u,t[KZ[l]]=Z}const n=function(l){const d=l.GeoKeyDirectory;if(!d)return null;const b={};for(let c=4;c<=4*d[3];c+=4){const u=kZ[d[c]],Z=d[c+1]?KZ[d[c+1]]:null,t=d[c+2],m=d[c+3];let n=null;if(Z){if(n=l[Z],null==n)throw new Error(`Could not get value of geoKey '${u}'.`);"string"==typeof n?n=n.substring(m,m+t-1):n.subarray&&(n=n.subarray(m,m+t),1===t&&(n=n[0]))}else n=m;b[u]=n}return b}(t),i=c.readOffset(l+b+d*u);return new it(t,n,i)}async requestIFD(l){if(this.ifdRequests[l])return this.ifdRequests[l];if(0===l)return this.ifdRequests[l]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[l];if(!this.ifdRequests[l-1])try{this.ifdRequests[l-1]=this.requestIFD(l-1)}catch(d){if(d instanceof at)throw new at(l);throw d}return this.ifdRequests[l]=(async()=>{const d=await this.ifdRequests[l-1];if(0===d.nextIFDByteOffset)throw new at(l);return this.parseFileDirectoryAt(d.nextIFDByteOffset)})(),this.ifdRequests[l]}async getImage(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const d=await this.requestIFD(l);return new DZ(d.fileDirectory,d.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let l=0,d=!0;for(;d;)try{await this.requestIFD(l),++l}catch(l){if(!(l instanceof at))throw l;d=!1}return l}async getGhostValues(){const l=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const d="GDAL_STRUCTURAL_METADATA_SIZE=",b=d.length+100;let c=await this.getSlice(l,b);if(d===nt(c,HZ.ASCII,d.length,l)){const d=nt(c,HZ.ASCII,b,l).split("\n")[0],u=Number(d.split("=")[1].split(" ")[0])+d.length;u>b&&(c=await this.getSlice(l,u));const Z=nt(c,HZ.ASCII,u,l);this.ghostValues={},Z.split("\n").filter((l=>l.length>0)).map((l=>l.split("="))).forEach((l=>{let[d,b]=l;this.ghostValues[d]=b}))}return this.ghostValues}static async fromSource(l,d,b){const c=(await l.fetch([{offset:0,length:1024}],b))[0],u=new OZ(c),Z=u.getUint16(0,0);let t;if(18761===Z)t=!0;else{if(19789!==Z)throw new TypeError("Invalid byte order value.");t=!1}const m=u.getUint16(2,t);let n;if(42===m)n=!1;else{if(43!==m)throw new TypeError("Invalid magic number.");n=!0;if(8!==u.getUint16(4,t))throw new Error("Unsupported offset byte-size.")}const i=n?u.getUint64(8,t):u.getUint32(4,t);return new st(l,t,n,i,d)}close(){return"function"==typeof this.source.close&&this.source.close()}}async function Gt(l,d){return st.fromSource(function(l){return new lt(l)}(l),d)}async function Wt(l,d){return st.fromSource(new dt(l),d)}function ht(l,d,b){for(var c=-1,u=l.length;++c<u;){var Z=l[c],t=d(Z);if(null!=t&&(void 0===m?t==t&&!R(t):b(t,m)))var m=t,n=Z}return n}function et(l,d){return l<d}function ot(l){return l&&l.length?ht(l,Nb,et):void 0}function pt(l,d){return l>d}function yt(l){return l&&l.length?ht(l,Nb,pt):void 0}function Vt(l,d,b){var c=-1,u=l.length;d<0&&(d=-d>u?0:u+d),(b=b>u?u:b)<0&&(b+=u),u=d>b?0:b-d>>>0,d>>>=0;for(var Z=Array(u);++c<u;)Z[c]=l[c+d];return Z}var Rt=function(){try{var l=f(Object,"defineProperty");return l({},"",{}),l}catch(l){}}(),Lt=Rt;function Kt(l,d,b){"__proto__"==d&&Lt?Lt(l,d,{configurable:!0,enumerable:!0,value:b,writable:!0}):l[d]=b}var rt=Object.prototype.hasOwnProperty;function xt(l,d,b){var c=l[d];rt.call(l,d)&&j(c,b)&&(void 0!==b||d in l)||Kt(l,d,b)}function St(l,d,b,c){var u=!b;b||(b={});for(var Z=-1,t=d.length;++Z<t;){var m=d[Z],n=c?c(b[m],l[m],m,b,l):void 0;void 0===n&&(n=l[m]),u?Kt(b,m,n):xt(b,m,n)}return b}var Ht=Object.prototype.hasOwnProperty;function Yt(l){if(!x(l))return function(l){var d=[];if(null!=l)for(var b in Object(l))d.push(b);return d}(l);var d=lb(l),b=[];for(var c in l)("constructor"!=c||!d&&Ht.call(l,c))&&b.push(c);return b}function gt(l){return Zb(l)?qd(l,!0):Yt(l)}var At="object"==typeof l&&l&&!l.nodeType&&l,Ct=At&&"object"==typeof module&&module&&!module.nodeType&&module,It=Ct&&Ct.exports===At?n.Buffer:void 0,Jt=It?It.allocUnsafe:void 0;var Ft=db(Object.getPrototypeOf,Object),Bt=Object.getOwnPropertySymbols?function(l){for(var d=[];l;)Vd(d,Hd(l)),l=Ft(l);return d}:Kd,vt=Bt;function Mt(l){return Rd(l,gt,vt)}var zt=Object.prototype.hasOwnProperty;function Tt(l){var d=new l.constructor(l.byteLength);return new bd(d).set(new bd(l)),d}var kt=/\w*$/;var wt=i?i.prototype:void 0,Nt=wt?wt.valueOf:void 0;var ft="[object Boolean]",Pt="[object Date]",Ut="[object Map]",Qt="[object Number]",Et="[object RegExp]",jt="[object Set]",Dt="[object String]",Ot="[object Symbol]",_t="[object ArrayBuffer]",qt="[object DataView]",$t="[object Float32Array]",lm="[object Float64Array]",dm="[object Int8Array]",bm="[object Int16Array]",cm="[object Int32Array]",um="[object Uint8Array]",Zm="[object Uint8ClampedArray]",tm="[object Uint16Array]",mm="[object Uint32Array]";function nm(l,d,b){var c,u=l.constructor;switch(d){case _t:return Tt(l);case ft:case Pt:return new u(+l);case qt:return function(l,d){var b=d?Tt(l.buffer):l.buffer;return new l.constructor(b,l.byteOffset,l.byteLength)}(l,b);case $t:case lm:case dm:case bm:case cm:case um:case Zm:case tm:case mm:return function(l,d){var b=d?Tt(l.buffer):l.buffer;return new l.constructor(b,l.byteOffset,l.length)}(l,b);case Ut:return new u;case Qt:case Dt:return new u(l);case Et:return function(l){var d=new l.constructor(l.source,kt.exec(l));return d.lastIndex=l.lastIndex,d}(l);case jt:return new u;case Ot:return c=l,Nt?Object(Nt.call(c)):{}}}var im=Object.create,am=function(){function l(){}return function(d){if(!x(d))return{};if(im)return im(d);l.prototype=d;var b=new l;return l.prototype=void 0,b}}(),Xm=am;var sm=jd&&jd.isMap,Gm=sm?Pd(sm):function(l){return y(l)&&"[object Map]"==xb(l)};var Wm=jd&&jd.isSet,hm=Wm?Pd(Wm):function(l){return y(l)&&"[object Set]"==xb(l)},em=1,om=2,pm=4,ym="[object Arguments]",Vm="[object Function]",Rm="[object GeneratorFunction]",Lm="[object Object]",Km={};function rm(l,d,b,c,u,t){var m,n=d&em,i=d&om,a=d&pm;if(b&&(m=u?b(l,c,u,t):b(l)),void 0!==m)return m;if(!x(l))return l;var X=Z(l);if(X){if(m=function(l){var d=l.length,b=new l.constructor(d);return d&&"string"==typeof l[0]&&zt.call(l,"index")&&(b.index=l.index,b.input=l.input),b}(l),!n)return function(l,d){var b=-1,c=l.length;for(d||(d=Array(c));++b<c;)d[b]=l[b];return d}(l,m)}else{var s=xb(l),G=s==Vm||s==Rm;if(Md(l))return function(l,d){if(d)return l.slice();var b=l.length,c=Jt?Jt(b):new l.constructor(b);return l.copy(c),c}(l,n);if(s==Lm||s==ym||G&&!u){if(m=i||G?{}:function(l){return"function"!=typeof l.constructor||lb(l)?{}:Xm(Ft(l))}(l),!n)return i?function(l,d){return St(l,vt(l),d)}(l,function(l,d){return l&&St(d,gt(d),l)}(m,l)):function(l,d){return St(l,Hd(l),d)}(l,function(l,d){return l&&St(d,tb(d),l)}(m,l))}else{if(!Km[s])return u?l:{};m=nm(l,s,n)}}t||(t=new Dl);var W=t.get(l);if(W)return W;t.set(l,m),hm(l)?l.forEach((function(c){m.add(rm(c,d,b,c,l,t))})):Gm(l)&&l.forEach((function(c,u){m.set(u,rm(c,d,b,u,l,t))}));var h=X?void 0:(a?i?Mt:mb:i?gt:tb)(l);return Kc(h||l,(function(c,u){h&&(c=l[u=c]),xt(m,u,rm(c,d,b,u,l,t))})),m}Km[ym]=Km["[object Array]"]=Km["[object ArrayBuffer]"]=Km["[object DataView]"]=Km["[object Boolean]"]=Km["[object Date]"]=Km["[object Float32Array]"]=Km["[object Float64Array]"]=Km["[object Int8Array]"]=Km["[object Int16Array]"]=Km["[object Int32Array]"]=Km["[object Map]"]=Km["[object Number]"]=Km[Lm]=Km["[object RegExp]"]=Km["[object Set]"]=Km["[object String]"]=Km["[object Symbol]"]=Km["[object Uint8Array]"]=Km["[object Uint8ClampedArray]"]=Km["[object Uint16Array]"]=Km["[object Uint32Array]"]=!0,Km["[object Error]"]=Km[Vm]=Km["[object WeakMap]"]=!1;var xm=1,Sm=4;function Hm(l){return rm(l,xm|Sm)}function Ym(l){let d=Object.prototype.toString.call(l);return"[object Function]"===d||"[object AsyncFunction]"===d}function gm(l){if(!fl(l))return!1;return Nc(l)>0}function Am(l){return l!=l}function Cm(l,d,b){return d==d?function(l,d,b){for(var c=b-1,u=l.length;++c<u;)if(l[c]===d)return c;return-1}(l,d,b):function(l,d,b,c){for(var u=l.length,Z=b+(c?1:-1);c?Z--:++Z<u;)if(d(l[Z],Z,l))return Z;return-1}(l,Am,b)}var Im="\\ud800-\\udfff",Jm="["+Im+"]",Fm="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Bm="\\ud83c[\\udffb-\\udfff]",vm="[^"+Im+"]",Mm="(?:\\ud83c[\\udde6-\\uddff]){2}",zm="[\\ud800-\\udbff][\\udc00-\\udfff]",Tm="(?:"+Fm+"|"+Bm+")"+"?",km="[\\ufe0e\\ufe0f]?",wm=km+Tm+("(?:\\u200d(?:"+[vm,Mm,zm].join("|")+")"+km+Tm+")*"),Nm="(?:"+[vm+Fm+"?",Fm,Mm,zm,Jm].join("|")+")",fm=RegExp(Bm+"(?="+Bm+")|"+Nm+wm,"g");function Pm(l){return bc(l)?function(l){return l.match(fm)||[]}(l):function(l){return l.split("")}(l)}function Um(l,d,b){if((l=hl(l))&&(b||void 0===d))return Ic(l);if(!l||!(d=Wl(d)))return l;var c=Pm(l),u=Pm(d),Z=function(l,d){for(var b=-1,c=l.length;++b<c&&Cm(d,l[b],0)>-1;);return b}(c,u),t=function(l,d){for(var b=l.length;b--&&Cm(d,l[b],0)>-1;);return b}(c,u)+1;return function(l,d,b){var c=l.length;return b=void 0===b?c:b,!d&&b>=c?l:Vt(l,d,b)}(c,Z,t).join("")}var Qm=uu("round"),Em=i?i.isConcatSpreadable:void 0;function jm(l){return Z(l)||Jd(l)||!!(Em&&l&&l[Em])}function Dm(l,d,b,c,u){var Z=-1,t=l.length;for(b||(b=jm),u||(u=[]);++Z<t;){var m=l[Z];d>0&&b(m)?d>1?Dm(m,d-1,b,c,u):Vd(u,m):c||(u[u.length]=m)}return u}function Om(l,d){if(l!==d){var b=void 0!==l,c=null===l,u=l==l,Z=R(l),t=void 0!==d,m=null===d,n=d==d,i=R(d);if(!m&&!i&&!Z&&l>d||Z&&t&&n&&!m&&!i||c&&t&&n||!b&&n||!u)return 1;if(!c&&!Z&&!i&&l<d||i&&b&&u&&!c&&!Z||m&&b&&u||!t&&u||!n)return-1}return 0}function _m(l,d,b){d=d.length?al(d,(function(l){return Z(l)?function(d){return yl(d,1===l.length?l[0]:l)}:l})):[Nb];var c=-1;return d=al(d,Pd(Ub)),function(l,d){var b=l.length;for(l.sort(d);b--;)l[b]=l[b].value;return l}(_b(l,(function(l,b,u){return{criteria:al(d,(function(d){return d(l)})),index:++c,value:l}})),(function(l,d){return function(l,d,b){for(var c=-1,u=l.criteria,Z=d.criteria,t=u.length,m=b.length;++c<t;){var n=Om(u[c],Z[c]);if(n)return c>=m?n:n*("desc"==b[c]?-1:1)}return l.index-d.index}(l,d,b)}))}var qm=Math.max;var $m=Lt?function(l,d){return Lt(l,"toString",{configurable:!0,enumerable:!1,value:(b=d,function(){return b}),writable:!0});var b}:Nb,ln=$m,dn=Date.now;var bn=function(l){var d=0,b=0;return function(){var c=dn(),u=16-(c-b);if(b=c,u>0){if(++d>=800)return arguments[0]}else d=0;return l.apply(void 0,arguments)}}(ln),cn=bn;function un(l,d,b){if(!x(b))return!1;var c=typeof d;return!!("number"==c?Zb(b)&&kd(d,b.length):"string"==c&&d in b)&&j(b[d],l)}var Zn=function(l,d){return cn(function(l,d,b){return d=qm(void 0===d?l.length-1:d,0),function(){for(var c=arguments,u=-1,Z=qm(c.length-d,0),t=Array(Z);++u<Z;)t[u]=c[d+u];u=-1;for(var m=Array(d+1);++u<d;)m[u]=c[u];return m[d]=b(t),function(l,d,b){switch(b.length){case 0:return l.call(d);case 1:return l.call(d,b[0]);case 2:return l.call(d,b[0],b[1]);case 3:return l.call(d,b[0],b[1],b[2])}return l.apply(d,b)}(l,this,m)}}(l,d,Nb),l+"")}((function(l,d){if(null==l)return[];var b=d.length;return b>1&&un(l,d[0],d[1])?d=[]:b>2&&un(d[0],d[1],d[2])&&(d=[d[0]]),_m(l,Dm(d,1),[])})),tn=Zn;function mn(l){return hl(l).toLowerCase()}function nn(l){return hl(l).toUpperCase()}function an(l){return!!fl(l)&&(l=Nc(l),"number"==typeof(d=l)&&d==du(d));var d}function Xn(l){if(!fl(l))return 0;l=Nc(l);let d=Qm(l);return"0"===String(d)?0:d}function sn(l){if(!an(l))return!1;return Xn(l)>=0}function Gn(l,d){return Hl(l)&&sn(d)?0===(d=Xn(d))?"":l.substring(0,d):""}function Wn(l,d){return Hl(l)&&sn(d)?0===(d=Xn(d))?l:function(l,d){if(!Hl(l))return"";if(!sn(d))return"";if(0===(d=Xn(d)))return"";let b=l.length-d;return b<0&&(b=0),l.substring(b,b+d)}(l,l.length-d):""}function hn(l,d,b){if(!Hl(l))return"";if(!Hl(d))return"";if(!Kl(b))return"";return String(l).replaceAll(d,b)}function en(l,d){if(!Hl(l))return[];if(!Hl(d))return[];let b=function(l,d){return Hl(l)&&Hl(d)?l.split(d):[]}(l,d);b=qb(b,Um);let c=[];return rc(b,(function(l){Hl(l)&&c.push(l)})),c}function on(l){if(!Hl(l)&&!fl(l)&&!R(l))return"";let d="";try{d=String(l)}catch(l){}try{d=l.toString()}catch(l){}return d}function pn(l){if(!an(l))return!1;return Xn(l)>0}function yn(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Hl(l)&&sn(d)?(b=pn(b)?Xn(b):1,l.substring(d,d+b)):""}let Vn={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function Rn(l){return Kn(l,1)}function Ln(l){return Kn(l,360)}function Kn(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(l.indexOf("%")>=0){if(!fl(l=hn(l,"%","")))throw new Error("invalid color: value is not a number");l=Nc(l)/100}else{if(!fl(l))throw new Error("invalid color: value is not a number");l=Nc(l)/d}if(l>1)throw new Error("invalid color: value > 1");if(l<0)throw new Error("invalid color: value < 0");return l}function rn(l){if(!fl(l))throw new Error("invalid color: value is not a number");if((l=Nc(l))>1)throw new Error("invalid color: value > 1");if(l<0)throw new Error("invalid color: value < 0");return l}function xn(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba";if(!Rl(l))throw new Error("invalid colors array");let b=Vl(l,0,0),c=Vl(l,1,0),u=Vl(l,2,0),Z=Vl(l,3,1);if(d=d.split(""),4!==pc(d))throw new Error("tar.length !== 4");return{[Vl(d,0)]:b,[Vl(d,1)]:c,[Vl(d,2)]:u,[Vl(d,3)]:Z}}function Sn(l){let d=(l=Wn(l,1)).length;if(2===d)l=`${l}${l}${l}ff`;else if(3===d){let d=yn(l,0,1),b=yn(l,1,1),c=yn(l,2,1);l=`${d}${d}${b}${b}${c}${c}ff`}else if(6===d)l=`${l}ff`;else if(8!==d)throw new Error("invalid hex color");function b(l){if(2!==l.length)throw new Error("hex.length of color is not equal to 2");if(!fl(l=parseInt(l,16)))throw new Error("invalid hex of color");return(l=Nc(l))/255}return{r:b(yn(l,0,2)),g:b(yn(l,2,2)),b:b(yn(l,4,2)),a:b(yn(l,6,2))}}function Hn(l){return l=xn(l=qb(l,((l,d)=>d<=2?Kn(l,255):3===d?rn(l):null)),"rgba")}function Yn(l){return l=vn(l=xn(l=qb(l,((l,d)=>0===d?Ln(l):1===d||2===d?Rn(l):3===d?rn(l):null)),"hsla"))}function gn(l){return l=Mn(l=xn(l=qb(l,((l,d)=>0===d?Ln(l):1===d||2===d?Rn(l):3===d?rn(l):null)),"hsva"))}function An(l){if("transparent"===l)return{r:0,g:0,b:0,a:0};if(function(l){return Pl(Vn,l)}(l))return Sn(l=`#${Vn[l]}`);if(function(l){return"#"===Gn(l,1)&&(!!/[0-9A-Fa-f]{2}/g.test(l)||(!!/[0-9A-Fa-f]{3}/g.test(l)||(!!/[0-9A-Fa-f]{6}/g.test(l)||!!/[0-9A-Fa-f]{8}/g.test(l))))}(l))return Sn(l);if(function(l){return"rgb"===Gn(l,3)||"rgba"===Gn(l,4)}(l))return function(l){return l=hn(l,"rgba",""),l=hn(l,"rgb",""),Hn(en(l=hn(l=l.replace(/[()]/g,""),","," ")," "))}(l);if(function(l){return"hsl"===Gn(l,3)||"hsla"===Gn(l,4)}(l))return function(l){return l=hn(l,"hsla",""),l=hn(l,"hsl",""),Yn(en(l=hn(l=l.replace(/[()]/g,""),","," ")," "))}(l);if(function(l){return"hsv"===Gn(l,3)||"hsva"===Gn(l,4)}(l))return function(l){return l=hn(l,"hsva",""),l=hn(l,"hsv",""),gn(en(l=hn(l=l.replace(/[()]/g,""),","," ")," "))}(l);throw new Error("format of color string is not hex-color, name-color, rgba, hsla, hsva")}function Cn(l,d){return!!Pl(l,d=mn(d))||!!Pl(l,d=nn(d))}function In(l,d,b){let c;return c=Vl(l,d,null),null!==c?c:(c=Vl(l,d=nn(d),null),null!==c?c:b)}function Jn(l){if(function(l){let d=Cn(l,"r"),b=Cn(l,"g"),c=Cn(l,"b");return d&&b&&c}(l))return function(l){let d=[In(l,"r",null),In(l,"g",null),In(l,"b",null),In(l,"a",1)];return d=qb(d,on),Hn(d)}(l);if(function(l){let d=Cn(l,"h"),b=Cn(l,"s"),c=Cn(l,"l");return d&&b&&c}(l))return function(l){let d=[In(l,"h",null),In(l,"s",null),In(l,"l",null),In(l,"a",1)];return d=qb(d,on),Yn(d)}(l);if(function(l){let d=Cn(l,"h"),b=Cn(l,"s"),c=Cn(l,"v");return d&&b&&c}(l))return function(l){let d=[In(l,"h",null),In(l,"s",null),In(l,"v",null),In(l,"a",1)];return d=qb(d,on),gn(d)}(l);throw new Error("color object is not one of rgba, hsla, hsva")}function Fn(l){let d,b,c=l.r,u=l.g,Z=l.b,t=Math.max(c,u,Z),m=Math.min(c,u,Z),n=(t+m)/2;if(t===m)d=b=0;else{let l=t-m;switch(b=n>.5?l/(2-t-m):l/(t+m),t){case c:d=(u-Z)/l+(u<Z?6:0);break;case u:d=(Z-c)/l+2;break;case Z:d=(c-u)/l+4}d/=6}return{h:d,s:b,l:n,a:l.a}}function Bn(l){let d,b,c=l.r,u=l.g,Z=l.b,t=Math.max(c,u,Z),m=Math.min(c,u,Z),n=t,i=t-m;if(b=0===t?0:i/t,t===m)d=0;else{switch(t){case c:d=(u-Z)/i+(u<Z?6:0);break;case u:d=(Z-c)/i+2;break;case Z:d=(c-u)/i+4}d/=6}return{h:d,s:b,v:n,a:l.a}}function vn(l){let d,b,c,u=l.h,Z=l.s,t=l.l;function m(l,d,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?l+6*(d-l)*b:b<.5?d:b<2/3?l+(d-l)*(2/3-b)*6:l}if(0===Z)d=b=c=t;else{let l=t<.5?t*(1+Z):t+Z-t*Z,n=2*t-l;d=m(n,l,u+1/3),b=m(n,l,u),c=m(n,l,u-1/3)}return{r:d,g:b,b:c,a:l.a}}function Mn(l){let d,b,c,u=l.h,Z=l.s,t=l.v,m=Math.floor(6*u),n=6*u-m,i=t*(1-Z),a=t*(1-n*Z),X=t*(1-(1-n)*Z);switch(m%6){case 0:d=t,b=X,c=i;break;case 1:d=a,b=t,c=i;break;case 2:d=i,b=t,c=X;break;case 3:d=i,b=a,c=t;break;case 4:d=X,b=i,c=t;break;case 5:d=t,b=i,c=a}return{r:d,g:b,b:c,a:l.a}}function zn(l){let d=Math.round(255*l).toString(16);if(1===d.length)return`0${d}`;if(2===d.length)return d;throw new Error("invalid value")}function Tn(l){let d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],b=l.r,c=l.g,u=l.b,Z=l.a,t=`${zn(b)}${zn(c)}${zn(u)}`;return d&&(t=`${t}${zn(Z)}`),t}function kn(l){return Math.min(1,Math.max(0,l))}function wn(l,d){if(!Hl(d))throw new Error("fmtOutput is not a string");if(!Ri[d])throw console.log(`fmtOutput must be [${tb(Ri)}]`),new Error("invalid fmtOutput");return l=Ri[d](l)}function Nn(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(d<0||d>1)throw new Error("amount < 0 or > 1");let c=Fn(l);return c.h+=d,c.h=c.h%1,wn(vn(c),b)}function fn(l,d,b,c){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"toRgbString";if(d<0||d>1)throw new Error("w1 < 0 or > 1");if(c<0||c>1)throw new Error("w1 < 0 or > 1");return wn({r:l.r*d+b.r*c,g:l.g*d+b.g*c,b:l.b*d+b.b*c,a:l.a*d+b.a*c},u)}function Pn(l){return`${Qm(100*l,1)}%`}function Un(l){return Qm(l,0)}function Qn(l){return Qm(l,3)}function En(l){return{r:Un(255*l.r),g:Un(255*l.g),b:Un(255*l.b)}}function jn(l){return`rgb(${Un(255*l.r)}, ${Un(255*l.g)}, ${Un(255*l.b)})`}function Dn(l){return{r:Un(255*l.r),g:Un(255*l.g),b:Un(255*l.b),a:Qn(l.a)}}function On(l){return`rgba(${Un(255*l.r)}, ${Un(255*l.g)}, ${Un(255*l.b)}, ${Qn(l.a)})`}function _n(l){let d=Fn(l);return{h:Un(360*d.h),s:Qn(d.s),l:Qn(d.l)}}function qn(l){let d=Fn(l);return`hsl(${Un(360*d.h)}, ${Qn(d.s)}, ${Qn(d.l)})`}function $n(l){let d=Fn(l);return{h:Un(360*d.h),s:Qn(d.s),l:Qn(d.l),a:Qn(d.a)}}function li(l){let d=Fn(l);return`hsla(${Un(360*d.h)}, ${Qn(d.s)}, ${Qn(d.l)}, ${Qn(d.a)})`}function di(l){let d=Bn(l);return{h:Un(360*d.h),s:Qn(d.s),v:Qn(d.v)}}function bi(l){let d=Bn(l);return`hsv(${Un(360*d.h)}, ${Qn(d.s)}, ${Qn(d.v)})`}function ci(l){let d=Bn(l);return{h:Un(360*d.h),s:Qn(d.s),v:Qn(d.v),a:Qn(d.a)}}function ui(l){let d=Bn(l);return`hsva(${Un(360*d.h)}, ${Qn(d.s)}, ${Qn(d.v)}, ${Qn(d.a)})`}function Zi(l){return{r:Pn(l.r),g:Pn(l.g),b:Pn(l.b)}}function ti(l){return`rgb(${Pn(l.r)}, ${Pn(l.g)}, ${Pn(l.b)})`}function mi(l){return{r:Pn(l.r),g:Pn(l.g),b:Pn(l.b),a:Qn(l.a)}}function ni(l){return`rgba(${Pn(l.r)}, ${Pn(l.g)}, ${Pn(l.b)}, ${Qn(l.a)})`}function ii(l){let d=Fn(l);return{h:Un(360*d.h),s:Pn(d.s),l:Pn(d.l)}}function ai(l){let d=Fn(l);return`hsl(${Un(360*d.h)}, ${Pn(d.s)}, ${Pn(d.l)})`}function Xi(l){let d=Fn(l);return{h:Un(360*d.h),s:Pn(d.s),l:Pn(d.l),a:Qn(d.a)}}function si(l){let d=Fn(l);return`hsla(${Un(360*d.h)}, ${Pn(d.s)}, ${Pn(d.l)}, ${Qn(d.a)})`}function Gi(l){let d=Bn(l);return{h:Un(360*d.h),s:Pn(d.s),v:Pn(d.v)}}function Wi(l){let d=Bn(l);return`hsv(${Un(360*d.h)}, ${Pn(d.s)}, ${Pn(d.v)})`}function hi(l){let d=Bn(l);return{h:Un(360*d.h),s:Pn(d.s),v:Pn(d.v),a:Qn(d.a)}}function ei(l){let d=Bn(l);return`hsva(${Un(360*d.h)}, ${Pn(d.s)}, ${Pn(d.v)}, ${Qn(d.a)})`}function oi(l){let d=function(l){return Tn(l,!1)}(l);return`#${d}`}function pi(l){return`#${Tn(l)}`}function yi(l){let d=null,b=null,c=null;if(Hl(l))d=mn(Um(l));else{if(!fc(l))throw console.log("color=",l),new Error("color is not a string or an object");b=l}if(null!==d)try{c=An(d)}catch(l){throw console.log(l),new Error(`can not parse color: ${d}`)}else if(null!==b)try{c=Jn(b)}catch(l){throw console.log(l),new Error(`can not parse color: ${JSON.stringify(b)}`)}return c}function Vi(l){if(!fc(l))return console.log("gradient is not an effective object"),l=>`rgb(${255*(l=Math.min(Math.max(l,0),1))},${255*l},${255*l})`;let d=[];return rc(l,((l,b)=>{d.push([Nc(b),Dn(yi(l)),l])})),d=tn(d,0),function(l){let b=null;for(let c=1;c<d.length;c++){let u=d[c-1][0],Z=d[c-1][1],t=d[c][0],m=d[c][1];if(u<=l&&t>=l){let d=(t-l)/(t-u),c=(l-u)/(t-u);b=fn(yi(Z),d,yi(m),c,"toRgbaString");break}}return b}}let Ri={toRgb:En,toRgbString:jn,toRgba:Dn,toRgbaString:On,toHsl:_n,toHslString:qn,toHsla:$n,toHslaString:li,toHsv:di,toHsvString:bi,toHsva:ci,toHsvaString:ui,toRgbP:Zi,toRgbPString:ti,toRgbaP:mi,toRgbaPString:ni,toHslP:ii,toHslPString:ai,toHslaP:Xi,toHslaPString:si,toHsvP:Gi,toHsvPString:Wi,toHsvaP:hi,toHsvaPString:ei,toHexString:oi,toHex8String:pi};var Li=function(){let l={toRgb:l=>En(yi(l)),toRgbString:l=>jn(yi(l)),toRgba:l=>Dn(yi(l)),toRgbaString:l=>On(yi(l)),toHsl:l=>_n(yi(l)),toHslString:l=>qn(yi(l)),toHsla:l=>$n(yi(l)),toHslaString:l=>li(yi(l)),toHsv:l=>di(yi(l)),toHsvString:l=>bi(yi(l)),toHsva:l=>ci(yi(l)),toHsvaString:l=>ui(yi(l)),toRgbP:l=>Zi(yi(l)),toRgbPString:l=>ti(yi(l)),toRgbaP:l=>mi(yi(l)),toRgbaPString:l=>ni(yi(l)),toHslP:l=>ii(yi(l)),toHslPString:l=>ai(yi(l)),toHslaP:l=>Xi(yi(l)),toHslaPString:l=>si(yi(l)),toHsvP:l=>Gi(yi(l)),toHsvPString:l=>Wi(yi(l)),toHsvaP:l=>hi(yi(l)),toHsvaPString:l=>ei(yi(l)),toHexString:l=>oi(yi(l)),toHex8String:l=>pi(yi(l)),modSaturate:(l,d,b)=>function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(d<0||d>1)throw new Error("amount < 0 or > 1");let c=Fn(l);return c.s+=d,c.s=kn(c.s),wn(vn(c),b)}(yi(l),d,b),modGrey:(l,d)=>function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toRgbString",b=Fn(l);return b.s=0,wn(vn(b),d)}(yi(l),d),modLighten:(l,d,b)=>function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(d<0||d>1)throw new Error("amount < 0 or > 1");let c=Fn(l);return c.l+=d,c.l=kn(c.l),wn(vn(c),b)}(yi(l),d,b),modBrighten:(l,d,b)=>function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(d<0||d>1)throw new Error("amount < 0 or > 1");return l.r+=d,l.r=kn(l.r),l.g+=d,l.g=kn(l.g),l.b+=d,l.b=kn(l.b),wn(l,b)}(yi(l),d,b),modHue:(l,d,b)=>Nn(yi(l),d,b),modComplement:(l,d)=>function(l){return Nn(l,.5,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toRgbString")}(yi(l),d),spreadHue:(l,d,b)=>function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(!an(d))throw new Error("num is not an integer");if((d=Xn(d))<=1)return[l];let c=Fn(l),u=1/d,Z=[];for(let l=0;l<d;l++)Z.push(wn(vn(c),b)),c.h+=u,c.h=c.h%1;return Z}(yi(l),d,b),spreadMonochromatic:(l,d,b)=>function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(!an(d))throw new Error("num is not an integer");if((d=Xn(d))<=1)return[l];let c=Bn(l);c.s=1,c.l=1;let u=1/d,Z=[];for(let l=0;l<d;l++)Z.push(wn(Mn(c),b)),c.h-=u,c.l-=u;return Z}(yi(l),d,b),mix:(l,d,b,c,u)=>fn(yi(l),d,yi(b),c,u),getBrightness:l=>function(l){if(1!==l.a)throw new Error("alpha of color can not be equal to 1");return(299*l.r+587*l.g+114*l.b)/1e3}(yi(l)),getLuminance:l=>function(l){if(1!==l.a)throw new Error("alpha of color can not be equal to 1");let d,b,c,u=l.r,Z=l.g,t=l.b;return d=u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4),b=Z<=.03928?Z/12.92:Math.pow((Z+.055)/1.055,2.4),c=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),.2126*d+.7152*b+.0722*c}(yi(l)),interp:Vi};return l}();const Ki=134217729,ri=33306690738754706e-32;function xi(l,d,b,c,u){let Z,t,m,n,i=d[0],a=c[0],X=0,s=0;a>i==a>-i?(Z=i,i=d[++X]):(Z=a,a=c[++s]);let G=0;if(X<l&&s<b)for(a>i==a>-i?(t=i+Z,m=Z-(t-i),i=d[++X]):(t=a+Z,m=Z-(t-a),a=c[++s]),Z=t,0!==m&&(u[G++]=m);X<l&&s<b;)a>i==a>-i?(t=Z+i,n=t-Z,m=Z-(t-n)+(i-n),i=d[++X]):(t=Z+a,n=t-Z,m=Z-(t-n)+(a-n),a=c[++s]),Z=t,0!==m&&(u[G++]=m);for(;X<l;)t=Z+i,n=t-Z,m=Z-(t-n)+(i-n),i=d[++X],Z=t,0!==m&&(u[G++]=m);for(;s<b;)t=Z+a,n=t-Z,m=Z-(t-n)+(a-n),a=c[++s],Z=t,0!==m&&(u[G++]=m);return 0===Z&&0!==G||(u[G++]=Z),G}function Si(l){return new Float64Array(l)}const Hi=22204460492503146e-32,Yi=11093356479670487e-47,gi=Si(4),Ai=Si(8),Ci=Si(12),Ii=Si(16),Ji=Si(4);function Fi(l,d,b,c,u,Z){const t=(d-Z)*(b-u),m=(l-u)*(c-Z),n=t-m;if(0===t||0===m||t>0!=m>0)return n;const i=Math.abs(t+m);return Math.abs(n)>=33306690738754716e-32*i?n:-function(l,d,b,c,u,Z,t){let m,n,i,a,X,s,G,W,h,e,o,p,y,V,R,L,K,r;const x=l-u,S=b-u,H=d-Z,Y=c-Z;V=x*Y,s=Ki*x,G=s-(s-x),W=x-G,s=Ki*Y,h=s-(s-Y),e=Y-h,R=W*e-(V-G*h-W*h-G*e),L=H*S,s=Ki*H,G=s-(s-H),W=H-G,s=Ki*S,h=s-(s-S),e=S-h,K=W*e-(L-G*h-W*h-G*e),o=R-K,X=R-o,gi[0]=R-(o+X)+(X-K),p=V+o,X=p-V,y=V-(p-X)+(o-X),o=y-L,X=y-o,gi[1]=y-(o+X)+(X-L),r=p+o,X=r-p,gi[2]=p-(r-X)+(o-X),gi[3]=r;let g=function(l,d){let b=d[0];for(let c=1;c<l;c++)b+=d[c];return b}(4,gi),A=Hi*t;if(g>=A||-g>=A)return g;if(X=l-x,m=l-(x+X)+(X-u),X=b-S,i=b-(S+X)+(X-u),X=d-H,n=d-(H+X)+(X-Z),X=c-Y,a=c-(Y+X)+(X-Z),0===m&&0===n&&0===i&&0===a)return g;if(A=Yi*t+ri*Math.abs(g),g+=x*a+Y*m-(H*i+S*n),g>=A||-g>=A)return g;V=m*Y,s=Ki*m,G=s-(s-m),W=m-G,s=Ki*Y,h=s-(s-Y),e=Y-h,R=W*e-(V-G*h-W*h-G*e),L=n*S,s=Ki*n,G=s-(s-n),W=n-G,s=Ki*S,h=s-(s-S),e=S-h,K=W*e-(L-G*h-W*h-G*e),o=R-K,X=R-o,Ji[0]=R-(o+X)+(X-K),p=V+o,X=p-V,y=V-(p-X)+(o-X),o=y-L,X=y-o,Ji[1]=y-(o+X)+(X-L),r=p+o,X=r-p,Ji[2]=p-(r-X)+(o-X),Ji[3]=r;const C=xi(4,gi,4,Ji,Ai);V=x*a,s=Ki*x,G=s-(s-x),W=x-G,s=Ki*a,h=s-(s-a),e=a-h,R=W*e-(V-G*h-W*h-G*e),L=H*i,s=Ki*H,G=s-(s-H),W=H-G,s=Ki*i,h=s-(s-i),e=i-h,K=W*e-(L-G*h-W*h-G*e),o=R-K,X=R-o,Ji[0]=R-(o+X)+(X-K),p=V+o,X=p-V,y=V-(p-X)+(o-X),o=y-L,X=y-o,Ji[1]=y-(o+X)+(X-L),r=p+o,X=r-p,Ji[2]=p-(r-X)+(o-X),Ji[3]=r;const I=xi(C,Ai,4,Ji,Ci);V=m*a,s=Ki*m,G=s-(s-m),W=m-G,s=Ki*a,h=s-(s-a),e=a-h,R=W*e-(V-G*h-W*h-G*e),L=n*i,s=Ki*n,G=s-(s-n),W=n-G,s=Ki*i,h=s-(s-i),e=i-h,K=W*e-(L-G*h-W*h-G*e),o=R-K,X=R-o,Ji[0]=R-(o+X)+(X-K),p=V+o,X=p-V,y=V-(p-X)+(o-X),o=y-L,X=y-o,Ji[1]=y-(o+X)+(X-L),r=p+o,X=r-p,Ji[2]=p-(r-X)+(o-X),Ji[3]=r;const J=xi(I,Ci,4,Ji,Ii);return Ii[J-1]}(l,d,b,c,u,Z,i)}const Bi=Math.pow(2,-52),vi=new Uint32Array(512);class Mi{static from(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fi,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pi;const c=l.length,u=new Float64Array(2*c);for(let Z=0;Z<c;Z++){const c=l[Z];u[2*Z]=d(c),u[2*Z+1]=b(c)}return new Mi(u)}constructor(l){const d=l.length>>1;if(d>0&&"number"!=typeof l[0])throw new Error("Expected coords to contain numbers.");this.coords=l;const b=Math.max(2*d-5,0);this._triangles=new Uint32Array(3*b),this._halfedges=new Int32Array(3*b),this._hashSize=Math.ceil(Math.sqrt(d)),this._hullPrev=new Uint32Array(d),this._hullNext=new Uint32Array(d),this._hullTri=new Uint32Array(d),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(d),this._dists=new Float64Array(d),this.update()}update(){const{coords:l,_hullPrev:d,_hullNext:b,_hullTri:c,_hullHash:u}=this,Z=l.length>>1;let t=1/0,m=1/0,n=-1/0,i=-1/0;for(let d=0;d<Z;d++){const b=l[2*d],c=l[2*d+1];b<t&&(t=b),c<m&&(m=c),b>n&&(n=b),c>i&&(i=c),this._ids[d]=d}const a=(t+n)/2,X=(m+i)/2;let s,G,W,h=1/0;for(let d=0;d<Z;d++){const b=zi(a,X,l[2*d],l[2*d+1]);b<h&&(s=d,h=b)}const e=l[2*s],o=l[2*s+1];h=1/0;for(let d=0;d<Z;d++){if(d===s)continue;const b=zi(e,o,l[2*d],l[2*d+1]);b<h&&b>0&&(G=d,h=b)}let p=l[2*G],y=l[2*G+1],V=1/0;for(let d=0;d<Z;d++){if(d===s||d===G)continue;const b=ki(e,o,p,y,l[2*d],l[2*d+1]);b<V&&(W=d,V=b)}let R=l[2*W],L=l[2*W+1];if(V===1/0){for(let d=0;d<Z;d++)this._dists[d]=l[2*d]-l[0]||l[2*d+1]-l[1];wi(this._ids,this._dists,0,Z-1);const d=new Uint32Array(Z);let b=0;for(let l=0,c=-1/0;l<Z;l++){const u=this._ids[l];this._dists[u]>c&&(d[b++]=u,c=this._dists[u])}return this.hull=d.subarray(0,b),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Fi(e,o,p,y,R,L)<0){const l=G,d=p,b=y;G=W,p=R,y=L,W=l,R=d,L=b}const K=function(l,d,b,c,u,Z){const t=b-l,m=c-d,n=u-l,i=Z-d,a=t*t+m*m,X=n*n+i*i,s=.5/(t*i-m*n);return{x:l+(i*a-m*X)*s,y:d+(t*X-n*a)*s}}(e,o,p,y,R,L);this._cx=K.x,this._cy=K.y;for(let d=0;d<Z;d++)this._dists[d]=zi(l[2*d],l[2*d+1],K.x,K.y);wi(this._ids,this._dists,0,Z-1),this._hullStart=s;let r=3;b[s]=d[W]=G,b[G]=d[s]=W,b[W]=d[G]=s,c[s]=0,c[G]=1,c[W]=2,u.fill(-1),u[this._hashKey(e,o)]=s,u[this._hashKey(p,y)]=G,u[this._hashKey(R,L)]=W,this.trianglesLen=0,this._addTriangle(s,G,W,-1,-1,-1);for(let Z,t,m=0;m<this._ids.length;m++){const n=this._ids[m],i=l[2*n],a=l[2*n+1];if(m>0&&Math.abs(i-Z)<=Bi&&Math.abs(a-t)<=Bi)continue;if(Z=i,t=a,n===s||n===G||n===W)continue;let X=0;for(let l=0,d=this._hashKey(i,a);l<this._hashSize&&(X=u[(d+l)%this._hashSize],-1===X||X===b[X]);l++);X=d[X];let h,e=X;for(;h=b[e],Fi(i,a,l[2*e],l[2*e+1],l[2*h],l[2*h+1])>=0;)if(e=h,e===X){e=-1;break}if(-1===e)continue;let o=this._addTriangle(e,n,b[e],-1,-1,c[e]);c[n]=this._legalize(o+2),c[e]=o,r++;let p=b[e];for(;h=b[p],Fi(i,a,l[2*p],l[2*p+1],l[2*h],l[2*h+1])<0;)o=this._addTriangle(p,n,h,c[n],-1,c[p]),c[n]=this._legalize(o+2),b[p]=p,r--,p=h;if(e===X)for(;h=d[e],Fi(i,a,l[2*h],l[2*h+1],l[2*e],l[2*e+1])<0;)o=this._addTriangle(h,n,e,-1,c[e],c[h]),this._legalize(o+2),c[h]=o,b[e]=e,r--,e=h;this._hullStart=d[n]=e,b[e]=d[p]=n,b[n]=p,u[this._hashKey(i,a)]=n,u[this._hashKey(l[2*e],l[2*e+1])]=e}this.hull=new Uint32Array(r);for(let l=0,d=this._hullStart;l<r;l++)this.hull[l]=d,d=b[d];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(l,d){return Math.floor(function(l,d){const b=l/(Math.abs(l)+Math.abs(d));return(d>0?3-b:1+b)/4}(l-this._cx,d-this._cy)*this._hashSize)%this._hashSize}_legalize(l){const{_triangles:d,_halfedges:b,coords:c}=this;let u=0,Z=0;for(;;){const t=b[l],m=l-l%3;if(Z=m+(l+2)%3,-1===t){if(0===u)break;l=vi[--u];continue}const n=t-t%3,i=m+(l+1)%3,a=n+(t+2)%3,X=d[Z],s=d[l],G=d[i],W=d[a];if(Ti(c[2*X],c[2*X+1],c[2*s],c[2*s+1],c[2*G],c[2*G+1],c[2*W],c[2*W+1])){d[l]=W,d[t]=X;const c=b[a];if(-1===c){let d=this._hullStart;do{if(this._hullTri[d]===a){this._hullTri[d]=l;break}d=this._hullPrev[d]}while(d!==this._hullStart)}this._link(l,c),this._link(t,b[Z]),this._link(Z,a);const m=n+(t+1)%3;u<vi.length&&(vi[u++]=m)}else{if(0===u)break;l=vi[--u]}}return Z}_link(l,d){this._halfedges[l]=d,-1!==d&&(this._halfedges[d]=l)}_addTriangle(l,d,b,c,u,Z){const t=this.trianglesLen;return this._triangles[t]=l,this._triangles[t+1]=d,this._triangles[t+2]=b,this._link(t,c),this._link(t+1,u),this._link(t+2,Z),this.trianglesLen+=3,t}}function zi(l,d,b,c){const u=l-b,Z=d-c;return u*u+Z*Z}function Ti(l,d,b,c,u,Z,t,m){const n=l-t,i=d-m,a=b-t,X=c-m,s=u-t,G=Z-m,W=a*a+X*X,h=s*s+G*G;return n*(X*h-W*G)-i*(a*h-W*s)+(n*n+i*i)*(a*G-X*s)<0}function ki(l,d,b,c,u,Z){const t=b-l,m=c-d,n=u-l,i=Z-d,a=t*t+m*m,X=n*n+i*i,s=.5/(t*i-m*n),G=(i*a-m*X)*s,W=(t*X-n*a)*s;return G*G+W*W}function wi(l,d,b,c){if(c-b<=20)for(let u=b+1;u<=c;u++){const c=l[u],Z=d[c];let t=u-1;for(;t>=b&&d[l[t]]>Z;)l[t+1]=l[t--];l[t+1]=c}else{let u=b+1,Z=c;Ni(l,b+c>>1,u),d[l[b]]>d[l[c]]&&Ni(l,b,c),d[l[u]]>d[l[c]]&&Ni(l,u,c),d[l[b]]>d[l[u]]&&Ni(l,b,u);const t=l[u],m=d[t];for(;;){do{u++}while(d[l[u]]<m);do{Z--}while(d[l[Z]]>m);if(Z<u)break;Ni(l,u,Z)}l[b+1]=l[Z],l[Z]=t,c-u+1>=Z-b?(wi(l,d,u,c),wi(l,d,b,Z-1)):(wi(l,d,b,Z-1),wi(l,d,u,c))}}function Ni(l,d,b){const c=l[d];l[d]=l[b],l[b]=c}function fi(l){return l[0]}function Pi(l){return l[1]}const Ui=1e-6;class Qi{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(l,d){this._+=`M${this._x0=this._x1=+l},${this._y0=this._y1=+d}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(l,d){this._+=`L${this._x1=+l},${this._y1=+d}`}arc(l,d,b){const c=(l=+l)+(b=+b),u=d=+d;if(b<0)throw new Error("negative radius");null===this._x1?this._+=`M${c},${u}`:(Math.abs(this._x1-c)>Ui||Math.abs(this._y1-u)>Ui)&&(this._+="L"+c+","+u),b&&(this._+=`A${b},${b},0,1,1,${l-b},${d}A${b},${b},0,1,1,${this._x1=c},${this._y1=u}`)}rect(l,d,b,c){this._+=`M${this._x0=this._x1=+l},${this._y0=this._y1=+d}h${+b}v${+c}h${-b}Z`}value(){return this._||null}}class Ei{constructor(){this._=[]}moveTo(l,d){this._.push([l,d])}closePath(){this._.push(this._[0].slice())}lineTo(l,d){this._.push([l,d])}value(){return this._.length?this._:null}}class ji{constructor(l){let[d,b,c,u]=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500];if(!((c=+c)>=(d=+d)&&(u=+u)>=(b=+b)))throw new Error("invalid bounds");this.delaunay=l,this._circumcenters=new Float64Array(2*l.points.length),this.vectors=new Float64Array(2*l.points.length),this.xmax=c,this.xmin=d,this.ymax=u,this.ymin=b,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:l,hull:d,triangles:b},vectors:c}=this;let u,Z;const t=this.circumcenters=this._circumcenters.subarray(0,b.length/3*2);for(let c,m,n=0,i=0,a=b.length;n<a;n+=3,i+=2){const a=2*b[n],X=2*b[n+1],s=2*b[n+2],G=l[a],W=l[a+1],h=l[X],e=l[X+1],o=l[s],p=l[s+1],y=h-G,V=e-W,R=o-G,L=p-W,K=2*(y*L-V*R);if(Math.abs(K)<1e-9){if(void 0===u){u=Z=0;for(const b of d)u+=l[2*b],Z+=l[2*b+1];u/=d.length,Z/=d.length}const b=1e9*Math.sign((u-G)*L-(Z-W)*R);c=(G+o)/2-b*L,m=(W+p)/2+b*R}else{const l=1/K,d=y*y+V*V,b=R*R+L*L;c=G+(L*d-V*b)*l,m=W+(y*b-R*d)*l}t[i]=c,t[i+1]=m}let m,n,i,a=d[d.length-1],X=4*a,s=l[2*a],G=l[2*a+1];c.fill(0);for(let b=0;b<d.length;++b)a=d[b],m=X,n=s,i=G,X=4*a,s=l[2*a],G=l[2*a+1],c[m+2]=c[X]=i-G,c[m+3]=c[X+1]=s-n}render(l){const d=null==l?l=new Qi:void 0,{delaunay:{halfedges:b,inedges:c,hull:u},circumcenters:Z,vectors:t}=this;if(u.length<=1)return null;for(let d=0,c=b.length;d<c;++d){const c=b[d];if(c<d)continue;const u=2*Math.floor(d/3),t=2*Math.floor(c/3),m=Z[u],n=Z[u+1],i=Z[t],a=Z[t+1];this._renderSegment(m,n,i,a,l)}let m,n=u[u.length-1];for(let d=0;d<u.length;++d){m=n,n=u[d];const b=2*Math.floor(c[n]/3),i=Z[b],a=Z[b+1],X=4*m,s=this._project(i,a,t[X+2],t[X+3]);s&&this._renderSegment(i,a,s[0],s[1],l)}return d&&d.value()}renderBounds(l){const d=null==l?l=new Qi:void 0;return l.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),d&&d.value()}renderCell(l,d){const b=null==d?d=new Qi:void 0,c=this._clip(l);if(null===c||!c.length)return;d.moveTo(c[0],c[1]);let u=c.length;for(;c[0]===c[u-2]&&c[1]===c[u-1]&&u>1;)u-=2;for(let l=2;l<u;l+=2)c[l]===c[l-2]&&c[l+1]===c[l-1]||d.lineTo(c[l],c[l+1]);return d.closePath(),b&&b.value()}*cellPolygons(){const{delaunay:{points:l}}=this;for(let d=0,b=l.length/2;d<b;++d){const l=this.cellPolygon(d);l&&(l.index=d,yield l)}}cellPolygon(l){const d=new Ei;return this.renderCell(l,d),d.value()}_renderSegment(l,d,b,c,u){let Z;const t=this._regioncode(l,d),m=this._regioncode(b,c);0===t&&0===m?(u.moveTo(l,d),u.lineTo(b,c)):(Z=this._clipSegment(l,d,b,c,t,m))&&(u.moveTo(Z[0],Z[1]),u.lineTo(Z[2],Z[3]))}contains(l,d,b){return(d=+d)==d&&(b=+b)==b&&this.delaunay._step(l,d,b)===l}*neighbors(l){const d=this._clip(l);if(d)for(const b of this.delaunay.neighbors(l)){const l=this._clip(b);if(l)l:for(let c=0,u=d.length;c<u;c+=2)for(let Z=0,t=l.length;Z<t;Z+=2)if(d[c]===l[Z]&&d[c+1]===l[Z+1]&&d[(c+2)%u]===l[(Z+t-2)%t]&&d[(c+3)%u]===l[(Z+t-1)%t]){yield b;break l}}}_cell(l){const{circumcenters:d,delaunay:{inedges:b,halfedges:c,triangles:u}}=this,Z=b[l];if(-1===Z)return null;const t=[];let m=Z;do{const b=Math.floor(m/3);if(t.push(d[2*b],d[2*b+1]),m=m%3==2?m-2:m+1,u[m]!==l)break;m=c[m]}while(m!==Z&&-1!==m);return t}_clip(l){if(0===l&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const d=this._cell(l);if(null===d)return null;const{vectors:b}=this,c=4*l;return this._simplify(b[c]||b[c+1]?this._clipInfinite(l,d,b[c],b[c+1],b[c+2],b[c+3]):this._clipFinite(l,d))}_clipFinite(l,d){const b=d.length;let c,u,Z,t,m=null,n=d[b-2],i=d[b-1],a=this._regioncode(n,i),X=0;for(let s=0;s<b;s+=2)if(c=n,u=i,n=d[s],i=d[s+1],Z=a,a=this._regioncode(n,i),0===Z&&0===a)t=X,X=0,m?m.push(n,i):m=[n,i];else{let d,b,s,G,W;if(0===Z){if(null===(d=this._clipSegment(c,u,n,i,Z,a)))continue;[b,s,G,W]=d}else{if(null===(d=this._clipSegment(n,i,c,u,a,Z)))continue;[G,W,b,s]=d,t=X,X=this._edgecode(b,s),t&&X&&this._edge(l,t,X,m,m.length),m?m.push(b,s):m=[b,s]}t=X,X=this._edgecode(G,W),t&&X&&this._edge(l,t,X,m,m.length),m?m.push(G,W):m=[G,W]}if(m)t=X,X=this._edgecode(m[0],m[1]),t&&X&&this._edge(l,t,X,m,m.length);else if(this.contains(l,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return m}_clipSegment(l,d,b,c,u,Z){const t=u<Z;for(t&&([l,d,b,c,u,Z]=[b,c,l,d,Z,u]);;){if(0===u&&0===Z)return t?[b,c,l,d]:[l,d,b,c];if(u&Z)return null;let m,n,i=u||Z;8&i?(m=l+(b-l)*(this.ymax-d)/(c-d),n=this.ymax):4&i?(m=l+(b-l)*(this.ymin-d)/(c-d),n=this.ymin):2&i?(n=d+(c-d)*(this.xmax-l)/(b-l),m=this.xmax):(n=d+(c-d)*(this.xmin-l)/(b-l),m=this.xmin),u?(l=m,d=n,u=this._regioncode(l,d)):(b=m,c=n,Z=this._regioncode(b,c))}}_clipInfinite(l,d,b,c,u,Z){let t,m=Array.from(d);if((t=this._project(m[0],m[1],b,c))&&m.unshift(t[0],t[1]),(t=this._project(m[m.length-2],m[m.length-1],u,Z))&&m.push(t[0],t[1]),m=this._clipFinite(l,m))for(let d,b=0,c=m.length,u=this._edgecode(m[c-2],m[c-1]);b<c;b+=2)d=u,u=this._edgecode(m[b],m[b+1]),d&&u&&(b=this._edge(l,d,u,m,b),c=m.length);else this.contains(l,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(m=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return m}_edge(l,d,b,c,u){for(;d!==b;){let b,Z;switch(d){case 5:d=4;continue;case 4:d=6,b=this.xmax,Z=this.ymin;break;case 6:d=2;continue;case 2:d=10,b=this.xmax,Z=this.ymax;break;case 10:d=8;continue;case 8:d=9,b=this.xmin,Z=this.ymax;break;case 9:d=1;continue;case 1:d=5,b=this.xmin,Z=this.ymin}c[u]===b&&c[u+1]===Z||!this.contains(l,b,Z)||(c.splice(u,0,b,Z),u+=2)}return u}_project(l,d,b,c){let u,Z,t,m=1/0;if(c<0){if(d<=this.ymin)return null;(u=(this.ymin-d)/c)<m&&(t=this.ymin,Z=l+(m=u)*b)}else if(c>0){if(d>=this.ymax)return null;(u=(this.ymax-d)/c)<m&&(t=this.ymax,Z=l+(m=u)*b)}if(b>0){if(l>=this.xmax)return null;(u=(this.xmax-l)/b)<m&&(Z=this.xmax,t=d+(m=u)*c)}else if(b<0){if(l<=this.xmin)return null;(u=(this.xmin-l)/b)<m&&(Z=this.xmin,t=d+(m=u)*c)}return[Z,t]}_edgecode(l,d){return(l===this.xmin?1:l===this.xmax?2:0)|(d===this.ymin?4:d===this.ymax?8:0)}_regioncode(l,d){return(l<this.xmin?1:l>this.xmax?2:0)|(d<this.ymin?4:d>this.ymax?8:0)}_simplify(l){if(l&&l.length>4){for(let d=0;d<l.length;d+=2){const b=(d+2)%l.length,c=(d+4)%l.length;(l[d]===l[b]&&l[b]===l[c]||l[d+1]===l[b+1]&&l[b+1]===l[c+1])&&(l.splice(b,2),d-=2)}l.length||(l=null)}return l}}const Di=2*Math.PI,Oi=Math.pow;function _i(l){return l[0]}function qi(l){return l[1]}function $i(l,d,b){return[l+Math.sin(l+d)*b,d+Math.cos(l-d)*b]}class la{static from(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_i,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qi,c=arguments.length>3?arguments[3]:void 0;return new la("length"in l?function(l,d,b,c){const u=l.length,Z=new Float64Array(2*u);for(let t=0;t<u;++t){const u=l[t];Z[2*t]=d.call(c,u,t,l),Z[2*t+1]=b.call(c,u,t,l)}return Z}(l,d,b,c):Float64Array.from(function*(l,d,b,c){let u=0;for(const Z of l)yield d.call(c,Z,u,l),yield b.call(c,Z,u,l),++u}(l,d,b,c)))}constructor(l){this._delaunator=new Mi(l),this.inedges=new Int32Array(l.length/2),this._hullIndex=new Int32Array(l.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const l=this._delaunator,d=this.points;if(l.hull&&l.hull.length>2&&function(l){const{triangles:d,coords:b}=l;for(let l=0;l<d.length;l+=3){const c=2*d[l],u=2*d[l+1],Z=2*d[l+2];if((b[Z]-b[c])*(b[u+1]-b[c+1])-(b[u]-b[c])*(b[Z+1]-b[c+1])>1e-10)return!1}return!0}(l)){this.collinear=Int32Array.from({length:d.length/2},((l,d)=>d)).sort(((l,b)=>d[2*l]-d[2*b]||d[2*l+1]-d[2*b+1]));const l=this.collinear[0],b=this.collinear[this.collinear.length-1],c=[d[2*l],d[2*l+1],d[2*b],d[2*b+1]],u=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let l=0,b=d.length/2;l<b;++l){const b=$i(d[2*l],d[2*l+1],u);d[2*l]=b[0],d[2*l+1]=b[1]}this._delaunator=new Mi(d)}else delete this.collinear;const b=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,u=this.triangles=this._delaunator.triangles,Z=this.inedges.fill(-1),t=this._hullIndex.fill(-1);for(let l=0,d=b.length;l<d;++l){const d=u[l%3==2?l-2:l+1];-1!==b[l]&&-1!==Z[d]||(Z[d]=l)}for(let l=0,d=c.length;l<d;++l)t[c[l]]=l;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],Z[c[0]]=1,2===c.length&&(Z[c[1]]=0,this.triangles[1]=c[1],this.triangles[2]=c[1]))}voronoi(l){return new ji(this,l)}*neighbors(l){const{inedges:d,hull:b,_hullIndex:c,halfedges:u,triangles:Z,collinear:t}=this;if(t){const d=t.indexOf(l);return d>0&&(yield t[d-1]),void(d<t.length-1&&(yield t[d+1]))}const m=d[l];if(-1===m)return;let n=m,i=-1;do{if(yield i=Z[n],n=n%3==2?n-2:n+1,Z[n]!==l)return;if(n=u[n],-1===n){const d=b[(c[l]+1)%b.length];return void(d!==i&&(yield d))}}while(n!==m)}find(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((l=+l)!=l||(d=+d)!=d)return-1;const c=b;let u;for(;(u=this._step(b,l,d))>=0&&u!==b&&u!==c;)b=u;return u}_step(l,d,b){const{inedges:c,hull:u,_hullIndex:Z,halfedges:t,triangles:m,points:n}=this;if(-1===c[l]||!n.length)return(l+1)%(n.length>>1);let i=l,a=Oi(d-n[2*l],2)+Oi(b-n[2*l+1],2);const X=c[l];let s=X;do{let c=m[s];const X=Oi(d-n[2*c],2)+Oi(b-n[2*c+1],2);if(X<a&&(a=X,i=c),s=s%3==2?s-2:s+1,m[s]!==l)break;if(s=t[s],-1===s){if(s=u[(Z[l]+1)%u.length],s!==c&&Oi(d-n[2*s],2)+Oi(b-n[2*s+1],2)<a)return s;break}}while(s!==X);return i}render(l){const d=null==l?l=new Qi:void 0,{points:b,halfedges:c,triangles:u}=this;for(let d=0,Z=c.length;d<Z;++d){const Z=c[d];if(Z<d)continue;const t=2*u[d],m=2*u[Z];l.moveTo(b[t],b[t+1]),l.lineTo(b[m],b[m+1])}return this.renderHull(l),d&&d.value()}renderPoints(l,d){void 0!==d||l&&"function"==typeof l.moveTo||(d=l,l=null),d=null==d?2:+d;const b=null==l?l=new Qi:void 0,{points:c}=this;for(let b=0,u=c.length;b<u;b+=2){const u=c[b],Z=c[b+1];l.moveTo(u+d,Z),l.arc(u,Z,d,0,Di)}return b&&b.value()}renderHull(l){const d=null==l?l=new Qi:void 0,{hull:b,points:c}=this,u=2*b[0],Z=b.length;l.moveTo(c[u],c[u+1]);for(let d=1;d<Z;++d){const u=2*b[d];l.lineTo(c[u],c[u+1])}return l.closePath(),d&&d.value()}hullPolygon(){const l=new Ei;return this.renderHull(l),l.value()}renderTriangle(l,d){const b=null==d?d=new Qi:void 0,{points:c,triangles:u}=this,Z=2*u[l*=3],t=2*u[l+1],m=2*u[l+2];return d.moveTo(c[Z],c[Z+1]),d.lineTo(c[t],c[t+1]),d.lineTo(c[m],c[m+1]),d.closePath(),b&&b.value()}*trianglePolygons(){const{triangles:l}=this;for(let d=0,b=l.length/3;d<b;++d)yield this.trianglePolygon(d)}trianglePolygon(l){const d=new Ei;return this.renderTriangle(l,d),d.value()}}function da(l,d){return null==l||null==d?NaN:l<d?-1:l>d?1:l>=d?0:NaN}function ba(l,d){return null==l||null==d?NaN:d<l?-1:d>l?1:d>=l?0:NaN}function ca(l){let d,b,c;function u(l,c){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.length;if(u<Z){if(0!==d(c,c))return Z;do{const d=u+Z>>>1;b(l[d],c)<0?u=d+1:Z=d}while(u<Z)}return u}return 2!==l.length?(d=da,b=(d,b)=>da(l(d),b),c=(d,b)=>l(d)-b):(d=l===da||l===ba?l:ua,b=l,c=l),{left:u,center:function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const Z=u(l,d,b,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.length)-1);return Z>b&&c(l[Z-1],d)>-c(l[Z],d)?Z-1:Z},right:function(l,c){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.length;if(u<Z){if(0!==d(c,c))return Z;do{const d=u+Z>>>1;b(l[d],c)<=0?u=d+1:Z=d}while(u<Z)}return u}}}function ua(){return 0}const Za=ca(da).right;ca((function(l){return null===l?NaN:+l})).center;var ta=Za;const ma=Math.sqrt(50),na=Math.sqrt(10),ia=Math.sqrt(2);function aa(l,d,b){const c=(d-l)/Math.max(0,b),u=Math.floor(Math.log10(c)),Z=c/Math.pow(10,u),t=Z>=ma?10:Z>=na?5:Z>=ia?2:1;let m,n,i;return u<0?(i=Math.pow(10,-u)/t,m=Math.round(l*i),n=Math.round(d*i),m/i<l&&++m,n/i>d&&--n,i=-i):(i=Math.pow(10,u)*t,m=Math.round(l/i),n=Math.round(d/i),m*i<l&&++m,n*i>d&&--n),n<m&&.5<=b&&b<2?aa(l,d,2*b):[m,n,i]}function Xa(l,d,b){return aa(l=+l,d=+d,b=+b)[2]}function sa(l,d){switch(arguments.length){case 0:break;case 1:this.range(l);break;default:this.range(d).domain(l)}return this}function Ga(l,d,b){l.prototype=d.prototype=b,b.constructor=l}function Wa(l,d){var b=Object.create(l.prototype);for(var c in d)b[c]=d[c];return b}function ha(){}var ea=.7,oa=1/ea,pa="\\s*([+-]?\\d+)\\s*",ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Va="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ra=/^#([0-9a-f]{3,8})$/,La=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),Ka=new RegExp(`^rgb\\(${Va},${Va},${Va}\\)$`),ra=new RegExp(`^rgba\\(${pa},${pa},${pa},${ya}\\)$`),xa=new RegExp(`^rgba\\(${Va},${Va},${Va},${ya}\\)$`),Sa=new RegExp(`^hsl\\(${ya},${Va},${Va}\\)$`),Ha=new RegExp(`^hsla\\(${ya},${Va},${Va},${ya}\\)$`),Ya={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ga(){return this.rgb().formatHex()}function Aa(){return this.rgb().formatRgb()}function Ca(l){var d,b;return l=(l+"").trim().toLowerCase(),(d=Ra.exec(l))?(b=d[1].length,d=parseInt(d[1],16),6===b?Ia(d):3===b?new Ba(d>>8&15|d>>4&240,d>>4&15|240&d,(15&d)<<4|15&d,1):8===b?Ja(d>>24&255,d>>16&255,d>>8&255,(255&d)/255):4===b?Ja(d>>12&15|d>>8&240,d>>8&15|d>>4&240,d>>4&15|240&d,((15&d)<<4|15&d)/255):null):(d=La.exec(l))?new Ba(d[1],d[2],d[3],1):(d=Ka.exec(l))?new Ba(255*d[1]/100,255*d[2]/100,255*d[3]/100,1):(d=ra.exec(l))?Ja(d[1],d[2],d[3],d[4]):(d=xa.exec(l))?Ja(255*d[1]/100,255*d[2]/100,255*d[3]/100,d[4]):(d=Sa.exec(l))?wa(d[1],d[2]/100,d[3]/100,1):(d=Ha.exec(l))?wa(d[1],d[2]/100,d[3]/100,d[4]):Ya.hasOwnProperty(l)?Ia(Ya[l]):"transparent"===l?new Ba(NaN,NaN,NaN,0):null}function Ia(l){return new Ba(l>>16&255,l>>8&255,255&l,1)}function Ja(l,d,b,c){return c<=0&&(l=d=b=NaN),new Ba(l,d,b,c)}function Fa(l,d,b,c){return 1===arguments.length?((u=l)instanceof ha||(u=Ca(u)),u?new Ba((u=u.rgb()).r,u.g,u.b,u.opacity):new Ba):new Ba(l,d,b,null==c?1:c);var u}function Ba(l,d,b,c){this.r=+l,this.g=+d,this.b=+b,this.opacity=+c}function va(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}`}function Ma(){const l=za(this.opacity);return`${1===l?"rgb(":"rgba("}${Ta(this.r)}, ${Ta(this.g)}, ${Ta(this.b)}${1===l?")":`, ${l})`}`}function za(l){return isNaN(l)?1:Math.max(0,Math.min(1,l))}function Ta(l){return Math.max(0,Math.min(255,Math.round(l)||0))}function ka(l){return((l=Ta(l))<16?"0":"")+l.toString(16)}function wa(l,d,b,c){return c<=0?l=d=b=NaN:b<=0||b>=1?l=d=NaN:d<=0&&(l=NaN),new fa(l,d,b,c)}function Na(l){if(l instanceof fa)return new fa(l.h,l.s,l.l,l.opacity);if(l instanceof ha||(l=Ca(l)),!l)return new fa;if(l instanceof fa)return l;var d=(l=l.rgb()).r/255,b=l.g/255,c=l.b/255,u=Math.min(d,b,c),Z=Math.max(d,b,c),t=NaN,m=Z-u,n=(Z+u)/2;return m?(t=d===Z?(b-c)/m+6*(b<c):b===Z?(c-d)/m+2:(d-b)/m+4,m/=n<.5?Z+u:2-Z-u,t*=60):m=n>0&&n<1?0:t,new fa(t,m,n,l.opacity)}function fa(l,d,b,c){this.h=+l,this.s=+d,this.l=+b,this.opacity=+c}function Pa(l){return(l=(l||0)%360)<0?l+360:l}function Ua(l){return Math.max(0,Math.min(1,l||0))}function Qa(l,d,b){return 255*(l<60?d+(b-d)*l/60:l<180?b:l<240?d+(b-d)*(240-l)/60:d)}Ga(ha,Ca,{copy(l){return Object.assign(new this.constructor,this,l)},displayable(){return this.rgb().displayable()},hex:ga,formatHex:ga,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Na(this).formatHsl()},formatRgb:Aa,toString:Aa}),Ga(Ba,Fa,Wa(ha,{brighter(l){return l=null==l?oa:Math.pow(oa,l),new Ba(this.r*l,this.g*l,this.b*l,this.opacity)},darker(l){return l=null==l?ea:Math.pow(ea,l),new Ba(this.r*l,this.g*l,this.b*l,this.opacity)},rgb(){return this},clamp(){return new Ba(Ta(this.r),Ta(this.g),Ta(this.b),za(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:va,formatHex:va,formatHex8:function(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}${ka(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ma,toString:Ma})),Ga(fa,(function(l,d,b,c){return 1===arguments.length?Na(l):new fa(l,d,b,null==c?1:c)}),Wa(ha,{brighter(l){return l=null==l?oa:Math.pow(oa,l),new fa(this.h,this.s,this.l*l,this.opacity)},darker(l){return l=null==l?ea:Math.pow(ea,l),new fa(this.h,this.s,this.l*l,this.opacity)},rgb(){var l=this.h%360+360*(this.h<0),d=isNaN(l)||isNaN(this.s)?0:this.s,b=this.l,c=b+(b<.5?b:1-b)*d,u=2*b-c;return new Ba(Qa(l>=240?l-240:l+120,u,c),Qa(l,u,c),Qa(l<120?l+240:l-120,u,c),this.opacity)},clamp(){return new fa(Pa(this.h),Ua(this.s),Ua(this.l),za(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const l=za(this.opacity);return`${1===l?"hsl(":"hsla("}${Pa(this.h)}, ${100*Ua(this.s)}%, ${100*Ua(this.l)}%${1===l?")":`, ${l})`}`}}));var Ea=l=>()=>l;function ja(l){return 1==(l=+l)?Da:function(d,b){return b-d?function(l,d,b){return l=Math.pow(l,b),d=Math.pow(d,b)-l,b=1/b,function(c){return Math.pow(l+c*d,b)}}(d,b,l):Ea(isNaN(d)?b:d)}}function Da(l,d){var b=d-l;return b?function(l,d){return function(b){return l+b*d}}(l,b):Ea(isNaN(l)?d:l)}var Oa=function l(d){var b=ja(d);function c(l,d){var c=b((l=Fa(l)).r,(d=Fa(d)).r),u=b(l.g,d.g),Z=b(l.b,d.b),t=Da(l.opacity,d.opacity);return function(d){return l.r=c(d),l.g=u(d),l.b=Z(d),l.opacity=t(d),l+""}}return c.gamma=l,c}(1);function _a(l,d){d||(d=[]);var b,c=l?Math.min(d.length,l.length):0,u=d.slice();return function(Z){for(b=0;b<c;++b)u[b]=l[b]*(1-Z)+d[b]*Z;return u}}function qa(l,d){var b,c=d?d.length:0,u=l?Math.min(c,l.length):0,Z=new Array(u),t=new Array(c);for(b=0;b<u;++b)Z[b]=ZX(l[b],d[b]);for(;b<c;++b)t[b]=d[b];return function(l){for(b=0;b<u;++b)t[b]=Z[b](l);return t}}function $a(l,d){var b=new Date;return l=+l,d=+d,function(c){return b.setTime(l*(1-c)+d*c),b}}function lX(l,d){return l=+l,d=+d,function(b){return l*(1-b)+d*b}}function dX(l,d){var b,c={},u={};for(b in null!==l&&"object"==typeof l||(l={}),null!==d&&"object"==typeof d||(d={}),d)b in l?c[b]=ZX(l[b],d[b]):u[b]=d[b];return function(l){for(b in c)u[b]=c[b](l);return u}}var bX=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cX=new RegExp(bX.source,"g");function uX(l,d){var b,c,u,Z=bX.lastIndex=cX.lastIndex=0,t=-1,m=[],n=[];for(l+="",d+="";(b=bX.exec(l))&&(c=cX.exec(d));)(u=c.index)>Z&&(u=d.slice(Z,u),m[t]?m[t]+=u:m[++t]=u),(b=b[0])===(c=c[0])?m[t]?m[t]+=c:m[++t]=c:(m[++t]=null,n.push({i:t,x:lX(b,c)})),Z=cX.lastIndex;return Z<d.length&&(u=d.slice(Z),m[t]?m[t]+=u:m[++t]=u),m.length<2?n[0]?function(l){return function(d){return l(d)+""}}(n[0].x):function(l){return function(){return l}}(d):(d=n.length,function(l){for(var b,c=0;c<d;++c)m[(b=n[c]).i]=b.x(l);return m.join("")})}function ZX(l,d){var b,c,u=typeof d;return null==d||"boolean"===u?Ea(d):("number"===u?lX:"string"===u?(b=Ca(d))?(d=b,Oa):uX:d instanceof Ca?Oa:d instanceof Date?$a:(c=d,!ArrayBuffer.isView(c)||c instanceof DataView?Array.isArray(d)?qa:"function"!=typeof d.valueOf&&"function"!=typeof d.toString||isNaN(d)?dX:lX:_a))(l,d)}function tX(l,d){return l=+l,d=+d,function(b){return Math.round(l*(1-b)+d*b)}}function mX(l){return+l}var nX=[0,1];function iX(l){return l}function aX(l,d){return(d-=l=+l)?function(b){return(b-l)/d}:(b=isNaN(d)?NaN:.5,function(){return b});var b}function XX(l,d,b){var c=l[0],u=l[1],Z=d[0],t=d[1];return u<c?(c=aX(u,c),Z=b(t,Z)):(c=aX(c,u),Z=b(Z,t)),function(l){return Z(c(l))}}function sX(l,d,b){var c=Math.min(l.length,d.length)-1,u=new Array(c),Z=new Array(c),t=-1;for(l[c]<l[0]&&(l=l.slice().reverse(),d=d.slice().reverse());++t<c;)u[t]=aX(l[t],l[t+1]),Z[t]=b(d[t],d[t+1]);return function(d){var b=ta(l,d,1,c)-1;return Z[b](u[b](d))}}function GX(){var l,d,b,c,u,Z,t=nX,m=nX,n=ZX,i=iX;function a(){var l,d,b,n=Math.min(t.length,m.length);return i!==iX&&(l=t[0],d=t[n-1],l>d&&(b=l,l=d,d=b),i=function(b){return Math.max(l,Math.min(d,b))}),c=n>2?sX:XX,u=Z=null,X}function X(d){return null==d||isNaN(d=+d)?b:(u||(u=c(t.map(l),m,n)))(l(i(d)))}return X.invert=function(b){return i(d((Z||(Z=c(m,t.map(l),lX)))(b)))},X.domain=function(l){return arguments.length?(t=Array.from(l,mX),a()):t.slice()},X.range=function(l){return arguments.length?(m=Array.from(l),a()):m.slice()},X.rangeRound=function(l){return m=Array.from(l),n=tX,a()},X.clamp=function(l){return arguments.length?(i=!!l||iX,a()):i!==iX},X.interpolate=function(l){return arguments.length?(n=l,a()):n},X.unknown=function(l){return arguments.length?(b=l,X):b},function(b,c){return l=b,d=c,a()}}function WX(l,d){if((b=(l=d?l.toExponential(d-1):l.toExponential()).indexOf("e"))<0)return null;var b,c=l.slice(0,b);return[c.length>1?c[0]+c.slice(2):c,+l.slice(b+1)]}function hX(l){return(l=WX(Math.abs(l)))?l[1]:NaN}var eX,oX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pX(l){if(!(d=oX.exec(l)))throw new Error("invalid format: "+l);var d;return new yX({fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:d[6],comma:d[7],precision:d[8]&&d[8].slice(1),trim:d[9],type:d[10]})}function yX(l){this.fill=void 0===l.fill?" ":l.fill+"",this.align=void 0===l.align?">":l.align+"",this.sign=void 0===l.sign?"-":l.sign+"",this.symbol=void 0===l.symbol?"":l.symbol+"",this.zero=!!l.zero,this.width=void 0===l.width?void 0:+l.width,this.comma=!!l.comma,this.precision=void 0===l.precision?void 0:+l.precision,this.trim=!!l.trim,this.type=void 0===l.type?"":l.type+""}function VX(l,d){var b=WX(l,d);if(!b)return l+"";var c=b[0],u=b[1];return u<0?"0."+new Array(-u).join("0")+c:c.length>u+1?c.slice(0,u+1)+"."+c.slice(u+1):c+new Array(u-c.length+2).join("0")}pX.prototype=yX.prototype,yX.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var RX={"%":(l,d)=>(100*l).toFixed(d),b:l=>Math.round(l).toString(2),c:l=>l+"",d:function(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:(l,d)=>l.toExponential(d),f:(l,d)=>l.toFixed(d),g:(l,d)=>l.toPrecision(d),o:l=>Math.round(l).toString(8),p:(l,d)=>VX(100*l,d),r:VX,s:function(l,d){var b=WX(l,d);if(!b)return l+"";var c=b[0],u=b[1],Z=u-(eX=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,t=c.length;return Z===t?c:Z>t?c+new Array(Z-t+1).join("0"):Z>0?c.slice(0,Z)+"."+c.slice(Z):"0."+new Array(1-Z).join("0")+WX(l,Math.max(0,d+Z-1))[0]},X:l=>Math.round(l).toString(16).toUpperCase(),x:l=>Math.round(l).toString(16)};function LX(l){return l}var KX,rX,xX,SX=Array.prototype.map,HX=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function YX(l){var d,b,c=void 0===l.grouping||void 0===l.thousands?LX:(d=SX.call(l.grouping,Number),b=l.thousands+"",function(l,c){for(var u=l.length,Z=[],t=0,m=d[0],n=0;u>0&&m>0&&(n+m+1>c&&(m=Math.max(1,c-n)),Z.push(l.substring(u-=m,u+m)),!((n+=m+1)>c));)m=d[t=(t+1)%d.length];return Z.reverse().join(b)}),u=void 0===l.currency?"":l.currency[0]+"",Z=void 0===l.currency?"":l.currency[1]+"",t=void 0===l.decimal?".":l.decimal+"",m=void 0===l.numerals?LX:function(l){return function(d){return d.replace(/[0-9]/g,(function(d){return l[+d]}))}}(SX.call(l.numerals,String)),n=void 0===l.percent?"%":l.percent+"",i=void 0===l.minus?"−":l.minus+"",a=void 0===l.nan?"NaN":l.nan+"";function X(l){var d=(l=pX(l)).fill,b=l.align,X=l.sign,s=l.symbol,G=l.zero,W=l.width,h=l.comma,e=l.precision,o=l.trim,p=l.type;"n"===p?(h=!0,p="g"):RX[p]||(void 0===e&&(e=12),o=!0,p="g"),(G||"0"===d&&"="===b)&&(G=!0,d="0",b="=");var y="$"===s?u:"#"===s&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",V="$"===s?Z:/[%p]/.test(p)?n:"",R=RX[p],L=/[defgprs%]/.test(p);function K(l){var u,Z,n,s=y,K=V;if("c"===p)K=R(l)+K,l="";else{var r=(l=+l)<0||1/l<0;if(l=isNaN(l)?a:R(Math.abs(l),e),o&&(l=function(l){l:for(var d,b=l.length,c=1,u=-1;c<b;++c)switch(l[c]){case".":u=d=c;break;case"0":0===u&&(u=c),d=c;break;default:if(!+l[c])break l;u>0&&(u=0)}return u>0?l.slice(0,u)+l.slice(d+1):l}(l)),r&&0==+l&&"+"!==X&&(r=!1),s=(r?"("===X?X:i:"-"===X||"("===X?"":X)+s,K=("s"===p?HX[8+eX/3]:"")+K+(r&&"("===X?")":""),L)for(u=-1,Z=l.length;++u<Z;)if(48>(n=l.charCodeAt(u))||n>57){K=(46===n?t+l.slice(u+1):l.slice(u))+K,l=l.slice(0,u);break}}h&&!G&&(l=c(l,1/0));var x=s.length+l.length+K.length,S=x<W?new Array(W-x+1).join(d):"";switch(h&&G&&(l=c(S+l,S.length?W-K.length:1/0),S=""),b){case"<":l=s+l+K+S;break;case"=":l=s+S+l+K;break;case"^":l=S.slice(0,x=S.length>>1)+s+l+K+S.slice(x);break;default:l=S+s+l+K}return m(l)}return e=void 0===e?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,e)):Math.max(0,Math.min(20,e)),K.toString=function(){return l+""},K}return{format:X,formatPrefix:function(l,d){var b=X(((l=pX(l)).type="f",l)),c=3*Math.max(-8,Math.min(8,Math.floor(hX(d)/3))),u=Math.pow(10,-c),Z=HX[8+c/3];return function(l){return b(u*l)+Z}}}}function gX(l,d,b,c){var u,Z=function(l,d,b){b=+b;const c=(d=+d)<(l=+l),u=c?Xa(d,l,b):Xa(l,d,b);return(c?-1:1)*(u<0?1/-u:u)}(l,d,b);switch((c=pX(null==c?",f":c)).type){case"s":var t=Math.max(Math.abs(l),Math.abs(d));return null!=c.precision||isNaN(u=function(l,d){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hX(d)/3)))-hX(Math.abs(l)))}(Z,t))||(c.precision=u),xX(c,t);case"":case"e":case"g":case"p":case"r":null!=c.precision||isNaN(u=function(l,d){return l=Math.abs(l),d=Math.abs(d)-l,Math.max(0,hX(d)-hX(l))+1}(Z,Math.max(Math.abs(l),Math.abs(d))))||(c.precision=u-("e"===c.type));break;case"f":case"%":null!=c.precision||isNaN(u=function(l){return Math.max(0,-hX(Math.abs(l)))}(Z))||(c.precision=u-2*("%"===c.type))}return rX(c)}function AX(l){var d=l.domain;return l.ticks=function(l){var b=d();return function(l,d,b){if(!((b=+b)>0))return[];if((l=+l)==(d=+d))return[l];const c=d<l,[u,Z,t]=c?aa(d,l,b):aa(l,d,b);if(!(Z>=u))return[];const m=Z-u+1,n=new Array(m);if(c)if(t<0)for(let l=0;l<m;++l)n[l]=(Z-l)/-t;else for(let l=0;l<m;++l)n[l]=(Z-l)*t;else if(t<0)for(let l=0;l<m;++l)n[l]=(u+l)/-t;else for(let l=0;l<m;++l)n[l]=(u+l)*t;return n}(b[0],b[b.length-1],null==l?10:l)},l.tickFormat=function(l,b){var c=d();return gX(c[0],c[c.length-1],null==l?10:l,b)},l.nice=function(b){null==b&&(b=10);var c,u,Z=d(),t=0,m=Z.length-1,n=Z[t],i=Z[m],a=10;for(i<n&&(u=n,n=i,i=u,u=t,t=m,m=u);a-- >0;){if((u=Xa(n,i,b))===c)return Z[t]=n,Z[m]=i,d(Z);if(u>0)n=Math.floor(n/u)*u,i=Math.ceil(i/u)*u;else{if(!(u<0))break;n=Math.ceil(n*u)/u,i=Math.floor(i*u)/u}c=u}return l},l}function CX(){var l=GX()(iX,iX);return l.copy=function(){return d=l,CX().domain(d.domain()).range(d.range()).interpolate(d.interpolate()).clamp(d.clamp()).unknown(d.unknown());var d},sa.apply(l,arguments),AX(l)}function IX(l,d){const b=d.length;let c=-1;for(;++c<b;){const b=JX(l,d[c]);if(b)return b}return 0}function JX(l,d){let b=d[0],c=d[1],u=-1;for(let Z=0,t=l.length,m=t-1;Z<t;m=Z++){const t=l[Z],n=t[0],i=t[1],a=l[m],X=a[0],s=a[1];if(FX(t,a,d))return 0;i>c!=s>c&&b<(X-n)*(c-i)/(s-i)+n&&(u=-u)}return u}function FX(l,d,b){let c;return function(l,d,b){return(d[0]-l[0])*(b[1]-l[1])==(b[0]-l[0])*(d[1]-l[1])}(l,d,b)&&function(l,d,b){return l<=d&&d<=b||b<=d&&d<=l}(l[c=+(l[0]===d[0])],b[c],d[c])}function BX(l){let d=0,b=l.length,c=l[b-1][1]*l[0][0]-l[b-1][0]*l[0][1];for(;++d<b;)c+=l[d-1][1]*l[d][0]-l[d-1][0]*l[d][1];return c}function vX(l){const d=[],b=[];for(const c of l)BX(c)>0?d.push([c]):b.push(c);return b.forEach((function(l){for(let b,c=0,u=d.length;c<u;++c)if(-1!==IX((b=d[c])[0],l))return void b.push(l)})),d}function MX(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(pc(l)<=0)return[];let b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyY");Hl(c)||(c="y");let u=Vl(d,"keyZ","");Hl(u)||(u="z");let Z=Vl(d,"keyInd","");Hl(Z)||(Z="ind");let t=Vl(d,"returnObjArray");Oc(t)||(t=!0);let m=[];return rc(l,((l,d)=>{let t=null,n=null,i=null;Rl(l)&&pc(l)>=3?(t=Vl(l,0),n=Vl(l,1),i=Vl(l,2)):(t=Vl(l,b,null),n=Vl(l,c,null),i=Vl(l,u,null)),fl(t)&&fl(n)&&fl(i)&&(t=zc(t),n=zc(n),i=zc(i),m.push({x:t,y:n,z:i,[Z]:d}))})),t||(m=qb(m,(l=>[l.x,l.y,l.z,l[Z]]))),m}function zX(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sl(l)?(l=Vc(l,d),l=jl.helpers.multiPolygon(l),jl.area(l)):null}function TX(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sl(l)?(l=Lc(l,d),l=jl.helpers.multiPolygon(l),Vl(jl.centroid(l),"geometry.coordinates",[])):null}function kX(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Sl(l)&&Sl(d)?(l=Vc(l,b),d=Vc(d,b),l=jl.helpers.multiPolygon(l),d=jl.helpers.multiPolygon(d),Sc(jl.difference(l,d))):null}function wX(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Sl(l)&&Sl(d)?(l=Vc(l,b),d=Vc(d,b),l=jl.helpers.multiPolygon(l),d=jl.helpers.multiPolygon(d),Sc(jl.intersect(l,d))):null}function NX(l){if(!Sl(l))return null;return qb(l,(l=>qb(l,(l=>[l[1],l[0]]))))}function fX(l){if(!Sl(l))return null;return qb(l,(l=>NX(l)))}function PX(l,d){var b=Object.keys(l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(l);d&&(c=c.filter((function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),b.push.apply(b,c)}return b}function UX(l){for(var d=1;d<arguments.length;d++){var b=null!=arguments[d]?arguments[d]:{};d%2?PX(Object(b),!0).forEach((function(d){jc(l,d,b[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(b)):PX(Object(b)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(b,d))}))}return l}function QX(l,d){let b=function(){let l,d,b,c=l=>l[0],u=l=>l[1],Z=l=>isFinite(+l[2])?+l[2]:0,t=la.from,m=(l,d,c)=>{const{points:u}=b,Z=[u[2*l],u[2*l+1]],t=[u[2*d],u[2*d+1]];return[c*t[0]+(1-c)*Z[0],c*t[1]+(1-c)*Z[1]]},n=vX;function i(m){b=t(m,c,u),d=Array.from(m,Z),"object"!=typeof l&&(l=CX().domain(function(l){let d,b;for(const c of l)null!=c&&(void 0===d?c>=c&&(d=b=c):(d>c&&(d=c),b<c&&(b=c)));return[d,b]}(d)).nice().ticks(l))}function*a(c){i(c);for(const c of l){const l=W(b,d,c);yield{type:"MultiPolygon",coordinates:l,value:c}}}const X=function(l){return[...a(l)]};return X.x=l=>l?(c=l,X):c,X.y=l=>l?(u=l,X):u,X.value=l=>l?(Z=l,X):Z,X.thresholds=d=>d?(l=d,X):l,X.triangulate=l=>l?(t=l,X):t,X.pointInterpolate=l=>l?(m=l,X):m,X.ringsort=l=>l?(n=l,X):n,X.contours=a,X.contour=function(l,c){return i(l),{type:"MultiPolygon",coordinates:W(b,d,c),value:c}},X.isobands=function*(c){let u,Z,t;i(c);for(const c of l)Z&&(u=Z),m=W(b,d,c),Z=Array.from(function*(l){for(const d of l)yield*d}(m)),u&&(yield{type:"MultiPolygon",coordinates:n(u.concat(Z.map((l=>l.slice().reverse())))),value:t,valueMax:c}),t=c;var m},X._values=()=>d,X._triangulation=()=>b,X;function s(l){return l%3==2?l-2:l+1}function G(l){return l%3==0?l+2:l-1}function W(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(const l of d)if(!isFinite(l))throw["Invalid value",l];const{halfedges:c,hull:u,inedges:Z,triangles:t}=l,i=d.length;function a(l){return X(t[l],t[s(l)])}function X(l,c){const u=d[l],Z=d[c];if(u<=b&&Z>=b&&u<Z)return(b-u)/(Z-u)}const W=[],h=new Uint8Array(c.length).fill(0);let e,o,p,y,V;for(y=0;y<c.length;y++)if(!h[y]){for(o=y,e=[];(V=a(o))>0;){const[l,m]=[t[o],t[p=s(o)]];if(e.length&&l===e[0].ti&&m===e[0].tj||e.length>2*i)break;if(h[o]=1,e.push({ti:l,tj:m,a:V}),(p=c[o])>-1){if(a(p=s(p))>0){o=p;continue}if(a(p=s(p))>0){o=p;continue}}else{let l=(u.indexOf(t[o])+1)%u.length;for(;d[u[l]]<b;)l=(l+1)%u.length;for(;d[u[l]]>=b;)e.push({ti:u[l],tj:u[l],a:0}),l=(l+1)%u.length;if(p=Z[u[l]],e.push({ti:u[l],tj:t[p],a:X(u[l],t[p])}),a(o=s(p))>0)continue;if(a(o=G(p))>0)continue}}e.length&&(e.push(e[0]),W.push(e.map((l=>{let{ti:d,tj:b,a:c}=l;return m(d,b,c)}))))}return u.every((l=>d[l]>=b))&&W.unshift(Array.from(u).concat([u[0]]).map((l=>m(l,l,0)))),n(W)}}();Sl(d)&&b.thresholds(d);let c=b(l);for(let l=pc(c)-1;l>=1;l--){let d=pc(Vl(c[l-1],"coordinates",[])),b=pc(Vl(c[l],"coordinates",[]));if(d>0&&0===b){c[l].sepZone="top",Z=l+1,t=void 0,c=(u=c)&&u.length?Vt(u,0,(Z=t||void 0===Z?1:du(Z))<0?0:Z):[];break}}var u,Z,t;return c}function EX(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(pc(l)<=0)return[];let b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyY");Hl(c)||(c="y");let u=Vl(d,"keyInd","");Hl(u)||(u="ind");let Z=Vl(d,"returnObjArray");Oc(Z)||(Z=!0);let t=[];return rc(l,((l,d)=>{let Z=null,m=null;Rl(l)&&pc(l)>=2?(Z=Vl(l,0),m=Vl(l,1)):(Z=Vl(l,b,null),m=Vl(l,c,null)),fl(Z)&&fl(m)&&(Z=zc(Z),m=zc(m),t.push({x:Z,y:m,[u]:d}))})),Z||(t=qb(t,(l=>[l.x,l.y,l[u]]))),t}function jX(l){return null==l?[]:function(l,d){return al(d,(function(d){return l[d]}))}(l,tb(l))}KX=YX({thousands:",",grouping:[3],currency:["$",""]}),rX=KX.format,xX=KX.formatPrefix;var DX=function(l){"number"!=typeof l&&(l=1e-10);var d={epsilon:function(d){return"number"==typeof d&&(l=d),l},pointAboveOrOnLine:function(d,b,c){var u=b[0],Z=b[1],t=c[0],m=c[1],n=d[0];return(t-u)*(d[1]-Z)-(m-Z)*(n-u)>=-l},pointBetween:function(d,b,c){var u=d[1]-b[1],Z=c[0]-b[0],t=d[0]-b[0],m=c[1]-b[1],n=t*Z+u*m;return!(n<l)&&!(n-(Z*Z+m*m)>-l)},pointsSameX:function(d,b){return Math.abs(d[0]-b[0])<l},pointsSameY:function(d,b){return Math.abs(d[1]-b[1])<l},pointsSame:function(l,b){return d.pointsSameX(l,b)&&d.pointsSameY(l,b)},pointsCompare:function(l,b){return d.pointsSameX(l,b)?d.pointsSameY(l,b)?0:l[1]<b[1]?-1:1:l[0]<b[0]?-1:1},pointsCollinear:function(d,b,c){var u=d[0]-b[0],Z=d[1]-b[1],t=b[0]-c[0],m=b[1]-c[1];return Math.abs(u*m-t*Z)<l},linesIntersect:function(d,b,c,u){var Z=b[0]-d[0],t=b[1]-d[1],m=u[0]-c[0],n=u[1]-c[1],i=Z*n-t*m;if(Math.abs(i)<l)return!1;var a=d[0]-c[0],X=d[1]-c[1],s=(m*X-n*a)/i,G=(Z*X-t*a)/i,W={alongA:0,alongB:0,pt:[d[0]+s*Z,d[1]+s*t]};return W.alongA=s<=-l?-2:s<l?-1:s-1<=-l?0:s-1<l?1:2,W.alongB=G<=-l?-2:G<l?-1:G-1<=-l?0:G-1<l?1:2,W},pointInsideRegion:function(d,b){for(var c=d[0],u=d[1],Z=b[b.length-1][0],t=b[b.length-1][1],m=!1,n=0;n<b.length;n++){var i=b[n][0],a=b[n][1];a-u>l!=t-u>l&&(Z-i)*(u-a)/(t-a)+i-c>l&&(m=!m),Z=i,t=a}return m}};return d},OX={create:function(){var l={root:{root:!0,next:null},exists:function(d){return null!==d&&d!==l.root},isEmpty:function(){return null===l.root.next},getHead:function(){return l.root.next},insertBefore:function(d,b){for(var c=l.root,u=l.root.next;null!==u;){if(b(u))return d.prev=u.prev,d.next=u,u.prev.next=d,void(u.prev=d);c=u,u=u.next}c.next=d,d.prev=c,d.next=null},findTransition:function(d){for(var b=l.root,c=l.root.next;null!==c&&!d(c);)b=c,c=c.next;return{before:b===l.root?null:b,after:c,insert:function(l){return l.prev=b,l.next=c,b.next=l,null!==c&&(c.prev=l),l}}}};return l},node:function(l){return l.prev=null,l.next=null,l.remove=function(){l.prev.next=l.next,l.next&&(l.next.prev=l.prev),l.prev=null,l.next=null},l}};var _X=function(l,d,b){function c(l,d){return{id:b?b.segmentId():-1,start:l,end:d,myFill:{above:null,below:null},otherFill:null}}function u(l,d,c){return{id:b?b.segmentId():-1,start:l,end:d,myFill:{above:c.myFill.above,below:c.myFill.below},otherFill:null}}var Z=OX.create();function t(l,b){Z.insertBefore(l,(function(c){return function(l,b,c,u,Z,t){var m=d.pointsCompare(b,Z);return 0!==m?m:d.pointsSame(c,t)?0:l!==u?l?1:-1:d.pointAboveOrOnLine(c,u?Z:t,u?t:Z)?1:-1}(l.isStart,l.pt,b,c.isStart,c.pt,c.other.pt)<0}))}function m(l,d){var b=function(l,d){var b=OX.node({isStart:!0,pt:l.start,seg:l,primary:d,other:null,status:null});return t(b,l.end),b}(l,d);return function(l,d,b){var c=OX.node({isStart:!1,pt:d.end,seg:d,primary:b,other:l,status:null});l.other=c,t(c,l.pt)}(b,l,d),b}function n(l,d){var c=u(d,l.seg.end,l.seg);return function(l,d){b&&b.segmentChop(l.seg,d),l.other.remove(),l.seg.end=d,l.other.pt=d,t(l.other,l.pt)}(l,d),m(c,l.primary)}function i(c,u){var t=OX.create();function m(l){return t.findTransition((function(b){var c,u,Z,t,m,n;return(c=l,u=b.ev,Z=c.seg.start,t=c.seg.end,m=u.seg.start,n=u.seg.end,d.pointsCollinear(Z,m,n)?d.pointsCollinear(t,m,n)||d.pointAboveOrOnLine(t,m,n)?1:-1:d.pointAboveOrOnLine(Z,m,n)?1:-1)>0}))}function i(l,c){var u=l.seg,Z=c.seg,t=u.start,m=u.end,i=Z.start,a=Z.end;b&&b.checkIntersection(u,Z);var X=d.linesIntersect(t,m,i,a);if(!1===X){if(!d.pointsCollinear(t,m,i))return!1;if(d.pointsSame(t,a)||d.pointsSame(m,i))return!1;var s=d.pointsSame(t,i),G=d.pointsSame(m,a);if(s&&G)return c;var W=!s&&d.pointBetween(t,i,a),h=!G&&d.pointBetween(m,i,a);if(s)return h?n(c,m):n(l,a),c;W&&(G||(h?n(c,m):n(l,a)),n(c,t))}else 0===X.alongA&&(-1===X.alongB?n(l,i):0===X.alongB?n(l,X.pt):1===X.alongB&&n(l,a)),0===X.alongB&&(-1===X.alongA?n(c,t):0===X.alongA?n(c,X.pt):1===X.alongA&&n(c,m));return!1}for(var a=[];!Z.isEmpty();){var X=Z.getHead();if(b&&b.vert(X.pt[0]),X.isStart){b&&b.segmentNew(X.seg,X.primary);var s=m(X),G=s.before?s.before.ev:null,W=s.after?s.after.ev:null;function V(){if(G){var l=i(X,G);if(l)return l}return!!W&&i(X,W)}b&&b.tempStatus(X.seg,!!G&&G.seg,!!W&&W.seg);var h,e=V();if(e){var o;if(l)(o=null===X.seg.myFill.below||X.seg.myFill.above!==X.seg.myFill.below)&&(e.seg.myFill.above=!e.seg.myFill.above);else e.seg.otherFill=X.seg.myFill;b&&b.segmentUpdate(e.seg),X.other.remove(),X.remove()}if(Z.getHead()!==X){b&&b.rewind(X.seg);continue}if(l)o=null===X.seg.myFill.below||X.seg.myFill.above!==X.seg.myFill.below,X.seg.myFill.below=W?W.seg.myFill.above:c,X.seg.myFill.above=o?!X.seg.myFill.below:X.seg.myFill.below;else if(null===X.seg.otherFill)h=W?X.primary===W.primary?W.seg.otherFill.above:W.seg.myFill.above:X.primary?u:c,X.seg.otherFill={above:h,below:h};b&&b.status(X.seg,!!G&&G.seg,!!W&&W.seg),X.other.status=s.insert(OX.node({ev:X}))}else{var p=X.status;if(null===p)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(t.exists(p.prev)&&t.exists(p.next)&&i(p.prev.ev,p.next.ev),b&&b.statusRemove(p.ev.seg),p.remove(),!X.primary){var y=X.seg.myFill;X.seg.myFill=X.seg.otherFill,X.seg.otherFill=y}a.push(X.seg)}Z.getHead().remove()}return b&&b.done(),a}return l?{addRegion:function(l){for(var b,u=l[l.length-1],Z=0;Z<l.length;Z++){b=u,u=l[Z];var t=d.pointsCompare(b,u);0!==t&&m(c(t<0?b:u,t<0?u:b),!0)}},calculate:function(l){return i(l,!1)}}:{calculate:function(l,d,b,c){return l.forEach((function(l){m(u(l.start,l.end,l),!0)})),b.forEach((function(l){m(u(l.start,l.end,l),!1)})),i(d,c)}}};var qX=function(l,d,b){var c=[],u=[];return l.forEach((function(l){var Z=l.start,t=l.end;if(d.pointsSame(Z,t))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{b&&b.chainStart(l);for(var m={index:0,matches_head:!1,matches_pt1:!1},n={index:0,matches_head:!1,matches_pt1:!1},i=m,a=0;a<c.length;a++){var X=(e=c[a])[0];e[1];var s=e[e.length-1];if(e[e.length-2],d.pointsSame(X,Z)){if(r(a,!0,!0))break}else if(d.pointsSame(X,t)){if(r(a,!0,!1))break}else if(d.pointsSame(s,Z)){if(r(a,!1,!0))break}else if(d.pointsSame(s,t)&&r(a,!1,!1))break}if(i===m)return c.push([Z,t]),void(b&&b.chainNew(Z,t));if(i===n){b&&b.chainMatch(m.index);var G=m.index,W=m.matches_pt1?t:Z,h=m.matches_head,e=c[G],o=h?e[0]:e[e.length-1],p=h?e[1]:e[e.length-2],y=h?e[e.length-1]:e[0],V=h?e[e.length-2]:e[1];return d.pointsCollinear(p,o,W)&&(h?(b&&b.chainRemoveHead(m.index,W),e.shift()):(b&&b.chainRemoveTail(m.index,W),e.pop()),o=p),d.pointsSame(y,W)?(c.splice(G,1),d.pointsCollinear(V,y,o)&&(h?(b&&b.chainRemoveTail(m.index,o),e.pop()):(b&&b.chainRemoveHead(m.index,o),e.shift())),b&&b.chainClose(m.index),void u.push(e)):void(h?(b&&b.chainAddHead(m.index,W),e.unshift(W)):(b&&b.chainAddTail(m.index,W),e.push(W)))}var R=m.index,L=n.index;b&&b.chainConnect(R,L);var K=c[R].length<c[L].length;m.matches_head?n.matches_head?K?(x(R),S(R,L)):(x(L),S(L,R)):S(L,R):n.matches_head?S(R,L):K?(x(R),S(L,R)):(x(L),S(R,L))}function r(l,d,b){return i.index=l,i.matches_head=d,i.matches_pt1=b,i===m?(i=n,!1):(i=null,!0)}function x(l){b&&b.chainReverse(l),c[l].reverse()}function S(l,u){var Z=c[l],t=c[u],m=Z[Z.length-1],n=Z[Z.length-2],i=t[0],a=t[1];d.pointsCollinear(n,m,i)&&(b&&b.chainRemoveTail(l,m),Z.pop(),m=n),d.pointsCollinear(m,i,a)&&(b&&b.chainRemoveHead(u,i),t.shift()),b&&b.chainJoin(l,u),c[l]=Z.concat(t),c.splice(u,1)}})),u};function $X(l,d,b){var c=[];return l.forEach((function(l){var u=(l.myFill.above?8:0)+(l.myFill.below?4:0)+(l.otherFill&&l.otherFill.above?2:0)+(l.otherFill&&l.otherFill.below?1:0);0!==d[u]&&c.push({id:b?b.segmentId():-1,start:l.start,end:l.end,myFill:{above:1===d[u],below:2===d[u]},otherFill:null})})),b&&b.selected(c),c}var ls,ds={union:function(l,d){return $X(l,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],d)},intersect:function(l,d){return $X(l,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],d)},difference:function(l,d){return $X(l,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],d)},differenceRev:function(l,d){return $X(l,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],d)},xor:function(l,d){return $X(l,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],d)}},bs={toPolygon:function(l,d){function b(d){if(d.length<=0)return l.segments({inverted:!1,regions:[]});function b(d){var b=d.slice(0,d.length-1);return l.segments({inverted:!1,regions:[b]})}for(var c=b(d[0]),u=1;u<d.length;u++)c=l.selectDifference(l.combine(c,b(d[u])));return c}if("Polygon"===d.type)return l.polygon(b(d.coordinates));if("MultiPolygon"===d.type){for(var c=l.segments({inverted:!1,regions:[]}),u=0;u<d.coordinates.length;u++)c=l.selectUnion(l.combine(c,b(d.coordinates[u])));return l.polygon(c)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(l,d,b){function c(l,b){return d.pointInsideRegion([.5*(l[0][0]+l[1][0]),.5*(l[0][1]+l[1][1])],b)}function u(l){return{region:l,children:[]}}b=l.polygon(l.segments(b));var Z=u(null);function t(l,d){for(var b=0;b<l.children.length;b++){if(c(d,(m=l.children[b]).region))return void t(m,d)}var Z=u(d);for(b=0;b<l.children.length;b++){var m;c((m=l.children[b]).region,d)&&(Z.children.push(m),l.children.splice(b,1),b--)}l.children.push(Z)}for(var m=0;m<b.regions.length;m++){var n=b.regions[m];n.length<3||t(Z,n)}function i(l,d){for(var b=0,c=l[l.length-1][0],u=l[l.length-1][1],Z=[],t=0;t<l.length;t++){var m=l[t][0],n=l[t][1];Z.push([m,n]),b+=n*c-m*u,c=m,u=n}return b<0!==d&&Z.reverse(),Z.push([Z[0][0],Z[0][1]]),Z}var a=[];function X(l){var d=[i(l.region,!1)];a.push(d);for(var b=0;b<l.children.length;b++)d.push(s(l.children[b]))}function s(l){for(var d=0;d<l.children.length;d++)X(l.children[d]);return i(l.region,!0)}for(m=0;m<Z.children.length;m++)X(Z.children[m]);return a.length<=0?{type:"Polygon",coordinates:[]}:1==a.length?{type:"Polygon",coordinates:a[0]}:{type:"MultiPolygon",coordinates:a}}},cs=function(){var l,d=0,b=!1;function c(d,b){return l.list.push({type:d,data:b?JSON.parse(JSON.stringify(b)):void 0}),l}return l={list:[],segmentId:function(){return d++},checkIntersection:function(l,d){return c("check",{seg1:l,seg2:d})},segmentChop:function(l,d){return c("div_seg",{seg:l,pt:d}),c("chop",{seg:l,pt:d})},statusRemove:function(l){return c("pop_seg",{seg:l})},segmentUpdate:function(l){return c("seg_update",{seg:l})},segmentNew:function(l,d){return c("new_seg",{seg:l,primary:d})},segmentRemove:function(l){return c("rem_seg",{seg:l})},tempStatus:function(l,d,b){return c("temp_status",{seg:l,above:d,below:b})},rewind:function(l){return c("rewind",{seg:l})},status:function(l,d,b){return c("status",{seg:l,above:d,below:b})},vert:function(d){return d===b?l:(b=d,c("vert",{x:d}))},log:function(l){return"string"!=typeof l&&(l=JSON.stringify(l,!1,"  ")),c("log",{txt:l})},reset:function(){return c("reset")},selected:function(l){return c("selected",{segs:l})},chainStart:function(l){return c("chain_start",{seg:l})},chainRemoveHead:function(l,d){return c("chain_rem_head",{index:l,pt:d})},chainRemoveTail:function(l,d){return c("chain_rem_tail",{index:l,pt:d})},chainNew:function(l,d){return c("chain_new",{pt1:l,pt2:d})},chainMatch:function(l){return c("chain_match",{index:l})},chainClose:function(l){return c("chain_close",{index:l})},chainAddHead:function(l,d){return c("chain_add_head",{index:l,pt:d})},chainAddTail:function(l,d){return c("chain_add_tail",{index:l,pt:d})},chainConnect:function(l,d){return c("chain_con",{index1:l,index2:d})},chainReverse:function(l){return c("chain_rev",{index:l})},chainJoin:function(l,d){return c("chain_join",{index1:l,index2:d})},done:function(){return c("done")}}},us=_X,Zs=qX,ts=ds,ms=bs,ns=!1,is=DX();function as(l,d,b){var c=ls.segments(l),u=ls.segments(d),Z=b(ls.combine(c,u));return ls.polygon(Z)}ls={buildLog:function(l){return!0===l?ns=cs():!1===l&&(ns=!1),!1!==ns&&ns.list},epsilon:function(l){return is.epsilon(l)},segments:function(l){var d=us(!0,is,ns);return l.regions.forEach(d.addRegion),{segments:d.calculate(l.inverted),inverted:l.inverted}},combine:function(l,d){return{combined:us(!1,is,ns).calculate(l.segments,l.inverted,d.segments,d.inverted),inverted1:l.inverted,inverted2:d.inverted}},selectUnion:function(l){return{segments:ts.union(l.combined,ns),inverted:l.inverted1||l.inverted2}},selectIntersect:function(l){return{segments:ts.intersect(l.combined,ns),inverted:l.inverted1&&l.inverted2}},selectDifference:function(l){return{segments:ts.difference(l.combined,ns),inverted:l.inverted1&&!l.inverted2}},selectDifferenceRev:function(l){return{segments:ts.differenceRev(l.combined,ns),inverted:!l.inverted1&&l.inverted2}},selectXor:function(l){return{segments:ts.xor(l.combined,ns),inverted:l.inverted1!==l.inverted2}},polygon:function(l){return{regions:Zs(l.segments,is,ns),inverted:l.inverted}},polygonFromGeoJSON:function(l){return ms.toPolygon(ls,l)},polygonToGeoJSON:function(l){return ms.fromPolygon(ls,is,l)},union:function(l,d){return as(l,d,ls.selectUnion)},intersect:function(l,d){return as(l,d,ls.selectIntersect)},difference:function(l,d){return as(l,d,ls.selectDifference)},differenceRev:function(l,d){return as(l,d,ls.selectDifferenceRev)},xor:function(l,d){return as(l,d,ls.selectXor)}},"object"==typeof window&&(window.PolyBool=ls);var Xs=ls;function ss(l){return(null==l?0:l.length)?Dm(l,1):[]}function Gs(l){let d=yc(l);return 3===d?ss(l):2===d?l:1===d?[l]:0===d?[]:l}var Ws=1,hs=2,es=3,os=4,ps=5,ys=6378137,Vs=6356752.314,Rs=.0066943799901413165,Ls=484813681109536e-20,Ks=Math.PI/2,rs=.16666666666666666,xs=.04722222222222222,Ss=.022156084656084655,Hs=1e-10,Ys=.017453292519943295,gs=57.29577951308232,As=Math.PI/4,Cs=2*Math.PI,Is=3.14159265359,Js={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},Fs={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Bs=/[\s_\-\/\(\)]/g;function vs(l,d){if(l[d])return l[d];for(var b,c=Object.keys(l),u=d.toLowerCase().replace(Bs,""),Z=-1;++Z<c.length;)if((b=c[Z]).toLowerCase().replace(Bs,"")===u)return l[b]}function Ms(l){var d,b,c,u={},Z=l.split("+").map((function(l){return l.trim()})).filter((function(l){return l})).reduce((function(l,d){var b=d.split("=");return b.push(!0),l[b[0].toLowerCase()]=b[1],l}),{}),t={proj:"projName",datum:"datumCode",rf:function(l){u.rf=parseFloat(l)},lat_0:function(l){u.lat0=l*Ys},lat_1:function(l){u.lat1=l*Ys},lat_2:function(l){u.lat2=l*Ys},lat_ts:function(l){u.lat_ts=l*Ys},lon_0:function(l){u.long0=l*Ys},lon_1:function(l){u.long1=l*Ys},lon_2:function(l){u.long2=l*Ys},alpha:function(l){u.alpha=parseFloat(l)*Ys},gamma:function(l){u.rectified_grid_angle=parseFloat(l)},lonc:function(l){u.longc=l*Ys},x_0:function(l){u.x0=parseFloat(l)},y_0:function(l){u.y0=parseFloat(l)},k_0:function(l){u.k0=parseFloat(l)},k:function(l){u.k0=parseFloat(l)},a:function(l){u.a=parseFloat(l)},b:function(l){u.b=parseFloat(l)},r:function(l){u.a=u.b=parseFloat(l)},r_a:function(){u.R_A=!0},zone:function(l){u.zone=parseInt(l,10)},south:function(){u.utmSouth=!0},towgs84:function(l){u.datum_params=l.split(",").map((function(l){return parseFloat(l)}))},to_meter:function(l){u.to_meter=parseFloat(l)},units:function(l){u.units=l;var d=vs(Fs,l);d&&(u.to_meter=d.to_meter)},from_greenwich:function(l){u.from_greenwich=l*Ys},pm:function(l){var d=vs(Js,l);u.from_greenwich=(d||parseFloat(l))*Ys},nadgrids:function(l){"@null"===l?u.datumCode="none":u.nadgrids=l},axis:function(l){var d="ewnsud";3===l.length&&-1!==d.indexOf(l.substr(0,1))&&-1!==d.indexOf(l.substr(1,1))&&-1!==d.indexOf(l.substr(2,1))&&(u.axis=l)},approx:function(){u.approx=!0}};for(d in Z)b=Z[d],d in t?"function"==typeof(c=t[d])?c(b):u[c]=b:u[d]=b;return"string"==typeof u.datumCode&&"WGS84"!==u.datumCode&&(u.datumCode=u.datumCode.toLowerCase()),u}var zs=1,Ts=/\s/,ks=/[A-Za-z]/,ws=/[A-Za-z84_]/,Ns=/[,\]]/,fs=/[\d\.E\-\+]/;function Ps(l){if("string"!=typeof l)throw new Error("not a string");this.text=l.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=zs}function Us(l,d,b){Array.isArray(d)&&(b.unshift(d),d=null);var c=d?{}:l,u=b.reduce((function(l,d){return Qs(d,l),l}),c);d&&(l[d]=u)}function Qs(l,d){if(Array.isArray(l)){var b=l.shift();if("PARAMETER"===b&&(b=l.shift()),1===l.length)return Array.isArray(l[0])?(d[b]={},void Qs(l[0],d[b])):void(d[b]=l[0]);if(l.length)if("TOWGS84"!==b){if("AXIS"===b)return b in d||(d[b]=[]),void d[b].push(l);var c;switch(Array.isArray(b)||(d[b]={}),b){case"UNIT":case"PRIMEM":case"VERT_DATUM":return d[b]={name:l[0].toLowerCase(),convert:l[1]},void(3===l.length&&Qs(l[2],d[b]));case"SPHEROID":case"ELLIPSOID":return d[b]={name:l[0],a:l[1],rf:l[2]},void(4===l.length&&Qs(l[3],d[b]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return l[0]=["name",l[0]],void Us(d,b,l);default:for(c=-1;++c<l.length;)if(!Array.isArray(l[c]))return Qs(l,d[b]);return Us(d,b,l)}}else d[b]=l;else d[b]=!0}else d[l]=!0}Ps.prototype.readCharicter=function(){var l=this.text[this.place++];if(4!==this.state)for(;Ts.test(l);){if(this.place>=this.text.length)return;l=this.text[this.place++]}switch(this.state){case zs:return this.neutral(l);case 2:return this.keyword(l);case 4:return this.quoted(l);case 5:return this.afterquote(l);case 3:return this.number(l);case-1:return}},Ps.prototype.afterquote=function(l){if('"'===l)return this.word+='"',void(this.state=4);if(Ns.test(l))return this.word=this.word.trim(),void this.afterItem(l);throw new Error("havn't handled \""+l+'" in afterquote yet, index '+this.place)},Ps.prototype.afterItem=function(l){return","===l?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=zs)):"]"===l?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=zs,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},Ps.prototype.number=function(l){if(!fs.test(l)){if(Ns.test(l))return this.word=parseFloat(this.word),void this.afterItem(l);throw new Error("havn't handled \""+l+'" in number yet, index '+this.place)}this.word+=l},Ps.prototype.quoted=function(l){'"'!==l?this.word+=l:this.state=5},Ps.prototype.keyword=function(l){if(ws.test(l))this.word+=l;else{if("["===l){var d=[];return d.push(this.word),this.level++,null===this.root?this.root=d:this.currentObject.push(d),this.stack.push(this.currentObject),this.currentObject=d,void(this.state=zs)}if(!Ns.test(l))throw new Error("havn't handled \""+l+'" in keyword yet, index '+this.place);this.afterItem(l)}},Ps.prototype.neutral=function(l){if(ks.test(l))return this.word=l,void(this.state=2);if('"'===l)return this.word="",void(this.state=4);if(fs.test(l))return this.word=l,void(this.state=3);if(!Ns.test(l))throw new Error("havn't handled \""+l+'" in neutral yet, index '+this.place);this.afterItem(l)},Ps.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var Es=.017453292519943295;function js(l){return l*Es}function Ds(l){var d=new Ps(l).output(),b=d.shift(),c=d.shift();d.unshift(["name",c]),d.unshift(["type",b]);var u={};return Qs(d,u),function(l){if("GEOGCS"===l.type?l.projName="longlat":"LOCAL_CS"===l.type?(l.projName="identity",l.local=!0):"object"==typeof l.PROJECTION?l.projName=Object.keys(l.PROJECTION)[0]:l.projName=l.PROJECTION,l.AXIS){for(var d="",b=0,c=l.AXIS.length;b<c;++b){var u=[l.AXIS[b][0].toLowerCase(),l.AXIS[b][1].toLowerCase()];-1!==u[0].indexOf("north")||("y"===u[0]||"lat"===u[0])&&"north"===u[1]?d+="n":-1!==u[0].indexOf("south")||("y"===u[0]||"lat"===u[0])&&"south"===u[1]?d+="s":-1!==u[0].indexOf("east")||("x"===u[0]||"lon"===u[0])&&"east"===u[1]?d+="e":-1===u[0].indexOf("west")&&("x"!==u[0]&&"lon"!==u[0]||"west"!==u[1])||(d+="w")}2===d.length&&(d+="u"),3===d.length&&(l.axis=d)}l.UNIT&&(l.units=l.UNIT.name.toLowerCase(),"metre"===l.units&&(l.units="meter"),l.UNIT.convert&&("GEOGCS"===l.type?l.DATUM&&l.DATUM.SPHEROID&&(l.to_meter=l.UNIT.convert*l.DATUM.SPHEROID.a):l.to_meter=l.UNIT.convert));var Z=l.GEOGCS;function t(d){return d*(l.to_meter||1)}"GEOGCS"===l.type&&(Z=l),Z&&(Z.DATUM?l.datumCode=Z.DATUM.name.toLowerCase():l.datumCode=Z.name.toLowerCase(),"d_"===l.datumCode.slice(0,2)&&(l.datumCode=l.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==l.datumCode&&"new_zealand_1949"!==l.datumCode||(l.datumCode="nzgd49"),"wgs_1984"!==l.datumCode&&"world_geodetic_system_1984"!==l.datumCode||("Mercator_Auxiliary_Sphere"===l.PROJECTION&&(l.sphere=!0),l.datumCode="wgs84"),"_ferro"===l.datumCode.slice(-6)&&(l.datumCode=l.datumCode.slice(0,-6)),"_jakarta"===l.datumCode.slice(-8)&&(l.datumCode=l.datumCode.slice(0,-8)),~l.datumCode.indexOf("belge")&&(l.datumCode="rnb72"),Z.DATUM&&Z.DATUM.SPHEROID&&(l.ellps=Z.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===l.ellps.toLowerCase().slice(0,13)&&(l.ellps="intl"),l.a=Z.DATUM.SPHEROID.a,l.rf=parseFloat(Z.DATUM.SPHEROID.rf,10)),Z.DATUM&&Z.DATUM.TOWGS84&&(l.datum_params=Z.DATUM.TOWGS84),~l.datumCode.indexOf("osgb_1936")&&(l.datumCode="osgb36"),~l.datumCode.indexOf("osni_1952")&&(l.datumCode="osni52"),(~l.datumCode.indexOf("tm65")||~l.datumCode.indexOf("geodetic_datum_of_1965"))&&(l.datumCode="ire65"),"ch1903+"===l.datumCode&&(l.datumCode="ch1903"),~l.datumCode.indexOf("israel")&&(l.datumCode="isr93")),l.b&&!isFinite(l.b)&&(l.b=l.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",js],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",js],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",js],["lat0","latitude_of_origin",js],["lat0","standard_parallel_1",js],["lat1","standard_parallel_1",js],["lat2","standard_parallel_2",js],["azimuth","Azimuth"],["alpha","azimuth",js],["srsCode","name"]].forEach((function(d){return function(l,d){var b=d[0],c=d[1];!(b in l)&&c in l&&(l[b]=l[c],3===d.length&&(l[b]=d[2](l[b])))}(l,d)})),l.long0||!l.longc||"Albers_Conic_Equal_Area"!==l.projName&&"Lambert_Azimuthal_Equal_Area"!==l.projName||(l.long0=l.longc),l.lat_ts||!l.lat1||"Stereographic_South_Pole"!==l.projName&&"Polar Stereographic (variant B)"!==l.projName?!l.lat_ts&&l.lat0&&"Polar_Stereographic"===l.projName&&(l.lat_ts=l.lat0,l.lat0=js(l.lat0>0?90:-90)):(l.lat0=js(l.lat1>0?90:-90),l.lat_ts=l.lat1)}(u),u}function Os(l){var d=this;if(2===arguments.length){var b=arguments[1];"string"==typeof b?"+"===b.charAt(0)?Os[l]=Ms(arguments[1]):Os[l]=Ds(arguments[1]):Os[l]=b}else if(1===arguments.length){if(Array.isArray(l))return l.map((function(l){Array.isArray(l)?Os.apply(d,l):Os(l)}));if("string"==typeof l){if(l in Os)return Os[l]}else"EPSG"in l?Os["EPSG:"+l.EPSG]=l:"ESRI"in l?Os["ESRI:"+l.ESRI]=l:"IAU2000"in l?Os["IAU2000:"+l.IAU2000]=l:console.log(l);return}}!function(l){l("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),l("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),l("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),l.WGS84=l["EPSG:4326"],l["EPSG:3785"]=l["EPSG:3857"],l.GOOGLE=l["EPSG:3857"],l["EPSG:900913"]=l["EPSG:3857"],l["EPSG:102113"]=l["EPSG:3857"]}(Os);var _s=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var qs=["3857","900913","3785","102113"];function $s(l){if(!function(l){return"string"==typeof l}(l))return l;if(function(l){return l in Os}(l))return Os[l];if(function(l){return _s.some((function(d){return l.indexOf(d)>-1}))}(l)){var d=Ds(l);if(function(l){var d=vs(l,"authority");if(d){var b=vs(d,"epsg");return b&&qs.indexOf(b)>-1}}(d))return Os["EPSG:3857"];var b=function(l){var d=vs(l,"extension");if(d)return vs(d,"proj4")}(d);return b?Ms(b):d}return function(l){return"+"===l[0]}(l)?Ms(l):void 0}function lG(l,d){var b,c;if(l=l||{},!d)return l;for(c in d)void 0!==(b=d[c])&&(l[c]=b);return l}function dG(l,d,b){var c=l*d;return b/Math.sqrt(1-c*c)}function bG(l){return l<0?-1:1}function cG(l){return Math.abs(l)<=Is?l:l-bG(l)*Cs}function uG(l,d,b){var c=l*b,u=.5*l;return c=Math.pow((1-c)/(1+c),u),Math.tan(.5*(Ks-d))/c}function ZG(l,d){for(var b,c,u=.5*l,Z=Ks-2*Math.atan(d),t=0;t<=15;t++)if(b=l*Math.sin(Z),Z+=c=Ks-2*Math.atan(d*Math.pow((1-b)/(1+b),u))-Z,Math.abs(c)<=1e-10)return Z;return-9999}function tG(l){return l}var mG=[{init:function(){var l=this.b/this.a;this.es=1-l*l,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=dG(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(l){var d,b,c=l.x,u=l.y;if(u*gs>90&&u*gs<-90&&c*gs>180&&c*gs<-180)return null;if(Math.abs(Math.abs(u)-Ks)<=Hs)return null;if(this.sphere)d=this.x0+this.a*this.k0*cG(c-this.long0),b=this.y0+this.a*this.k0*Math.log(Math.tan(As+.5*u));else{var Z=Math.sin(u),t=uG(this.e,u,Z);d=this.x0+this.a*this.k0*cG(c-this.long0),b=this.y0-this.a*this.k0*Math.log(t)}return l.x=d,l.y=b,l},inverse:function(l){var d,b,c=l.x-this.x0,u=l.y-this.y0;if(this.sphere)b=Ks-2*Math.atan(Math.exp(-u/(this.a*this.k0)));else{var Z=Math.exp(-u/(this.a*this.k0));if(-9999===(b=ZG(this.e,Z)))return null}return d=cG(this.long0+c/(this.a*this.k0)),l.x=d,l.y=b,l},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:tG,inverse:tG,names:["longlat","identity"]}],nG={},iG=[];function aG(l,d){var b=iG.length;return l.names?(iG[b]=l,l.names.forEach((function(l){nG[l.toLowerCase()]=b})),this):(console.log(d),!0)}var XG={start:function(){mG.forEach(aG)},add:aG,get:function(l){if(!l)return!1;var d=l.toLowerCase();return void 0!==nG[d]&&iG[nG[d]]?iG[nG[d]]:void 0}},sG={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},GG=sG.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};sG.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var WG={};WG.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},WG.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},WG.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},WG.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},WG.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},WG.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},WG.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},WG.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},WG.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},WG.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},WG.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},WG.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},WG.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},WG.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},WG.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},WG.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},WG.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},WG.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var hG={};function eG(l){if(0===l.length)return null;var d="@"===l[0];return d&&(l=l.slice(1)),"null"===l?{name:"null",mandatory:!d,grid:null,isNull:!0}:{name:l,mandatory:!d,grid:hG[l]||null,isNull:!1}}function oG(l){return l/3600*Math.PI/180}function pG(l,d,b){return String.fromCharCode.apply(null,new Uint8Array(l.buffer.slice(d,b)))}function yG(l){return l.map((function(l){return[oG(l.longitudeShift),oG(l.latitudeShift)]}))}function VG(l,d,b){return{name:pG(l,d+8,d+16).trim(),parent:pG(l,d+24,d+24+8).trim(),lowerLatitude:l.getFloat64(d+72,b),upperLatitude:l.getFloat64(d+88,b),lowerLongitude:l.getFloat64(d+104,b),upperLongitude:l.getFloat64(d+120,b),latitudeInterval:l.getFloat64(d+136,b),longitudeInterval:l.getFloat64(d+152,b),gridNodeCount:l.getInt32(d+168,b)}}function RG(l,d,b,c){for(var u=d+176,Z=[],t=0;t<b.gridNodeCount;t++){var m={latitudeShift:l.getFloat32(u+16*t,c),longitudeShift:l.getFloat32(u+16*t+4,c),latitudeAccuracy:l.getFloat32(u+16*t+8,c),longitudeAccuracy:l.getFloat32(u+16*t+12,c)};Z.push(m)}return Z}function LG(l,d){if(!(this instanceof LG))return new LG(l);d=d||function(l){if(l)throw l};var b=$s(l);if("object"==typeof b){var c=LG.projections.get(b.projName);if(c){if(b.datumCode&&"none"!==b.datumCode){var u=vs(WG,b.datumCode);u&&(b.datum_params=b.datum_params||(u.towgs84?u.towgs84.split(","):null),b.ellps=u.ellipse,b.datumName=u.datumName?u.datumName:b.datumCode)}b.k0=b.k0||1,b.axis=b.axis||"enu",b.ellps=b.ellps||"wgs84",b.lat1=b.lat1||b.lat0;var Z,t,m,n,i,a,X,s=function(l,d,b,c,u){if(!l){var Z=vs(sG,c);Z||(Z=GG),l=Z.a,d=Z.b,b=Z.rf}return b&&!d&&(d=(1-1/b)*l),(0===b||Math.abs(l-d)<Hs)&&(u=!0,d=l),{a:l,b:d,rf:b,sphere:u}}(b.a,b.b,b.rf,b.ellps,b.sphere),G=(Z=s.a,t=s.b,s.rf,m=b.R_A,a=((n=Z*Z)-(i=t*t))/n,X=0,m?(n=(Z*=1-a*(rs+a*(xs+a*Ss)))*Z,a=0):X=Math.sqrt(a),{es:a,e:X,ep2:(n-i)/i}),W=function(l){return void 0===l?null:l.split(",").map(eG)}(b.nadgrids),h=b.datum||function(l,d,b,c,u,Z,t){var m={};return m.datum_type=void 0===l||"none"===l?ps:os,d&&(m.datum_params=d.map(parseFloat),0===m.datum_params[0]&&0===m.datum_params[1]&&0===m.datum_params[2]||(m.datum_type=Ws),m.datum_params.length>3&&(0===m.datum_params[3]&&0===m.datum_params[4]&&0===m.datum_params[5]&&0===m.datum_params[6]||(m.datum_type=hs,m.datum_params[3]*=Ls,m.datum_params[4]*=Ls,m.datum_params[5]*=Ls,m.datum_params[6]=m.datum_params[6]/1e6+1))),t&&(m.datum_type=es,m.grids=t),m.a=b,m.b=c,m.es=u,m.ep2=Z,m}(b.datumCode,b.datum_params,s.a,s.b,G.es,G.ep2,W);lG(this,b),lG(this,c),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=G.es,this.e=G.e,this.ep2=G.ep2,this.datum=h,this.init(),d(null,this)}else d("Could not get projection name from: "+l)}else d("Could not parse to valid json: "+l)}function KG(l,d,b){var c,u,Z,t,m=l.x,n=l.y,i=l.z?l.z:0;if(n<-Ks&&n>-1.001*Ks)n=-Ks;else if(n>Ks&&n<1.001*Ks)n=Ks;else{if(n<-Ks)return{x:-1/0,y:-1/0,z:l.z};if(n>Ks)return{x:1/0,y:1/0,z:l.z}}return m>Math.PI&&(m-=2*Math.PI),u=Math.sin(n),t=Math.cos(n),Z=u*u,{x:((c=b/Math.sqrt(1-d*Z))+i)*t*Math.cos(m),y:(c+i)*t*Math.sin(m),z:(c*(1-d)+i)*u}}function rG(l,d,b,c){var u,Z,t,m,n,i,a,X,s,G,W,h,e,o,p,y=1e-12,V=l.x,R=l.y,L=l.z?l.z:0;if(u=Math.sqrt(V*V+R*R),Z=Math.sqrt(V*V+R*R+L*L),u/b<y){if(o=0,Z/b<y)return Ks,p=-c,{x:l.x,y:l.y,z:l.z}}else o=Math.atan2(R,V);t=L/Z,X=(m=u/Z)*(1-d)*(n=1/Math.sqrt(1-d*(2-d)*m*m)),s=t*n,e=0;do{e++,i=d*(a=b/Math.sqrt(1-d*s*s))/(a+(p=u*X+L*s-a*(1-d*s*s))),h=(W=t*(n=1/Math.sqrt(1-i*(2-i)*m*m)))*X-(G=m*(1-i)*n)*s,X=G,s=W}while(h*h>1e-24&&e<30);return{x:o,y:Math.atan(W/Math.abs(G)),z:p}}function xG(l){return l===Ws||l===hs}function SG(l,d,b){if(function(l,d){return l.datum_type===d.datum_type&&!(l.a!==d.a||Math.abs(l.es-d.es)>5e-11)&&(l.datum_type===Ws?l.datum_params[0]===d.datum_params[0]&&l.datum_params[1]===d.datum_params[1]&&l.datum_params[2]===d.datum_params[2]:l.datum_type!==hs||l.datum_params[0]===d.datum_params[0]&&l.datum_params[1]===d.datum_params[1]&&l.datum_params[2]===d.datum_params[2]&&l.datum_params[3]===d.datum_params[3]&&l.datum_params[4]===d.datum_params[4]&&l.datum_params[5]===d.datum_params[5]&&l.datum_params[6]===d.datum_params[6])}(l,d))return b;if(l.datum_type===ps||d.datum_type===ps)return b;var c=l.a,u=l.es;if(l.datum_type===es){if(0!==HG(l,!1,b))return;c=ys,u=Rs}var Z=d.a,t=d.b,m=d.es;if(d.datum_type===es&&(Z=ys,t=Vs,m=Rs),u===m&&c===Z&&!xG(l.datum_type)&&!xG(d.datum_type))return b;if((b=KG(b,u,c),xG(l.datum_type)&&(b=function(l,d,b){if(d===Ws)return{x:l.x+b[0],y:l.y+b[1],z:l.z+b[2]};if(d===hs){var c=b[0],u=b[1],Z=b[2],t=b[3],m=b[4],n=b[5],i=b[6];return{x:i*(l.x-n*l.y+m*l.z)+c,y:i*(n*l.x+l.y-t*l.z)+u,z:i*(-m*l.x+t*l.y+l.z)+Z}}}(b,l.datum_type,l.datum_params)),xG(d.datum_type)&&(b=function(l,d,b){if(d===Ws)return{x:l.x-b[0],y:l.y-b[1],z:l.z-b[2]};if(d===hs){var c=b[0],u=b[1],Z=b[2],t=b[3],m=b[4],n=b[5],i=b[6],a=(l.x-c)/i,X=(l.y-u)/i,s=(l.z-Z)/i;return{x:a+n*X-m*s,y:-n*a+X+t*s,z:m*a-t*X+s}}}(b,d.datum_type,d.datum_params)),b=rG(b,m,Z,t),d.datum_type===es)&&0!==HG(d,!0,b))return;return b}function HG(l,d,b){if(null===l.grids||0===l.grids.length)return console.log("Grid shift grids not found"),-1;var c={x:-b.x,y:b.y},u={x:Number.NaN,y:Number.NaN},Z=[];l:for(var t=0;t<l.grids.length;t++){var m=l.grids[t];if(Z.push(m.name),m.isNull){u=c;break}if(m.mandatory,null!==m.grid)for(var n=m.grid.subgrids,i=0,a=n.length;i<a;i++){var X=n[i],s=(Math.abs(X.del[1])+Math.abs(X.del[0]))/1e4,G=X.ll[0]-s,W=X.ll[1]-s,h=X.ll[0]+(X.lim[0]-1)*X.del[0]+s,e=X.ll[1]+(X.lim[1]-1)*X.del[1]+s;if(!(W>c.y||G>c.x||e<c.y||h<c.x)&&(u=YG(c,d,X),!isNaN(u.x)))break l}else if(m.mandatory)return console.log("Unable to find mandatory grid '"+m.name+"'"),-1}return isNaN(u.x)?(console.log("Failed to find a grid shift table for location '"+-c.x*gs+" "+c.y*gs+" tried: '"+Z+"'"),-1):(b.x=-u.x,b.y=u.y,0)}function YG(l,d,b){var c={x:Number.NaN,y:Number.NaN};if(isNaN(l.x))return c;var u={x:l.x,y:l.y};u.x-=b.ll[0],u.y-=b.ll[1],u.x=cG(u.x-Math.PI)+Math.PI;var Z=gG(u,b);if(d){if(isNaN(Z.x))return c;Z.x=u.x-Z.x,Z.y=u.y-Z.y;var t,m,n=9;do{if(m=gG(Z,b),isNaN(m.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}t={x:u.x-(m.x+Z.x),y:u.y-(m.y+Z.y)},Z.x+=t.x,Z.y+=t.y}while(n--&&Math.abs(t.x)>1e-12&&Math.abs(t.y)>1e-12);if(n<0)return console.log("Inverse grid shift iterator failed to converge."),c;c.x=cG(Z.x+b.ll[0]),c.y=Z.y+b.ll[1]}else isNaN(Z.x)||(c.x=l.x+Z.x,c.y=l.y+Z.y);return c}function gG(l,d){var b,c={x:l.x/d.del[0],y:l.y/d.del[1]},u=Math.floor(c.x),Z=Math.floor(c.y),t=c.x-1*u,m=c.y-1*Z,n={x:Number.NaN,y:Number.NaN};if(u<0||u>=d.lim[0])return n;if(Z<0||Z>=d.lim[1])return n;b=Z*d.lim[0]+u;var i=d.cvs[b][0],a=d.cvs[b][1];b++;var X=d.cvs[b][0],s=d.cvs[b][1];b+=d.lim[0];var G=d.cvs[b][0],W=d.cvs[b][1];b--;var h=d.cvs[b][0],e=d.cvs[b][1],o=t*m,p=t*(1-m),y=(1-t)*(1-m),V=(1-t)*m;return n.x=y*i+p*X+V*h+o*G,n.y=y*a+p*s+V*e+o*W,n}function AG(l,d,b){var c,u,Z,t=b.x,m=b.y,n=b.z||0,i={};for(Z=0;Z<3;Z++)if(!d||2!==Z||void 0!==b.z)switch(0===Z?(c=t,u=-1!=="ew".indexOf(l.axis[Z])?"x":"y"):1===Z?(c=m,u=-1!=="ns".indexOf(l.axis[Z])?"y":"x"):(c=n,u="z"),l.axis[Z]){case"e":case"n":i[u]=c;break;case"w":case"s":i[u]=-c;break;case"u":void 0!==b[u]&&(i.z=c);break;case"d":void 0!==b[u]&&(i.z=-c);break;default:return null}return i}function CG(l){var d={x:l[0],y:l[1]};return l.length>2&&(d.z=l[2]),l.length>3&&(d.m=l[3]),d}function IG(l){if("function"==typeof Number.isFinite){if(Number.isFinite(l))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof l||l!=l||!isFinite(l))throw new TypeError("coordinates must be finite numbers")}function JG(l,d,b,c){var u,Z=void 0!==(b=Array.isArray(b)?CG(b):{x:b.x,y:b.y,z:b.z,m:b.m}).z;if(function(l){IG(l.x),IG(l.y)}(b),l.datum&&d.datum&&function(l,d){return(l.datum.datum_type===Ws||l.datum.datum_type===hs||l.datum.datum_type===es)&&"WGS84"!==d.datumCode||(d.datum.datum_type===Ws||d.datum.datum_type===hs||d.datum.datum_type===es)&&"WGS84"!==l.datumCode}(l,d)&&(b=JG(l,u=new LG("WGS84"),b,c),l=u),c&&"enu"!==l.axis&&(b=AG(l,!1,b)),"longlat"===l.projName)b={x:b.x*Ys,y:b.y*Ys,z:b.z||0};else if(l.to_meter&&(b={x:b.x*l.to_meter,y:b.y*l.to_meter,z:b.z||0}),!(b=l.inverse(b)))return;if(l.from_greenwich&&(b.x+=l.from_greenwich),b=SG(l.datum,d.datum,b))return d.from_greenwich&&(b={x:b.x-d.from_greenwich,y:b.y,z:b.z||0}),"longlat"===d.projName?b={x:b.x*gs,y:b.y*gs,z:b.z||0}:(b=d.forward(b),d.to_meter&&(b={x:b.x/d.to_meter,y:b.y/d.to_meter,z:b.z||0})),c&&"enu"!==d.axis?AG(d,!0,b):(b&&!Z&&delete b.z,b)}LG.projections=XG,LG.projections.start();var FG=LG("WGS84");function BG(l,d,b,c){var u,Z,t;return Array.isArray(b)?(u=JG(l,d,b,c)||{x:NaN,y:NaN},b.length>2?void 0!==l.name&&"geocent"===l.name||void 0!==d.name&&"geocent"===d.name?"number"==typeof u.z?[u.x,u.y,u.z].concat(b.slice(3)):[u.x,u.y,b[2]].concat(b.slice(3)):[u.x,u.y].concat(b.slice(2)):[u.x,u.y]):(Z=JG(l,d,b,c),2===(t=Object.keys(b)).length||t.forEach((function(c){if(void 0!==l.name&&"geocent"===l.name||void 0!==d.name&&"geocent"===d.name){if("x"===c||"y"===c||"z"===c)return}else if("x"===c||"y"===c)return;Z[c]=b[c]})),Z)}function vG(l){return l instanceof LG?l:l.oProj?l.oProj:LG(l)}function MG(l,d,b){l=vG(l);var c,u=!1;return void 0===d?(d=l,l=FG,u=!0):(void 0!==d.x||Array.isArray(d))&&(b=d,d=l,l=FG,u=!0),d=vG(d),b?BG(l,d,b):(c={forward:function(b,c){return BG(l,d,b,c)},inverse:function(b,c){return BG(d,l,b,c)}},u&&(c.oProj=d),c)}var zG=6,TG="AJSAJS",kG="AFAFAF",wG=65,NG=73,fG=79,PG=86,UG=90,QG={forward:EG,inverse:function(l){var d=_G(lW(l.toUpperCase()));if(d.lat&&d.lon)return[d.lon,d.lat,d.lon,d.lat];return[d.left,d.bottom,d.right,d.top]},toPoint:jG};function EG(l,d){return d=d||5,function(l,d){var b="00000"+l.easting,c="00000"+l.northing;return l.zoneNumber+l.zoneLetter+(G=l.easting,W=l.northing,h=l.zoneNumber,e=$G(h),o=Math.floor(G/1e5),p=Math.floor(W/1e5)%20,u=o,Z=p,t=e,m=t-1,n=TG.charCodeAt(m),i=kG.charCodeAt(m),a=n+u-1,X=i+Z,s=!1,a>UG&&(a=a-UG+wG-1,s=!0),(a===NG||n<NG&&a>NG||(a>NG||n<NG)&&s)&&a++,(a===fG||n<fG&&a>fG||(a>fG||n<fG)&&s)&&++a===NG&&a++,a>UG&&(a=a-UG+wG-1),X>PG?(X=X-PG+wG-1,s=!0):s=!1,(X===NG||i<NG&&X>NG||(X>NG||i<NG)&&s)&&X++,(X===fG||i<fG&&X>fG||(X>fG||i<fG)&&s)&&++X===NG&&X++,X>PG&&(X=X-PG+wG-1),String.fromCharCode(a)+String.fromCharCode(X))+b.substr(b.length-5,d)+c.substr(c.length-5,d);var u,Z,t,m,n,i,a,X,s;var G,W,h,e,o,p}(function(l){var d,b,c,u,Z,t,m,n,i=l.lat,a=l.lon,X=6378137,s=.00669438,G=.9996,W=DG(i),h=DG(a);n=Math.floor((a+180)/6)+1,180===a&&(n=60);i>=56&&i<64&&a>=3&&a<12&&(n=32);i>=72&&i<84&&(a>=0&&a<9?n=31:a>=9&&a<21?n=33:a>=21&&a<33?n=35:a>=33&&a<42&&(n=37));m=DG(6*(n-1)-180+3),d=s/(1-s),b=X/Math.sqrt(1-s*Math.sin(W)*Math.sin(W)),c=Math.tan(W)*Math.tan(W),u=d*Math.cos(W)*Math.cos(W),Z=Math.cos(W)*(h-m),t=X*((1-s/4-3*s*s/64-5*s*s*s/256)*W-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*W)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*W)-35*s*s*s/3072*Math.sin(6*W));var e=G*b*(Z+(1-c+u)*Z*Z*Z/6+(5-18*c+c*c+72*u-58*d)*Z*Z*Z*Z*Z/120)+5e5,o=G*(t+b*Math.tan(W)*(Z*Z/2+(5-c+9*u+4*u*u)*Z*Z*Z*Z/24+(61-58*c+c*c+600*u-330*d)*Z*Z*Z*Z*Z*Z/720));i<0&&(o+=1e7);return{northing:Math.round(o),easting:Math.round(e),zoneNumber:n,zoneLetter:qG(i)}}({lat:l[1],lon:l[0]}),d)}function jG(l){var d=_G(lW(l.toUpperCase()));return d.lat&&d.lon?[d.lon,d.lat]:[(d.left+d.right)/2,(d.top+d.bottom)/2]}function DG(l){return l*(Math.PI/180)}function OG(l){return l/Math.PI*180}function _G(l){var d=l.northing,b=l.easting,c=l.zoneLetter,u=l.zoneNumber;if(u<0||u>60)return null;var Z,t,m,n,i,a,X,s,G,W=.9996,h=6378137,e=.00669438,o=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),p=b-5e5,y=d;c<"N"&&(y-=1e7),X=6*(u-1)-180+3,Z=.006739496752268451,G=(s=y/W/6367449.145945056)+(3*o/2-27*o*o*o/32)*Math.sin(2*s)+(21*o*o/16-55*o*o*o*o/32)*Math.sin(4*s)+151*o*o*o/96*Math.sin(6*s),t=h/Math.sqrt(1-e*Math.sin(G)*Math.sin(G)),m=Math.tan(G)*Math.tan(G),n=Z*Math.cos(G)*Math.cos(G),i=.99330562*h/Math.pow(1-e*Math.sin(G)*Math.sin(G),1.5),a=p/(t*W);var V=G-t*Math.tan(G)/i*(a*a/2-(5+3*m+10*n-4*n*n-9*Z)*a*a*a*a/24+(61+90*m+298*n+45*m*m-1.6983531815716497-3*n*n)*a*a*a*a*a*a/720);V=OG(V);var R,L=(a-(1+2*m+n)*a*a*a/6+(5-2*n+28*m-3*n*n+8*Z+24*m*m)*a*a*a*a*a/120)/Math.cos(G);if(L=X+OG(L),l.accuracy){var K=_G({northing:l.northing+l.accuracy,easting:l.easting+l.accuracy,zoneLetter:l.zoneLetter,zoneNumber:l.zoneNumber});R={top:K.lat,right:K.lon,bottom:V,left:L}}else R={lat:V,lon:L};return R}function qG(l){var d="Z";return 84>=l&&l>=72?d="X":72>l&&l>=64?d="W":64>l&&l>=56?d="V":56>l&&l>=48?d="U":48>l&&l>=40?d="T":40>l&&l>=32?d="S":32>l&&l>=24?d="R":24>l&&l>=16?d="Q":16>l&&l>=8?d="P":8>l&&l>=0?d="N":0>l&&l>=-8?d="M":-8>l&&l>=-16?d="L":-16>l&&l>=-24?d="K":-24>l&&l>=-32?d="J":-32>l&&l>=-40?d="H":-40>l&&l>=-48?d="G":-48>l&&l>=-56?d="F":-56>l&&l>=-64?d="E":-64>l&&l>=-72?d="D":-72>l&&l>=-80&&(d="C"),d}function $G(l){var d=l%zG;return 0===d&&(d=zG),d}function lW(l){if(l&&0===l.length)throw"MGRSPoint coverting from nothing";for(var d,b=l.length,c=null,u="",Z=0;!/[A-Z]/.test(d=l.charAt(Z));){if(Z>=2)throw"MGRSPoint bad conversion from: "+l;u+=d,Z++}var t=parseInt(u,10);if(0===Z||Z+3>b)throw"MGRSPoint bad conversion from: "+l;var m=l.charAt(Z++);if(m<="A"||"B"===m||"Y"===m||m>="Z"||"I"===m||"O"===m)throw"MGRSPoint zone letter "+m+" not handled: "+l;c=l.substring(Z,Z+=2);for(var n=$G(t),i=function(l,d){var b=TG.charCodeAt(d-1),c=1e5,u=!1;for(;b!==l.charCodeAt(0);){if(++b===NG&&b++,b===fG&&b++,b>UG){if(u)throw"Bad character: "+l;b=wG,u=!0}c+=1e5}return c}(c.charAt(0),n),a=function(l,d){if(l>"V")throw"MGRSPoint given invalid Northing "+l;var b=kG.charCodeAt(d-1),c=0,u=!1;for(;b!==l.charCodeAt(0);){if(++b===NG&&b++,b===fG&&b++,b>PG){if(u)throw"Bad character: "+l;b=wG,u=!0}c+=1e5}return c}(c.charAt(1),n);a<dW(m);)a+=2e6;var X=b-Z;if(X%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+l;var s,G,W,h=X/2,e=0,o=0;return h>0&&(s=1e5/Math.pow(10,h),G=l.substring(Z,Z+h),e=parseFloat(G)*s,W=l.substring(Z+h),o=parseFloat(W)*s),{easting:e+i,northing:o+a,zoneLetter:m,zoneNumber:t,accuracy:s}}function dW(l){var d;switch(l){case"C":d=11e5;break;case"D":d=2e6;break;case"E":d=28e5;break;case"F":d=37e5;break;case"G":d=46e5;break;case"H":d=55e5;break;case"J":d=64e5;break;case"K":d=73e5;break;case"L":d=82e5;break;case"M":d=91e5;break;case"N":d=0;break;case"P":d=8e5;break;case"Q":d=17e5;break;case"R":d=26e5;break;case"S":d=35e5;break;case"T":d=44e5;break;case"U":d=53e5;break;case"V":d=62e5;break;case"W":d=7e6;break;case"X":d=79e5;break;default:d=-1}if(d>=0)return d;throw"Invalid zone letter: "+l}function bW(l,d,b){if(!(this instanceof bW))return new bW(l,d,b);if(Array.isArray(l))this.x=l[0],this.y=l[1],this.z=l[2]||0;else if("object"==typeof l)this.x=l.x,this.y=l.y,this.z=l.z||0;else if("string"==typeof l&&void 0===d){var c=l.split(",");this.x=parseFloat(c[0],10),this.y=parseFloat(c[1],10),this.z=parseFloat(c[2],10)||0}else this.x=l,this.y=d,this.z=b||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}bW.fromMGRS=function(l){return new bW(jG(l))},bW.prototype.toMGRS=function(l){return EG([this.x,this.y],l)};var cW=1,uW=.25,ZW=.046875,tW=.01953125,mW=.01068115234375,nW=.75,iW=.46875,aW=.013020833333333334,XW=.007120768229166667,sW=.3645833333333333,GW=.005696614583333333,WW=.3076171875;function hW(l){var d=[];d[0]=cW-l*(uW+l*(ZW+l*(tW+l*mW))),d[1]=l*(nW-l*(ZW+l*(tW+l*mW)));var b=l*l;return d[2]=b*(iW-l*(aW+l*XW)),b*=l,d[3]=b*(sW-l*GW),d[4]=b*l*WW,d}function eW(l,d,b,c){return b*=d,d*=d,c[0]*l-b*(c[1]+d*(c[2]+d*(c[3]+d*c[4])))}var oW=20;function pW(l,d,b){for(var c=1/(1-d),u=l,Z=oW;Z;--Z){var t=Math.sin(u),m=1-d*t*t;if(u-=m=(eW(u,t,Math.cos(u),b)-l)*(m*Math.sqrt(m))*c,Math.abs(m)<Hs)return u}return u}var yW={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=hW(this.es),this.ml0=eW(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(l){var d,b,c,u=l.x,Z=l.y,t=cG(u-this.long0),m=Math.sin(Z),n=Math.cos(Z);if(this.es){var i=n*t,a=Math.pow(i,2),X=this.ep2*Math.pow(n,2),s=Math.pow(X,2),G=Math.abs(n)>Hs?Math.tan(Z):0,W=Math.pow(G,2),h=Math.pow(W,2);d=1-this.es*Math.pow(m,2),i/=Math.sqrt(d);var e=eW(Z,m,n,this.en);b=this.a*(this.k0*i*(1+a/6*(1-W+X+a/20*(5-18*W+h+14*X-58*W*X+a/42*(61+179*h-h*W-479*W)))))+this.x0,c=this.a*(this.k0*(e-this.ml0+m*t*i/2*(1+a/12*(5-W+9*X+4*s+a/30*(61+h-58*W+270*X-330*W*X+a/56*(1385+543*h-h*W-3111*W))))))+this.y0}else{var o=n*Math.sin(t);if(Math.abs(Math.abs(o)-1)<Hs)return 93;if(b=.5*this.a*this.k0*Math.log((1+o)/(1-o))+this.x0,c=n*Math.cos(t)/Math.sqrt(1-Math.pow(o,2)),(o=Math.abs(c))>=1){if(o-1>Hs)return 93;c=0}else c=Math.acos(c);Z<0&&(c=-c),c=this.a*this.k0*(c-this.lat0)+this.y0}return l.x=b,l.y=c,l},inverse:function(l){var d,b,c,u,Z=(l.x-this.x0)*(1/this.a),t=(l.y-this.y0)*(1/this.a);if(this.es)if(b=pW(d=this.ml0+t/this.k0,this.es,this.en),Math.abs(b)<Ks){var m=Math.sin(b),n=Math.cos(b),i=Math.abs(n)>Hs?Math.tan(b):0,a=this.ep2*Math.pow(n,2),X=Math.pow(a,2),s=Math.pow(i,2),G=Math.pow(s,2);d=1-this.es*Math.pow(m,2);var W=Z*Math.sqrt(d)/this.k0,h=Math.pow(W,2);c=b-(d*=i)*h/(1-this.es)*.5*(1-h/12*(5+3*s-9*a*s+a-4*X-h/30*(61+90*s-252*a*s+45*G+46*a-h/56*(1385+3633*s+4095*G+1574*G*s)))),u=cG(this.long0+W*(1-h/6*(1+2*s+a-h/20*(5+28*s+24*G+8*a*s+6*a-h/42*(61+662*s+1320*G+720*G*s))))/n)}else c=Ks*bG(t),u=0;else{var e=Math.exp(Z/this.k0),o=.5*(e-1/e),p=this.lat0+t/this.k0,y=Math.cos(p);d=Math.sqrt((1-Math.pow(y,2))/(1+Math.pow(o,2))),c=Math.asin(d),t<0&&(c=-c),u=0===o&&0===y?0:cG(Math.atan2(o,y)+this.long0)}return l.x=u,l.y=c,l},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function VW(l){var d=Math.exp(l);return d=(d-1/d)/2}function RW(l,d){l=Math.abs(l),d=Math.abs(d);var b=Math.max(l,d),c=Math.min(l,d)/(b||1);return b*Math.sqrt(1+Math.pow(c,2))}function LW(l){var d=Math.abs(l);return d=function(l){var d=1+l,b=d-1;return 0===b?l:l*Math.log(d)/b}(d*(1+d/(RW(1,d)+1))),l<0?-d:d}function KW(l,d){for(var b,c=2*Math.cos(2*d),u=l.length-1,Z=l[u],t=0;--u>=0;)b=c*Z-t+l[u],t=Z,Z=b;return d+b*Math.sin(2*d)}function rW(l,d,b){for(var c,u,Z=Math.sin(d),t=Math.cos(d),m=VW(b),n=function(l){var d=Math.exp(l);return(d+1/d)/2}(b),i=2*t*n,a=-2*Z*m,X=l.length-1,s=l[X],G=0,W=0,h=0;--X>=0;)c=W,u=G,s=i*(W=s)-c-a*(G=h)+l[X],h=a*W-u+i*G;return[(i=Z*n)*s-(a=t*m)*h,i*h+a*s]}var xW={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(yW.init.apply(this),this.forward=yW.forward,this.inverse=yW.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var l=this.es/(1+Math.sqrt(1-this.es)),d=l/(2-l),b=d;this.cgb[0]=d*(2+d*(-2/3+d*(d*(116/45+d*(26/45+d*(-2854/675)))-2))),this.cbg[0]=d*(d*(2/3+d*(4/3+d*(-82/45+d*(32/45+d*(4642/4725)))))-2),b*=d,this.cgb[1]=b*(7/3+d*(d*(-227/45+d*(2704/315+d*(2323/945)))-1.6)),this.cbg[1]=b*(5/3+d*(-16/15+d*(-13/9+d*(904/315+d*(-1522/945))))),b*=d,this.cgb[2]=b*(56/15+d*(-136/35+d*(-1262/105+d*(73814/2835)))),this.cbg[2]=b*(-26/15+d*(34/21+d*(1.6+d*(-12686/2835)))),b*=d,this.cgb[3]=b*(4279/630+d*(-332/35+d*(-399572/14175))),this.cbg[3]=b*(1237/630+d*(d*(-24832/14175)-2.4)),b*=d,this.cgb[4]=b*(4174/315+d*(-144838/6237)),this.cbg[4]=b*(-734/315+d*(109598/31185)),b*=d,this.cgb[5]=b*(601676/22275),this.cbg[5]=b*(444337/155925),b=Math.pow(d,2),this.Qn=this.k0/(1+d)*(1+b*(1/4+b*(1/64+b/256))),this.utg[0]=d*(d*(2/3+d*(-37/96+d*(1/360+d*(81/512+d*(-96199/604800)))))-.5),this.gtu[0]=d*(.5+d*(-2/3+d*(5/16+d*(41/180+d*(-127/288+d*(7891/37800)))))),this.utg[1]=b*(-1/48+d*(-1/15+d*(437/1440+d*(-46/105+d*(1118711/3870720))))),this.gtu[1]=b*(13/48+d*(d*(557/1440+d*(281/630+d*(-1983433/1935360)))-.6)),b*=d,this.utg[2]=b*(-17/480+d*(37/840+d*(209/4480+d*(-5569/90720)))),this.gtu[2]=b*(61/240+d*(-103/140+d*(15061/26880+d*(167603/181440)))),b*=d,this.utg[3]=b*(-4397/161280+d*(11/504+d*(830251/7257600))),this.gtu[3]=b*(49561/161280+d*(-179/168+d*(6601661/7257600))),b*=d,this.utg[4]=b*(-4583/161280+d*(108847/3991680)),this.gtu[4]=b*(34729/80640+d*(-3418889/1995840)),b*=d,this.utg[5]=b*(-20648693/638668800),this.gtu[5]=.6650675310896665*b;var c=KW(this.cbg,this.lat0);this.Zb=-this.Qn*(c+function(l,d){for(var b,c=2*Math.cos(d),u=l.length-1,Z=l[u],t=0;--u>=0;)b=c*Z-t+l[u],t=Z,Z=b;return Math.sin(d)*b}(this.gtu,2*c))},forward:function(l){var d=cG(l.x-this.long0),b=l.y;b=KW(this.cbg,b);var c=Math.sin(b),u=Math.cos(b),Z=Math.sin(d),t=Math.cos(d);b=Math.atan2(c,t*u),d=Math.atan2(Z*u,RW(c,u*t)),d=LW(Math.tan(d));var m,n,i=rW(this.gtu,2*b,2*d);return b+=i[0],d+=i[1],Math.abs(d)<=2.623395162778?(m=this.a*(this.Qn*d)+this.x0,n=this.a*(this.Qn*b+this.Zb)+this.y0):(m=1/0,n=1/0),l.x=m,l.y=n,l},inverse:function(l){var d,b,c=(l.x-this.x0)*(1/this.a),u=(l.y-this.y0)*(1/this.a);if(u=(u-this.Zb)/this.Qn,c/=this.Qn,Math.abs(c)<=2.623395162778){var Z=rW(this.utg,2*u,2*c);u+=Z[0],c+=Z[1],c=Math.atan(VW(c));var t=Math.sin(u),m=Math.cos(u),n=Math.sin(c),i=Math.cos(c);u=Math.atan2(t*i,RW(n,i*m)),d=cG((c=Math.atan2(n,i*m))+this.long0),b=KW(this.cgb,u)}else d=1/0,b=1/0;return l.x=d,l.y=b,l},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]};var SW={init:function(){var l=function(l,d){if(void 0===l){if((l=Math.floor(30*(cG(d)+Math.PI)/Math.PI)+1)<0)return 0;if(l>60)return 60}return l}(this.zone,this.long0);if(void 0===l)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(l)-183)*Ys,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,xW.init.apply(this),this.forward=xW.forward,this.inverse=xW.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function HW(l,d){return Math.pow((1-l)/(1+l),d)}var YW={init:function(){var l=Math.sin(this.lat0),d=Math.cos(this.lat0);d*=d,this.rc=Math.sqrt(1-this.es)/(1-this.es*l*l),this.C=Math.sqrt(1+this.es*d*d/(1-this.es)),this.phic0=Math.asin(l/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+As)/(Math.pow(Math.tan(.5*this.lat0+As),this.C)*HW(this.e*l,this.ratexp))},forward:function(l){var d=l.x,b=l.y;return l.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*b+As),this.C)*HW(this.e*Math.sin(b),this.ratexp))-Ks,l.x=this.C*d,l},inverse:function(l){for(var d=l.x/this.C,b=l.y,c=Math.pow(Math.tan(.5*b+As)/this.K,1/this.C),u=20;u>0&&(b=2*Math.atan(c*HW(this.e*Math.sin(l.y),-.5*this.e))-Ks,!(Math.abs(b-l.y)<1e-14));--u)l.y=b;return u?(l.x=d,l.y=b,l):null},names:["gauss"]};var gW={init:function(){YW.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(l){var d,b,c,u;return l.x=cG(l.x-this.long0),YW.forward.apply(this,[l]),d=Math.sin(l.y),b=Math.cos(l.y),c=Math.cos(l.x),u=this.k0*this.R2/(1+this.sinc0*d+this.cosc0*b*c),l.x=u*b*Math.sin(l.x),l.y=u*(this.cosc0*d-this.sinc0*b*c),l.x=this.a*l.x+this.x0,l.y=this.a*l.y+this.y0,l},inverse:function(l){var d,b,c,u,Z;if(l.x=(l.x-this.x0)/this.a,l.y=(l.y-this.y0)/this.a,l.x/=this.k0,l.y/=this.k0,Z=RW(l.x,l.y)){var t=2*Math.atan2(Z,this.R2);d=Math.sin(t),b=Math.cos(t),u=Math.asin(b*this.sinc0+l.y*d*this.cosc0/Z),c=Math.atan2(l.x*d,Z*this.cosc0*b-l.y*this.sinc0*d)}else u=this.phic0,c=0;return l.x=c,l.y=u,YW.inverse.apply(this,[l]),l.x=cG(l.x+this.long0),l},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var AW={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Hs&&(this.k0=.5*(1+bG(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Hs&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Hs&&Math.abs(Math.cos(this.lat_ts))>Hs&&(this.k0=.5*this.cons*dG(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/uG(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=dG(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Ks,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(l){var d,b,c,u,Z,t,m=l.x,n=l.y,i=Math.sin(n),a=Math.cos(n),X=cG(m-this.long0);return Math.abs(Math.abs(m-this.long0)-Math.PI)<=Hs&&Math.abs(n+this.lat0)<=Hs?(l.x=NaN,l.y=NaN,l):this.sphere?(d=2*this.k0/(1+this.sinlat0*i+this.coslat0*a*Math.cos(X)),l.x=this.a*d*a*Math.sin(X)+this.x0,l.y=this.a*d*(this.coslat0*i-this.sinlat0*a*Math.cos(X))+this.y0,l):(b=2*Math.atan(this.ssfn_(n,i,this.e))-Ks,u=Math.cos(b),c=Math.sin(b),Math.abs(this.coslat0)<=Hs?(Z=uG(this.e,n*this.con,this.con*i),t=2*this.a*this.k0*Z/this.cons,l.x=this.x0+t*Math.sin(m-this.long0),l.y=this.y0-this.con*t*Math.cos(m-this.long0),l):(Math.abs(this.sinlat0)<Hs?(d=2*this.a*this.k0/(1+u*Math.cos(X)),l.y=d*c):(d=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*c+this.cosX0*u*Math.cos(X))),l.y=d*(this.cosX0*c-this.sinX0*u*Math.cos(X))+this.y0),l.x=d*u*Math.sin(X)+this.x0,l))},inverse:function(l){var d,b,c,u,Z;l.x-=this.x0,l.y-=this.y0;var t=Math.sqrt(l.x*l.x+l.y*l.y);if(this.sphere){var m=2*Math.atan(t/(2*this.a*this.k0));return d=this.long0,b=this.lat0,t<=Hs?(l.x=d,l.y=b,l):(b=Math.asin(Math.cos(m)*this.sinlat0+l.y*Math.sin(m)*this.coslat0/t),d=Math.abs(this.coslat0)<Hs?this.lat0>0?cG(this.long0+Math.atan2(l.x,-1*l.y)):cG(this.long0+Math.atan2(l.x,l.y)):cG(this.long0+Math.atan2(l.x*Math.sin(m),t*this.coslat0*Math.cos(m)-l.y*this.sinlat0*Math.sin(m))),l.x=d,l.y=b,l)}if(Math.abs(this.coslat0)<=Hs){if(t<=Hs)return b=this.lat0,d=this.long0,l.x=d,l.y=b,l;l.x*=this.con,l.y*=this.con,c=t*this.cons/(2*this.a*this.k0),b=this.con*ZG(this.e,c),d=this.con*cG(this.con*this.long0+Math.atan2(l.x,-1*l.y))}else u=2*Math.atan(t*this.cosX0/(2*this.a*this.k0*this.ms1)),d=this.long0,t<=Hs?Z=this.X0:(Z=Math.asin(Math.cos(u)*this.sinX0+l.y*Math.sin(u)*this.cosX0/t),d=cG(this.long0+Math.atan2(l.x*Math.sin(u),t*this.cosX0*Math.cos(u)-l.y*this.sinX0*Math.sin(u)))),b=-1*ZG(this.e,Math.tan(.5*(Ks+Z)));return l.x=d,l.y=b,l},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ssfn_:function(l,d,b){return d*=b,Math.tan(.5*(Ks+l))*Math.pow((1-d)/(1+d),.5*b)}};var CW={init:function(){var l=this.lat0;this.lambda0=this.long0;var d=Math.sin(l),b=this.a,c=1/this.rf,u=2*c-Math.pow(c,2),Z=this.e=Math.sqrt(u);this.R=this.k0*b*Math.sqrt(1-u)/(1-u*Math.pow(d,2)),this.alpha=Math.sqrt(1+u/(1-u)*Math.pow(Math.cos(l),4)),this.b0=Math.asin(d/this.alpha);var t=Math.log(Math.tan(Math.PI/4+this.b0/2)),m=Math.log(Math.tan(Math.PI/4+l/2)),n=Math.log((1+Z*d)/(1-Z*d));this.K=t-this.alpha*m+this.alpha*Z/2*n},forward:function(l){var d=Math.log(Math.tan(Math.PI/4-l.y/2)),b=this.e/2*Math.log((1+this.e*Math.sin(l.y))/(1-this.e*Math.sin(l.y))),c=-this.alpha*(d+b)+this.K,u=2*(Math.atan(Math.exp(c))-Math.PI/4),Z=this.alpha*(l.x-this.lambda0),t=Math.atan(Math.sin(Z)/(Math.sin(this.b0)*Math.tan(u)+Math.cos(this.b0)*Math.cos(Z))),m=Math.asin(Math.cos(this.b0)*Math.sin(u)-Math.sin(this.b0)*Math.cos(u)*Math.cos(Z));return l.y=this.R/2*Math.log((1+Math.sin(m))/(1-Math.sin(m)))+this.y0,l.x=this.R*t+this.x0,l},inverse:function(l){for(var d=l.x-this.x0,b=l.y-this.y0,c=d/this.R,u=2*(Math.atan(Math.exp(b/this.R))-Math.PI/4),Z=Math.asin(Math.cos(this.b0)*Math.sin(u)+Math.sin(this.b0)*Math.cos(u)*Math.cos(c)),t=Math.atan(Math.sin(c)/(Math.cos(this.b0)*Math.cos(c)-Math.sin(this.b0)*Math.tan(u))),m=this.lambda0+t/this.alpha,n=0,i=Z,a=-1e3,X=0;Math.abs(i-a)>1e-7;){if(++X>20)return;n=1/this.alpha*(Math.log(Math.tan(Math.PI/4+Z/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(i))/2)),a=i,i=2*Math.atan(Math.exp(n))-Math.PI/2}return l.x=m,l.y=i,l},names:["somerc"]},IW=1e-7;var JW={init:function(){var l,d,b,c,u,Z,t,m,n,i,a,X,s,G=0,W=0,h=0,e=0,o=0,p=0,y=0;this.no_off=(s="object"==typeof(X=this).PROJECTION?Object.keys(X.PROJECTION)[0]:X.PROJECTION,"no_uoff"in X||"no_off"in X||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(s)),this.no_rot="no_rot"in this;var V=!1;"alpha"in this&&(V=!0);var R=!1;if("rectified_grid_angle"in this&&(R=!0),V&&(y=this.alpha),R&&(G=this.rectified_grid_angle*Ys),V||R)W=this.longc;else if(h=this.long1,o=this.lat1,e=this.long2,p=this.lat2,Math.abs(o-p)<=IW||(l=Math.abs(o))<=IW||Math.abs(l-Ks)<=IW||Math.abs(Math.abs(this.lat0)-Ks)<=IW||Math.abs(Math.abs(p)-Ks)<=IW)throw new Error;var L=1-this.es;d=Math.sqrt(L),Math.abs(this.lat0)>Hs?(m=Math.sin(this.lat0),b=Math.cos(this.lat0),l=1-this.es*m*m,this.B=b*b,this.B=Math.sqrt(1+this.es*this.B*this.B/L),this.A=this.B*this.k0*d/l,(u=(c=this.B*d/(b*Math.sqrt(l)))*c-1)<=0?u=0:(u=Math.sqrt(u),this.lat0<0&&(u=-u)),this.E=u+=c,this.E*=Math.pow(uG(this.e,this.lat0,m),this.B)):(this.B=1/d,this.A=this.k0,this.E=c=u=1),V||R?(V?(a=Math.asin(Math.sin(y)/c),R||(G=y)):(a=G,y=Math.asin(c*Math.sin(a))),this.lam0=W-Math.asin(.5*(u-1/u)*Math.tan(a))/this.B):(Z=Math.pow(uG(this.e,o,Math.sin(o)),this.B),t=Math.pow(uG(this.e,p,Math.sin(p)),this.B),u=this.E/Z,n=(t-Z)/(t+Z),i=((i=this.E*this.E)-t*Z)/(i+t*Z),(l=h-e)<-Math.pi?e-=Cs:l>Math.pi&&(e+=Cs),this.lam0=cG(.5*(h+e)-Math.atan(i*Math.tan(.5*this.B*(h-e))/n)/this.B),a=Math.atan(2*Math.sin(this.B*cG(h-this.lam0))/(u-1/u)),G=y=Math.asin(c*Math.sin(a))),this.singam=Math.sin(a),this.cosgam=Math.cos(a),this.sinrot=Math.sin(G),this.cosrot=Math.cos(G),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(c*c-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),u=.5*a,this.v_pole_n=this.ArB*Math.log(Math.tan(As-u)),this.v_pole_s=this.ArB*Math.log(Math.tan(As+u))},forward:function(l){var d,b,c,u,Z,t,m,n,i={};if(l.x=l.x-this.lam0,Math.abs(Math.abs(l.y)-Ks)>Hs){if(d=.5*((Z=this.E/Math.pow(uG(this.e,l.y,Math.sin(l.y)),this.B))-(t=1/Z)),b=.5*(Z+t),u=Math.sin(this.B*l.x),c=(d*this.singam-u*this.cosgam)/b,Math.abs(Math.abs(c)-1)<Hs)throw new Error;n=.5*this.ArB*Math.log((1-c)/(1+c)),t=Math.cos(this.B*l.x),m=Math.abs(t)<IW?this.A*l.x:this.ArB*Math.atan2(d*this.cosgam+u*this.singam,t)}else n=l.y>0?this.v_pole_n:this.v_pole_s,m=this.ArB*l.y;return this.no_rot?(i.x=m,i.y=n):(m-=this.u_0,i.x=n*this.cosrot+m*this.sinrot,i.y=m*this.cosrot-n*this.sinrot),i.x=this.a*i.x+this.x0,i.y=this.a*i.y+this.y0,i},inverse:function(l){var d,b,c,u,Z,t,m,n={};if(l.x=(l.x-this.x0)*(1/this.a),l.y=(l.y-this.y0)*(1/this.a),this.no_rot?(b=l.y,d=l.x):(b=l.x*this.cosrot-l.y*this.sinrot,d=l.y*this.cosrot+l.x*this.sinrot+this.u_0),u=.5*((c=Math.exp(-this.BrA*b))-1/c),Z=.5*(c+1/c),m=((t=Math.sin(this.BrA*d))*this.cosgam+u*this.singam)/Z,Math.abs(Math.abs(m)-1)<Hs)n.x=0,n.y=m<0?-Ks:Ks;else{if(n.y=this.E/Math.sqrt((1+m)/(1-m)),n.y=ZG(this.e,Math.pow(n.y,1/this.B)),n.y===1/0)throw new Error;n.x=-this.rB*Math.atan2(u*this.cosgam-t*this.singam,Math.cos(this.BrA*d))}return n.x+=this.lam0,n},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var FW={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Hs)){var l=this.b/this.a;this.e=Math.sqrt(1-l*l);var d=Math.sin(this.lat1),b=Math.cos(this.lat1),c=dG(this.e,d,b),u=uG(this.e,this.lat1,d),Z=Math.sin(this.lat2),t=Math.cos(this.lat2),m=dG(this.e,Z,t),n=uG(this.e,this.lat2,Z),i=uG(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Hs?this.ns=Math.log(c/m)/Math.log(u/n):this.ns=d,isNaN(this.ns)&&(this.ns=d),this.f0=c/(this.ns*Math.pow(u,this.ns)),this.rh=this.a*this.f0*Math.pow(i,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(l){var d=l.x,b=l.y;Math.abs(2*Math.abs(b)-Math.PI)<=Hs&&(b=bG(b)*(Ks-2*Hs));var c,u,Z=Math.abs(Math.abs(b)-Ks);if(Z>Hs)c=uG(this.e,b,Math.sin(b)),u=this.a*this.f0*Math.pow(c,this.ns);else{if((Z=b*this.ns)<=0)return null;u=0}var t=this.ns*cG(d-this.long0);return l.x=this.k0*(u*Math.sin(t))+this.x0,l.y=this.k0*(this.rh-u*Math.cos(t))+this.y0,l},inverse:function(l){var d,b,c,u,Z,t=(l.x-this.x0)/this.k0,m=this.rh-(l.y-this.y0)/this.k0;this.ns>0?(d=Math.sqrt(t*t+m*m),b=1):(d=-Math.sqrt(t*t+m*m),b=-1);var n=0;if(0!==d&&(n=Math.atan2(b*t,b*m)),0!==d||this.ns>0){if(b=1/this.ns,c=Math.pow(d/(this.a*this.f0),b),-9999===(u=ZG(this.e,c)))return null}else u=-Ks;return Z=cG(n/this.ns+this.long0),l.x=Z,l.y=u,l},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};var BW={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(l){var d,b,c,u,Z,t,m,n=l.x,i=l.y,a=cG(n-this.long0);return d=Math.pow((1+this.e*Math.sin(i))/(1-this.e*Math.sin(i)),this.alfa*this.e/2),b=2*(Math.atan(this.k*Math.pow(Math.tan(i/2+this.s45),this.alfa)/d)-this.s45),c=-a*this.alfa,u=Math.asin(Math.cos(this.ad)*Math.sin(b)+Math.sin(this.ad)*Math.cos(b)*Math.cos(c)),Z=Math.asin(Math.cos(b)*Math.sin(c)/Math.cos(u)),t=this.n*Z,m=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(u/2+this.s45),this.n),l.y=m*Math.cos(t)/1,l.x=m*Math.sin(t)/1,this.czech||(l.y*=-1,l.x*=-1),l},inverse:function(l){var d,b,c,u,Z,t,m,n=l.x;l.x=l.y,l.y=n,this.czech||(l.y*=-1,l.x*=-1),Z=Math.sqrt(l.x*l.x+l.y*l.y),u=Math.atan2(l.y,l.x)/Math.sin(this.s0),c=2*(Math.atan(Math.pow(this.ro0/Z,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),d=Math.asin(Math.cos(this.ad)*Math.sin(c)-Math.sin(this.ad)*Math.cos(c)*Math.cos(u)),b=Math.asin(Math.cos(c)*Math.sin(u)/Math.cos(d)),l.x=this.long0-b/this.alfa,t=d,m=0;var i=0;do{l.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(d/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(t))/(1-this.e*Math.sin(t)),this.e/2))-this.s45),Math.abs(t-l.y)<1e-10&&(m=1),t=l.y,i+=1}while(0===m&&i<15);return i>=15?null:l},names:["Krovak","krovak"]};function vW(l,d,b,c,u){return l*u-d*Math.sin(2*u)+b*Math.sin(4*u)-c*Math.sin(6*u)}function MW(l){return 1-.25*l*(1+l/16*(3+1.25*l))}function zW(l){return.375*l*(1+.25*l*(1+.46875*l))}function TW(l){return.05859375*l*l*(1+.75*l)}function kW(l){return l*l*l*(35/3072)}function wW(l,d,b){var c=d*b;return l/Math.sqrt(1-c*c)}function NW(l){return Math.abs(l)<Ks?l:l-bG(l)*Math.PI}function fW(l,d,b,c,u){var Z,t;Z=l/d;for(var m=0;m<15;m++)if(Z+=t=(l-(d*Z-b*Math.sin(2*Z)+c*Math.sin(4*Z)-u*Math.sin(6*Z)))/(d-2*b*Math.cos(2*Z)+4*c*Math.cos(4*Z)-6*u*Math.cos(6*Z)),Math.abs(t)<=1e-10)return Z;return NaN}var PW={init:function(){this.sphere||(this.e0=MW(this.es),this.e1=zW(this.es),this.e2=TW(this.es),this.e3=kW(this.es),this.ml0=this.a*vW(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(l){var d,b,c=l.x,u=l.y;if(c=cG(c-this.long0),this.sphere)d=this.a*Math.asin(Math.cos(u)*Math.sin(c)),b=this.a*(Math.atan2(Math.tan(u),Math.cos(c))-this.lat0);else{var Z=Math.sin(u),t=Math.cos(u),m=wW(this.a,this.e,Z),n=Math.tan(u)*Math.tan(u),i=c*Math.cos(u),a=i*i,X=this.es*t*t/(1-this.es);d=m*i*(1-a*n*(1/6-(8-n+8*X)*a/120)),b=this.a*vW(this.e0,this.e1,this.e2,this.e3,u)-this.ml0+m*Z/t*a*(.5+(5-n+6*X)*a/24)}return l.x=d+this.x0,l.y=b+this.y0,l},inverse:function(l){l.x-=this.x0,l.y-=this.y0;var d,b,c=l.x/this.a,u=l.y/this.a;if(this.sphere){var Z=u+this.lat0;d=Math.asin(Math.sin(Z)*Math.cos(c)),b=Math.atan2(Math.tan(c),Math.cos(Z))}else{var t=fW(this.ml0/this.a+u,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(t)-Ks)<=Hs)return l.x=this.long0,l.y=Ks,u<0&&(l.y*=-1),l;var m=wW(this.a,this.e,Math.sin(t)),n=m*m*m/this.a/this.a*(1-this.es),i=Math.pow(Math.tan(t),2),a=c*this.a/m,X=a*a;d=t-m*Math.tan(t)/n*a*a*(.5-(1+3*i)*a*a/24),b=a*(1-X*(i/3+(1+3*i)*i*X/15))/Math.cos(t)}return l.x=cG(b+this.long0),l.y=NW(d),l},names:["Cassini","Cassini_Soldner","cass"]};function UW(l,d){var b;return l>1e-7?(1-l*l)*(d/(1-(b=l*d)*b)-.5/l*Math.log((1-b)/(1+b))):2*d}var QW=.3333333333333333,EW=.17222222222222222,jW=.10257936507936508,DW=.06388888888888888,OW=.0664021164021164,_W=.016415012942191543;var qW={init:function(){var l,d=Math.abs(this.lat0);if(Math.abs(d-Ks)<Hs?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(d)<Hs?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=UW(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(l){var d,b=[];return b[0]=l*QW,d=l*l,b[0]+=d*EW,b[1]=d*DW,d*=l,b[0]+=d*jW,b[1]+=d*OW,b[2]=d*_W,b}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),l=Math.sin(this.lat0),this.sinb1=UW(this.e,l)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*l*l)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(l){var d,b,c,u,Z,t,m,n,i,a,X=l.x,s=l.y;if(X=cG(X-this.long0),this.sphere){if(Z=Math.sin(s),a=Math.cos(s),c=Math.cos(X),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((b=this.mode===this.EQUIT?1+a*c:1+this.sinph0*Z+this.cosph0*a*c)<=Hs)return null;d=(b=Math.sqrt(2/b))*a*Math.sin(X),b*=this.mode===this.EQUIT?Z:this.cosph0*Z-this.sinph0*a*c}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),Math.abs(s+this.lat0)<Hs)return null;b=As-.5*s,d=(b=2*(this.mode===this.S_POLE?Math.cos(b):Math.sin(b)))*Math.sin(X),b*=c}}else{switch(m=0,n=0,i=0,c=Math.cos(X),u=Math.sin(X),Z=Math.sin(s),t=UW(this.e,Z),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=t/this.qp,n=Math.sqrt(1-m*m)),this.mode){case this.OBLIQ:i=1+this.sinb1*m+this.cosb1*n*c;break;case this.EQUIT:i=1+n*c;break;case this.N_POLE:i=Ks+s,t=this.qp-t;break;case this.S_POLE:i=s-Ks,t=this.qp+t}if(Math.abs(i)<Hs)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:i=Math.sqrt(2/i),b=this.mode===this.OBLIQ?this.ymf*i*(this.cosb1*m-this.sinb1*n*c):(i=Math.sqrt(2/(1+n*c)))*m*this.ymf,d=this.xmf*i*n*u;break;case this.N_POLE:case this.S_POLE:t>=0?(d=(i=Math.sqrt(t))*u,b=c*(this.mode===this.S_POLE?i:-i)):d=b=0}}return l.x=this.a*d+this.x0,l.y=this.a*b+this.y0,l},inverse:function(l){l.x-=this.x0,l.y-=this.y0;var d,b,c,u,Z,t,m,n,i,a,X=l.x/this.a,s=l.y/this.a;if(this.sphere){var G,W=0,h=0;if((b=.5*(G=Math.sqrt(X*X+s*s)))>1)return null;switch(b=2*Math.asin(b),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=Math.sin(b),W=Math.cos(b)),this.mode){case this.EQUIT:b=Math.abs(G)<=Hs?0:Math.asin(s*h/G),X*=h,s=W*G;break;case this.OBLIQ:b=Math.abs(G)<=Hs?this.lat0:Math.asin(W*this.sinph0+s*h*this.cosph0/G),X*=h*this.cosph0,s=(W-Math.sin(b)*this.sinph0)*G;break;case this.N_POLE:s=-s,b=Ks-b;break;case this.S_POLE:b-=Ks}d=0!==s||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(X,s):0}else{if(m=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(X/=this.dd,s*=this.dd,(t=Math.sqrt(X*X+s*s))<Hs)return l.x=this.long0,l.y=this.lat0,l;u=2*Math.asin(.5*t/this.rq),c=Math.cos(u),X*=u=Math.sin(u),this.mode===this.OBLIQ?(m=c*this.sinb1+s*u*this.cosb1/t,Z=this.qp*m,s=t*this.cosb1*c-s*this.sinb1*u):(m=s*u/t,Z=this.qp*m,s=t*c)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(s=-s),!(Z=X*X+s*s))return l.x=this.long0,l.y=this.lat0,l;m=1-Z/this.qp,this.mode===this.S_POLE&&(m=-m)}d=Math.atan2(X,s),n=Math.asin(m),i=this.apa,a=n+n,b=n+i[0]*Math.sin(a)+i[1]*Math.sin(a+a)+i[2]*Math.sin(a+a+a)}return l.x=cG(this.long0+d),l.y=b,l},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function $W(l){return Math.abs(l)>1&&(l=l>1?1:-1),Math.asin(l)}var lh={init:function(){Math.abs(this.lat1+this.lat2)<Hs||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=dG(this.e3,this.sin_po,this.cos_po),this.qs1=UW(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=dG(this.e3,this.sin_po,this.cos_po),this.qs2=UW(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=UW(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>Hs?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(l){var d=l.x,b=l.y;this.sin_phi=Math.sin(b),this.cos_phi=Math.cos(b);var c=UW(this.e3,this.sin_phi),u=this.a*Math.sqrt(this.c-this.ns0*c)/this.ns0,Z=this.ns0*cG(d-this.long0),t=u*Math.sin(Z)+this.x0,m=this.rh-u*Math.cos(Z)+this.y0;return l.x=t,l.y=m,l},inverse:function(l){var d,b,c,u,Z,t;return l.x-=this.x0,l.y=this.rh-l.y+this.y0,this.ns0>=0?(d=Math.sqrt(l.x*l.x+l.y*l.y),c=1):(d=-Math.sqrt(l.x*l.x+l.y*l.y),c=-1),u=0,0!==d&&(u=Math.atan2(c*l.x,c*l.y)),c=d*this.ns0/this.a,this.sphere?t=Math.asin((this.c-c*c)/(2*this.ns0)):(b=(this.c-c*c)/this.ns0,t=this.phi1z(this.e3,b)),Z=cG(u/this.ns0+this.long0),l.x=Z,l.y=t,l},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(l,d){var b,c,u,Z,t=$W(.5*d);if(l<Hs)return t;for(var m=l*l,n=1;n<=25;n++)if(t+=Z=.5*(u=1-(c=l*(b=Math.sin(t)))*c)*u/Math.cos(t)*(d/(1-m)-b/u+.5/l*Math.log((1-c)/(1+c))),Math.abs(Z)<=1e-7)return t;return null}};var dh={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(l){var d,b,c,u,Z,t,m,n=l.x,i=l.y;return c=cG(n-this.long0),d=Math.sin(i),b=Math.cos(i),u=Math.cos(c),1,(Z=this.sin_p14*d+this.cos_p14*b*u)>0||Math.abs(Z)<=Hs?(t=this.x0+1*this.a*b*Math.sin(c)/Z,m=this.y0+1*this.a*(this.cos_p14*d-this.sin_p14*b*u)/Z):(t=this.x0+this.infinity_dist*b*Math.sin(c),m=this.y0+this.infinity_dist*(this.cos_p14*d-this.sin_p14*b*u)),l.x=t,l.y=m,l},inverse:function(l){var d,b,c,u,Z,t;return l.x=(l.x-this.x0)/this.a,l.y=(l.y-this.y0)/this.a,l.x/=this.k0,l.y/=this.k0,(d=Math.sqrt(l.x*l.x+l.y*l.y))?(u=Math.atan2(d,this.rc),b=Math.sin(u),t=$W((c=Math.cos(u))*this.sin_p14+l.y*b*this.cos_p14/d),Z=Math.atan2(l.x*b,d*this.cos_p14*c-l.y*this.sin_p14*b),Z=cG(this.long0+Z)):(t=this.phic0,Z=0),l.x=Z,l.y=t,l},names:["gnom"]};var bh={init:function(){this.sphere||(this.k0=dG(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(l){var d,b,c=l.x,u=l.y,Z=cG(c-this.long0);if(this.sphere)d=this.x0+this.a*Z*Math.cos(this.lat_ts),b=this.y0+this.a*Math.sin(u)/Math.cos(this.lat_ts);else{var t=UW(this.e,Math.sin(u));d=this.x0+this.a*this.k0*Z,b=this.y0+this.a*t*.5/this.k0}return l.x=d,l.y=b,l},inverse:function(l){var d,b;return l.x-=this.x0,l.y-=this.y0,this.sphere?(d=cG(this.long0+l.x/this.a/Math.cos(this.lat_ts)),b=Math.asin(l.y/this.a*Math.cos(this.lat_ts))):(b=function(l,d){var b=1-(1-l*l)/(2*l)*Math.log((1-l)/(1+l));if(Math.abs(Math.abs(d)-b)<1e-6)return d<0?-1*Ks:Ks;for(var c,u,Z,t,m=Math.asin(.5*d),n=0;n<30;n++)if(u=Math.sin(m),Z=Math.cos(m),t=l*u,m+=c=Math.pow(1-t*t,2)/(2*Z)*(d/(1-l*l)-u/(1-t*t)+.5/l*Math.log((1-t)/(1+t))),Math.abs(c)<=1e-10)return m;return NaN}(this.e,2*l.y*this.k0/this.a),d=cG(this.long0+l.x/(this.a*this.k0))),l.x=d,l.y=b,l},names:["cea"]};var ch={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(l){var d=l.x,b=l.y,c=cG(d-this.long0),u=NW(b-this.lat0);return l.x=this.x0+this.a*c*this.rc,l.y=this.y0+this.a*u,l},inverse:function(l){var d=l.x,b=l.y;return l.x=cG(this.long0+(d-this.x0)/(this.a*this.rc)),l.y=NW(this.lat0+(b-this.y0)/this.a),l},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var uh={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=MW(this.es),this.e1=zW(this.es),this.e2=TW(this.es),this.e3=kW(this.es),this.ml0=this.a*vW(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(l){var d,b,c,u=l.x,Z=l.y,t=cG(u-this.long0);if(c=t*Math.sin(Z),this.sphere)Math.abs(Z)<=Hs?(d=this.a*t,b=-1*this.a*this.lat0):(d=this.a*Math.sin(c)/Math.tan(Z),b=this.a*(NW(Z-this.lat0)+(1-Math.cos(c))/Math.tan(Z)));else if(Math.abs(Z)<=Hs)d=this.a*t,b=-1*this.ml0;else{var m=wW(this.a,this.e,Math.sin(Z))/Math.tan(Z);d=m*Math.sin(c),b=this.a*vW(this.e0,this.e1,this.e2,this.e3,Z)-this.ml0+m*(1-Math.cos(c))}return l.x=d+this.x0,l.y=b+this.y0,l},inverse:function(l){var d,b,c,u,Z,t,m,n,i;if(c=l.x-this.x0,u=l.y-this.y0,this.sphere)if(Math.abs(u+this.a*this.lat0)<=Hs)d=cG(c/this.a+this.long0),b=0;else{var a;for(t=this.lat0+u/this.a,m=c*c/this.a/this.a+t*t,n=t,Z=20;Z;--Z)if(n+=i=-1*(t*(n*(a=Math.tan(n))+1)-n-.5*(n*n+m)*a)/((n-t)/a-1),Math.abs(i)<=Hs){b=n;break}d=cG(this.long0+Math.asin(c*Math.tan(n)/this.a)/Math.sin(b))}else if(Math.abs(u+this.ml0)<=Hs)b=0,d=cG(this.long0+c/this.a);else{var X,s,G,W,h;for(t=(this.ml0+u)/this.a,m=c*c/this.a/this.a+t*t,n=t,Z=20;Z;--Z)if(h=this.e*Math.sin(n),X=Math.sqrt(1-h*h)*Math.tan(n),s=this.a*vW(this.e0,this.e1,this.e2,this.e3,n),G=this.e0-2*this.e1*Math.cos(2*n)+4*this.e2*Math.cos(4*n)-6*this.e3*Math.cos(6*n),n-=i=(t*(X*(W=s/this.a)+1)-W-.5*X*(W*W+m))/(this.es*Math.sin(2*n)*(W*W+m-2*t*W)/(4*X)+(t-W)*(X*G-2/Math.sin(2*n))-G),Math.abs(i)<=Hs){b=n;break}X=Math.sqrt(1-this.es*Math.pow(Math.sin(b),2))*Math.tan(b),d=cG(this.long0+Math.asin(c*X/this.a)/Math.sin(b))}return l.x=d,l.y=b,l},names:["Polyconic","poly"]};var Zh={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(l){var d,b=l.x,c=l.y-this.lat0,u=b-this.long0,Z=c/Ls*1e-5,t=u,m=1,n=0;for(d=1;d<=10;d++)m*=Z,n+=this.A[d]*m;var i,a=n,X=t,s=1,G=0,W=0,h=0;for(d=1;d<=6;d++)i=G*a+s*X,s=s*a-G*X,G=i,W=W+this.B_re[d]*s-this.B_im[d]*G,h=h+this.B_im[d]*s+this.B_re[d]*G;return l.x=h*this.a+this.x0,l.y=W*this.a+this.y0,l},inverse:function(l){var d,b,c=l.x,u=l.y,Z=c-this.x0,t=(u-this.y0)/this.a,m=Z/this.a,n=1,i=0,a=0,X=0;for(d=1;d<=6;d++)b=i*t+n*m,n=n*t-i*m,i=b,a=a+this.C_re[d]*n-this.C_im[d]*i,X=X+this.C_im[d]*n+this.C_re[d]*i;for(var s=0;s<this.iterations;s++){var G,W=a,h=X,e=t,o=m;for(d=2;d<=6;d++)G=h*a+W*X,W=W*a-h*X,h=G,e+=(d-1)*(this.B_re[d]*W-this.B_im[d]*h),o+=(d-1)*(this.B_im[d]*W+this.B_re[d]*h);W=1,h=0;var p=this.B_re[1],y=this.B_im[1];for(d=2;d<=6;d++)G=h*a+W*X,W=W*a-h*X,h=G,p+=d*(this.B_re[d]*W-this.B_im[d]*h),y+=d*(this.B_im[d]*W+this.B_re[d]*h);var V=p*p+y*y;a=(e*p+o*y)/V,X=(o*p-e*y)/V}var R=a,L=X,K=1,r=0;for(d=1;d<=9;d++)K*=R,r+=this.D[d]*K;var x=this.lat0+r*Ls*1e5,S=this.long0+L;return l.x=S,l.y=x,l},names:["New_Zealand_Map_Grid","nzmg"]};var th={init:function(){},forward:function(l){var d=l.x,b=l.y,c=cG(d-this.long0),u=this.x0+this.a*c,Z=this.y0+this.a*Math.log(Math.tan(Math.PI/4+b/2.5))*1.25;return l.x=u,l.y=Z,l},inverse:function(l){l.x-=this.x0,l.y-=this.y0;var d=cG(this.long0+l.x/this.a),b=2.5*(Math.atan(Math.exp(.8*l.y/this.a))-Math.PI/4);return l.x=d,l.y=b,l},names:["Miller_Cylindrical","mill"]};var mh={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=hW(this.es)},forward:function(l){var d,b,c=l.x,u=l.y;if(c=cG(c-this.long0),this.sphere){if(this.m)for(var Z=this.n*Math.sin(u),t=20;t;--t){var m=(this.m*u+Math.sin(u)-Z)/(this.m+Math.cos(u));if(u-=m,Math.abs(m)<Hs)break}else u=1!==this.n?Math.asin(this.n*Math.sin(u)):u;d=this.a*this.C_x*c*(this.m+Math.cos(u)),b=this.a*this.C_y*u}else{var n=Math.sin(u),i=Math.cos(u);b=this.a*eW(u,n,i,this.en),d=this.a*c*i/Math.sqrt(1-this.es*n*n)}return l.x=d,l.y=b,l},inverse:function(l){var d,b,c;return l.x-=this.x0,b=l.x/this.a,l.y-=this.y0,d=l.y/this.a,this.sphere?(d/=this.C_y,b/=this.C_x*(this.m+Math.cos(d)),this.m?d=$W((this.m*d+Math.sin(d))/this.n):1!==this.n&&(d=$W(Math.sin(d)/this.n)),b=cG(b+this.long0),d=NW(d)):(d=pW(l.y/this.a,this.es,this.en),(c=Math.abs(d))<Ks?(c=Math.sin(d),b=cG(this.long0+l.x*Math.sqrt(1-this.es*c*c)/(this.a*Math.cos(d)))):c-Hs<Ks&&(b=this.long0)),l.x=b,l.y=d,l},names:["Sinusoidal","sinu"]};var nh={init:function(){},forward:function(l){for(var d=l.x,b=l.y,c=cG(d-this.long0),u=b,Z=Math.PI*Math.sin(b);;){var t=-(u+Math.sin(u)-Z)/(1+Math.cos(u));if(u+=t,Math.abs(t)<Hs)break}u/=2,Math.PI/2-Math.abs(b)<Hs&&(c=0);var m=.900316316158*this.a*c*Math.cos(u)+this.x0,n=1.4142135623731*this.a*Math.sin(u)+this.y0;return l.x=m,l.y=n,l},inverse:function(l){var d,b;l.x-=this.x0,l.y-=this.y0,b=l.y/(1.4142135623731*this.a),Math.abs(b)>.999999999999&&(b=.999999999999),d=Math.asin(b);var c=cG(this.long0+l.x/(.900316316158*this.a*Math.cos(d)));c<-Math.PI&&(c=-Math.PI),c>Math.PI&&(c=Math.PI),b=(2*d+Math.sin(2*d))/Math.PI,Math.abs(b)>1&&(b=1);var u=Math.asin(b);return l.x=c,l.y=u,l},names:["Mollweide","moll"]};var ih={init:function(){Math.abs(this.lat1+this.lat2)<Hs||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=MW(this.es),this.e1=zW(this.es),this.e2=TW(this.es),this.e3=kW(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=dG(this.e,this.sinphi,this.cosphi),this.ml1=vW(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Hs?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=dG(this.e,this.sinphi,this.cosphi),this.ml2=vW(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=vW(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(l){var d,b=l.x,c=l.y;if(this.sphere)d=this.a*(this.g-c);else{var u=vW(this.e0,this.e1,this.e2,this.e3,c);d=this.a*(this.g-u)}var Z=this.ns*cG(b-this.long0),t=this.x0+d*Math.sin(Z),m=this.y0+this.rh-d*Math.cos(Z);return l.x=t,l.y=m,l},inverse:function(l){var d,b,c,u;l.x-=this.x0,l.y=this.rh-l.y+this.y0,this.ns>=0?(b=Math.sqrt(l.x*l.x+l.y*l.y),d=1):(b=-Math.sqrt(l.x*l.x+l.y*l.y),d=-1);var Z=0;return 0!==b&&(Z=Math.atan2(d*l.x,d*l.y)),this.sphere?(u=cG(this.long0+Z/this.ns),c=NW(this.g-b/this.a),l.x=u,l.y=c,l):(c=fW(this.g-b/this.a,this.e0,this.e1,this.e2,this.e3),u=cG(this.long0+Z/this.ns),l.x=u,l.y=c,l)},names:["Equidistant_Conic","eqdc"]};var ah={init:function(){this.R=this.a},forward:function(l){var d,b,c=l.x,u=l.y,Z=cG(c-this.long0);Math.abs(u)<=Hs&&(d=this.x0+this.R*Z,b=this.y0);var t=$W(2*Math.abs(u/Math.PI));(Math.abs(Z)<=Hs||Math.abs(Math.abs(u)-Ks)<=Hs)&&(d=this.x0,b=u>=0?this.y0+Math.PI*this.R*Math.tan(.5*t):this.y0+Math.PI*this.R*-Math.tan(.5*t));var m=.5*Math.abs(Math.PI/Z-Z/Math.PI),n=m*m,i=Math.sin(t),a=Math.cos(t),X=a/(i+a-1),s=X*X,G=X*(2/i-1),W=G*G,h=Math.PI*this.R*(m*(X-W)+Math.sqrt(n*(X-W)*(X-W)-(W+n)*(s-W)))/(W+n);Z<0&&(h=-h),d=this.x0+h;var e=n+X;return h=Math.PI*this.R*(G*e-m*Math.sqrt((W+n)*(n+1)-e*e))/(W+n),b=u>=0?this.y0+h:this.y0-h,l.x=d,l.y=b,l},inverse:function(l){var d,b,c,u,Z,t,m,n,i,a,X,s;return l.x-=this.x0,l.y-=this.y0,X=Math.PI*this.R,Z=(c=l.x/X)*c+(u=l.y/X)*u,X=3*(u*u/(n=-2*(t=-Math.abs(u)*(1+Z))+1+2*u*u+Z*Z)+(2*(m=t-2*u*u+c*c)*m*m/n/n/n-9*t*m/n/n)/27)/(i=(t-m*m/3/n)/n)/(a=2*Math.sqrt(-i/3)),Math.abs(X)>1&&(X=X>=0?1:-1),s=Math.acos(X)/3,b=l.y>=0?(-a*Math.cos(s+Math.PI/3)-m/3/n)*Math.PI:-(-a*Math.cos(s+Math.PI/3)-m/3/n)*Math.PI,d=Math.abs(c)<Hs?this.long0:cG(this.long0+Math.PI*(Z-1+Math.sqrt(1+2*(c*c-u*u)+Z*Z))/2/c),l.x=d,l.y=b,l},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Xh={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(l){var d,b,c,u,Z,t,m,n,i,a,X,s,G,W,h,e,o,p,y,V,R,L,K=l.x,r=l.y,x=Math.sin(l.y),S=Math.cos(l.y),H=cG(K-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=Hs?(l.x=this.x0+this.a*(Ks-r)*Math.sin(H),l.y=this.y0-this.a*(Ks-r)*Math.cos(H),l):Math.abs(this.sin_p12+1)<=Hs?(l.x=this.x0+this.a*(Ks+r)*Math.sin(H),l.y=this.y0+this.a*(Ks+r)*Math.cos(H),l):(p=this.sin_p12*x+this.cos_p12*S*Math.cos(H),o=(e=Math.acos(p))?e/Math.sin(e):1,l.x=this.x0+this.a*o*S*Math.sin(H),l.y=this.y0+this.a*o*(this.cos_p12*x-this.sin_p12*S*Math.cos(H)),l):(d=MW(this.es),b=zW(this.es),c=TW(this.es),u=kW(this.es),Math.abs(this.sin_p12-1)<=Hs?(Z=this.a*vW(d,b,c,u,Ks),t=this.a*vW(d,b,c,u,r),l.x=this.x0+(Z-t)*Math.sin(H),l.y=this.y0-(Z-t)*Math.cos(H),l):Math.abs(this.sin_p12+1)<=Hs?(Z=this.a*vW(d,b,c,u,Ks),t=this.a*vW(d,b,c,u,r),l.x=this.x0+(Z+t)*Math.sin(H),l.y=this.y0+(Z+t)*Math.cos(H),l):(m=x/S,n=wW(this.a,this.e,this.sin_p12),i=wW(this.a,this.e,x),a=Math.atan((1-this.es)*m+this.es*n*this.sin_p12/(i*S)),y=0===(X=Math.atan2(Math.sin(H),this.cos_p12*Math.tan(a)-this.sin_p12*Math.cos(H)))?Math.asin(this.cos_p12*Math.sin(a)-this.sin_p12*Math.cos(a)):Math.abs(Math.abs(X)-Math.PI)<=Hs?-Math.asin(this.cos_p12*Math.sin(a)-this.sin_p12*Math.cos(a)):Math.asin(Math.sin(H)*Math.cos(a)/Math.sin(X)),s=this.e*this.sin_p12/Math.sqrt(1-this.es),e=n*y*(1-(V=y*y)*(h=(G=this.e*this.cos_p12*Math.cos(X)/Math.sqrt(1-this.es))*G)*(1-h)/6+(R=V*y)/8*(W=s*G)*(1-2*h)+(L=R*y)/120*(h*(4-7*h)-3*s*s*(1-7*h))-L*y/48*W),l.x=this.x0+e*Math.sin(X),l.y=this.y0+e*Math.cos(X),l))},inverse:function(l){var d,b,c,u,Z,t,m,n,i,a,X,s,G,W,h,e,o,p,y,V,R,L,K;if(l.x-=this.x0,l.y-=this.y0,this.sphere){if((d=Math.sqrt(l.x*l.x+l.y*l.y))>2*Ks*this.a)return;return b=d/this.a,c=Math.sin(b),u=Math.cos(b),Z=this.long0,Math.abs(d)<=Hs?t=this.lat0:(t=$W(u*this.sin_p12+l.y*c*this.cos_p12/d),m=Math.abs(this.lat0)-Ks,Z=Math.abs(m)<=Hs?this.lat0>=0?cG(this.long0+Math.atan2(l.x,-l.y)):cG(this.long0-Math.atan2(-l.x,l.y)):cG(this.long0+Math.atan2(l.x*c,d*this.cos_p12*u-l.y*this.sin_p12*c))),l.x=Z,l.y=t,l}return n=MW(this.es),i=zW(this.es),a=TW(this.es),X=kW(this.es),Math.abs(this.sin_p12-1)<=Hs?(t=fW(((s=this.a*vW(n,i,a,X,Ks))-(d=Math.sqrt(l.x*l.x+l.y*l.y)))/this.a,n,i,a,X),Z=cG(this.long0+Math.atan2(l.x,-1*l.y)),l.x=Z,l.y=t,l):Math.abs(this.sin_p12+1)<=Hs?(s=this.a*vW(n,i,a,X,Ks),t=fW(((d=Math.sqrt(l.x*l.x+l.y*l.y))-s)/this.a,n,i,a,X),Z=cG(this.long0+Math.atan2(l.x,l.y)),l.x=Z,l.y=t,l):(d=Math.sqrt(l.x*l.x+l.y*l.y),h=Math.atan2(l.x,l.y),G=wW(this.a,this.e,this.sin_p12),e=Math.cos(h),p=-(o=this.e*this.cos_p12*e)*o/(1-this.es),y=3*this.es*(1-p)*this.sin_p12*this.cos_p12*e/(1-this.es),L=1-p*(R=(V=d/G)-p*(1+p)*Math.pow(V,3)/6-y*(1+3*p)*Math.pow(V,4)/24)*R/2-V*R*R*R/6,W=Math.asin(this.sin_p12*Math.cos(R)+this.cos_p12*Math.sin(R)*e),Z=cG(this.long0+Math.asin(Math.sin(h)*Math.sin(R)/Math.cos(W))),K=Math.sin(W),t=Math.atan2((K-this.es*L*this.sin_p12)*Math.tan(W),K*(1-this.es)),l.x=Z,l.y=t,l)},names:["Azimuthal_Equidistant","aeqd"]};var sh={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(l){var d,b,c,u,Z,t,m,n=l.x,i=l.y;return c=cG(n-this.long0),d=Math.sin(i),b=Math.cos(i),u=Math.cos(c),1,((Z=this.sin_p14*d+this.cos_p14*b*u)>0||Math.abs(Z)<=Hs)&&(t=1*this.a*b*Math.sin(c),m=this.y0+1*this.a*(this.cos_p14*d-this.sin_p14*b*u)),l.x=t,l.y=m,l},inverse:function(l){var d,b,c,u,Z,t,m;return l.x-=this.x0,l.y-=this.y0,b=$W((d=Math.sqrt(l.x*l.x+l.y*l.y))/this.a),c=Math.sin(b),u=Math.cos(b),t=this.long0,Math.abs(d)<=Hs?(m=this.lat0,l.x=t,l.y=m,l):(m=$W(u*this.sin_p14+l.y*c*this.cos_p14/d),Z=Math.abs(this.lat0)-Ks,Math.abs(Z)<=Hs?(t=this.lat0>=0?cG(this.long0+Math.atan2(l.x,-l.y)):cG(this.long0-Math.atan2(-l.x,l.y)),l.x=t,l.y=m,l):(t=cG(this.long0+Math.atan2(l.x*c,d*this.cos_p14*u-l.y*this.sin_p14*c)),l.x=t,l.y=m,l))},names:["ortho"]},Gh=1,Wh=2,hh=3,eh=4,oh=5,ph=6,yh={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Vh(l,d,b,c){var u;return l<Hs?(c.value=yh.AREA_0,u=0):(u=Math.atan2(d,b),Math.abs(u)<=As?c.value=yh.AREA_0:u>As&&u<=Ks+As?(c.value=yh.AREA_1,u-=Ks):u>Ks+As||u<=-(Ks+As)?(c.value=yh.AREA_2,u=u>=0?u-Is:u+Is):(c.value=yh.AREA_3,u+=Ks)),u}function Rh(l,d){var b=l+d;return b<-Is?b+=Cs:b>+Is&&(b-=Cs),b}var Lh={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Ks-As/2?this.face=oh:this.lat0<=-(Ks-As/2)?this.face=ph:Math.abs(this.long0)<=As?this.face=Gh:Math.abs(this.long0)<=Ks+As?this.face=this.long0>0?Wh:eh:this.face=hh,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(l){var d,b,c,u,Z,t,m={x:0,y:0},n={value:0};if(l.x-=this.long0,d=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(l.y)):l.y,b=l.x,this.face===oh)u=Ks-d,b>=As&&b<=Ks+As?(n.value=yh.AREA_0,c=b-Ks):b>Ks+As||b<=-(Ks+As)?(n.value=yh.AREA_1,c=b>0?b-Is:b+Is):b>-(Ks+As)&&b<=-As?(n.value=yh.AREA_2,c=b+Ks):(n.value=yh.AREA_3,c=b);else if(this.face===ph)u=Ks+d,b>=As&&b<=Ks+As?(n.value=yh.AREA_0,c=-b+Ks):b<As&&b>=-As?(n.value=yh.AREA_1,c=-b):b<-As&&b>=-(Ks+As)?(n.value=yh.AREA_2,c=-b-Ks):(n.value=yh.AREA_3,c=b>0?-b+Is:-b-Is);else{var i,a,X,s,G,W;this.face===Wh?b=Rh(b,+Ks):this.face===hh?b=Rh(b,+Is):this.face===eh&&(b=Rh(b,-Ks)),s=Math.sin(d),G=Math.cos(d),W=Math.sin(b),i=G*Math.cos(b),a=G*W,X=s,this.face===Gh?c=Vh(u=Math.acos(i),X,a,n):this.face===Wh?c=Vh(u=Math.acos(a),X,-i,n):this.face===hh?c=Vh(u=Math.acos(-i),X,-a,n):this.face===eh?c=Vh(u=Math.acos(-a),X,i,n):(u=c=0,n.value=yh.AREA_0)}return t=Math.atan(12/Is*(c+Math.acos(Math.sin(c)*Math.cos(As))-Ks)),Z=Math.sqrt((1-Math.cos(u))/(Math.cos(t)*Math.cos(t))/(1-Math.cos(Math.atan(1/Math.cos(c))))),n.value===yh.AREA_1?t+=Ks:n.value===yh.AREA_2?t+=Is:n.value===yh.AREA_3&&(t+=1.5*Is),m.x=Z*Math.cos(t),m.y=Z*Math.sin(t),m.x=m.x*this.a+this.x0,m.y=m.y*this.a+this.y0,l.x=m.x,l.y=m.y,l},inverse:function(l){var d,b,c,u,Z,t,m,n,i,a,X,s,G={lam:0,phi:0},W={value:0};if(l.x=(l.x-this.x0)/this.a,l.y=(l.y-this.y0)/this.a,b=Math.atan(Math.sqrt(l.x*l.x+l.y*l.y)),d=Math.atan2(l.y,l.x),l.x>=0&&l.x>=Math.abs(l.y)?W.value=yh.AREA_0:l.y>=0&&l.y>=Math.abs(l.x)?(W.value=yh.AREA_1,d-=Ks):l.x<0&&-l.x>=Math.abs(l.y)?(W.value=yh.AREA_2,d=d<0?d+Is:d-Is):(W.value=yh.AREA_3,d+=Ks),i=Is/12*Math.tan(d),Z=Math.sin(i)/(Math.cos(i)-1/Math.sqrt(2)),t=Math.atan(Z),(m=1-(c=Math.cos(d))*c*(u=Math.tan(b))*u*(1-Math.cos(Math.atan(1/Math.cos(t)))))<-1?m=-1:m>1&&(m=1),this.face===oh)n=Math.acos(m),G.phi=Ks-n,W.value===yh.AREA_0?G.lam=t+Ks:W.value===yh.AREA_1?G.lam=t<0?t+Is:t-Is:W.value===yh.AREA_2?G.lam=t-Ks:G.lam=t;else if(this.face===ph)n=Math.acos(m),G.phi=n-Ks,W.value===yh.AREA_0?G.lam=-t+Ks:W.value===yh.AREA_1?G.lam=-t:W.value===yh.AREA_2?G.lam=-t-Ks:G.lam=t<0?-t-Is:-t+Is;else{var h,e,o;i=(h=m)*h,e=(i+=(o=i>=1?0:Math.sqrt(1-i)*Math.sin(t))*o)>=1?0:Math.sqrt(1-i),W.value===yh.AREA_1?(i=e,e=-o,o=i):W.value===yh.AREA_2?(e=-e,o=-o):W.value===yh.AREA_3&&(i=e,e=o,o=-i),this.face===Wh?(i=h,h=-e,e=i):this.face===hh?(h=-h,e=-e):this.face===eh&&(i=h,h=e,e=-i),G.phi=Math.acos(-o)-Ks,G.lam=Math.atan2(e,h),this.face===Wh?G.lam=Rh(G.lam,-Ks):this.face===hh?G.lam=Rh(G.lam,-Is):this.face===eh&&(G.lam=Rh(G.lam,+Ks))}return 0!==this.es&&(a=G.phi<0?1:0,X=Math.tan(G.phi),s=this.b/Math.sqrt(X*X+this.one_minus_f_squared),G.phi=Math.atan(Math.sqrt(this.a*this.a-s*s)/(this.one_minus_f*s)),a&&(G.phi=-G.phi)),G.lam+=this.long0,l.x=G.lam,l.y=G.phi,l},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Kh=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],rh=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],xh=.8487,Sh=1.3523,Hh=gs/5,Yh=1/Hh,gh=18,Ah=function(l,d){return l[0]+d*(l[1]+d*(l[2]+d*l[3]))};var Ch={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(l){var d=cG(l.x-this.long0),b=Math.abs(l.y),c=Math.floor(b*Hh);c<0?c=0:c>=gh&&(c=17);var u={x:Ah(Kh[c],b=gs*(b-Yh*c))*d,y:Ah(rh[c],b)};return l.y<0&&(u.y=-u.y),u.x=u.x*this.a*xh+this.x0,u.y=u.y*this.a*Sh+this.y0,u},inverse:function(l){var d={x:(l.x-this.x0)/(this.a*xh),y:Math.abs(l.y-this.y0)/(this.a*Sh)};if(d.y>=1)d.x/=Kh[18][0],d.y=l.y<0?-Ks:Ks;else{var b=Math.floor(d.y*gh);for(b<0?b=0:b>=gh&&(b=17);;)if(rh[b][0]>d.y)--b;else{if(!(rh[b+1][0]<=d.y))break;++b}var c=rh[b],u=5*(d.y-c[0])/(rh[b+1][0]-c[0]);u=function(l,d,b,c){for(var u=d;c;--c){var Z=l(u);if(u-=Z,Math.abs(Z)<b)break}return u}((function(l){return(Ah(c,l)-d.y)/function(l,d){return l[1]+d*(2*l[2]+3*d*l[3])}(c,l)}),u,Hs,100),d.x/=Ah(Kh[b],u),d.y=(5*b+u)*Ys,l.y<0&&(d.y=-d.y)}return d.x=cG(d.x+this.long0),d},names:["Robinson","robin"]};var Ih={init:function(){this.name="geocent"},forward:function(l){return KG(l,this.es,this.a)},inverse:function(l){return rG(l,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},Jh=0,Fh=1,Bh=2,vh=3,Mh={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var zh={init:function(){if(Object.keys(Mh).forEach(function(l){if(void 0===this[l])this[l]=Mh[l].def;else{if(Mh[l].num&&isNaN(this[l]))throw new Error("Invalid parameter value, must be numeric "+l+" = "+this[l]);Mh[l].num&&(this[l]=parseFloat(this[l]))}Mh[l].degrees&&(this[l]=this[l]*Ys)}.bind(this)),Math.abs(Math.abs(this.lat0)-Ks)<Hs?this.mode=this.lat0<0?Fh:Jh:Math.abs(this.lat0)<Hs?this.mode=Bh:(this.mode=vh,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var l=this.tilt,d=this.azi;this.cg=Math.cos(d),this.sg=Math.sin(d),this.cw=Math.cos(l),this.sw=Math.sin(l)},forward:function(l){l.x-=this.long0;var d,b,c,u,Z=Math.sin(l.y),t=Math.cos(l.y),m=Math.cos(l.x);switch(this.mode){case vh:b=this.sinph0*Z+this.cosph0*t*m;break;case Bh:b=t*m;break;case Fh:b=-Z;break;case Jh:b=Z}switch(d=(b=this.pn1/(this.p-b))*t*Math.sin(l.x),this.mode){case vh:b*=this.cosph0*Z-this.sinph0*t*m;break;case Bh:b*=Z;break;case Jh:b*=-t*m;break;case Fh:b*=t*m}return u=1/((c=b*this.cg+d*this.sg)*this.sw*this.h1+this.cw),d=(d*this.cg-b*this.sg)*this.cw*u,b=c*u,l.x=d*this.a,l.y=b*this.a,l},inverse:function(l){l.x/=this.a,l.y/=this.a;var d,b,c,u={x:l.x,y:l.y};c=1/(this.pn1-l.y*this.sw),d=this.pn1*l.x*c,b=this.pn1*l.y*this.cw*c,l.x=d*this.cg+b*this.sg,l.y=b*this.cg-d*this.sg;var Z=RW(l.x,l.y);if(Math.abs(Z)<Hs)u.x=0,u.y=l.y;else{var t,m;switch(m=1-Z*Z*this.pfact,m=(this.p-Math.sqrt(m))/(this.pn1/Z+Z/this.pn1),t=Math.sqrt(1-m*m),this.mode){case vh:u.y=Math.asin(t*this.sinph0+l.y*m*this.cosph0/Z),l.y=(t-this.sinph0*Math.sin(u.y))*Z,l.x*=m*this.cosph0;break;case Bh:u.y=Math.asin(l.y*m/Z),l.y=t*Z,l.x*=m;break;case Jh:u.y=Math.asin(t),l.y=-l.y;break;case Fh:u.y=-Math.asin(t)}u.x=Math.atan2(l.x,l.y)}return l.x=u.x+this.long0,l.y=u.y,l},names:["Tilted_Perspective","tpers"]};var Th={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var l=1-this.es,d=1/l;this.radius_p=Math.sqrt(l),this.radius_p2=l,this.radius_p_inv2=d,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(l){var d,b,c,u,Z=l.x,t=l.y;if(Z-=this.long0,"ellipse"===this.shape){t=Math.atan(this.radius_p2*Math.tan(t));var m=this.radius_p/RW(this.radius_p*Math.cos(t),Math.sin(t));if(b=m*Math.cos(Z)*Math.cos(t),c=m*Math.sin(Z)*Math.cos(t),u=m*Math.sin(t),(this.radius_g-b)*b-c*c-u*u*this.radius_p_inv2<0)return l.x=Number.NaN,l.y=Number.NaN,l;d=this.radius_g-b,this.flip_axis?(l.x=this.radius_g_1*Math.atan(c/RW(u,d)),l.y=this.radius_g_1*Math.atan(u/d)):(l.x=this.radius_g_1*Math.atan(c/d),l.y=this.radius_g_1*Math.atan(u/RW(c,d)))}else"sphere"===this.shape&&(d=Math.cos(t),b=Math.cos(Z)*d,c=Math.sin(Z)*d,u=Math.sin(t),d=this.radius_g-b,this.flip_axis?(l.x=this.radius_g_1*Math.atan(c/RW(u,d)),l.y=this.radius_g_1*Math.atan(u/d)):(l.x=this.radius_g_1*Math.atan(c/d),l.y=this.radius_g_1*Math.atan(u/RW(c,d))));return l.x=l.x*this.a,l.y=l.y*this.a,l},inverse:function(l){var d,b,c,u,Z=-1,t=0,m=0;if(l.x=l.x/this.a,l.y=l.y/this.a,"ellipse"===this.shape){this.flip_axis?(m=Math.tan(l.y/this.radius_g_1),t=Math.tan(l.x/this.radius_g_1)*RW(1,m)):(t=Math.tan(l.x/this.radius_g_1),m=Math.tan(l.y/this.radius_g_1)*RW(1,t));var n=m/this.radius_p;if(d=t*t+n*n+Z*Z,(c=(b=2*this.radius_g*Z)*b-4*d*this.C)<0)return l.x=Number.NaN,l.y=Number.NaN,l;u=(-b-Math.sqrt(c))/(2*d),Z=this.radius_g+u*Z,t*=u,m*=u,l.x=Math.atan2(t,Z),l.y=Math.atan(m*Math.cos(l.x)/Z),l.y=Math.atan(this.radius_p_inv2*Math.tan(l.y))}else if("sphere"===this.shape){if(this.flip_axis?(m=Math.tan(l.y/this.radius_g_1),t=Math.tan(l.x/this.radius_g_1)*Math.sqrt(1+m*m)):(t=Math.tan(l.x/this.radius_g_1),m=Math.tan(l.y/this.radius_g_1)*Math.sqrt(1+t*t)),d=t*t+m*m+Z*Z,(c=(b=2*this.radius_g*Z)*b-4*d*this.C)<0)return l.x=Number.NaN,l.y=Number.NaN,l;u=(-b-Math.sqrt(c))/(2*d),Z=this.radius_g+u*Z,t*=u,m*=u,l.x=Math.atan2(t,Z),l.y=Math.atan(m*Math.cos(l.x)/Z)}return l.x=l.x+this.long0,l},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]},kh=1.340264,wh=-.081106,Nh=893e-6,fh=.003796,Ph=Math.sqrt(3)/2;var Uh={init:function(){this.es=0,this.long0=void 0!==this.long0?this.long0:0},forward:function(l){var d=cG(l.x-this.long0),b=l.y,c=Math.asin(Ph*Math.sin(b)),u=c*c,Z=u*u*u;return l.x=d*Math.cos(c)/(Ph*(kh+3*wh*u+Z*(7*Nh+9*fh*u))),l.y=c*(kh+wh*u+Z*(Nh+fh*u)),l.x=this.a*l.x+this.x0,l.y=this.a*l.y+this.y0,l},inverse:function(l){l.x=(l.x-this.x0)/this.a,l.y=(l.y-this.y0)/this.a;var d,b,c,u,Z=l.y;for(u=0;u<12&&(Z-=c=(Z*(kh+wh*(d=Z*Z)+(b=d*d*d)*(Nh+fh*d))-l.y)/(kh+3*wh*d+b*(7*Nh+9*fh*d)),!(Math.abs(c)<1e-9));++u);return b=(d=Z*Z)*d*d,l.x=Ph*l.x*(kh+3*wh*d+b*(7*Nh+9*fh*d))/Math.cos(Z),l.y=Math.asin(Math.sin(Z)/Ph),l.x=cG(l.x+this.long0),l},names:["eqearth","Equal Earth","Equal_Earth"]},Qh=1e-10;function Eh(l){var d,b,c,u=cG(l.x-(this.long0||0)),Z=l.y;return d=this.am1+this.m1-eW(Z,b=Math.sin(Z),c=Math.cos(Z),this.en),b=c*u/(d*Math.sqrt(1-this.es*b*b)),l.x=d*Math.sin(b),l.y=this.am1-d*Math.cos(b),l.x=this.a*l.x+(this.x0||0),l.y=this.a*l.y+(this.y0||0),l}function jh(l){var d,b,c,u;if(l.x=(l.x-(this.x0||0))/this.a,l.y=(l.y-(this.y0||0))/this.a,b=RW(l.x,l.y=this.am1-l.y),u=pW(this.am1+this.m1-b,this.es,this.en),(d=Math.abs(u))<Ks)d=Math.sin(u),c=b*Math.atan2(l.x,l.y)*Math.sqrt(1-this.es*d*d)/Math.cos(u);else{if(!(Math.abs(d-Ks)<=Qh))throw new Error;c=0}return l.x=cG(c+(this.long0||0)),l.y=NW(u),l}function Dh(l){var d,b,c=cG(l.x-(this.long0||0)),u=l.y;return b=this.cphi1+this.phi1-u,Math.abs(b)>Qh?(l.x=b*Math.sin(d=c*Math.cos(u)/b),l.y=this.cphi1-b*Math.cos(d)):l.x=l.y=0,l.x=this.a*l.x+(this.x0||0),l.y=this.a*l.y+(this.y0||0),l}function Oh(l){var d,b;l.x=(l.x-(this.x0||0))/this.a,l.y=(l.y-(this.y0||0))/this.a;var c=RW(l.x,l.y=this.cphi1-l.y);if(b=this.cphi1+this.phi1-c,Math.abs(b)>Ks)throw new Error;return d=Math.abs(Math.abs(b)-Ks)<=Qh?0:c*Math.atan2(l.x,l.y)/Math.cos(b),l.x=cG(d+(this.long0||0)),l.y=NW(b),l}var _h={init:function(){var l;if(this.phi1=this.lat1,Math.abs(this.phi1)<Qh)throw new Error;this.es?(this.en=hW(this.es),this.m1=eW(this.phi1,this.am1=Math.sin(this.phi1),l=Math.cos(this.phi1),this.en),this.am1=l/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=jh,this.forward=Eh):(Math.abs(this.phi1)+Qh>=Ks?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Oh,this.forward=Dh)},names:["bonne","Bonne (Werner lat_1=90)"]};function qh(l,d){var b=[];return Ob(l,(function(l,c,u){d(l,c,u)&&b.push(l)})),b}function $h(l,d){return(Z(l)?Ld:qh)(l,Ub(d))}function le(l){return!xl(l)}function de(l){let d=Vl(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"useAbs");if(Oc(d)||(d=!0),!Sl(l))return 0;let b=[];if(rc(l,(l=>{2===pc(l)&&fl(l[0])&&fl(l[1])&&b.push([Nc(l[0]),Nc(l[1])])})),!Sl(b))return 0;let c,u=-1,Z=pc(b),t=b[Z-1],m=0;for(;++u<Z;)c=t,t=b[u],m+=c[1]*t[0]-c[0]*t[1];let n=m/2;return d&&(n=Math.abs(n)),n}function be(l){if(!Sl(l))return 0;l=Gs(l);let d=0;return rc(l,((l,b)=>{let c=de(l);0===b?d=c:d-=c})),d<0?0:d}function ce(l){let d=yc(l);return 3===d?l=ss(ss(l)):2===d?l=ss(l):1===d||0===d&&(l=[]),jl.multiPoint(l)}MG.defaultDatum="WGS84",MG.Proj=LG,MG.WGS84=new MG.Proj("WGS84"),MG.Point=bW,MG.toPoint=CG,MG.defs=Os,MG.nadgrid=function(l,d){var b=new DataView(d),c=function(l){var d=l.getInt32(8,!1);if(11===d)return!1;d=l.getInt32(8,!0),11!==d&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(b),u=function(l,d){return{nFields:l.getInt32(8,d),nSubgridFields:l.getInt32(24,d),nSubgrids:l.getInt32(40,d),shiftType:pG(l,56,64).trim(),fromSemiMajorAxis:l.getFloat64(120,d),fromSemiMinorAxis:l.getFloat64(136,d),toSemiMajorAxis:l.getFloat64(152,d),toSemiMinorAxis:l.getFloat64(168,d)}}(b,c),Z=function(l,d,b){for(var c=176,u=[],Z=0;Z<d.nSubgrids;Z++){var t=VG(l,c,b),m=RG(l,c,t,b),n=Math.round(1+(t.upperLongitude-t.lowerLongitude)/t.longitudeInterval),i=Math.round(1+(t.upperLatitude-t.lowerLatitude)/t.latitudeInterval);u.push({ll:[oG(t.lowerLongitude),oG(t.lowerLatitude)],del:[oG(t.longitudeInterval),oG(t.latitudeInterval)],lim:[n,i],count:t.gridNodeCount,cvs:yG(m)}),c+=176+16*t.gridNodeCount}return u}(b,u,c),t={header:u,subgrids:Z};return hG[l]=t,t},MG.transform=JG,MG.mgrs=QG,MG.version="__VERSION__",function(l){l.Proj.projections.add(yW),l.Proj.projections.add(xW),l.Proj.projections.add(SW),l.Proj.projections.add(gW),l.Proj.projections.add(AW),l.Proj.projections.add(CW),l.Proj.projections.add(JW),l.Proj.projections.add(FW),l.Proj.projections.add(BW),l.Proj.projections.add(PW),l.Proj.projections.add(qW),l.Proj.projections.add(lh),l.Proj.projections.add(dh),l.Proj.projections.add(bh),l.Proj.projections.add(ch),l.Proj.projections.add(uh),l.Proj.projections.add(Zh),l.Proj.projections.add(th),l.Proj.projections.add(mh),l.Proj.projections.add(nh),l.Proj.projections.add(ih),l.Proj.projections.add(ah),l.Proj.projections.add(Xh),l.Proj.projections.add(sh),l.Proj.projections.add(Lh),l.Proj.projections.add(Ch),l.Proj.projections.add(Ih),l.Proj.projections.add(zh),l.Proj.projections.add(Th),l.Proj.projections.add(Uh),l.Proj.projections.add(_h)}(MG),MG.defs([["EPSG:4326","+title=WGS84 +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees +no_defs +type=crs"],["EPSG:3824","+title=TWD97 +proj=longlat +ellps=GRS80 +units=degrees +no_defs +type=crs"],["EPSG:3821","+title=TWD67 +proj=longlat +towgs84=-752,-358,-179,-.0000011698,.0000018398,.0000009822,.00002329 +ellps=aust_SA +units=degrees +no_defs +type=crs"],["EPSG:3826","+title=TWD97 TM2(121) +proj=tmerc +lat_0=0 +lon_0=121 +k=0.9999 +x_0=250000 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs"],["EPSG:3825","+title=TWD97 TM2(119) +proj=tmerc +lat_0=0 +lon_0=119 +k=0.9999 +x_0=250000 +y_0=0 +ellps=GRS80 +units=m +no_defs +type=crs"],["EPSG:3828","+title=TWD67 TM2(121) +proj=tmerc +lat_0=0 +lon_0=121 +k=0.9999 +x_0=250000 +y_0=0 +ellps=aust_SA +towgs84=-752,-358,-179,-0.0000011698,0.0000018398,0.0000009822,0.00002329 +units=m +no_defs +type=crs"],["EPSG:3827","+title=TWD67 TM2(119) +proj=tmerc +lat_0=0 +lon_0=119 +k=0.9999 +x_0=250000 +y_0=0 +ellps=aust_SA +units=m +no_defs +type=crs"],["EPSG:3829","+title=UTM TM6(51N) +proj=utm +zone=51 +ellps=intl +towgs84=-637,-549,-203,0,0,0,0 +units=m +no_defs +type=crs"]]);var ue=Array.prototype.reverse;var Ze="[object Number]";function te(l){return"number"==typeof l||y(l)&&p(l)==Ze}let me="in x-range",ne="out of x-range",ie="order list",ae="reverse order list";function Xe(l,d){let b=null,c=null;return b=l[0].x,c=l[pc(l)-1].x,d<b?{err:ne,msg:`x[${d}] less than lower limit[${b}]`,data:{ps:l,x:d,xmin:b,xmax:c}}:d>c?{err:ne,msg:`x[${d}] greater than upper limit[${c}]`,data:{ps:l,x:d,xmin:b,xmax:c}}:me}function se(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Rl(l))return{err:"ps is not an array"};{let l=!fl(d),b=!Rl(d);if(l&&b)return{err:"px is not a number or an array"}}let c=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(pc(l)<=0)return[];let b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyY");Hl(c)||(c="y");let u=[];return rc(l,(l=>{let d=null,Z=null;Rl(l)&&pc(l)>=2?(d=Vl(l,0),Z=Vl(l,1)):(d=Vl(l,b,null),Z=Vl(l,c,null)),fl(d)&&fl(Z)&&(d=zc(d),Z=zc(Z),u.push({x:d,y:Z}))})),u}(l,b);if(Vl(c,"err"))return Vl(c,"err");if(0===pc(c))return{err:"ps(length=0) is not an effective array",ps:l,psEff:c};if(1===pc(c))return{err:"ps(length=1) is one point only",ps:l,psEff:c};let u=function(l){let d=!0,b=!0;for(let c=1;c<pc(l);c++){let u=l[c-1],Z=l[c];if(d&&u.x>Z.x&&(d=!1),b&&u.x<Z.x&&(b=!1),u.x===Z.x)return{err:`x can not be equal: i=${c}, x=${u.x}`}}return d?ie:b?ae:"no"}(c);if("no"===u)return{err:"psEff is not increasing or decreasing"};var Z;u===ae&&(u=ie,c=null==(Z=c)?Z:ue.call(Z));let t=!Rl(d);t&&(d=[d]);let m=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(pc(l)<=0)return[];let b=Vl(d,"keyX");Hl(b)||(b="x");let c=[];return rc(l,(l=>{let d=null;d=fl(l)?zc(l):Rl(l)&&pc(l)>=1?Vl(l,0):Vl(l,b,null),fl(d)&&(d=zc(d),c.push({x:d}))})),c}(d,b),n=Vl(b,"mode");"linear"!==n&&"stairs"!==n&&"blocks"!==n&&(n="linear");let i,a=qb(m,((l,d)=>{let u=Vl(l,"x"),Z=null;try{"linear"===n?Z=function(l,d){let b=Xe(l,d);if(b!==me)return b;let c=null;for(let b=1;b<pc(l);b++){let u=l[b-1],Z=l[b];if(u.x<=d&&d<=Z.x){c=((d-u.x)*Z.y+(Z.x-d)*u.y)/(Z.x-u.x);break}}return null===c?{err:ne}:c}(c,u):"blocks"===n?Z=function(l,d){let b=Xe(l,d);if(b!==me)return b;let c=null;for(let b=1;b<pc(l);b++){let u=l[b-1],Z=l[b],t=u.x,m=Z.x;if(t<=d&&d<=m){c=Z.y;break}}return null===c?{err:ne}:c}(c,u):"stairs"===n&&(Z=function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Vl(b,"xMin");if(te(c)){if(c>l[0].x)return{err:`xMin=${c} > ps[0].x=${l[0].x}`};c===l[0].x||(l=[{x:c,y:l[0].y},...l])}let u=Vl(b,"xMax");if(te(u)){if(u<l[pc(l)-1].x)return{err:`xMax=${u} < ps[size(ps)-1].x=${l[pc(l)-1].x}`};if(u===l[pc(l)-1].x);else{let d={x:u,y:l[pc(l)-1].y};l=[...l,d]}}let Z=Xe(l,d);if(Z!==me)return Z;let t=null;for(let b=0;b<pc(l);b++){let c=Vl(l,b-1,null),u=Vl(l,b,null),Z=Vl(l,b+1,null),m=u.x;c&&(m=(c.x+u.x)/2);let n=u.x;if(Z&&(n=(Z.x+u.x)/2),m<=d&&d<=n){t=u.y;break}}return null===t?{err:ne}:t}(c,u,b))}catch(l){Z={err:l.toString()}}return Z}));return i=t?a[0]:a,i}function Ge(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(pc(l)<=0)return[];let b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyInd","");Hl(c)||(c="ind");let u=Vl(d,"returnObjArray");Oc(u)||(u=!0);let Z=[];return rc(l,((l,d)=>{let u=null;u=fl(l)?zc(l):Rl(l)&&pc(l)>=1?Vl(l,0):Vl(l,b,null),fl(u)&&(u=zc(u),Z.push({x:u,[c]:d}))})),u||(Z=qb(Z,(l=>[l.x,l[c]]))),Z}function We(l,d){var b=Object.keys(l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(l);d&&(c=c.filter((function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),b.push.apply(b,c)}return b}function he(l){for(var d=1;d<arguments.length;d++){var b=null!=arguments[d]?arguments[d]:{};d%2?We(Object(b),!0).forEach((function(d){jc(l,d,b[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(b)):We(Object(b)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(b,d))}))}return l}function ee(l,d){for(var b,c=-1,u=l.length;++c<u;){var Z=d(l[c]);void 0!==Z&&(b=void 0===b?Z:b+Z)}return b}var oe=Math.ceil,pe=Math.max;var ye=function(l){return function(d,b,c){return c&&"number"!=typeof c&&un(d,b,c)&&(b=c=void 0),d=wc(d),void 0===b?(b=d,d=0):b=wc(b),function(l,d,b,c){for(var u=-1,Z=pe(oe((d-l)/(b||1)),0),t=Array(Z);Z--;)t[c?Z:++u]=l,l+=b;return t}(d,b,c=void 0===c?d<b?1:-1:wc(c),l)}}(),Ve=ye,Re=NaN;function Le(l){return function(l,d){var b=null==l?0:l.length;return b?ee(l,d)/b:Re}(l,Nb)}function Ke(l,d){var b=Object.keys(l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(l);d&&(c=c.filter((function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),b.push.apply(b,c)}return b}function re(l){if(!Sl(l))return{err:"arr is not an effective array"};let d=Vl(l,0),b=0;Sl(d)&&(b=pc(d));let c=[];if(0===b?(c=$h(l,fl),c=qb(c,Nc)):rc(l,(l=>{let d=!0,u=[];rc(Ve(b),(b=>{let c=Vl(l,b);fl(c)||(d=!1),u.push(Nc(c))})),d&&c.push(u)})),0===pc(c))return{err:"arr has no effective data"};let u=l=>{let d=(l=>{let d=ot(l),b=yt(l);return{min:d,max:b,range:b-d,mid:(b+d)/2,avg:Le(l)}})(l),b=((l,d,b,c)=>qb(l,(l=>(l-d)/c)))(l,d.min,d.max,d.range);return function(l){for(var d=1;d<arguments.length;d++){var b=null!=arguments[d]?arguments[d]:{};d%2?Ke(Object(b),!0).forEach((function(d){jc(l,d,b[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(b)):Ke(Object(b)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(b,d))}))}return l}({arr:b},d)},Z=null;return Z=0===b?u(c):qb(Ve(b),(l=>{let d=qb(c,l);return u(d)})),Z}function xe(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!Sl(l))return{err:"arr is not an effective array"};if(pc(d)>0){if(!fc(Vl(l,0)))return{err:"arr is not an effective array of objects"};let b=[];rc(l,(l=>{let c=[];rc(d,(d=>{c.push(Vl(l,d,""))})),b.push(c)})),l=b}return re(l)}function Se(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyY");Hl(c)||(c="y");let u=Vl(d,"keyZ","");Hl(u)||(u="z");let Z=Vl(d,"keyInd","");Hl(Z)||(Z="ind");let t=Vl(d,"scale");if(fl(t)||(t=1),t=Nc(t),t<=0)throw new Error("scale need >= 0");let m=xe(qb(l,b)),n=xe(qb(l,c)),i=xe(qb(l,u)),a=Math.max(m.range,n.range),X=a/2,s=[{min:m.mid-X,max:m.mid+X,range:a},{min:n.mid-X,max:n.mid+X,range:a},{min:i.min,max:i.max,range:i.range}],G=(l,d)=>te(l)?s[d].range<=0?l:(l-s[d].min)/s[d].range*t:null;l=qb(l,(l=>{let d=G(l[b],0),t=G(l[c],1),m=G(l[u],2),n=l[Z];return{[b]:d,[c]:t,[u]:m,[Z]:n}}));let W=qb(l,b),h=ot(W),e=yt(W),o=qb(l,c),p=ot(o),y=yt(o),V=qb(l,u);return{ps:l,psMinMax:{xmin:h,xmax:e,ymin:p,ymax:y,zmin:ot(V),zmax:yt(V)},st:s,nv:G,inv:(l,d)=>te(l)?t<=0?l:l/t*s[d].range+s[d].min:null}}function He(l,d){let b=Vl(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"epsilon",1e-12);return Sl(l)&&Sl(d)?(l=Gs(l),d=Gs(d),Xs.epsilon(b),Vl(Xs.intersect({regions:l},{regions:d}),"regions",[])):null}function Ye(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Sl(l))return{err:"psSrc is not an effective array"};if(!fc(d)&&!Sl(d))return{err:"psTar is not an effective object or array"};let c=fc(d);c&&(d=[d]);let u=Vl(b,"keyX");Hl(u)||(u="x");let Z=Vl(b,"keyY");Hl(Z)||(Z="y");let t=Vl(b,"keyZ");Hl(t)||(t="z");let m=Vl(b,"scale");fl(m)||(m=1),m=Nc(m);let n=Vl(b,"funInterpFragment"),i=Ym(n),a=Vl(b,"funInterpFragments"),X=Ym(a),s="ind";if(0===pc(l=MX(l,{keyX:u,keyY:Z,keyZ:t,keyInd:s})))return{err:"psSrc has no effective data"};if(0===pc(d=EX(d,{keyX:u,keyY:Z,keyInd:s})))return{err:"psTar has no effective data"};let G=Se(l,{keyInd:s,scale:m});l=G.ps;let W=G.nv,h=G.inv,e=[...l],o=[...l],p={};rc(l,(l=>{let d=`${l.x}-${l.y}`;p[d]=l.z}));let y,V=la.from(o,(l=>l.x),(l=>l.y)),R=[0,0,m,m],L=V.voronoi(R),K=(d,b,c,u)=>{let Z=[...l],t={x:b,y:c,z:0};Z.push(t),d.push(t);let m=la.from(Z,(l=>l.x),(l=>l.y)).voronoi(R),s=Z.length-1,G=m.cellPolygon(s),W=be(G),h=null;if(W>0){let l=[],b=m.delaunay.neighbors(s),c=b.next();for(;!c.done;){let d=c.value;l.push(d),c=b.next()}let Z=qb(l,(l=>{let d=[G],b=[L.cellPolygon(l)],c=[];try{c=He(d,b)}catch(l){console.log("pgs1",d),console.log("pgs2",b),console.log(l)}let u=0;if(1===pc(c))try{u=be(c[0])}catch(l){console.log("pgsInts",c),console.log(l)}return{ia:u,idx:l}})),t=[];rc(Z,(l=>{let b=l.ia/W,c=d[l.idx].z,Z=b*c;i&&(c=n({v:Z,area:l.ia,areaTotal:W,areaRatio:b,z:c,indSrc:l.idx,indTar:u}));let m={v:Z,area:l.ia,areaTotal:W,areaRatio:b,z:c,indSrc:l.idx,indTar:u};t.push(m)}));let o=(e=qb(t,"v"))&&e.length?ee(e,Nb):0;X&&(o=a({ps:t,v:o,indTar:u})),h=o}var e;return d[d.length-1].z=h,h},r=(l,d,b)=>{let c=`${l}-${d}`;if(Pl(p,c))return p[c];if(l<R[0]||l>R[2]||d<R[1]||d>R[3])return null;let u=((l,d,b,c)=>{let u;try{u=K(l,d,b,c)}catch(d){console.log(d),u=null,l.pop()}return u})(e,l,d,b);return p[c]=u,u},x=(l,d)=>{let b=l.x,c=W(b,0);if(!te(c))throw new Error(`invalid nx[${c}]`);let m=l.y,n=W(m,1);if(!te(n))throw new Error(`invalid ny[${n}]`);let i=r(c,n,d),a=h(i,2);return te(a)||(a=null),{[u]:b,[Z]:m,[t]:a}};if(c){let l=d[0];y=x(l,0)}else y=[],rc(d,((l,d)=>{y.push(x(l,d))}));return y}let ge={},Ae=function(l,d){let b=[];for(let c=0;c<d;c++)b.push(l);return b},Ce=function(l,d){let b=Ae(0,d*d);for(let c=0;c<d;c++)b[c*d+c]=l;return b},Ie=function(l,d,b,c){let u,Z,t=Array(b*c);for(u=0;u<b;u++)for(Z=0;Z<c;Z++)t[u*c+Z]=l[u*c+Z]+d[u*c+Z];return t},Je=function(l,d,b,c,u){let Z,t,m,n=Array(b*u);for(Z=0;Z<b;Z++)for(t=0;t<u;t++)for(n[Z*u+t]=0,m=0;m<c;m++)n[Z*u+t]+=l[Z*c+m]*d[m*u+t];return n},Fe=function(l,d){let b,c,u,Z=Array(d);for(b=0;b<d;b++)Z[b]=l[b*d+b];for(b=0;b<d;b++){for(c=0;c<b;c++)Z[b]-=l[b*d+c]*l[b*d+c];if(Z[b]<=0)return!1;for(Z[b]=Math.sqrt(Z[b]),c=b+1;c<d;c++){for(u=0;u<b;u++)l[c*d+b]-=l[c*d+u]*l[b*d+u];l[c*d+b]/=Z[b]}}for(b=0;b<d;b++)l[b*d+b]=Z[b];return!0},Be=function(l,d){let b,c,u,Z;for(b=0;b<d;b++)for(l[b*d+b]=1/l[b*d+b],c=b+1;c<d;c++){for(Z=0,u=b;u<c;u++)Z-=l[c*d+u]*l[u*d+b];l[c*d+b]=Z/l[c*d+c]}for(b=0;b<d;b++)for(c=b+1;c<d;c++)l[b*d+c]=0;for(b=0;b<d;b++){for(l[b*d+b]*=l[b*d+b],u=b+1;u<d;u++)l[b*d+b]+=l[u*d+b]*l[u*d+b];for(c=b+1;c<d;c++)for(u=c;u<d;u++)l[b*d+c]+=l[u*d+b]*l[u*d+c]}for(b=0;b<d;b++)for(c=0;c<b;c++)l[b*d+c]=l[c*d+b]},ve=function(l,d){let b,c,u,Z,t,m,n,i,a,X,s,G=d,W=Array(d*d),h=Array(d),e=Array(d),o=Array(d);for(b=0;b<d;b++)for(Z=0;Z<d;Z++)W[b*d+Z]=b===Z?1:0;for(Z=0;Z<d;Z++)o[Z]=0;for(b=0;b<d;b++){for(i=0,Z=0;Z<d;Z++)if(1!==o[Z])for(t=0;t<d;t++)0===o[t]&&Math.abs(l[Z*d+t])>=i&&(i=Math.abs(l[Z*d+t]),u=Z,c=t);if(++o[c],u!==c){for(m=0;m<d;m++)s=l[u*d+m],l[u*d+m]=l[c*d+m],l[c*d+m]=s;for(m=0;m<G;m++)s=W[u*d+m],W[u*d+m]=W[c*d+m],W[c*d+m]=s}if(e[b]=u,h[b]=c,0===l[c*d+c])return!1;for(X=1/l[c*d+c],l[c*d+c]=1,m=0;m<d;m++)l[c*d+m]*=X;for(m=0;m<G;m++)W[c*d+m]*=X;for(n=0;n<d;n++)if(n!==c){for(a=l[n*d+c],l[n*d+c]=0,m=0;m<d;m++)l[n*d+m]-=l[c*d+m]*a;for(m=0;m<G;m++)W[n*d+m]-=W[c*d+m]*a}}for(m=d-1;m>=0;m--)if(e[m]!==h[m])for(t=0;t<d;t++)s=l[t*d+e[m]],l[t*d+e[m]]=l[t*d+h[m]],l[t*d+h[m]]=s;return!0},Me=function(l,d,b,c,u){return d+(c-d)/b*(1-Math.exp(-1/u*Math.pow(l/b,2)))},ze=function(l,d,b,c,u){return d+(c-d)/b*(1-Math.exp(-1/u*(l/b)))},Te=function(l,d,b,c,u){return l>b?d+(c-d)/b:d+(c-d)/b*(l/b*1.5-.5*Math.pow(l/b,3))};function ke(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Sl(l))return{err:"psSrc is not an effective array"};if(!fc(d)&&!Sl(d))return{err:"psTar is not an effective object or array"};let c=fc(d);c&&(d=[d]);let u=Vl(b,"keyX");Hl(u)||(u="x");let Z=Vl(b,"keyY");Hl(Z)||(Z="y");let t=Vl(b,"keyZ");Hl(t)||(t="z");let m=Vl(b,"scale");fl(m)||(m=1),m=Nc(m);let n=Vl(b,"model");"exponential"!==n&&"gaussian"!==n&&"spherical"!==n&&(n="exponential");let i=Vl(b,"sigma2");fl(i)||(i=0),i=Nc(i);let a=Vl(b,"alpha");fl(a)||(a=100),a=Nc(a);let X=Vl(b,"returnWithVariogram");if(Oc(X)||(X=!1),0===pc(l=MX(l,b)))return{err:"psSrc has no effective data"};if(0===pc(d=EX(d,b)))return{err:"psTar has no effective data"};let s=Se(l,{scale:m});l=s.ps;let G=s.nv,W=s.inv,h={};rc(l,(l=>{let d=`${l.x}-${l.y}`;h[d]=l.z}));let e=[],o=[],p=[];rc(l,(l=>{e.push(l.x),o.push(l.y),p.push(l.z)}));let y,V=ge.train(p,e,o,n,i,a),R=l=>{let d=l.x,b=G(d,0);if(!te(b))throw new Error(`invalid nx[${b}]`);let c=l.y,m=G(c,1);if(!te(m))throw new Error(`invalid ny[${m}]`);let n=((l,d)=>{let b=`${l}-${d}`;if(Pl(h,b))return h[b];let c=ge.predict(l,d,V);return h[b]=c,c})(b,m),i=W(n,2);return te(i)||(i=null),{[u]:d,[Z]:c,[t]:i}};if(c){let l=d[0];y=R(l)}else y=[],rc(d,(l=>{y.push(R(l))}));return X&&(y={result:y,variogram:V}),y}ge.train=function(l,d,b,c,u,Z){let t,m,n,i,a={t:l,x:d,y:b,nugget:0,range:0,sill:0,A:1/3,n:0};switch(c){case"gaussian":a.model=Me;break;case"exponential":a.model=ze;break;case"spherical":a.model=Te}let X=l.length,s=Array((X*X-X)/2);for(t=0,n=0;t<X;t++)for(m=0;m<t;m++,n++)s[n]=Array(2),s[n][0]=Math.pow(Math.pow(d[t]-d[m],2)+Math.pow(b[t]-b[m],2),.5),s[n][1]=Math.abs(l[t]-l[m]);s.sort((function(l,d){return l[0]-d[0]})),a.range=s[(X*X-X)/2-1][0];let G=(X*X-X)/2>30?30:(X*X-X)/2,W=a.range/G,h=Ae(0,G),e=Ae(0,G);if(G<30)for(i=0;i<G;i++)h[i]=s[i][0],e[i]=s[i][1];else{for(t=0,m=0,n=0,i=0;t<G&&m<(X*X-X)/2;t++,n=0){for(;s[m][0]<=(t+1)*W&&(h[i]+=s[m][0],e[i]+=s[m][1],m++,n++,!(m>=(X*X-X)/2)););n>0&&(h[i]/=n,e[i]/=n,i++)}if(i<2)return a}let o=[];for(t=0;t<i;t++){let l=h[t],d=e[t];o.push([l,d])}let p={data:s,bars:o};a.svpd=p,X=i,a.range=h[X-1]-h[0];let y=Ae(1,2*X),V=Array(X),R=a.A;for(t=0;t<X;t++){switch(c){case"gaussian":y[2*t+1]=1-Math.exp(-1/R*Math.pow(h[t]/a.range,2));break;case"exponential":y[2*t+1]=1-Math.exp(-1/R*h[t]/a.range);break;case"spherical":y[2*t+1]=h[t]/a.range*1.5-.5*Math.pow(h[t]/a.range,3)}V[t]=e[t]}let L=function(l,d,b){let c,u,Z=Array(b*d);for(c=0;c<d;c++)for(u=0;u<b;u++)Z[u*d+c]=l[c*b+u];return Z}(y,X,2),K=Je(L,y,2,X,2);K=Ie(K,Ce(1/Z,2),2,2);let r=K.slice(0);Fe(K,2)?Be(K,2):(ve(r,2),K=r);let x=Je(Je(K,L,2,2,X),V,2,X,1);a.nugget=x[0],a.sill=x[1]*a.range+a.nugget,a.n=d.length,X=d.length;let S=Array(X*X);for(t=0;t<X;t++){for(m=0;m<t;m++)S[t*X+m]=a.model(Math.pow(Math.pow(d[t]-d[m],2)+Math.pow(b[t]-b[m],2),.5),a.nugget,a.range,a.sill,a.A),S[m*X+t]=S[t*X+m];S[t*X+t]=a.model(0,a.nugget,a.range,a.sill,a.A)}let H=Ie(S,Ce(u,X),X,X),Y=H.slice(0);Fe(H,X)?Be(H,X):(ve(Y,X),H=Y);let g=H.slice(0),A=Je(H,l,X,X,1);return a.K=g,a.M=A,a},ge.predict=function(l,d,b){let c,u=Array(b.n);for(c=0;c<b.n;c++)u[c]=b.model(Math.pow(Math.pow(l-b.x[c],2)+Math.pow(d-b.y[c],2),.5),b.nugget,b.range,b.sill,b.A);return Je(u,b.M,1,b.n,1)[0]},ge.variance=function(l,d,b){let c,u=Array(b.n);for(c=0;c<b.n;c++)u[c]=b.model(Math.pow(Math.pow(l-b.x[c],2)+Math.pow(d-b.y[c],2),.5),b.nugget,b.range,b.sill,b.A);return b.model(0,b.nugget,b.range,b.sill,b.A)+Je(Je(u,b.K,1,b.n,b.n),u,1,b.n,1)[0]};var we,Ne={};let fe=null;try{let{loadPyodide:l}=(we||(we=1,function(l){var d=(()=>{var l=Object.create,d=Object.defineProperty,b=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,u=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty,t=(l,b)=>d(l,"name",{value:b,configurable:!0}),m=Jl,n=(l,d)=>()=>(d||l((d={exports:{}}).exports,d),d.exports),i=(l,u,t,m)=>{if(u&&"object"==typeof u||"function"==typeof u)for(let n of c(u))!Z.call(l,n)&&n!==t&&d(l,n,{get:()=>u[n],enumerable:!(m=b(u,n))||m.enumerable});return l},a=n(((l,d)=>{var b,c;b=l,c=function(){function l(l){return!isNaN(parseFloat(l))&&isFinite(l)}function d(l){return l.charAt(0).toUpperCase()+l.substring(1)}function b(l){return function(){return this[l]}}t(l,"_isNumber"),t(d,"_capitalize"),t(b,"_getter");var c=["isConstructor","isEval","isNative","isToplevel"],u=["columnNumber","lineNumber"],Z=["fileName","functionName","source"],m=c.concat(u,Z,["args"],["evalOrigin"]);function n(l){if(l)for(var b=0;b<m.length;b++)void 0!==l[m[b]]&&this["set"+d(m[b])](l[m[b]])}t(n,"StackFrame"),n.prototype={getArgs:function(){return this.args},setArgs:function(l){if("[object Array]"!==Object.prototype.toString.call(l))throw new TypeError("Args must be an Array");this.args=l},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(l){if(l instanceof n)this.evalOrigin=l;else{if(!(l instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new n(l)}},toString:function(){var l=this.getFileName()||"",d=this.getLineNumber()||"",b=this.getColumnNumber()||"",c=this.getFunctionName()||"";return this.getIsEval()?l?"[eval] ("+l+":"+d+":"+b+")":"[eval]:"+d+":"+b:c?c+" ("+l+":"+d+":"+b+")":l+":"+d+":"+b}},n.fromString=t((function(l){var d=l.indexOf("("),b=l.lastIndexOf(")"),c=l.substring(0,d),u=l.substring(d+1,b).split(","),Z=l.substring(b+1);if(0===Z.indexOf("@"))var t=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(Z,""),m=t[1],i=t[2],a=t[3];return new n({functionName:c,args:u||void 0,fileName:m,lineNumber:i||void 0,columnNumber:a||void 0})}),"StackFrame$$fromString");for(var i=0;i<c.length;i++)n.prototype["get"+d(c[i])]=b(c[i]),n.prototype["set"+d(c[i])]=function(l){return function(d){this[l]=!!d}}(c[i]);for(var a=0;a<u.length;a++)n.prototype["get"+d(u[a])]=b(u[a]),n.prototype["set"+d(u[a])]=function(d){return function(b){if(!l(b))throw new TypeError(d+" must be a Number");this[d]=Number(b)}}(u[a]);for(var X=0;X<Z.length;X++)n.prototype["get"+d(Z[X])]=b(Z[X]),n.prototype["set"+d(Z[X])]=function(l){return function(d){this[l]=String(d)}}(Z[X]);return n},"object"==typeof l?d.exports=c():b.StackFrame=c()})),X=n(((l,d)=>{var b,c;b=l,c=t((function(l){var d=/(^|@)\S+:\d+/,b=/^\s*at .*(\S+:\d+|\(native\))/m,c=/^(eval@)?(\[native code])?$/;return{parse:t((function(l){if(typeof l.stacktrace<"u"||typeof l["opera#sourceloc"]<"u")return this.parseOpera(l);if(l.stack&&l.stack.match(b))return this.parseV8OrIE(l);if(l.stack)return this.parseFFOrSafari(l);throw new Error("Cannot parse given Error object")}),"ErrorStackParser$$parse"),extractLocation:t((function(l){if(-1===l.indexOf(":"))return[l];var d=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(l.replace(/[()]/g,""));return[d[1],d[2]||void 0,d[3]||void 0]}),"ErrorStackParser$$extractLocation"),parseV8OrIE:t((function(d){return d.stack.split("\n").filter((function(l){return!!l.match(b)}),this).map((function(d){d.indexOf("(eval ")>-1&&(d=d.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var b=d.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),c=b.match(/ (\(.+\)$)/);b=c?b.replace(c[0],""):b;var u=this.extractLocation(c?c[1]:b),Z=c&&b||void 0,t=["eval","<anonymous>"].indexOf(u[0])>-1?void 0:u[0];return new l({functionName:Z,fileName:t,lineNumber:u[1],columnNumber:u[2],source:d})}),this)}),"ErrorStackParser$$parseV8OrIE"),parseFFOrSafari:t((function(d){return d.stack.split("\n").filter((function(l){return!l.match(c)}),this).map((function(d){if(d.indexOf(" > eval")>-1&&(d=d.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===d.indexOf("@")&&-1===d.indexOf(":"))return new l({functionName:d});var b=/((.*".+"[^@]*)?[^@]*)(?:@)/,c=d.match(b),u=c&&c[1]?c[1]:void 0,Z=this.extractLocation(d.replace(b,""));return new l({functionName:u,fileName:Z[0],lineNumber:Z[1],columnNumber:Z[2],source:d})}),this)}),"ErrorStackParser$$parseFFOrSafari"),parseOpera:t((function(l){return!l.stacktrace||l.message.indexOf("\n")>-1&&l.message.split("\n").length>l.stacktrace.split("\n").length?this.parseOpera9(l):l.stack?this.parseOpera11(l):this.parseOpera10(l)}),"ErrorStackParser$$parseOpera"),parseOpera9:t((function(d){for(var b=/Line (\d+).*script (?:in )?(\S+)/i,c=d.message.split("\n"),u=[],Z=2,t=c.length;Z<t;Z+=2){var m=b.exec(c[Z]);m&&u.push(new l({fileName:m[2],lineNumber:m[1],source:c[Z]}))}return u}),"ErrorStackParser$$parseOpera9"),parseOpera10:t((function(d){for(var b=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=d.stacktrace.split("\n"),u=[],Z=0,t=c.length;Z<t;Z+=2){var m=b.exec(c[Z]);m&&u.push(new l({functionName:m[3]||void 0,fileName:m[2],lineNumber:m[1],source:c[Z]}))}return u}),"ErrorStackParser$$parseOpera10"),parseOpera11:t((function(b){return b.stack.split("\n").filter((function(l){return!!l.match(d)&&!l.match(/^Error created at/)}),this).map((function(d){var b,c=d.split("@"),u=this.extractLocation(c.pop()),Z=c.shift()||"",t=Z.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;Z.match(/\(([^)]*)\)/)&&(b=Z.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var m=void 0===b||"[arguments not available]"===b?void 0:b.split(",");return new l({functionName:t,args:m,fileName:u[0],lineNumber:u[1],columnNumber:u[2],source:d})}),this)}),"ErrorStackParser$$parseOpera11")}}),"ErrorStackParser"),"object"==typeof l?d.exports=c(a()):b.ErrorStackParser=c(b.StackFrame)})),s={};((l,b)=>{for(var c in b)d(l,c,{get:b[c],enumerable:!0})})(s,{loadPyodide:()=>E,version:()=>f});var G,W,h,e,o,p,y,V,R,L,K,r,x=(h=null!=(G=X())?l(u(G)):{},i(!W&&G&&G.__esModule?h:d(h,"default",{value:G,enumerable:!0}),G)),S="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&void 0===process.browser;async function H(){if(!S||(e=(await Promise.resolve().then((function(){return Ml}))).default,V=await Promise.resolve().then((function(){return Ml})),o=globalThis.fetch?fetch:(await Promise.resolve().then((function(){return DV}))).default,y=(await Promise.resolve().then((function(){return Ml}))).default,p=await Promise.resolve().then((function(){return Ml})),L=p.sep,void 0!==m))return;let l={fs:await Promise.resolve().then((function(){return Ml})),crypto:await Promise.resolve().then((function(){return Ml})),ws:await Promise.resolve().then((function(){return Ml})),child_process:await Promise.resolve().then((function(){return Ml}))};globalThis.require=function(d){return l[d]}}function Y(l,d){return p.resolve(d||".",l)}function g(l,d){return void 0===d&&(d=location),new URL(l,d).toString()}function A(l,d){return l.startsWith("file://")&&(l=l.slice(7)),l.includes("://")?{response:o(l)}:{binary:V.readFile(l).then((l=>new Uint8Array(l.buffer,l.byteOffset,l.byteLength)))}}function C(l,d){let b=new URL(l,location);return{response:fetch(b,d?{integrity:d}:{})}}async function I(l,d){let{response:b,binary:c}=K(l,d);if(c)return c;let u=await b;if(!u.ok)throw new Error(`Failed to load '${l}': request failed.`);return new Uint8Array(await u.arrayBuffer())}if(t(H,"initNodeModules"),t(Y,"node_resolvePath"),t(g,"browser_resolvePath"),R=S?Y:g,S||(L="/"),t(A,"node_getBinaryResponse"),t(C,"browser_getBinaryResponse"),K=S?A:C,t(I,"loadBinaryFile"),globalThis.document)r=t((async l=>await import(l)),"loadScript");else if(globalThis.importScripts)r=t((async l=>{try{globalThis.importScripts(l)}catch(d){if(!(d instanceof TypeError))throw d;await import(l)}}),"loadScript");else{if(!S)throw new Error("Cannot determine runtime environment");r=J}async function J(l){l.startsWith("file://")&&(l=l.slice(7)),l.includes("://")?y.runInThisContext(await(await o(l)).text()):await import(e.pathToFileURL(l).href)}function F(l){let d=l.FS,b=l.FS.filesystems.MEMFS,c=l.PATH,u={DIR_MODE:16895,FILE_MODE:33279,mount:function(l){if(!l.opts.fileSystemHandle)throw new Error("opts.fileSystemHandle is required");return b.mount.apply(null,arguments)},syncfs:async(l,d,b)=>{try{let c=u.getLocalSet(l),Z=await u.getRemoteSet(l),t=d?Z:c,m=d?c:Z;await u.reconcile(l,t,m),b(null)}catch(l){b(l)}},getLocalSet:l=>{let b=Object.create(null);function u(l){return"."!==l&&".."!==l}function Z(l){return d=>c.join2(l,d)}t(u,"isRealDir"),t(Z,"toAbsolute");let m=d.readdir(l.mountpoint).filter(u).map(Z(l.mountpoint));for(;m.length;){let l=m.pop(),c=d.stat(l);d.isDir(c.mode)&&m.push.apply(m,d.readdir(l).filter(u).map(Z(l))),b[l]={timestamp:c.mtime,mode:c.mode}}return{type:"local",entries:b}},getRemoteSet:async l=>{let d=Object.create(null),b=await B(l.opts.fileSystemHandle);for(let[Z,t]of b)"."!==Z&&(d[c.join2(l.mountpoint,Z)]={timestamp:"file"===t.kind?(await t.getFile()).lastModifiedDate:new Date,mode:"file"===t.kind?u.FILE_MODE:u.DIR_MODE});return{type:"remote",entries:d,handles:b}},loadLocalEntry:l=>{let c=d.lookupPath(l).node,u=d.stat(l);if(d.isDir(u.mode))return{timestamp:u.mtime,mode:u.mode};if(d.isFile(u.mode))return c.contents=b.getFileDataAsTypedArray(c),{timestamp:u.mtime,mode:u.mode,contents:c.contents};throw new Error("node type not supported")},storeLocalEntry:(l,b)=>{if(d.isDir(b.mode))d.mkdirTree(l,b.mode);else{if(!d.isFile(b.mode))throw new Error("node type not supported");d.writeFile(l,b.contents,{canOwn:!0})}d.chmod(l,b.mode),d.utime(l,b.timestamp,b.timestamp)},removeLocalEntry:l=>{var b=d.stat(l);d.isDir(b.mode)?d.rmdir(l):d.isFile(b.mode)&&d.unlink(l)},loadRemoteEntry:async l=>{if("file"===l.kind){let d=await l.getFile();return{contents:new Uint8Array(await d.arrayBuffer()),mode:u.FILE_MODE,timestamp:d.lastModifiedDate}}if("directory"===l.kind)return{mode:u.DIR_MODE,timestamp:new Date};throw new Error("unknown kind: "+l.kind)},storeRemoteEntry:async(l,b,u)=>{let Z=l.get(c.dirname(b)),t=d.isFile(u.mode)?await Z.getFileHandle(c.basename(b),{create:!0}):await Z.getDirectoryHandle(c.basename(b),{create:!0});if("file"===t.kind){let l=await t.createWritable();await l.write(u.contents),await l.close()}l.set(b,t)},removeRemoteEntry:async(l,d)=>{await l.get(c.dirname(d)).removeEntry(c.basename(d)),l.delete(d)},reconcile:async(l,b,Z)=>{let t=0,m=[];Object.keys(b.entries).forEach((function(l){let c=b.entries[l],u=Z.entries[l];(!u||d.isFile(c.mode)&&c.timestamp.getTime()>u.timestamp.getTime())&&(m.push(l),t++)})),m.sort();let n=[];if(Object.keys(Z.entries).forEach((function(l){b.entries[l]||(n.push(l),t++)})),n.sort().reverse(),!t)return;let i="remote"===b.type?b.handles:Z.handles;for(let d of m){let b=c.normalize(d.replace(l.mountpoint,"/")).substring(1);if("local"===Z.type){let l=i.get(b),c=await u.loadRemoteEntry(l);u.storeLocalEntry(d,c)}else{let l=u.loadLocalEntry(d);await u.storeRemoteEntry(i,b,l)}}for(let d of n)if("local"===Z.type)u.removeLocalEntry(d);else{let b=c.normalize(d.replace(l.mountpoint,"/")).substring(1);await u.removeRemoteEntry(i,b)}}};l.FS.filesystems.NATIVEFS_ASYNC=u}t(J,"nodeLoadScript"),t(F,"initializeNativeFS");var B=t((async l=>{let d=[];async function b(l){for await(let c of l.values())d.push(c),"directory"===c.kind&&await b(c)}t(b,"collect"),await b(l);let c=new Map;c.set(".",l);for(let b of d){let d=(await l.resolve(b)).join("/");c.set(d,b)}return c}),"getFsHandles");function v(){let l={noImageDecoding:!0,noAudioDecoding:!0,noWasmDecoding:!1,preRun:[],quit:(d,b)=>{throw l.exited={status:d,toThrow:b},b}};return l}function M(l,d){l.preRun.push((function(){try{l.FS.mkdirTree(d)}catch(l){console.error(`Error occurred while making a home directory '${d}':`),console.error(l),console.error("Using '/' for a home directory instead"),d="/"}l.FS.chdir(d)}))}function z(l,d){l.preRun.push((function(){Object.assign(l.ENV,d)}))}function T(l,d){l.preRun.push((()=>{for(let b of d)l.FS.mkdirTree(b),l.FS.mount(l.FS.filesystems.NODEFS,{root:b},b)}))}function k(l,d){let b=I(d);l.preRun.push((()=>{let d=l._py_version_major(),c=l._py_version_minor();l.FS.mkdirTree("/lib"),l.FS.mkdirTree(`/lib/python${d}.${c}/site-packages`),l.addRunDependency("install-stdlib"),b.then((b=>{l.FS.writeFile(`/lib/python${d}${c}.zip`,b)})).catch((l=>{console.error("Error occurred while installing the standard library:"),console.error(l)})).finally((()=>{l.removeRunDependency("install-stdlib")}))}))}function w(l,d){let b;b=null!=d.stdLibURL?d.stdLibURL:d.indexURL+"python_stdlib.zip",k(l,b),M(l,d.env.HOME),z(l,d.env),T(l,d._node_mounts),l.preRun.push((()=>F(l)))}function N(l,d){let{binary:b,response:c}=K(d+"pyodide.asm.wasm");l.instantiateWasm=function(l,d){return async function(){try{let u;u=c?await WebAssembly.instantiateStreaming(c,l):await WebAssembly.instantiate(await b,l);let{instance:Z,module:t}=u;"undefined"!=typeof WasmOffsetConverter&&(wasmOffsetConverter=new WasmOffsetConverter(wasmBinary,t)),d(Z,t)}catch(l){console.warn("wasm instantiation failed!"),console.warn(l)}}(),{}}}t(v,"createModule"),t(M,"createHomeDirectory"),t(z,"setEnvironment"),t(T,"mountLocalDirectories"),t(k,"installStdlib"),t(w,"initializeFileSystem"),t(N,"preloadWasm");var f="0.24.1";function P(l,d){return new Proxy(l,{get:(l,b)=>"get"===b?b=>{let c=l.get(b);return void 0===c&&(c=d.get(b)),c}:"has"===b?b=>l.has(b)||d.has(b):Reflect.get(l,b)})}function U(l,d){l.runPythonInternal_dict=l._pyodide._base.eval_code("{}"),l.importlib=l.runPythonInternal("import importlib; importlib");let b=l.importlib.import_module;l.sys=b("sys"),l.sys.path.insert(0,d.env.HOME),l.os=b("os");let c=l.runPythonInternal("import __main__; __main__.__dict__"),u=l.runPythonInternal("import builtins; builtins.__dict__");l.globals=P(c,u);let Z=l._pyodide._importhook;function m(l){"__all__"in l||Object.defineProperty(l,"__all__",{get:()=>n.toPy(Object.getOwnPropertyNames(l).filter((l=>"__all__"!==l))),enumerable:!1,configurable:!0})}t(m,"jsFinderHook"),Z.register_js_finder.callKwargs({hook:m}),Z.register_js_module("js",d.jsglobals);let n=l.makePublicAPI();return Z.register_js_module("pyodide_js",n),l.pyodide_py=b("pyodide"),l.pyodide_code=b("pyodide.code"),l.pyodide_ffi=b("pyodide.ffi"),l.package_loader=b("pyodide._package_loader"),l.sitepackages=l.package_loader.SITE_PACKAGES.__str__(),l.dsodir=l.package_loader.DSO_DIR.__str__(),l.defaultLdLibraryPath=[l.dsodir,l.sitepackages],l.os.environ.__setitem__("LD_LIBRARY_PATH",l.defaultLdLibraryPath.join(":")),n.pyodide_py=l.pyodide_py,n.globals=l.globals,n}function Q(){if("string"==typeof __dirname)return __dirname;let l;try{throw new Error}catch(d){l=d}let d=x.default.parse(l)[0].fileName,b=d.lastIndexOf(L);if(-1===b)throw new Error("Could not extract indexURL path from pyodide module location");return d.slice(0,b)}async function E(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await H();let d=l.indexURL||Q();d=R(d),d.endsWith("/")||(d+="/"),l.indexURL=d;let b={fullStdLib:!1,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,lockFileURL:d+"pyodide-lock.json",args:[],_node_mounts:[],env:{},packageCacheDir:d,packages:[]},c=Object.assign(b,l);if(l.homedir){if(console.warn("The homedir argument to loadPyodide is deprecated. Use 'env: { HOME: value }' instead of 'homedir: value'."),l.env&&l.env.HOME)throw new Error("Set both env.HOME and homedir arguments");c.env.HOME=c.homedir}c.env.HOME||(c.env.HOME="/home/pyodide");let u=v();u.print=c.stdout,u.printErr=c.stderr,u.arguments=c.args;let Z={config:c};u.API=Z,N(u,d),w(u,c);let t,m=new Promise((l=>u.postRun=l));if(Z.bootstrapFinalizedPromise=new Promise((l=>t=l)),u.locateFile=l=>c.indexURL+l,"function"!=typeof _createPyodideModule){let l=`${c.indexURL}pyodide.asm.js`;await r(l)}if(await _createPyodideModule(u),await m,u.exited)throw u.exited.toThrow;if(Z.version!==f)throw new Error(`Pyodide version does not match: '${f}' <==> '${Z.version}'. If you updated the Pyodide version, make sure you also updated the 'indexURL' parameter passed to loadPyodide.`);u.locateFile=l=>{throw new Error("Didn't expect to load any more file_packager files!")};let[n,i]=Z.rawRun("import _pyodide_core");n&&u.API.fatal_loading_error("Failed to import _pyodide_core\n",i);let a=U(Z,c);if(t(),a.version.includes("dev")||Z.setCdnUrl(`https://cdn.jsdelivr.net/pyodide/v${a.version}/full/`),await Z.packageIndexReady,Z._pyodide._importhook.register_module_not_found_hook(Z._import_name_to_package_name,Z.lockfile_unvendored_stdlibs_and_test),Z.lockfile_info.version!==f)throw new Error("Lock file version doesn't match Pyodide version");return Z.package_loader.init_loaded_packages(),c.fullStdLib&&await a.loadPackage(Z.lockfile_unvendored_stdlibs),Z.initializeStreams(c.stdin,c.stdout,c.stderr),a}return t(P,"wrapPythonGlobals"),t(U,"finalizeBootstrap"),t(Q,"calculateIndexURL"),t(E,"loadPyodide"),globalThis.loadPyodide=E,(l=>i(d({},"__esModule",{value:!0}),l))(s)})();try{Object.assign(l,d)}catch(l){}globalThis.loadPyodide=d.loadPyodide}(Ne)),Ne);fe=l}catch(wp){}var Pe=fe;async function Ue(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=null,c=function(){let l,d,b=new Promise((function(){l=arguments[0],d=arguments[1]}));return b.resolve=l,b.reject=d,b}();if(!Ym(l))return c.reject("waitfunction需輸入函數f"),c;let u=async()=>{let d=l();return function(l){let d,b=Object.prototype.toString.call(l);if(d="[object Promise]"===b,d)return!0;if("[object Function]"!==b)return!1;try{d="function"!=typeof l.subscribe&&"function"==typeof l.then}catch(l){}return d}(d)&&(d=await d),d};if(b=await u(),!0===b)return c.resolve(),c;let Z=Vl(d,"attemptNum",null);pn(Z)||(Z=200);let t=Vl(d,"timeInterval",null);pn(t)||(t=1e3);let m=0,n=setInterval((async()=>{m+=1,b=await u(),!0===b&&(clearInterval(n),c.resolve()),m>Z&&(clearInterval(n),c.reject(`exceeded attemptNum[${Z}]`))}),t);return c}var Qe={};!function(l){var d=Object.prototype.hasOwnProperty,b="~";function c(){}function u(l,d,b){this.fn=l,this.context=d,this.once=b||!1}function Z(l,d,c,Z,t){if("function"!=typeof c)throw new TypeError("The listener must be a function");var m=new u(c,Z||l,t),n=b?b+d:d;return l._events[n]?l._events[n].fn?l._events[n]=[l._events[n],m]:l._events[n].push(m):(l._events[n]=m,l._eventsCount++),l}function t(l,d){0==--l._eventsCount?l._events=new c:delete l._events[d]}function m(){this._events=new c,this._eventsCount=0}Object.create&&(c.prototype=Object.create(null),(new c).__proto__||(b=!1)),m.prototype.eventNames=function(){var l,c,u=[];if(0===this._eventsCount)return u;for(c in l=this._events)d.call(l,c)&&u.push(b?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},m.prototype.listeners=function(l){var d=b?b+l:l,c=this._events[d];if(!c)return[];if(c.fn)return[c.fn];for(var u=0,Z=c.length,t=new Array(Z);u<Z;u++)t[u]=c[u].fn;return t},m.prototype.listenerCount=function(l){var d=b?b+l:l,c=this._events[d];return c?c.fn?1:c.length:0},m.prototype.emit=function(l,d,c,u,Z,t){var m=b?b+l:l;if(!this._events[m])return!1;var n,i,a=this._events[m],X=arguments.length;if(a.fn){switch(a.once&&this.removeListener(l,a.fn,void 0,!0),X){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,d),!0;case 3:return a.fn.call(a.context,d,c),!0;case 4:return a.fn.call(a.context,d,c,u),!0;case 5:return a.fn.call(a.context,d,c,u,Z),!0;case 6:return a.fn.call(a.context,d,c,u,Z,t),!0}for(i=1,n=new Array(X-1);i<X;i++)n[i-1]=arguments[i];a.fn.apply(a.context,n)}else{var s,G=a.length;for(i=0;i<G;i++)switch(a[i].once&&this.removeListener(l,a[i].fn,void 0,!0),X){case 1:a[i].fn.call(a[i].context);break;case 2:a[i].fn.call(a[i].context,d);break;case 3:a[i].fn.call(a[i].context,d,c);break;case 4:a[i].fn.call(a[i].context,d,c,u);break;default:if(!n)for(s=1,n=new Array(X-1);s<X;s++)n[s-1]=arguments[s];a[i].fn.apply(a[i].context,n)}}return!0},m.prototype.on=function(l,d,b){return Z(this,l,d,b,!1)},m.prototype.once=function(l,d,b){return Z(this,l,d,b,!0)},m.prototype.removeListener=function(l,d,c,u){var Z=b?b+l:l;if(!this._events[Z])return this;if(!d)return t(this,Z),this;var m=this._events[Z];if(m.fn)m.fn!==d||u&&!m.once||c&&m.context!==c||t(this,Z);else{for(var n=0,i=[],a=m.length;n<a;n++)(m[n].fn!==d||u&&!m[n].once||c&&m[n].context!==c)&&i.push(m[n]);i.length?this._events[Z]=1===i.length?i[0]:i:t(this,Z)}return this},m.prototype.removeAllListeners=function(l){var d;return l?(d=b?b+l:l,this._events[d]&&t(this,d)):(this._events=new c,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=b,m.EventEmitter=m,l.exports=m}({get exports(){return Qe},set exports(l){Qe=l}});var Ee=Qe;let je="",De=null,Oe=null;async function _e(){if("done"===je)return;if("loading"===je)return void await Ue((()=>null!==De));je="loading";let l=function(){let l=Ul();return Pe||l.loadPyodide}(),d=await l();await d.loadPackage("micropip");let b=d.pyimport("micropip");De=d,Oe=b,je="done"}let qe=null,$e={};qe=function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=0,b=[];var c;an(c=l)&&Xn(c)<0&&(l=0),l=Xn(l);let u=new Ee;return u.get=function(){return b.length>0?(d+=1,b.splice(0,1)[0]):null},u.cb=function(){d-=1,d<0&&(d=0),b.length>0&&u.emit("message",b)},u.push=function(c){b.push(c),(l<=0||d<l)&&u.emit("message",b)},u.clear=function(){d=0,b=[]},u}(1),qe.on("message",(function(l){let d=qe.get();d&&async function(){Pl($e,d)||($e[d]="loading"),await Oe.install(d),await De.loadPackage(d),$e[d]="done",qe.cb()}().catch((l=>{console.log(l)}))}));async function lo(l){rc(l,(l=>{!function(l){qe.push(l)}(l)})),await async function(l){await Ue((()=>{let d=!0;return rc(l,(l=>{if("done"!==Vl($e,l))return d=!1,!1})),d}))}(l)}function bo(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(pc(l)<=0)return[];let b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyY");Hl(c)||(c="y");let u=Vl(d,"keyZ","");Hl(u)||(u="z");let Z=Vl(d,"keyV");Hl(Z)||(Z="v");let t=Vl(d,"keyInd","");Hl(t)||(t="ind");let m=Vl(d,"returnObjArray");Oc(m)||(m=!0);let n=[];return rc(l,((l,d)=>{let m=null,i=null,a=null,X=null;Rl(l)&&pc(l)>=4?(m=Vl(l,0),i=Vl(l,1),a=Vl(l,2),X=Vl(l,3)):(m=Vl(l,b,null),i=Vl(l,c,null),a=Vl(l,u,null),X=Vl(l,Z,null)),fl(m)&&fl(i)&&fl(a)&&fl(X)&&(m=zc(m),i=zc(i),a=zc(a),X=zc(X),n.push({x:m,y:i,z:a,v:X,[t]:d}))})),m||(n=qb(n,(l=>[l.x,l.y,l.z,l.v,l[t]]))),n}var co=Object.freeze({__proto__:null,default:class extends ut{decodeBlock(l){return l}}});const uo=257;function Zo(l,d){for(let b=d.length-1;b>=0;b--)l.push(d[b]);return l}function to(l){const d=new Uint16Array(4093),b=new Uint8Array(4093);for(let l=0;l<=257;l++)d[l]=4096,b[l]=l;let c=258,u=9,Z=0;function t(){c=258,u=9}function m(l){const d=function(l,d,b){const c=d%8,u=Math.floor(d/8),Z=8-c,t=d+b-8*(u+1);let m=8*(u+2)-(d+b);const n=8*(u+2)-d;if(m=Math.max(0,m),u>=l.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),uo;let i=l[u]&2**(8-c)-1;i<<=b-Z;let a=i;if(u+1<l.length){let d=l[u+1]>>>m;d<<=Math.max(0,b-n),a+=d}if(t>8&&u+2<l.length){const c=8*(u+3)-(d+b);a+=l[u+2]>>>c}return a}(l,Z,u);return Z+=u,d}function n(l,u){return b[c]=u,d[c]=l,c++,c-1}function i(l){const c=[];for(let u=l;4096!==u;u=d[u])c.push(b[u]);return c}const a=[];t();const X=new Uint8Array(l);let s,G=m(X);for(;G!==uo;){if(256===G){for(t(),G=m(X);256===G;)G=m(X);if(G===uo)break;if(G>256)throw new Error(`corrupted code at scanline ${G}`);Zo(a,i(G)),s=G}else if(G<c){const l=i(G);Zo(a,l),n(s,l[l.length-1]),s=G}else{const l=i(s);if(!l)throw new Error(`Bogus entry. Not in dictionary, ${s} / ${c}, position: ${Z}`);Zo(a,l),a.push(l[l.length-1]),n(s,l[l.length-1]),s=G}c+1>=2**u&&(12===u?s=void 0:u++),G=m(X)}return new Uint8Array(a)}var mo=Object.freeze({__proto__:null,default:class extends ut{decodeBlock(l){return to(l).buffer}}});const no=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),io=4017,ao=799,Xo=3406,so=2276,Go=1567,Wo=3784,ho=5793,eo=2896;function oo(l,d){let b=0;const c=[];let u=16;for(;u>0&&!l[u-1];)--u;c.push({children:[],index:0});let Z,t=c[0];for(let m=0;m<u;m++){for(let u=0;u<l[m];u++){for(t=c.pop(),t.children[t.index]=d[b];t.index>0;)t=c.pop();for(t.index++,c.push(t);c.length<=m;)c.push(Z={children:[],index:0}),t.children[t.index]=Z.children,t=Z;b++}m+1<u&&(c.push(Z={children:[],index:0}),t.children[t.index]=Z.children,t=Z)}return c[0].children}function po(l,d,b,c,u,Z,t,m,n){const{mcusPerLine:i,progressive:a}=b,X=d;let s=d,G=0,W=0;function h(){if(W>0)return W--,G>>W&1;if(G=l[s++],255===G){const d=l[s++];if(d)throw new Error(`unexpected marker: ${(G<<8|d).toString(16)}`)}return W=7,G>>>7}function e(l){let d,b=l;for(;null!==(d=h());){if(b=b[d],"number"==typeof b)return b;if("object"!=typeof b)throw new Error("invalid huffman sequence")}return null}function o(l){let d=l,b=0;for(;d>0;){const l=h();if(null===l)return;b=b<<1|l,--d}return b}function p(l){const d=o(l);return d>=1<<l-1?d:d+(-1<<l)+1}let y=0;let V,R=0;function L(l,d,b,c,u){const Z=b%i,t=(b/i|0)*l.v+c,m=Z*l.h+u;d(l,l.blocks[t][m])}function K(l,d,b){const c=b/l.blocksPerLine|0,u=b%l.blocksPerLine;d(l,l.blocks[c][u])}const r=c.length;let x,S,H,Y,g,A;A=a?0===Z?0===m?function(l,d){const b=e(l.huffmanTableDC),c=0===b?0:p(b)<<n;l.pred+=c,d[0]=l.pred}:function(l,d){d[0]|=h()<<n}:0===m?function(l,d){if(y>0)return void y--;let b=Z;const c=t;for(;b<=c;){const c=e(l.huffmanTableAC),u=15&c,Z=c>>4;if(0===u){if(Z<15){y=o(Z)+(1<<Z)-1;break}b+=16}else b+=Z,d[no[b]]=p(u)*(1<<n),b++}}:function(l,d){let b=Z;const c=t;let u=0;for(;b<=c;){const c=no[b],Z=d[c]<0?-1:1;switch(R){case 0:{const d=e(l.huffmanTableAC),b=15&d;if(u=d>>4,0===b)u<15?(y=o(u)+(1<<u),R=4):(u=16,R=1);else{if(1!==b)throw new Error("invalid ACn encoding");V=p(b),R=u?2:3}continue}case 1:case 2:d[c]?d[c]+=(h()<<n)*Z:(u--,0===u&&(R=2===R?3:0));break;case 3:d[c]?d[c]+=(h()<<n)*Z:(d[c]=V<<n,R=0);break;case 4:d[c]&&(d[c]+=(h()<<n)*Z)}b++}4===R&&(y--,0===y&&(R=0))}:function(l,d){const b=e(l.huffmanTableDC),c=0===b?0:p(b);l.pred+=c,d[0]=l.pred;let u=1;for(;u<64;){const b=e(l.huffmanTableAC),c=15&b,Z=b>>4;if(0===c){if(Z<15)break;u+=16}else u+=Z,d[no[u]]=p(c),u++}};let C,I,J=0;I=1===r?c[0].blocksPerLine*c[0].blocksPerColumn:i*b.mcusPerColumn;const F=u||I;for(;J<I;){for(S=0;S<r;S++)c[S].pred=0;if(y=0,1===r)for(x=c[0],g=0;g<F;g++)K(x,A,J),J++;else for(g=0;g<F;g++){for(S=0;S<r;S++){x=c[S];const{h:l,v:d}=x;for(H=0;H<d;H++)for(Y=0;Y<l;Y++)L(x,A,J,H,Y)}if(J++,J===I)break}if(W=0,C=l[s]<<8|l[s+1],C<65280)throw new Error("marker was not found");if(!(C>=65488&&C<=65495))break;s+=2}return s-X}function yo(l,d){const b=[],{blocksPerLine:c,blocksPerColumn:u}=d,Z=c<<3,t=new Int32Array(64),m=new Uint8Array(64);function n(l,b,c){const u=d.quantizationTable;let Z,t,m,n,i,a,X,s,G;const W=c;let h;for(h=0;h<64;h++)W[h]=l[h]*u[h];for(h=0;h<8;++h){const l=8*h;0!==W[1+l]||0!==W[2+l]||0!==W[3+l]||0!==W[4+l]||0!==W[5+l]||0!==W[6+l]||0!==W[7+l]?(Z=ho*W[0+l]+128>>8,t=ho*W[4+l]+128>>8,m=W[2+l],n=W[6+l],i=eo*(W[1+l]-W[7+l])+128>>8,s=eo*(W[1+l]+W[7+l])+128>>8,a=W[3+l]<<4,X=W[5+l]<<4,G=Z-t+1>>1,Z=Z+t+1>>1,t=G,G=m*Wo+n*Go+128>>8,m=m*Go-n*Wo+128>>8,n=G,G=i-X+1>>1,i=i+X+1>>1,X=G,G=s+a+1>>1,a=s-a+1>>1,s=G,G=Z-n+1>>1,Z=Z+n+1>>1,n=G,G=t-m+1>>1,t=t+m+1>>1,m=G,G=i*so+s*Xo+2048>>12,i=i*Xo-s*so+2048>>12,s=G,G=a*ao+X*io+2048>>12,a=a*io-X*ao+2048>>12,X=G,W[0+l]=Z+s,W[7+l]=Z-s,W[1+l]=t+X,W[6+l]=t-X,W[2+l]=m+a,W[5+l]=m-a,W[3+l]=n+i,W[4+l]=n-i):(G=ho*W[0+l]+512>>10,W[0+l]=G,W[1+l]=G,W[2+l]=G,W[3+l]=G,W[4+l]=G,W[5+l]=G,W[6+l]=G,W[7+l]=G)}for(h=0;h<8;++h){const l=h;0!==W[8+l]||0!==W[16+l]||0!==W[24+l]||0!==W[32+l]||0!==W[40+l]||0!==W[48+l]||0!==W[56+l]?(Z=ho*W[0+l]+2048>>12,t=ho*W[32+l]+2048>>12,m=W[16+l],n=W[48+l],i=eo*(W[8+l]-W[56+l])+2048>>12,s=eo*(W[8+l]+W[56+l])+2048>>12,a=W[24+l],X=W[40+l],G=Z-t+1>>1,Z=Z+t+1>>1,t=G,G=m*Wo+n*Go+2048>>12,m=m*Go-n*Wo+2048>>12,n=G,G=i-X+1>>1,i=i+X+1>>1,X=G,G=s+a+1>>1,a=s-a+1>>1,s=G,G=Z-n+1>>1,Z=Z+n+1>>1,n=G,G=t-m+1>>1,t=t+m+1>>1,m=G,G=i*so+s*Xo+2048>>12,i=i*Xo-s*so+2048>>12,s=G,G=a*ao+X*io+2048>>12,a=a*io-X*ao+2048>>12,X=G,W[0+l]=Z+s,W[56+l]=Z-s,W[8+l]=t+X,W[48+l]=t-X,W[16+l]=m+a,W[40+l]=m-a,W[24+l]=n+i,W[32+l]=n-i):(G=ho*c[h+0]+8192>>14,W[0+l]=G,W[8+l]=G,W[16+l]=G,W[24+l]=G,W[32+l]=G,W[40+l]=G,W[48+l]=G,W[56+l]=G)}for(h=0;h<64;++h){const l=128+(W[h]+8>>4);b[h]=l<0?0:l>255?255:l}}for(let l=0;l<u;l++){const u=l<<3;for(let l=0;l<8;l++)b.push(new Uint8Array(Z));for(let Z=0;Z<c;Z++){n(d.blocks[l][Z],m,t);let c=0;const i=Z<<3;for(let l=0;l<8;l++){const d=b[u+l];for(let l=0;l<8;l++)d[i+l]=m[c++]}}}return b}class Vo{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(l){let d=0;function b(){const b=l[d]<<8|l[d+1];return d+=2,b}function c(){const c=b(),u=l.subarray(d,d+c-2);return d+=u.length,u}function u(l){let d,b,c=0,u=0;for(b in l.components)l.components.hasOwnProperty(b)&&(d=l.components[b],c<d.h&&(c=d.h),u<d.v&&(u=d.v));const Z=Math.ceil(l.samplesPerLine/8/c),t=Math.ceil(l.scanLines/8/u);for(b in l.components)if(l.components.hasOwnProperty(b)){d=l.components[b];const m=Math.ceil(Math.ceil(l.samplesPerLine/8)*d.h/c),n=Math.ceil(Math.ceil(l.scanLines/8)*d.v/u),i=Z*d.h,a=t*d.v,X=[];for(let l=0;l<a;l++){const l=[];for(let d=0;d<i;d++)l.push(new Int32Array(64));X.push(l)}d.blocksPerLine=m,d.blocksPerColumn=n,d.blocks=X}l.maxH=c,l.maxV=u,l.mcusPerLine=Z,l.mcusPerColumn=t}let Z=b();if(65496!==Z)throw new Error("SOI not found");for(Z=b();65497!==Z;){switch(Z){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const l=c();65504===Z&&74===l[0]&&70===l[1]&&73===l[2]&&70===l[3]&&0===l[4]&&(this.jfif={version:{major:l[5],minor:l[6]},densityUnits:l[7],xDensity:l[8]<<8|l[9],yDensity:l[10]<<8|l[11],thumbWidth:l[12],thumbHeight:l[13],thumbData:l.subarray(14,14+3*l[12]*l[13])}),65518===Z&&65===l[0]&&100===l[1]&&111===l[2]&&98===l[3]&&101===l[4]&&0===l[5]&&(this.adobe={version:l[6],flags0:l[7]<<8|l[8],flags1:l[9]<<8|l[10],transformCode:l[11]});break}case 65499:{const c=b()+d-2;for(;d<c;){const c=l[d++],u=new Int32Array(64);if(c>>4==0)for(let b=0;b<64;b++){u[no[b]]=l[d++]}else{if(c>>4!=1)throw new Error("DQT: invalid table spec");for(let l=0;l<64;l++){u[no[l]]=b()}}this.quantizationTables[15&c]=u}break}case 65472:case 65473:case 65474:{b();const c={extended:65473===Z,progressive:65474===Z,precision:l[d++],scanLines:b(),samplesPerLine:b(),components:{},componentsOrder:[]},t=l[d++];let m;for(let b=0;b<t;b++){m=l[d];const b=l[d+1]>>4,u=15&l[d+1],Z=l[d+2];c.componentsOrder.push(m),c.components[m]={h:b,v:u,quantizationIdx:Z},d+=3}u(c),this.frames.push(c);break}case 65476:{const c=b();for(let b=2;b<c;){const c=l[d++],u=new Uint8Array(16);let Z=0;for(let b=0;b<16;b++,d++)u[b]=l[d],Z+=u[b];const t=new Uint8Array(Z);for(let b=0;b<Z;b++,d++)t[b]=l[d];b+=17+Z,c>>4==0?this.huffmanTablesDC[15&c]=oo(u,t):this.huffmanTablesAC[15&c]=oo(u,t)}break}case 65501:b(),this.resetInterval=b();break;case 65498:{b();const c=l[d++],u=[],Z=this.frames[0];for(let b=0;b<c;b++){const b=Z.components[l[d++]],c=l[d++];b.huffmanTableDC=this.huffmanTablesDC[c>>4],b.huffmanTableAC=this.huffmanTablesAC[15&c],u.push(b)}const t=l[d++],m=l[d++],n=l[d++],i=po(l,d,Z,u,this.resetInterval,t,m,n>>4,15&n);d+=i;break}case 65535:255!==l[d]&&d--;break;default:if(255===l[d-3]&&l[d-2]>=192&&l[d-2]<=254){d-=3;break}throw new Error(`unknown JPEG marker ${Z.toString(16)}`)}Z=b()}}getResult(){const{frames:l}=this;if(0===this.frames.length)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(let l=0;l<this.frames.length;l++){const d=this.frames[l].components;for(const l of Object.keys(d))d[l].quantizationTable=this.quantizationTables[d[l].quantizationIdx],delete d[l].quantizationIdx}const d=l[0],{components:b,componentsOrder:c}=d,u=[],Z=d.samplesPerLine,t=d.scanLines;for(let l=0;l<c.length;l++){const Z=b[c[l]];u.push({lines:yo(0,Z),scaleX:Z.h/d.maxH,scaleY:Z.v/d.maxV})}const m=new Uint8Array(Z*t*u.length);let n=0;for(let l=0;l<t;++l)for(let d=0;d<Z;++d)for(let b=0;b<u.length;++b){const c=u[b];m[n]=c.lines[0|l*c.scaleY][0|d*c.scaleX],++n}return m}}var Ro=Object.freeze({__proto__:null,default:class extends ut{constructor(l){super(),this.reader=new Vo,l.JPEGTables&&this.reader.parse(l.JPEGTables)}decodeBlock(l){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(l)),this.reader.getResult().buffer}}});
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function Lo(l){let d=l.length;for(;--d>=0;)l[d]=0}const Ko=256,ro=286,xo=30,So=15,Ho=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Yo=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),go=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ao=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Co=new Array(576);Lo(Co);const Io=new Array(60);Lo(Io);const Jo=new Array(512);Lo(Jo);const Fo=new Array(256);Lo(Fo);const Bo=new Array(29);Lo(Bo);const vo=new Array(xo);function Mo(l,d,b,c,u){this.static_tree=l,this.extra_bits=d,this.extra_base=b,this.elems=c,this.max_length=u,this.has_stree=l&&l.length}let zo,To,ko;function wo(l,d){this.dyn_tree=l,this.max_code=0,this.stat_desc=d}Lo(vo);const No=l=>l<256?Jo[l]:Jo[256+(l>>>7)],fo=(l,d)=>{l.pending_buf[l.pending++]=255&d,l.pending_buf[l.pending++]=d>>>8&255},Po=(l,d,b)=>{l.bi_valid>16-b?(l.bi_buf|=d<<l.bi_valid&65535,fo(l,l.bi_buf),l.bi_buf=d>>16-l.bi_valid,l.bi_valid+=b-16):(l.bi_buf|=d<<l.bi_valid&65535,l.bi_valid+=b)},Uo=(l,d,b)=>{Po(l,b[2*d],b[2*d+1])},Qo=(l,d)=>{let b=0;do{b|=1&l,l>>>=1,b<<=1}while(--d>0);return b>>>1},Eo=(l,d,b)=>{const c=new Array(16);let u,Z,t=0;for(u=1;u<=So;u++)t=t+b[u-1]<<1,c[u]=t;for(Z=0;Z<=d;Z++){let d=l[2*Z+1];0!==d&&(l[2*Z]=Qo(c[d]++,d))}},jo=l=>{let d;for(d=0;d<ro;d++)l.dyn_ltree[2*d]=0;for(d=0;d<xo;d++)l.dyn_dtree[2*d]=0;for(d=0;d<19;d++)l.bl_tree[2*d]=0;l.dyn_ltree[512]=1,l.opt_len=l.static_len=0,l.sym_next=l.matches=0},Do=l=>{l.bi_valid>8?fo(l,l.bi_buf):l.bi_valid>0&&(l.pending_buf[l.pending++]=l.bi_buf),l.bi_buf=0,l.bi_valid=0},Oo=(l,d,b,c)=>{const u=2*d,Z=2*b;return l[u]<l[Z]||l[u]===l[Z]&&c[d]<=c[b]},_o=(l,d,b)=>{const c=l.heap[b];let u=b<<1;for(;u<=l.heap_len&&(u<l.heap_len&&Oo(d,l.heap[u+1],l.heap[u],l.depth)&&u++,!Oo(d,c,l.heap[u],l.depth));)l.heap[b]=l.heap[u],b=u,u<<=1;l.heap[b]=c},qo=(l,d,b)=>{let c,u,Z,t,m=0;if(0!==l.sym_next)do{c=255&l.pending_buf[l.sym_buf+m++],c+=(255&l.pending_buf[l.sym_buf+m++])<<8,u=l.pending_buf[l.sym_buf+m++],0===c?Uo(l,u,d):(Z=Fo[u],Uo(l,Z+Ko+1,d),t=Ho[Z],0!==t&&(u-=Bo[Z],Po(l,u,t)),c--,Z=No(c),Uo(l,Z,b),t=Yo[Z],0!==t&&(c-=vo[Z],Po(l,c,t)))}while(m<l.sym_next);Uo(l,256,d)},$o=(l,d)=>{const b=d.dyn_tree,c=d.stat_desc.static_tree,u=d.stat_desc.has_stree,Z=d.stat_desc.elems;let t,m,n,i=-1;for(l.heap_len=0,l.heap_max=573,t=0;t<Z;t++)0!==b[2*t]?(l.heap[++l.heap_len]=i=t,l.depth[t]=0):b[2*t+1]=0;for(;l.heap_len<2;)n=l.heap[++l.heap_len]=i<2?++i:0,b[2*n]=1,l.depth[n]=0,l.opt_len--,u&&(l.static_len-=c[2*n+1]);for(d.max_code=i,t=l.heap_len>>1;t>=1;t--)_o(l,b,t);n=Z;do{t=l.heap[1],l.heap[1]=l.heap[l.heap_len--],_o(l,b,1),m=l.heap[1],l.heap[--l.heap_max]=t,l.heap[--l.heap_max]=m,b[2*n]=b[2*t]+b[2*m],l.depth[n]=(l.depth[t]>=l.depth[m]?l.depth[t]:l.depth[m])+1,b[2*t+1]=b[2*m+1]=n,l.heap[1]=n++,_o(l,b,1)}while(l.heap_len>=2);l.heap[--l.heap_max]=l.heap[1],((l,d)=>{const b=d.dyn_tree,c=d.max_code,u=d.stat_desc.static_tree,Z=d.stat_desc.has_stree,t=d.stat_desc.extra_bits,m=d.stat_desc.extra_base,n=d.stat_desc.max_length;let i,a,X,s,G,W,h=0;for(s=0;s<=So;s++)l.bl_count[s]=0;for(b[2*l.heap[l.heap_max]+1]=0,i=l.heap_max+1;i<573;i++)a=l.heap[i],s=b[2*b[2*a+1]+1]+1,s>n&&(s=n,h++),b[2*a+1]=s,a>c||(l.bl_count[s]++,G=0,a>=m&&(G=t[a-m]),W=b[2*a],l.opt_len+=W*(s+G),Z&&(l.static_len+=W*(u[2*a+1]+G)));if(0!==h){do{for(s=n-1;0===l.bl_count[s];)s--;l.bl_count[s]--,l.bl_count[s+1]+=2,l.bl_count[n]--,h-=2}while(h>0);for(s=n;0!==s;s--)for(a=l.bl_count[s];0!==a;)X=l.heap[--i],X>c||(b[2*X+1]!==s&&(l.opt_len+=(s-b[2*X+1])*b[2*X],b[2*X+1]=s),a--)}})(l,d),Eo(b,i,l.bl_count)},lp=(l,d,b)=>{let c,u,Z=-1,t=d[1],m=0,n=7,i=4;for(0===t&&(n=138,i=3),d[2*(b+1)+1]=65535,c=0;c<=b;c++)u=t,t=d[2*(c+1)+1],++m<n&&u===t||(m<i?l.bl_tree[2*u]+=m:0!==u?(u!==Z&&l.bl_tree[2*u]++,l.bl_tree[32]++):m<=10?l.bl_tree[34]++:l.bl_tree[36]++,m=0,Z=u,0===t?(n=138,i=3):u===t?(n=6,i=3):(n=7,i=4))},dp=(l,d,b)=>{let c,u,Z=-1,t=d[1],m=0,n=7,i=4;for(0===t&&(n=138,i=3),c=0;c<=b;c++)if(u=t,t=d[2*(c+1)+1],!(++m<n&&u===t)){if(m<i)do{Uo(l,u,l.bl_tree)}while(0!=--m);else 0!==u?(u!==Z&&(Uo(l,u,l.bl_tree),m--),Uo(l,16,l.bl_tree),Po(l,m-3,2)):m<=10?(Uo(l,17,l.bl_tree),Po(l,m-3,3)):(Uo(l,18,l.bl_tree),Po(l,m-11,7));m=0,Z=u,0===t?(n=138,i=3):u===t?(n=6,i=3):(n=7,i=4)}};let bp=!1;const cp=(l,d,b,c)=>{Po(l,0+(c?1:0),3),Do(l),fo(l,b),fo(l,~b),b&&l.pending_buf.set(l.window.subarray(d,d+b),l.pending),l.pending+=b};var up=l=>{bp||((()=>{let l,d,b,c,u;const Z=new Array(16);for(b=0,c=0;c<28;c++)for(Bo[c]=b,l=0;l<1<<Ho[c];l++)Fo[b++]=c;for(Fo[b-1]=c,u=0,c=0;c<16;c++)for(vo[c]=u,l=0;l<1<<Yo[c];l++)Jo[u++]=c;for(u>>=7;c<xo;c++)for(vo[c]=u<<7,l=0;l<1<<Yo[c]-7;l++)Jo[256+u++]=c;for(d=0;d<=So;d++)Z[d]=0;for(l=0;l<=143;)Co[2*l+1]=8,l++,Z[8]++;for(;l<=255;)Co[2*l+1]=9,l++,Z[9]++;for(;l<=279;)Co[2*l+1]=7,l++,Z[7]++;for(;l<=287;)Co[2*l+1]=8,l++,Z[8]++;for(Eo(Co,287,Z),l=0;l<xo;l++)Io[2*l+1]=5,Io[2*l]=Qo(l,5);zo=new Mo(Co,Ho,257,ro,So),To=new Mo(Io,Yo,0,xo,So),ko=new Mo(new Array(0),go,0,19,7)})(),bp=!0),l.l_desc=new wo(l.dyn_ltree,zo),l.d_desc=new wo(l.dyn_dtree,To),l.bl_desc=new wo(l.bl_tree,ko),l.bi_buf=0,l.bi_valid=0,jo(l)},Zp=(l,d,b,c)=>{let u,Z,t=0;l.level>0?(2===l.strm.data_type&&(l.strm.data_type=(l=>{let d,b=4093624447;for(d=0;d<=31;d++,b>>>=1)if(1&b&&0!==l.dyn_ltree[2*d])return 0;if(0!==l.dyn_ltree[18]||0!==l.dyn_ltree[20]||0!==l.dyn_ltree[26])return 1;for(d=32;d<Ko;d++)if(0!==l.dyn_ltree[2*d])return 1;return 0})(l)),$o(l,l.l_desc),$o(l,l.d_desc),t=(l=>{let d;for(lp(l,l.dyn_ltree,l.l_desc.max_code),lp(l,l.dyn_dtree,l.d_desc.max_code),$o(l,l.bl_desc),d=18;d>=3&&0===l.bl_tree[2*Ao[d]+1];d--);return l.opt_len+=3*(d+1)+5+5+4,d})(l),u=l.opt_len+3+7>>>3,Z=l.static_len+3+7>>>3,Z<=u&&(u=Z)):u=Z=b+5,b+4<=u&&-1!==d?cp(l,d,b,c):4===l.strategy||Z===u?(Po(l,2+(c?1:0),3),qo(l,Co,Io)):(Po(l,4+(c?1:0),3),((l,d,b,c)=>{let u;for(Po(l,d-257,5),Po(l,b-1,5),Po(l,c-4,4),u=0;u<c;u++)Po(l,l.bl_tree[2*Ao[u]+1],3);dp(l,l.dyn_ltree,d-1),dp(l,l.dyn_dtree,b-1)})(l,l.l_desc.max_code+1,l.d_desc.max_code+1,t+1),qo(l,l.dyn_ltree,l.dyn_dtree)),jo(l),c&&Do(l)},tp=(l,d,b)=>(l.pending_buf[l.sym_buf+l.sym_next++]=d,l.pending_buf[l.sym_buf+l.sym_next++]=d>>8,l.pending_buf[l.sym_buf+l.sym_next++]=b,0===d?l.dyn_ltree[2*b]++:(l.matches++,d--,l.dyn_ltree[2*(Fo[b]+Ko+1)]++,l.dyn_dtree[2*No(d)]++),l.sym_next===l.sym_end),mp={_tr_init:up,_tr_stored_block:cp,_tr_flush_block:Zp,_tr_tally:tp,_tr_align:l=>{Po(l,2,3),Uo(l,256,Co),(l=>{16===l.bi_valid?(fo(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0):l.bi_valid>=8&&(l.pending_buf[l.pending++]=255&l.bi_buf,l.bi_buf>>=8,l.bi_valid-=8)})(l)}};var np=(l,d,b,c)=>{let u=65535&l|0,Z=l>>>16&65535|0,t=0;for(;0!==b;){t=b>2e3?2e3:b,b-=t;do{u=u+d[c++]|0,Z=Z+u|0}while(--t);u%=65521,Z%=65521}return u|Z<<16|0};const ip=new Uint32Array((()=>{let l,d=[];for(var b=0;b<256;b++){l=b;for(var c=0;c<8;c++)l=1&l?3988292384^l>>>1:l>>>1;d[b]=l}return d})());var ap=(l,d,b,c)=>{const u=ip,Z=c+b;l^=-1;for(let b=c;b<Z;b++)l=l>>>8^u[255&(l^d[b])];return-1^l},Xp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Gp,_tr_stored_block:Wp,_tr_flush_block:hp,_tr_tally:ep,_tr_align:op}=mp,{Z_NO_FLUSH:pp,Z_PARTIAL_FLUSH:yp,Z_FULL_FLUSH:Vp,Z_FINISH:Rp,Z_BLOCK:Lp,Z_OK:Kp,Z_STREAM_END:rp,Z_STREAM_ERROR:xp,Z_DATA_ERROR:Sp,Z_BUF_ERROR:Hp,Z_DEFAULT_COMPRESSION:Yp,Z_FILTERED:gp,Z_HUFFMAN_ONLY:Ap,Z_RLE:Cp,Z_FIXED:Ip,Z_DEFAULT_STRATEGY:Jp,Z_UNKNOWN:Fp,Z_DEFLATED:Bp}=sp,vp=258,Mp=262,zp=42,Tp=113,kp=666,wp=(l,d)=>(l.msg=Xp[d],d),Np=l=>2*l-(l>4?9:0),fp=l=>{let d=l.length;for(;--d>=0;)l[d]=0},Pp=l=>{let d,b,c,u=l.w_size;d=l.hash_size,c=d;do{b=l.head[--c],l.head[c]=b>=u?b-u:0}while(--d);d=u,c=d;do{b=l.prev[--c],l.prev[c]=b>=u?b-u:0}while(--d)};let Up=(l,d,b)=>(d<<l.hash_shift^b)&l.hash_mask;const Qp=l=>{const d=l.state;let b=d.pending;b>l.avail_out&&(b=l.avail_out),0!==b&&(l.output.set(d.pending_buf.subarray(d.pending_out,d.pending_out+b),l.next_out),l.next_out+=b,d.pending_out+=b,l.total_out+=b,l.avail_out-=b,d.pending-=b,0===d.pending&&(d.pending_out=0))},Ep=(l,d)=>{hp(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,d),l.block_start=l.strstart,Qp(l.strm)},jp=(l,d)=>{l.pending_buf[l.pending++]=d},Dp=(l,d)=>{l.pending_buf[l.pending++]=d>>>8&255,l.pending_buf[l.pending++]=255&d},Op=(l,d,b,c)=>{let u=l.avail_in;return u>c&&(u=c),0===u?0:(l.avail_in-=u,d.set(l.input.subarray(l.next_in,l.next_in+u),b),1===l.state.wrap?l.adler=np(l.adler,d,u,b):2===l.state.wrap&&(l.adler=ap(l.adler,d,u,b)),l.next_in+=u,l.total_in+=u,u)},_p=(l,d)=>{let b,c,u=l.max_chain_length,Z=l.strstart,t=l.prev_length,m=l.nice_match;const n=l.strstart>l.w_size-Mp?l.strstart-(l.w_size-Mp):0,i=l.window,a=l.w_mask,X=l.prev,s=l.strstart+vp;let G=i[Z+t-1],W=i[Z+t];l.prev_length>=l.good_match&&(u>>=2),m>l.lookahead&&(m=l.lookahead);do{if(b=d,i[b+t]===W&&i[b+t-1]===G&&i[b]===i[Z]&&i[++b]===i[Z+1]){Z+=2,b++;do{}while(i[++Z]===i[++b]&&i[++Z]===i[++b]&&i[++Z]===i[++b]&&i[++Z]===i[++b]&&i[++Z]===i[++b]&&i[++Z]===i[++b]&&i[++Z]===i[++b]&&i[++Z]===i[++b]&&Z<s);if(c=vp-(s-Z),Z=s-vp,c>t){if(l.match_start=d,t=c,c>=m)break;G=i[Z+t-1],W=i[Z+t]}}}while((d=X[d&a])>n&&0!=--u);return t<=l.lookahead?t:l.lookahead},qp=l=>{const d=l.w_size;let b,c,u;do{if(c=l.window_size-l.lookahead-l.strstart,l.strstart>=d+(d-Mp)&&(l.window.set(l.window.subarray(d,d+d-c),0),l.match_start-=d,l.strstart-=d,l.block_start-=d,l.insert>l.strstart&&(l.insert=l.strstart),Pp(l),c+=d),0===l.strm.avail_in)break;if(b=Op(l.strm,l.window,l.strstart+l.lookahead,c),l.lookahead+=b,l.lookahead+l.insert>=3)for(u=l.strstart-l.insert,l.ins_h=l.window[u],l.ins_h=Up(l,l.ins_h,l.window[u+1]);l.insert&&(l.ins_h=Up(l,l.ins_h,l.window[u+3-1]),l.prev[u&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=u,u++,l.insert--,!(l.lookahead+l.insert<3)););}while(l.lookahead<Mp&&0!==l.strm.avail_in)},$p=(l,d)=>{let b,c,u,Z=l.pending_buf_size-5>l.w_size?l.w_size:l.pending_buf_size-5,t=0,m=l.strm.avail_in;do{if(b=65535,u=l.bi_valid+42>>3,l.strm.avail_out<u)break;if(u=l.strm.avail_out-u,c=l.strstart-l.block_start,b>c+l.strm.avail_in&&(b=c+l.strm.avail_in),b>u&&(b=u),b<Z&&(0===b&&d!==Rp||d===pp||b!==c+l.strm.avail_in))break;t=d===Rp&&b===c+l.strm.avail_in?1:0,Wp(l,0,0,t),l.pending_buf[l.pending-4]=b,l.pending_buf[l.pending-3]=b>>8,l.pending_buf[l.pending-2]=~b,l.pending_buf[l.pending-1]=~b>>8,Qp(l.strm),c&&(c>b&&(c=b),l.strm.output.set(l.window.subarray(l.block_start,l.block_start+c),l.strm.next_out),l.strm.next_out+=c,l.strm.avail_out-=c,l.strm.total_out+=c,l.block_start+=c,b-=c),b&&(Op(l.strm,l.strm.output,l.strm.next_out,b),l.strm.next_out+=b,l.strm.avail_out-=b,l.strm.total_out+=b)}while(0===t);return m-=l.strm.avail_in,m&&(m>=l.w_size?(l.matches=2,l.window.set(l.strm.input.subarray(l.strm.next_in-l.w_size,l.strm.next_in),0),l.strstart=l.w_size,l.insert=l.strstart):(l.window_size-l.strstart<=m&&(l.strstart-=l.w_size,l.window.set(l.window.subarray(l.w_size,l.w_size+l.strstart),0),l.matches<2&&l.matches++,l.insert>l.strstart&&(l.insert=l.strstart)),l.window.set(l.strm.input.subarray(l.strm.next_in-m,l.strm.next_in),l.strstart),l.strstart+=m,l.insert+=m>l.w_size-l.insert?l.w_size-l.insert:m),l.block_start=l.strstart),l.high_water<l.strstart&&(l.high_water=l.strstart),t?4:d!==pp&&d!==Rp&&0===l.strm.avail_in&&l.strstart===l.block_start?2:(u=l.window_size-l.strstart,l.strm.avail_in>u&&l.block_start>=l.w_size&&(l.block_start-=l.w_size,l.strstart-=l.w_size,l.window.set(l.window.subarray(l.w_size,l.w_size+l.strstart),0),l.matches<2&&l.matches++,u+=l.w_size,l.insert>l.strstart&&(l.insert=l.strstart)),u>l.strm.avail_in&&(u=l.strm.avail_in),u&&(Op(l.strm,l.window,l.strstart,u),l.strstart+=u,l.insert+=u>l.w_size-l.insert?l.w_size-l.insert:u),l.high_water<l.strstart&&(l.high_water=l.strstart),u=l.bi_valid+42>>3,u=l.pending_buf_size-u>65535?65535:l.pending_buf_size-u,Z=u>l.w_size?l.w_size:u,c=l.strstart-l.block_start,(c>=Z||(c||d===Rp)&&d!==pp&&0===l.strm.avail_in&&c<=u)&&(b=c>u?u:c,t=d===Rp&&0===l.strm.avail_in&&b===c?1:0,Wp(l,l.block_start,b,t),l.block_start+=b,Qp(l.strm)),t?3:1)},ly=(l,d)=>{let b,c;for(;;){if(l.lookahead<Mp){if(qp(l),l.lookahead<Mp&&d===pp)return 1;if(0===l.lookahead)break}if(b=0,l.lookahead>=3&&(l.ins_h=Up(l,l.ins_h,l.window[l.strstart+3-1]),b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),0!==b&&l.strstart-b<=l.w_size-Mp&&(l.match_length=_p(l,b)),l.match_length>=3)if(c=ep(l,l.strstart-l.match_start,l.match_length-3),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=3){l.match_length--;do{l.strstart++,l.ins_h=Up(l,l.ins_h,l.window[l.strstart+3-1]),b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart}while(0!=--l.match_length);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=Up(l,l.ins_h,l.window[l.strstart+1]);else c=ep(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(c&&(Ep(l,!1),0===l.strm.avail_out))return 1}return l.insert=l.strstart<2?l.strstart:2,d===Rp?(Ep(l,!0),0===l.strm.avail_out?3:4):l.sym_next&&(Ep(l,!1),0===l.strm.avail_out)?1:2},dy=(l,d)=>{let b,c,u;for(;;){if(l.lookahead<Mp){if(qp(l),l.lookahead<Mp&&d===pp)return 1;if(0===l.lookahead)break}if(b=0,l.lookahead>=3&&(l.ins_h=Up(l,l.ins_h,l.window[l.strstart+3-1]),b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=2,0!==b&&l.prev_length<l.max_lazy_match&&l.strstart-b<=l.w_size-Mp&&(l.match_length=_p(l,b),l.match_length<=5&&(l.strategy===gp||3===l.match_length&&l.strstart-l.match_start>4096)&&(l.match_length=2)),l.prev_length>=3&&l.match_length<=l.prev_length){u=l.strstart+l.lookahead-3,c=ep(l,l.strstart-1-l.prev_match,l.prev_length-3),l.lookahead-=l.prev_length-1,l.prev_length-=2;do{++l.strstart<=u&&(l.ins_h=Up(l,l.ins_h,l.window[l.strstart+3-1]),b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart)}while(0!=--l.prev_length);if(l.match_available=0,l.match_length=2,l.strstart++,c&&(Ep(l,!1),0===l.strm.avail_out))return 1}else if(l.match_available){if(c=ep(l,0,l.window[l.strstart-1]),c&&Ep(l,!1),l.strstart++,l.lookahead--,0===l.strm.avail_out)return 1}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(c=ep(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<2?l.strstart:2,d===Rp?(Ep(l,!0),0===l.strm.avail_out?3:4):l.sym_next&&(Ep(l,!1),0===l.strm.avail_out)?1:2};function by(l,d,b,c,u){this.good_length=l,this.max_lazy=d,this.nice_length=b,this.max_chain=c,this.func=u}const cy=[new by(0,0,0,0,$p),new by(4,4,8,4,ly),new by(4,5,16,8,ly),new by(4,6,32,32,ly),new by(4,4,16,16,dy),new by(8,16,32,32,dy),new by(8,16,128,128,dy),new by(8,32,128,256,dy),new by(32,128,258,1024,dy),new by(32,258,258,4096,dy)];function uy(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Bp,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),fp(this.dyn_ltree),fp(this.dyn_dtree),fp(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),fp(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),fp(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Zy=l=>{if(!l)return 1;const d=l.state;return!d||d.strm!==l||d.status!==zp&&57!==d.status&&69!==d.status&&73!==d.status&&91!==d.status&&103!==d.status&&d.status!==Tp&&d.status!==kp?1:0},ty=l=>{if(Zy(l))return wp(l,xp);l.total_in=l.total_out=0,l.data_type=Fp;const d=l.state;return d.pending=0,d.pending_out=0,d.wrap<0&&(d.wrap=-d.wrap),d.status=2===d.wrap?57:d.wrap?zp:Tp,l.adler=2===d.wrap?0:1,d.last_flush=-2,Gp(d),Kp},my=l=>{const d=ty(l);var b;return d===Kp&&((b=l.state).window_size=2*b.w_size,fp(b.head),b.max_lazy_match=cy[b.level].max_lazy,b.good_match=cy[b.level].good_length,b.nice_match=cy[b.level].nice_length,b.max_chain_length=cy[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=2,b.match_available=0,b.ins_h=0),d},ny=(l,d,b,c,u,Z)=>{if(!l)return xp;let t=1;if(d===Yp&&(d=6),c<0?(t=0,c=-c):c>15&&(t=2,c-=16),u<1||u>9||b!==Bp||c<8||c>15||d<0||d>9||Z<0||Z>Ip||8===c&&1!==t)return wp(l,xp);8===c&&(c=9);const m=new uy;return l.state=m,m.strm=l,m.status=zp,m.wrap=t,m.gzhead=null,m.w_bits=c,m.w_size=1<<m.w_bits,m.w_mask=m.w_size-1,m.hash_bits=u+7,m.hash_size=1<<m.hash_bits,m.hash_mask=m.hash_size-1,m.hash_shift=~~((m.hash_bits+3-1)/3),m.window=new Uint8Array(2*m.w_size),m.head=new Uint16Array(m.hash_size),m.prev=new Uint16Array(m.w_size),m.lit_bufsize=1<<u+6,m.pending_buf_size=4*m.lit_bufsize,m.pending_buf=new Uint8Array(m.pending_buf_size),m.sym_buf=m.lit_bufsize,m.sym_end=3*(m.lit_bufsize-1),m.level=d,m.strategy=Z,m.method=b,my(l)};var iy=(l,d)=>{if(Zy(l)||d>Lp||d<0)return l?wp(l,xp):xp;const b=l.state;if(!l.output||0!==l.avail_in&&!l.input||b.status===kp&&d!==Rp)return wp(l,0===l.avail_out?Hp:xp);const c=b.last_flush;if(b.last_flush=d,0!==b.pending){if(Qp(l),0===l.avail_out)return b.last_flush=-1,Kp}else if(0===l.avail_in&&Np(d)<=Np(c)&&d!==Rp)return wp(l,Hp);if(b.status===kp&&0!==l.avail_in)return wp(l,Hp);if(b.status===zp&&0===b.wrap&&(b.status=Tp),b.status===zp){let d=Bp+(b.w_bits-8<<4)<<8,c=-1;if(c=b.strategy>=Ap||b.level<2?0:b.level<6?1:6===b.level?2:3,d|=c<<6,0!==b.strstart&&(d|=32),d+=31-d%31,Dp(b,d),0!==b.strstart&&(Dp(b,l.adler>>>16),Dp(b,65535&l.adler)),l.adler=1,b.status=Tp,Qp(l),0!==b.pending)return b.last_flush=-1,Kp}if(57===b.status)if(l.adler=0,jp(b,31),jp(b,139),jp(b,8),b.gzhead)jp(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),jp(b,255&b.gzhead.time),jp(b,b.gzhead.time>>8&255),jp(b,b.gzhead.time>>16&255),jp(b,b.gzhead.time>>24&255),jp(b,9===b.level?2:b.strategy>=Ap||b.level<2?4:0),jp(b,255&b.gzhead.os),b.gzhead.extra&&b.gzhead.extra.length&&(jp(b,255&b.gzhead.extra.length),jp(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(l.adler=ap(l.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69;else if(jp(b,0),jp(b,0),jp(b,0),jp(b,0),jp(b,0),jp(b,9===b.level?2:b.strategy>=Ap||b.level<2?4:0),jp(b,3),b.status=Tp,Qp(l),0!==b.pending)return b.last_flush=-1,Kp;if(69===b.status){if(b.gzhead.extra){let d=b.pending,c=(65535&b.gzhead.extra.length)-b.gzindex;for(;b.pending+c>b.pending_buf_size;){let u=b.pending_buf_size-b.pending;if(b.pending_buf.set(b.gzhead.extra.subarray(b.gzindex,b.gzindex+u),b.pending),b.pending=b.pending_buf_size,b.gzhead.hcrc&&b.pending>d&&(l.adler=ap(l.adler,b.pending_buf,b.pending-d,d)),b.gzindex+=u,Qp(l),0!==b.pending)return b.last_flush=-1,Kp;d=0,c-=u}let u=new Uint8Array(b.gzhead.extra);b.pending_buf.set(u.subarray(b.gzindex,b.gzindex+c),b.pending),b.pending+=c,b.gzhead.hcrc&&b.pending>d&&(l.adler=ap(l.adler,b.pending_buf,b.pending-d,d)),b.gzindex=0}b.status=73}if(73===b.status){if(b.gzhead.name){let d,c=b.pending;do{if(b.pending===b.pending_buf_size){if(b.gzhead.hcrc&&b.pending>c&&(l.adler=ap(l.adler,b.pending_buf,b.pending-c,c)),Qp(l),0!==b.pending)return b.last_flush=-1,Kp;c=0}d=b.gzindex<b.gzhead.name.length?255&b.gzhead.name.charCodeAt(b.gzindex++):0,jp(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>c&&(l.adler=ap(l.adler,b.pending_buf,b.pending-c,c)),b.gzindex=0}b.status=91}if(91===b.status){if(b.gzhead.comment){let d,c=b.pending;do{if(b.pending===b.pending_buf_size){if(b.gzhead.hcrc&&b.pending>c&&(l.adler=ap(l.adler,b.pending_buf,b.pending-c,c)),Qp(l),0!==b.pending)return b.last_flush=-1,Kp;c=0}d=b.gzindex<b.gzhead.comment.length?255&b.gzhead.comment.charCodeAt(b.gzindex++):0,jp(b,d)}while(0!==d);b.gzhead.hcrc&&b.pending>c&&(l.adler=ap(l.adler,b.pending_buf,b.pending-c,c))}b.status=103}if(103===b.status){if(b.gzhead.hcrc){if(b.pending+2>b.pending_buf_size&&(Qp(l),0!==b.pending))return b.last_flush=-1,Kp;jp(b,255&l.adler),jp(b,l.adler>>8&255),l.adler=0}if(b.status=Tp,Qp(l),0!==b.pending)return b.last_flush=-1,Kp}if(0!==l.avail_in||0!==b.lookahead||d!==pp&&b.status!==kp){let c=0===b.level?$p(b,d):b.strategy===Ap?((l,d)=>{let b;for(;;){if(0===l.lookahead&&(qp(l),0===l.lookahead)){if(d===pp)return 1;break}if(l.match_length=0,b=ep(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,b&&(Ep(l,!1),0===l.strm.avail_out))return 1}return l.insert=0,d===Rp?(Ep(l,!0),0===l.strm.avail_out?3:4):l.sym_next&&(Ep(l,!1),0===l.strm.avail_out)?1:2})(b,d):b.strategy===Cp?((l,d)=>{let b,c,u,Z;const t=l.window;for(;;){if(l.lookahead<=vp){if(qp(l),l.lookahead<=vp&&d===pp)return 1;if(0===l.lookahead)break}if(l.match_length=0,l.lookahead>=3&&l.strstart>0&&(u=l.strstart-1,c=t[u],c===t[++u]&&c===t[++u]&&c===t[++u])){Z=l.strstart+vp;do{}while(c===t[++u]&&c===t[++u]&&c===t[++u]&&c===t[++u]&&c===t[++u]&&c===t[++u]&&c===t[++u]&&c===t[++u]&&u<Z);l.match_length=vp-(Z-u),l.match_length>l.lookahead&&(l.match_length=l.lookahead)}if(l.match_length>=3?(b=ep(l,1,l.match_length-3),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0):(b=ep(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++),b&&(Ep(l,!1),0===l.strm.avail_out))return 1}return l.insert=0,d===Rp?(Ep(l,!0),0===l.strm.avail_out?3:4):l.sym_next&&(Ep(l,!1),0===l.strm.avail_out)?1:2})(b,d):cy[b.level].func(b,d);if(3!==c&&4!==c||(b.status=kp),1===c||3===c)return 0===l.avail_out&&(b.last_flush=-1),Kp;if(2===c&&(d===yp?op(b):d!==Lp&&(Wp(b,0,0,!1),d===Vp&&(fp(b.head),0===b.lookahead&&(b.strstart=0,b.block_start=0,b.insert=0))),Qp(l),0===l.avail_out))return b.last_flush=-1,Kp}return d!==Rp?Kp:b.wrap<=0?rp:(2===b.wrap?(jp(b,255&l.adler),jp(b,l.adler>>8&255),jp(b,l.adler>>16&255),jp(b,l.adler>>24&255),jp(b,255&l.total_in),jp(b,l.total_in>>8&255),jp(b,l.total_in>>16&255),jp(b,l.total_in>>24&255)):(Dp(b,l.adler>>>16),Dp(b,65535&l.adler)),Qp(l),b.wrap>0&&(b.wrap=-b.wrap),0!==b.pending?Kp:rp)},ay={deflateInit:(l,d)=>ny(l,d,Bp,15,8,Jp),deflateInit2:ny,deflateReset:my,deflateResetKeep:ty,deflateSetHeader:(l,d)=>Zy(l)||2!==l.state.wrap?xp:(l.state.gzhead=d,Kp),deflate:iy,deflateEnd:l=>{if(Zy(l))return xp;const d=l.state.status;return l.state=null,d===Tp?wp(l,Sp):Kp},deflateSetDictionary:(l,d)=>{let b=d.length;if(Zy(l))return xp;const c=l.state,u=c.wrap;if(2===u||1===u&&c.status!==zp||c.lookahead)return xp;if(1===u&&(l.adler=np(l.adler,d,b,0)),c.wrap=0,b>=c.w_size){0===u&&(fp(c.head),c.strstart=0,c.block_start=0,c.insert=0);let l=new Uint8Array(c.w_size);l.set(d.subarray(b-c.w_size,b),0),d=l,b=c.w_size}const Z=l.avail_in,t=l.next_in,m=l.input;for(l.avail_in=b,l.next_in=0,l.input=d,qp(c);c.lookahead>=3;){let l=c.strstart,d=c.lookahead-2;do{c.ins_h=Up(c,c.ins_h,c.window[l+3-1]),c.prev[l&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=l,l++}while(--d);c.strstart=l,c.lookahead=2,qp(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=2,c.match_available=0,l.next_in=t,l.input=m,l.avail_in=Z,c.wrap=u,Kp},deflateInfo:"pako deflate (from Nodeca project)"};const Xy=(l,d)=>Object.prototype.hasOwnProperty.call(l,d);var sy={assign:function(l){const d=Array.prototype.slice.call(arguments,1);for(;d.length;){const b=d.shift();if(b){if("object"!=typeof b)throw new TypeError(b+"must be non-object");for(const d in b)Xy(b,d)&&(l[d]=b[d])}}return l},flattenChunks:l=>{let d=0;for(let b=0,c=l.length;b<c;b++)d+=l[b].length;const b=new Uint8Array(d);for(let d=0,c=0,u=l.length;d<u;d++){let u=l[d];b.set(u,c),c+=u.length}return b}};let Gy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){Gy=!1}const Wy=new Uint8Array(256);for(let l=0;l<256;l++)Wy[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;Wy[254]=Wy[254]=1;var hy={string2buf:l=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(l);let d,b,c,u,Z,t=l.length,m=0;for(u=0;u<t;u++)b=l.charCodeAt(u),55296==(64512&b)&&u+1<t&&(c=l.charCodeAt(u+1),56320==(64512&c)&&(b=65536+(b-55296<<10)+(c-56320),u++)),m+=b<128?1:b<2048?2:b<65536?3:4;for(d=new Uint8Array(m),Z=0,u=0;Z<m;u++)b=l.charCodeAt(u),55296==(64512&b)&&u+1<t&&(c=l.charCodeAt(u+1),56320==(64512&c)&&(b=65536+(b-55296<<10)+(c-56320),u++)),b<128?d[Z++]=b:b<2048?(d[Z++]=192|b>>>6,d[Z++]=128|63&b):b<65536?(d[Z++]=224|b>>>12,d[Z++]=128|b>>>6&63,d[Z++]=128|63&b):(d[Z++]=240|b>>>18,d[Z++]=128|b>>>12&63,d[Z++]=128|b>>>6&63,d[Z++]=128|63&b);return d},buf2string:(l,d)=>{const b=d||l.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(l.subarray(0,d));let c,u;const Z=new Array(2*b);for(u=0,c=0;c<b;){let d=l[c++];if(d<128){Z[u++]=d;continue}let t=Wy[d];if(t>4)Z[u++]=65533,c+=t-1;else{for(d&=2===t?31:3===t?15:7;t>1&&c<b;)d=d<<6|63&l[c++],t--;t>1?Z[u++]=65533:d<65536?Z[u++]=d:(d-=65536,Z[u++]=55296|d>>10&1023,Z[u++]=56320|1023&d)}}return((l,d)=>{if(d<65534&&l.subarray&&Gy)return String.fromCharCode.apply(null,l.length===d?l:l.subarray(0,d));let b="";for(let c=0;c<d;c++)b+=String.fromCharCode(l[c]);return b})(Z,u)},utf8border:(l,d)=>{(d=d||l.length)>l.length&&(d=l.length);let b=d-1;for(;b>=0&&128==(192&l[b]);)b--;return b<0||0===b?d:b+Wy[l[b]]>d?b:d}};var ey=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const oy=Object.prototype.toString,{Z_NO_FLUSH:py,Z_SYNC_FLUSH:yy,Z_FULL_FLUSH:Vy,Z_FINISH:Ry,Z_OK:Ly,Z_STREAM_END:Ky,Z_DEFAULT_COMPRESSION:ry,Z_DEFAULT_STRATEGY:xy,Z_DEFLATED:Sy}=sp;function Hy(l){this.options=sy.assign({level:ry,method:Sy,chunkSize:16384,windowBits:15,memLevel:8,strategy:xy},l||{});let d=this.options;d.raw&&d.windowBits>0?d.windowBits=-d.windowBits:d.gzip&&d.windowBits>0&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ey,this.strm.avail_out=0;let b=ay.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(b!==Ly)throw new Error(Xp[b]);if(d.header&&ay.deflateSetHeader(this.strm,d.header),d.dictionary){let l;if(l="string"==typeof d.dictionary?hy.string2buf(d.dictionary):"[object ArrayBuffer]"===oy.call(d.dictionary)?new Uint8Array(d.dictionary):d.dictionary,b=ay.deflateSetDictionary(this.strm,l),b!==Ly)throw new Error(Xp[b]);this._dict_set=!0}}Hy.prototype.push=function(l,d){const b=this.strm,c=this.options.chunkSize;let u,Z;if(this.ended)return!1;for(Z=d===~~d?d:!0===d?Ry:py,"string"==typeof l?b.input=hy.string2buf(l):"[object ArrayBuffer]"===oy.call(l)?b.input=new Uint8Array(l):b.input=l,b.next_in=0,b.avail_in=b.input.length;;)if(0===b.avail_out&&(b.output=new Uint8Array(c),b.next_out=0,b.avail_out=c),(Z===yy||Z===Vy)&&b.avail_out<=6)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else{if(u=ay.deflate(b,Z),u===Ky)return b.next_out>0&&this.onData(b.output.subarray(0,b.next_out)),u=ay.deflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===Ly;if(0!==b.avail_out){if(Z>0&&b.next_out>0)this.onData(b.output.subarray(0,b.next_out)),b.avail_out=0;else if(0===b.avail_in)break}else this.onData(b.output)}return!0},Hy.prototype.onData=function(l){this.chunks.push(l)},Hy.prototype.onEnd=function(l){l===Ly&&(this.result=sy.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg};const Yy=16209;var gy=function(l,d){let b,c,u,Z,t,m,n,i,a,X,s,G,W,h,e,o,p,y,V,R,L,K,r,x;const S=l.state;b=l.next_in,r=l.input,c=b+(l.avail_in-5),u=l.next_out,x=l.output,Z=u-(d-l.avail_out),t=u+(l.avail_out-257),m=S.dmax,n=S.wsize,i=S.whave,a=S.wnext,X=S.window,s=S.hold,G=S.bits,W=S.lencode,h=S.distcode,e=(1<<S.lenbits)-1,o=(1<<S.distbits)-1;l:do{G<15&&(s+=r[b++]<<G,G+=8,s+=r[b++]<<G,G+=8),p=W[s&e];d:for(;;){if(y=p>>>24,s>>>=y,G-=y,y=p>>>16&255,0===y)x[u++]=65535&p;else{if(!(16&y)){if(0==(64&y)){p=W[(65535&p)+(s&(1<<y)-1)];continue d}if(32&y){S.mode=16191;break l}l.msg="invalid literal/length code",S.mode=Yy;break l}V=65535&p,y&=15,y&&(G<y&&(s+=r[b++]<<G,G+=8),V+=s&(1<<y)-1,s>>>=y,G-=y),G<15&&(s+=r[b++]<<G,G+=8,s+=r[b++]<<G,G+=8),p=h[s&o];b:for(;;){if(y=p>>>24,s>>>=y,G-=y,y=p>>>16&255,!(16&y)){if(0==(64&y)){p=h[(65535&p)+(s&(1<<y)-1)];continue b}l.msg="invalid distance code",S.mode=Yy;break l}if(R=65535&p,y&=15,G<y&&(s+=r[b++]<<G,G+=8,G<y&&(s+=r[b++]<<G,G+=8)),R+=s&(1<<y)-1,R>m){l.msg="invalid distance too far back",S.mode=Yy;break l}if(s>>>=y,G-=y,y=u-Z,R>y){if(y=R-y,y>i&&S.sane){l.msg="invalid distance too far back",S.mode=Yy;break l}if(L=0,K=X,0===a){if(L+=n-y,y<V){V-=y;do{x[u++]=X[L++]}while(--y);L=u-R,K=x}}else if(a<y){if(L+=n+a-y,y-=a,y<V){V-=y;do{x[u++]=X[L++]}while(--y);if(L=0,a<V){y=a,V-=y;do{x[u++]=X[L++]}while(--y);L=u-R,K=x}}}else if(L+=a-y,y<V){V-=y;do{x[u++]=X[L++]}while(--y);L=u-R,K=x}for(;V>2;)x[u++]=K[L++],x[u++]=K[L++],x[u++]=K[L++],V-=3;V&&(x[u++]=K[L++],V>1&&(x[u++]=K[L++]))}else{L=u-R;do{x[u++]=x[L++],x[u++]=x[L++],x[u++]=x[L++],V-=3}while(V>2);V&&(x[u++]=x[L++],V>1&&(x[u++]=x[L++]))}break}}break}}while(b<c&&u<t);V=G>>3,b-=V,G-=V<<3,s&=(1<<G)-1,l.next_in=b,l.next_out=u,l.avail_in=b<c?c-b+5:5-(b-c),l.avail_out=u<t?t-u+257:257-(u-t),S.hold=s,S.bits=G};const Ay=15,Cy=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Iy=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Jy=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Fy=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var By=(l,d,b,c,u,Z,t,m)=>{const n=m.bits;let i,a,X,s,G,W,h=0,e=0,o=0,p=0,y=0,V=0,R=0,L=0,K=0,r=0,x=null;const S=new Uint16Array(16),H=new Uint16Array(16);let Y,g,A,C=null;for(h=0;h<=Ay;h++)S[h]=0;for(e=0;e<c;e++)S[d[b+e]]++;for(y=n,p=Ay;p>=1&&0===S[p];p--);if(y>p&&(y=p),0===p)return u[Z++]=20971520,u[Z++]=20971520,m.bits=1,0;for(o=1;o<p&&0===S[o];o++);for(y<o&&(y=o),L=1,h=1;h<=Ay;h++)if(L<<=1,L-=S[h],L<0)return-1;if(L>0&&(0===l||1!==p))return-1;for(H[1]=0,h=1;h<Ay;h++)H[h+1]=H[h]+S[h];for(e=0;e<c;e++)0!==d[b+e]&&(t[H[d[b+e]]++]=e);if(0===l?(x=C=t,W=20):1===l?(x=Cy,C=Iy,W=257):(x=Jy,C=Fy,W=0),r=0,e=0,h=o,G=Z,V=y,R=0,X=-1,K=1<<y,s=K-1,1===l&&K>852||2===l&&K>592)return 1;for(;;){Y=h-R,t[e]+1<W?(g=0,A=t[e]):t[e]>=W?(g=C[t[e]-W],A=x[t[e]-W]):(g=96,A=0),i=1<<h-R,a=1<<V,o=a;do{a-=i,u[G+(r>>R)+a]=Y<<24|g<<16|A|0}while(0!==a);for(i=1<<h-1;r&i;)i>>=1;if(0!==i?(r&=i-1,r+=i):r=0,e++,0==--S[h]){if(h===p)break;h=d[b+t[e]]}if(h>y&&(r&s)!==X){for(0===R&&(R=y),G+=o,V=h-R,L=1<<V;V+R<p&&(L-=S[V+R],!(L<=0));)V++,L<<=1;if(K+=1<<V,1===l&&K>852||2===l&&K>592)return 1;X=r&s,u[X]=y<<24|V<<16|G-Z|0}}return 0!==r&&(u[G+r]=h-R<<24|64<<16|0),m.bits=y,0};const{Z_FINISH:vy,Z_BLOCK:My,Z_TREES:zy,Z_OK:Ty,Z_STREAM_END:ky,Z_NEED_DICT:wy,Z_STREAM_ERROR:Ny,Z_DATA_ERROR:fy,Z_MEM_ERROR:Py,Z_BUF_ERROR:Uy,Z_DEFLATED:Qy}=sp,Ey=16180,jy=16190,Dy=16191,Oy=16192,_y=16194,qy=16199,$y=16200,lV=16206,dV=16209,bV=l=>(l>>>24&255)+(l>>>8&65280)+((65280&l)<<8)+((255&l)<<24);function cV(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uV=l=>{if(!l)return 1;const d=l.state;return!d||d.strm!==l||d.mode<Ey||d.mode>16211?1:0},ZV=l=>{if(uV(l))return Ny;const d=l.state;return l.total_in=l.total_out=d.total=0,l.msg="",d.wrap&&(l.adler=1&d.wrap),d.mode=Ey,d.last=0,d.havedict=0,d.flags=-1,d.dmax=32768,d.head=null,d.hold=0,d.bits=0,d.lencode=d.lendyn=new Int32Array(852),d.distcode=d.distdyn=new Int32Array(592),d.sane=1,d.back=-1,Ty},tV=l=>{if(uV(l))return Ny;const d=l.state;return d.wsize=0,d.whave=0,d.wnext=0,ZV(l)},mV=(l,d)=>{let b;if(uV(l))return Ny;const c=l.state;return d<0?(b=0,d=-d):(b=5+(d>>4),d<48&&(d&=15)),d&&(d<8||d>15)?Ny:(null!==c.window&&c.wbits!==d&&(c.window=null),c.wrap=b,c.wbits=d,tV(l))},nV=(l,d)=>{if(!l)return Ny;const b=new cV;l.state=b,b.strm=l,b.window=null,b.mode=Ey;const c=mV(l,d);return c!==Ty&&(l.state=null),c};let iV,aV,XV=!0;const sV=l=>{if(XV){iV=new Int32Array(512),aV=new Int32Array(32);let d=0;for(;d<144;)l.lens[d++]=8;for(;d<256;)l.lens[d++]=9;for(;d<280;)l.lens[d++]=7;for(;d<288;)l.lens[d++]=8;for(By(1,l.lens,0,288,iV,0,l.work,{bits:9}),d=0;d<32;)l.lens[d++]=5;By(2,l.lens,0,32,aV,0,l.work,{bits:5}),XV=!1}l.lencode=iV,l.lenbits=9,l.distcode=aV,l.distbits=5},GV=(l,d,b,c)=>{let u;const Z=l.state;return null===Z.window&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new Uint8Array(Z.wsize)),c>=Z.wsize?(Z.window.set(d.subarray(b-Z.wsize,b),0),Z.wnext=0,Z.whave=Z.wsize):(u=Z.wsize-Z.wnext,u>c&&(u=c),Z.window.set(d.subarray(b-c,b-c+u),Z.wnext),(c-=u)?(Z.window.set(d.subarray(b-c,b),0),Z.wnext=c,Z.whave=Z.wsize):(Z.wnext+=u,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=u))),0};var WV=(l,d)=>{let b,c,u,Z,t,m,n,i,a,X,s,G,W,h,e,o,p,y,V,R,L,K,r=0;const x=new Uint8Array(4);let S,H;const Y=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uV(l)||!l.output||!l.input&&0!==l.avail_in)return Ny;b=l.state,b.mode===Dy&&(b.mode=Oy),t=l.next_out,u=l.output,n=l.avail_out,Z=l.next_in,c=l.input,m=l.avail_in,i=b.hold,a=b.bits,X=m,s=n,K=Ty;l:for(;;)switch(b.mode){case Ey:if(0===b.wrap){b.mode=Oy;break}for(;a<16;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if(2&b.wrap&&35615===i){0===b.wbits&&(b.wbits=15),b.check=0,x[0]=255&i,x[1]=i>>>8&255,b.check=ap(b.check,x,2,0),i=0,a=0,b.mode=16181;break}if(b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&i)<<8)+(i>>8))%31){l.msg="incorrect header check",b.mode=dV;break}if((15&i)!==Qy){l.msg="unknown compression method",b.mode=dV;break}if(i>>>=4,a-=4,L=8+(15&i),0===b.wbits&&(b.wbits=L),L>15||L>b.wbits){l.msg="invalid window size",b.mode=dV;break}b.dmax=1<<b.wbits,b.flags=0,l.adler=b.check=1,b.mode=512&i?16189:Dy,i=0,a=0;break;case 16181:for(;a<16;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if(b.flags=i,(255&b.flags)!==Qy){l.msg="unknown compression method",b.mode=dV;break}if(57344&b.flags){l.msg="unknown header flags set",b.mode=dV;break}b.head&&(b.head.text=i>>8&1),512&b.flags&&4&b.wrap&&(x[0]=255&i,x[1]=i>>>8&255,b.check=ap(b.check,x,2,0)),i=0,a=0,b.mode=16182;case 16182:for(;a<32;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}b.head&&(b.head.time=i),512&b.flags&&4&b.wrap&&(x[0]=255&i,x[1]=i>>>8&255,x[2]=i>>>16&255,x[3]=i>>>24&255,b.check=ap(b.check,x,4,0)),i=0,a=0,b.mode=16183;case 16183:for(;a<16;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}b.head&&(b.head.xflags=255&i,b.head.os=i>>8),512&b.flags&&4&b.wrap&&(x[0]=255&i,x[1]=i>>>8&255,b.check=ap(b.check,x,2,0)),i=0,a=0,b.mode=16184;case 16184:if(1024&b.flags){for(;a<16;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}b.length=i,b.head&&(b.head.extra_len=i),512&b.flags&&4&b.wrap&&(x[0]=255&i,x[1]=i>>>8&255,b.check=ap(b.check,x,2,0)),i=0,a=0}else b.head&&(b.head.extra=null);b.mode=16185;case 16185:if(1024&b.flags&&(G=b.length,G>m&&(G=m),G&&(b.head&&(L=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Uint8Array(b.head.extra_len)),b.head.extra.set(c.subarray(Z,Z+G),L)),512&b.flags&&4&b.wrap&&(b.check=ap(b.check,c,G,Z)),m-=G,Z+=G,b.length-=G),b.length))break l;b.length=0,b.mode=16186;case 16186:if(2048&b.flags){if(0===m)break l;G=0;do{L=c[Z+G++],b.head&&L&&b.length<65536&&(b.head.name+=String.fromCharCode(L))}while(L&&G<m);if(512&b.flags&&4&b.wrap&&(b.check=ap(b.check,c,G,Z)),m-=G,Z+=G,L)break l}else b.head&&(b.head.name=null);b.length=0,b.mode=16187;case 16187:if(4096&b.flags){if(0===m)break l;G=0;do{L=c[Z+G++],b.head&&L&&b.length<65536&&(b.head.comment+=String.fromCharCode(L))}while(L&&G<m);if(512&b.flags&&4&b.wrap&&(b.check=ap(b.check,c,G,Z)),m-=G,Z+=G,L)break l}else b.head&&(b.head.comment=null);b.mode=16188;case 16188:if(512&b.flags){for(;a<16;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if(4&b.wrap&&i!==(65535&b.check)){l.msg="header crc mismatch",b.mode=dV;break}i=0,a=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),l.adler=b.check=0,b.mode=Dy;break;case 16189:for(;a<32;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}l.adler=b.check=bV(i),i=0,a=0,b.mode=jy;case jy:if(0===b.havedict)return l.next_out=t,l.avail_out=n,l.next_in=Z,l.avail_in=m,b.hold=i,b.bits=a,wy;l.adler=b.check=1,b.mode=Dy;case Dy:if(d===My||d===zy)break l;case Oy:if(b.last){i>>>=7&a,a-=7&a,b.mode=lV;break}for(;a<3;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}switch(b.last=1&i,i>>>=1,a-=1,3&i){case 0:b.mode=16193;break;case 1:if(sV(b),b.mode=qy,d===zy){i>>>=2,a-=2;break l}break;case 2:b.mode=16196;break;case 3:l.msg="invalid block type",b.mode=dV}i>>>=2,a-=2;break;case 16193:for(i>>>=7&a,a-=7&a;a<32;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if((65535&i)!=(i>>>16^65535)){l.msg="invalid stored block lengths",b.mode=dV;break}if(b.length=65535&i,i=0,a=0,b.mode=_y,d===zy)break l;case _y:b.mode=16195;case 16195:if(G=b.length,G){if(G>m&&(G=m),G>n&&(G=n),0===G)break l;u.set(c.subarray(Z,Z+G),t),m-=G,Z+=G,n-=G,t+=G,b.length-=G;break}b.mode=Dy;break;case 16196:for(;a<14;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if(b.nlen=257+(31&i),i>>>=5,a-=5,b.ndist=1+(31&i),i>>>=5,a-=5,b.ncode=4+(15&i),i>>>=4,a-=4,b.nlen>286||b.ndist>30){l.msg="too many length or distance symbols",b.mode=dV;break}b.have=0,b.mode=16197;case 16197:for(;b.have<b.ncode;){for(;a<3;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}b.lens[Y[b.have++]]=7&i,i>>>=3,a-=3}for(;b.have<19;)b.lens[Y[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,S={bits:b.lenbits},K=By(0,b.lens,0,19,b.lencode,0,b.work,S),b.lenbits=S.bits,K){l.msg="invalid code lengths set",b.mode=dV;break}b.have=0,b.mode=16198;case 16198:for(;b.have<b.nlen+b.ndist;){for(;r=b.lencode[i&(1<<b.lenbits)-1],e=r>>>24,o=r>>>16&255,p=65535&r,!(e<=a);){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if(p<16)i>>>=e,a-=e,b.lens[b.have++]=p;else{if(16===p){for(H=e+2;a<H;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if(i>>>=e,a-=e,0===b.have){l.msg="invalid bit length repeat",b.mode=dV;break}L=b.lens[b.have-1],G=3+(3&i),i>>>=2,a-=2}else if(17===p){for(H=e+3;a<H;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}i>>>=e,a-=e,L=0,G=3+(7&i),i>>>=3,a-=3}else{for(H=e+7;a<H;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}i>>>=e,a-=e,L=0,G=11+(127&i),i>>>=7,a-=7}if(b.have+G>b.nlen+b.ndist){l.msg="invalid bit length repeat",b.mode=dV;break}for(;G--;)b.lens[b.have++]=L}}if(b.mode===dV)break;if(0===b.lens[256]){l.msg="invalid code -- missing end-of-block",b.mode=dV;break}if(b.lenbits=9,S={bits:b.lenbits},K=By(1,b.lens,0,b.nlen,b.lencode,0,b.work,S),b.lenbits=S.bits,K){l.msg="invalid literal/lengths set",b.mode=dV;break}if(b.distbits=6,b.distcode=b.distdyn,S={bits:b.distbits},K=By(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,S),b.distbits=S.bits,K){l.msg="invalid distances set",b.mode=dV;break}if(b.mode=qy,d===zy)break l;case qy:b.mode=$y;case $y:if(m>=6&&n>=258){l.next_out=t,l.avail_out=n,l.next_in=Z,l.avail_in=m,b.hold=i,b.bits=a,gy(l,s),t=l.next_out,u=l.output,n=l.avail_out,Z=l.next_in,c=l.input,m=l.avail_in,i=b.hold,a=b.bits,b.mode===Dy&&(b.back=-1);break}for(b.back=0;r=b.lencode[i&(1<<b.lenbits)-1],e=r>>>24,o=r>>>16&255,p=65535&r,!(e<=a);){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if(o&&0==(240&o)){for(y=e,V=o,R=p;r=b.lencode[R+((i&(1<<y+V)-1)>>y)],e=r>>>24,o=r>>>16&255,p=65535&r,!(y+e<=a);){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}i>>>=y,a-=y,b.back+=y}if(i>>>=e,a-=e,b.back+=e,b.length=p,0===o){b.mode=16205;break}if(32&o){b.back=-1,b.mode=Dy;break}if(64&o){l.msg="invalid literal/length code",b.mode=dV;break}b.extra=15&o,b.mode=16201;case 16201:if(b.extra){for(H=b.extra;a<H;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}b.length+=i&(1<<b.extra)-1,i>>>=b.extra,a-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=16202;case 16202:for(;r=b.distcode[i&(1<<b.distbits)-1],e=r>>>24,o=r>>>16&255,p=65535&r,!(e<=a);){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if(0==(240&o)){for(y=e,V=o,R=p;r=b.distcode[R+((i&(1<<y+V)-1)>>y)],e=r>>>24,o=r>>>16&255,p=65535&r,!(y+e<=a);){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}i>>>=y,a-=y,b.back+=y}if(i>>>=e,a-=e,b.back+=e,64&o){l.msg="invalid distance code",b.mode=dV;break}b.offset=p,b.extra=15&o,b.mode=16203;case 16203:if(b.extra){for(H=b.extra;a<H;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}b.offset+=i&(1<<b.extra)-1,i>>>=b.extra,a-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){l.msg="invalid distance too far back",b.mode=dV;break}b.mode=16204;case 16204:if(0===n)break l;if(G=s-n,b.offset>G){if(G=b.offset-G,G>b.whave&&b.sane){l.msg="invalid distance too far back",b.mode=dV;break}G>b.wnext?(G-=b.wnext,W=b.wsize-G):W=b.wnext-G,G>b.length&&(G=b.length),h=b.window}else h=u,W=t-b.offset,G=b.length;G>n&&(G=n),n-=G,b.length-=G;do{u[t++]=h[W++]}while(--G);0===b.length&&(b.mode=$y);break;case 16205:if(0===n)break l;u[t++]=b.length,n--,b.mode=$y;break;case lV:if(b.wrap){for(;a<32;){if(0===m)break l;m--,i|=c[Z++]<<a,a+=8}if(s-=n,l.total_out+=s,b.total+=s,4&b.wrap&&s&&(l.adler=b.check=b.flags?ap(b.check,u,s,t-s):np(b.check,u,s,t-s)),s=n,4&b.wrap&&(b.flags?i:bV(i))!==b.check){l.msg="incorrect data check",b.mode=dV;break}i=0,a=0}b.mode=16207;case 16207:if(b.wrap&&b.flags){for(;a<32;){if(0===m)break l;m--,i+=c[Z++]<<a,a+=8}if(4&b.wrap&&i!==(4294967295&b.total)){l.msg="incorrect length check",b.mode=dV;break}i=0,a=0}b.mode=16208;case 16208:K=ky;break l;case dV:K=fy;break l;case 16210:return Py;default:return Ny}return l.next_out=t,l.avail_out=n,l.next_in=Z,l.avail_in=m,b.hold=i,b.bits=a,(b.wsize||s!==l.avail_out&&b.mode<dV&&(b.mode<lV||d!==vy))&&GV(l,l.output,l.next_out,s-l.avail_out),X-=l.avail_in,s-=l.avail_out,l.total_in+=X,l.total_out+=s,b.total+=s,4&b.wrap&&s&&(l.adler=b.check=b.flags?ap(b.check,u,s,l.next_out-s):np(b.check,u,s,l.next_out-s)),l.data_type=b.bits+(b.last?64:0)+(b.mode===Dy?128:0)+(b.mode===qy||b.mode===_y?256:0),(0===X&&0===s||d===vy)&&K===Ty&&(K=Uy),K},hV=l=>{if(uV(l))return Ny;let d=l.state;return d.window&&(d.window=null),l.state=null,Ty},eV=(l,d)=>{if(uV(l))return Ny;const b=l.state;return 0==(2&b.wrap)?Ny:(b.head=d,d.done=!1,Ty)},oV=(l,d)=>{const b=d.length;let c,u,Z;return uV(l)?Ny:(c=l.state,0!==c.wrap&&c.mode!==jy?Ny:c.mode===jy&&(u=1,u=np(u,d,b,0),u!==c.check)?fy:(Z=GV(l,d,b,b),Z?(c.mode=16210,Py):(c.havedict=1,Ty)))},pV={inflateReset:tV,inflateReset2:mV,inflateResetKeep:ZV,inflateInit:l=>nV(l,15),inflateInit2:nV,inflate:WV,inflateEnd:hV,inflateGetHeader:eV,inflateSetDictionary:oV,inflateInfo:"pako inflate (from Nodeca project)"};var yV=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const VV=Object.prototype.toString,{Z_NO_FLUSH:RV,Z_FINISH:LV,Z_OK:KV,Z_STREAM_END:rV,Z_NEED_DICT:xV,Z_STREAM_ERROR:SV,Z_DATA_ERROR:HV,Z_MEM_ERROR:YV}=sp;function gV(l){this.options=sy.assign({chunkSize:65536,windowBits:15,to:""},l||{});const d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,0===d.windowBits&&(d.windowBits=-15)),!(d.windowBits>=0&&d.windowBits<16)||l&&l.windowBits||(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&0==(15&d.windowBits)&&(d.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ey,this.strm.avail_out=0;let b=pV.inflateInit2(this.strm,d.windowBits);if(b!==KV)throw new Error(Xp[b]);if(this.header=new yV,pV.inflateGetHeader(this.strm,this.header),d.dictionary&&("string"==typeof d.dictionary?d.dictionary=hy.string2buf(d.dictionary):"[object ArrayBuffer]"===VV.call(d.dictionary)&&(d.dictionary=new Uint8Array(d.dictionary)),d.raw&&(b=pV.inflateSetDictionary(this.strm,d.dictionary),b!==KV)))throw new Error(Xp[b])}function AV(l,d){const b=new gV(d);if(b.push(l),b.err)throw b.msg||Xp[b.err];return b.result}gV.prototype.push=function(l,d){const b=this.strm,c=this.options.chunkSize,u=this.options.dictionary;let Z,t,m;if(this.ended)return!1;for(t=d===~~d?d:!0===d?LV:RV,"[object ArrayBuffer]"===VV.call(l)?b.input=new Uint8Array(l):b.input=l,b.next_in=0,b.avail_in=b.input.length;;){for(0===b.avail_out&&(b.output=new Uint8Array(c),b.next_out=0,b.avail_out=c),Z=pV.inflate(b,t),Z===xV&&u&&(Z=pV.inflateSetDictionary(b,u),Z===KV?Z=pV.inflate(b,t):Z===HV&&(Z=xV));b.avail_in>0&&Z===rV&&b.state.wrap>0&&0!==l[b.next_in];)pV.inflateReset(b),Z=pV.inflate(b,t);switch(Z){case SV:case HV:case xV:case YV:return this.onEnd(Z),this.ended=!0,!1}if(m=b.avail_out,b.next_out&&(0===b.avail_out||Z===rV))if("string"===this.options.to){let l=hy.utf8border(b.output,b.next_out),d=b.next_out-l,u=hy.buf2string(b.output,l);b.next_out=d,b.avail_out=c-d,d&&b.output.set(b.output.subarray(l,l+d),0),this.onData(u)}else this.onData(b.output.length===b.next_out?b.output:b.output.subarray(0,b.next_out));if(Z!==KV||0!==m){if(Z===rV)return Z=pV.inflateEnd(this.strm),this.onEnd(Z),this.ended=!0,!0;if(0===b.avail_in)break}}return!0},gV.prototype.onData=function(l){this.chunks.push(l)},gV.prototype.onEnd=function(l){l===KV&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=sy.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg};var CV={Inflate:gV,inflate:AV,inflateRaw:function(l,d){return(d=d||{}).raw=!0,AV(l,d)},ungzip:AV,constants:sp};const{Inflate:IV,inflate:JV,inflateRaw:FV,ungzip:BV}=CV;var vV=JV;var MV=Object.freeze({__proto__:null,default:class extends ut{decodeBlock(l){return vV(new Uint8Array(l)).buffer}}});var zV=Object.freeze({__proto__:null,default:class extends ut{decodeBlock(l){const d=new DataView(l),b=[];for(let c=0;c<l.byteLength;++c){let l=d.getInt8(c);if(l<0){const u=d.getUint8(c+1);l=-l;for(let d=0;d<=l;++d)b.push(u);c+=1}else{for(let u=0;u<=l;++u)b.push(d.getUint8(c+u+1));c+=l+1}}return new Uint8Array(b).buffer}}}),TV={};let kV,wV,NV;!function(l){
/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */
!function(){var d,b,c=function(){var l={defaultNoDataValue:-34027999387901484e22,decode:function(Z,t){var m=(t=t||{}).encodedMaskData||null===t.encodedMaskData,n=u(Z,t.inputOffset||0,m),i=null!==t.noDataValue?t.noDataValue:l.defaultNoDataValue,a=d(n,t.pixelType||Float32Array,t.encodedMaskData,i,t.returnMask),X={width:n.width,height:n.height,pixelData:a.resultPixels,minValue:a.minValue,maxValue:n.pixels.maxValue,noDataValue:i};return a.resultMask&&(X.maskData=a.resultMask),t.returnEncodedMask&&n.mask&&(X.encodedMaskData=n.mask.bitset?n.mask.bitset:null),t.returnFileInfo&&(X.fileInfo=b(n),t.computeUsedBitDepths&&(X.fileInfo.bitDepths=c(n))),X}},d=function(l,d,b,c,u){var t,m,n,i=0,a=l.pixels.numBlocksX,X=l.pixels.numBlocksY,s=Math.floor(l.width/a),G=Math.floor(l.height/X),W=2*l.maxZError,h=Number.MAX_VALUE;b=b||(l.mask?l.mask.bitset:null),m=new d(l.width*l.height),u&&b&&(n=new Uint8Array(l.width*l.height));for(var e,o,p=new Float32Array(s*G),y=0;y<=X;y++){var V=y!==X?G:l.height%X;if(0!==V)for(var R=0;R<=a;R++){var L=R!==a?s:l.width%a;if(0!==L){var K,r,x,S,H=y*l.width*G+R*s,Y=l.width-L,g=l.pixels.blocks[i];if(g.encoding<2?(0===g.encoding?K=g.rawData:(Z(g.stuffedData,g.bitsPerPixel,g.numValidPixels,g.offset,W,p,l.pixels.maxValue),K=p),r=0):x=2===g.encoding?0:g.offset,b)for(o=0;o<V;o++){for(7&H&&(S=b[H>>3],S<<=7&H),e=0;e<L;e++)7&H||(S=b[H>>3]),128&S?(n&&(n[H]=1),h=h>(t=g.encoding<2?K[r++]:x)?t:h,m[H++]=t):(n&&(n[H]=0),m[H++]=c),S<<=1;H+=Y}else if(g.encoding<2)for(o=0;o<V;o++){for(e=0;e<L;e++)h=h>(t=K[r++])?t:h,m[H++]=t;H+=Y}else for(h=h>x?x:h,o=0;o<V;o++){for(e=0;e<L;e++)m[H++]=x;H+=Y}if(1===g.encoding&&r!==g.numValidPixels)throw"Block and Mask do not match";i++}}}return{resultPixels:m,resultMask:n,minValue:h}},b=function(l){return{fileIdentifierString:l.fileIdentifierString,fileVersion:l.fileVersion,imageType:l.imageType,height:l.height,width:l.width,maxZError:l.maxZError,eofOffset:l.eofOffset,mask:l.mask?{numBlocksX:l.mask.numBlocksX,numBlocksY:l.mask.numBlocksY,numBytes:l.mask.numBytes,maxValue:l.mask.maxValue}:null,pixels:{numBlocksX:l.pixels.numBlocksX,numBlocksY:l.pixels.numBlocksY,numBytes:l.pixels.numBytes,maxValue:l.pixels.maxValue,noDataValue:l.noDataValue}}},c=function(l){for(var d=l.pixels.numBlocksX*l.pixels.numBlocksY,b={},c=0;c<d;c++){var u=l.pixels.blocks[c];0===u.encoding?b.float32=!0:1===u.encoding?b[u.bitsPerPixel]=!0:b[0]=!0}return Object.keys(b)},u=function(l,d,b){var c={},u=new Uint8Array(l,d,10);if(c.fileIdentifierString=String.fromCharCode.apply(null,u),"CntZImage"!==c.fileIdentifierString.trim())throw"Unexpected file identifier string: "+c.fileIdentifierString;d+=10;var Z=new DataView(l,d,24);if(c.fileVersion=Z.getInt32(0,!0),c.imageType=Z.getInt32(4,!0),c.height=Z.getUint32(8,!0),c.width=Z.getUint32(12,!0),c.maxZError=Z.getFloat64(16,!0),d+=24,!b)if(Z=new DataView(l,d,16),c.mask={},c.mask.numBlocksY=Z.getUint32(0,!0),c.mask.numBlocksX=Z.getUint32(4,!0),c.mask.numBytes=Z.getUint32(8,!0),c.mask.maxValue=Z.getFloat32(12,!0),d+=16,c.mask.numBytes>0){var t=new Uint8Array(Math.ceil(c.width*c.height/8)),m=(Z=new DataView(l,d,c.mask.numBytes)).getInt16(0,!0),n=2,i=0;do{if(m>0)for(;m--;)t[i++]=Z.getUint8(n++);else{var a=Z.getUint8(n++);for(m=-m;m--;)t[i++]=a}m=Z.getInt16(n,!0),n+=2}while(n<c.mask.numBytes);if(-32768!==m||i<t.length)throw"Unexpected end of mask RLE encoding";c.mask.bitset=t,d+=c.mask.numBytes}else 0==(c.mask.numBytes|c.mask.numBlocksY|c.mask.maxValue)&&(c.mask.bitset=new Uint8Array(Math.ceil(c.width*c.height/8)));Z=new DataView(l,d,16),c.pixels={},c.pixels.numBlocksY=Z.getUint32(0,!0),c.pixels.numBlocksX=Z.getUint32(4,!0),c.pixels.numBytes=Z.getUint32(8,!0),c.pixels.maxValue=Z.getFloat32(12,!0),d+=16;var X=c.pixels.numBlocksX,s=c.pixels.numBlocksY,G=X+(c.width%X>0?1:0),W=s+(c.height%s>0?1:0);c.pixels.blocks=new Array(G*W);for(var h=0,e=0;e<W;e++)for(var o=0;o<G;o++){var p=0,y=l.byteLength-d;Z=new DataView(l,d,Math.min(10,y));var V={};c.pixels.blocks[h++]=V;var R=Z.getUint8(0);if(p++,V.encoding=63&R,V.encoding>3)throw"Invalid block encoding ("+V.encoding+")";if(2!==V.encoding){if(0!==R&&2!==R){if(R>>=6,V.offsetType=R,2===R)V.offset=Z.getInt8(1),p++;else if(1===R)V.offset=Z.getInt16(1,!0),p+=2;else{if(0!==R)throw"Invalid block offset type";V.offset=Z.getFloat32(1,!0),p+=4}if(1===V.encoding)if(R=Z.getUint8(p),p++,V.bitsPerPixel=63&R,R>>=6,V.numValidPixelsType=R,2===R)V.numValidPixels=Z.getUint8(p),p++;else if(1===R)V.numValidPixels=Z.getUint16(p,!0),p+=2;else{if(0!==R)throw"Invalid valid pixel count type";V.numValidPixels=Z.getUint32(p,!0),p+=4}}var L;if(d+=p,3!==V.encoding)if(0===V.encoding){var K=(c.pixels.numBytes-1)/4;if(K!==Math.floor(K))throw"uncompressed block has invalid length";L=new ArrayBuffer(4*K),new Uint8Array(L).set(new Uint8Array(l,d,4*K));var r=new Float32Array(L);V.rawData=r,d+=4*K}else if(1===V.encoding){var x=Math.ceil(V.numValidPixels*V.bitsPerPixel/8),S=Math.ceil(x/4);L=new ArrayBuffer(4*S),new Uint8Array(L).set(new Uint8Array(l,d,x)),V.stuffedData=new Uint32Array(L),d+=x}}else d++}return c.eofOffset=d,c},Z=function(l,d,b,c,u,Z,t){var m,n,i,a=(1<<d)-1,X=0,s=0,G=Math.ceil((t-c)/u),W=4*l.length-Math.ceil(d*b/8);for(l[l.length-1]<<=8*W,m=0;m<b;m++){if(0===s&&(i=l[X++],s=32),s>=d)n=i>>>s-d&a,s-=d;else{var h=d-s;n=(i&a)<<h&a,n+=(i=l[X++])>>>(s=32-h)}Z[m]=n<G?c+n*u:t}return Z};return l}(),u=function(){var l=function(l,d,b,c,u,Z,t,m){var n,i,a,X,s,G=(1<<b)-1,W=0,h=0,e=4*l.length-Math.ceil(b*c/8);if(l[l.length-1]<<=8*e,u)for(n=0;n<c;n++)0===h&&(a=l[W++],h=32),h>=b?(i=a>>>h-b&G,h-=b):(i=(a&G)<<(X=b-h)&G,i+=(a=l[W++])>>>(h=32-X)),d[n]=u[i];else for(s=Math.ceil((m-Z)/t),n=0;n<c;n++)0===h&&(a=l[W++],h=32),h>=b?(i=a>>>h-b&G,h-=b):(i=(a&G)<<(X=b-h)&G,i+=(a=l[W++])>>>(h=32-X)),d[n]=i<s?Z+i*t:m},d=function(l,d,b,c,u,Z){var t,m=(1<<d)-1,n=0,i=0,a=0,X=0,s=0,G=[],W=4*l.length-Math.ceil(d*b/8);l[l.length-1]<<=8*W;var h=Math.ceil((Z-c)/u);for(i=0;i<b;i++)0===X&&(t=l[n++],X=32),X>=d?(s=t>>>X-d&m,X-=d):(s=(t&m)<<(a=d-X)&m,s+=(t=l[n++])>>>(X=32-a)),G[i]=s<h?c+s*u:Z;return G.unshift(c),G},b=function(l,d,b,c,u,Z,t,m){var n,i,a,X,s=(1<<b)-1,G=0,W=0,h=0;if(u)for(n=0;n<c;n++)0===W&&(a=l[G++],W=32,h=0),W>=b?(i=a>>>h&s,W-=b,h+=b):(i=a>>>h&s,W=32-(X=b-W),i|=((a=l[G++])&(1<<X)-1)<<b-X,h=X),d[n]=u[i];else{var e=Math.ceil((m-Z)/t);for(n=0;n<c;n++)0===W&&(a=l[G++],W=32,h=0),W>=b?(i=a>>>h&s,W-=b,h+=b):(i=a>>>h&s,W=32-(X=b-W),i|=((a=l[G++])&(1<<X)-1)<<b-X,h=X),d[n]=i<e?Z+i*t:m}return d},c=function(l,d,b,c,u,Z){var t,m=(1<<d)-1,n=0,i=0,a=0,X=0,s=0,G=0,W=[],h=Math.ceil((Z-c)/u);for(i=0;i<b;i++)0===X&&(t=l[n++],X=32,G=0),X>=d?(s=t>>>G&m,X-=d,G+=d):(s=t>>>G&m,X=32-(a=d-X),s|=((t=l[n++])&(1<<a)-1)<<d-a,G=a),W[i]=s<h?c+s*u:Z;return W.unshift(c),W},u=function(l,d,b,c){var u,Z,t,m,n=(1<<b)-1,i=0,a=0,X=4*l.length-Math.ceil(b*c/8);for(l[l.length-1]<<=8*X,u=0;u<c;u++)0===a&&(t=l[i++],a=32),a>=b?(Z=t>>>a-b&n,a-=b):(Z=(t&n)<<(m=b-a)&n,Z+=(t=l[i++])>>>(a=32-m)),d[u]=Z;return d},Z=function(l,d,b,c){var u,Z,t,m,n=(1<<b)-1,i=0,a=0,X=0;for(u=0;u<c;u++)0===a&&(t=l[i++],a=32,X=0),a>=b?(Z=t>>>X&n,a-=b,X+=b):(Z=t>>>X&n,a=32-(m=b-a),Z|=((t=l[i++])&(1<<m)-1)<<b-m,X=m),d[u]=Z;return d},t={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(l){for(var d=65535,b=65535,c=l.length,u=Math.floor(c/2),Z=0;u;){var t=u>=359?359:u;u-=t;do{d+=l[Z++]<<8,b+=d+=l[Z++]}while(--t);d=(65535&d)+(d>>>16),b=(65535&b)+(b>>>16)}return 1&c&&(b+=d+=l[Z]<<8),((b=(65535&b)+(b>>>16))<<16|(d=(65535&d)+(d>>>16)))>>>0},readHeaderInfo:function(l,d){var b=d.ptr,c=new Uint8Array(l,b,6),u={};if(u.fileIdentifierString=String.fromCharCode.apply(null,c),0!==u.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+u.fileIdentifierString;b+=6;var Z,t=new DataView(l,b,8),m=t.getInt32(0,!0);if(u.fileVersion=m,b+=4,m>=3&&(u.checksum=t.getUint32(4,!0),b+=4),t=new DataView(l,b,12),u.height=t.getUint32(0,!0),u.width=t.getUint32(4,!0),b+=8,m>=4?(u.numDims=t.getUint32(8,!0),b+=4):u.numDims=1,t=new DataView(l,b,40),u.numValidPixel=t.getUint32(0,!0),u.microBlockSize=t.getInt32(4,!0),u.blobSize=t.getInt32(8,!0),u.imageType=t.getInt32(12,!0),u.maxZError=t.getFloat64(16,!0),u.zMin=t.getFloat64(24,!0),u.zMax=t.getFloat64(32,!0),b+=40,d.headerInfo=u,d.ptr=b,m>=3&&(Z=m>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(l,b-Z,u.blobSize-14))!==u.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(l,d){var b=d.headerInfo,c=this.getDataTypeArray(b.imageType),u=b.numDims*this.getDataTypeSize(b.imageType),Z=this.readSubArray(l,d.ptr,c,u),t=this.readSubArray(l,d.ptr+u,c,u);d.ptr+=2*u;var m,n=!0;for(m=0;m<b.numDims;m++)if(Z[m]!==t[m]){n=!1;break}return b.minValues=Z,b.maxValues=t,n},readSubArray:function(l,d,b,c){var u;if(b===Uint8Array)u=new Uint8Array(l,d,c);else{var Z=new ArrayBuffer(c);new Uint8Array(Z).set(new Uint8Array(l,d,c)),u=new b(Z)}return u},readMask:function(l,d){var b,c,u=d.ptr,Z=d.headerInfo,t=Z.width*Z.height,m=Z.numValidPixel,n=new DataView(l,u,4),i={};if(i.numBytes=n.getUint32(0,!0),u+=4,(0===m||t===m)&&0!==i.numBytes)throw"invalid mask";if(0===m)b=new Uint8Array(Math.ceil(t/8)),i.bitset=b,c=new Uint8Array(t),d.pixels.resultMask=c,u+=i.numBytes;else if(i.numBytes>0){b=new Uint8Array(Math.ceil(t/8));var a=(n=new DataView(l,u,i.numBytes)).getInt16(0,!0),X=2,s=0,G=0;do{if(a>0)for(;a--;)b[s++]=n.getUint8(X++);else for(G=n.getUint8(X++),a=-a;a--;)b[s++]=G;a=n.getInt16(X,!0),X+=2}while(X<i.numBytes);if(-32768!==a||s<b.length)throw"Unexpected end of mask RLE encoding";c=new Uint8Array(t);var W=0,h=0;for(h=0;h<t;h++)7&h?(W=b[h>>3],W<<=7&h):W=b[h>>3],128&W&&(c[h]=1);d.pixels.resultMask=c,i.bitset=b,u+=i.numBytes}return d.ptr=u,d.mask=i,!0},readDataOneSweep:function(l,d,b,c){var u,Z=d.ptr,m=d.headerInfo,n=m.numDims,i=m.width*m.height,a=m.imageType,X=m.numValidPixel*t.getDataTypeSize(a)*n,s=d.pixels.resultMask;if(b===Uint8Array)u=new Uint8Array(l,Z,X);else{var G=new ArrayBuffer(X);new Uint8Array(G).set(new Uint8Array(l,Z,X)),u=new b(G)}if(u.length===i*n)d.pixels.resultPixels=c?t.swapDimensionOrder(u,i,n,b,!0):u;else{d.pixels.resultPixels=new b(i*n);var W=0,h=0,e=0,o=0;if(n>1){if(c){for(h=0;h<i;h++)if(s[h])for(o=h,e=0;e<n;e++,o+=i)d.pixels.resultPixels[o]=u[W++]}else for(h=0;h<i;h++)if(s[h])for(o=h*n,e=0;e<n;e++)d.pixels.resultPixels[o+e]=u[W++]}else for(h=0;h<i;h++)s[h]&&(d.pixels.resultPixels[h]=u[W++])}return Z+=X,d.ptr=Z,!0},readHuffmanTree:function(l,d){var b=this.HUFFMAN_LUT_BITS_MAX,c=new DataView(l,d.ptr,16);if(d.ptr+=16,c.getInt32(0,!0)<2)throw"unsupported Huffman version";var u=c.getInt32(4,!0),Z=c.getInt32(8,!0),n=c.getInt32(12,!0);if(Z>=n)return!1;var i=new Uint32Array(n-Z);t.decodeBits(l,d,i);var a,X,s,G,W=[];for(a=Z;a<n;a++)W[X=a-(a<u?0:u)]={first:i[a-Z],second:null};var h=l.byteLength-d.ptr,e=Math.ceil(h/4),o=new ArrayBuffer(4*e);new Uint8Array(o).set(new Uint8Array(l,d.ptr,h));var p,y=new Uint32Array(o),V=0,R=0;for(p=y[0],a=Z;a<n;a++)(G=W[X=a-(a<u?0:u)].first)>0&&(W[X].second=p<<V>>>32-G,32-V>=G?32===(V+=G)&&(V=0,p=y[++R]):(V+=G-32,p=y[++R],W[X].second|=p>>>32-V));var L=0,K=0,r=new m;for(a=0;a<W.length;a++)void 0!==W[a]&&(L=Math.max(L,W[a].first));K=L>=b?b:L;var x,S,H,Y,g,A=[];for(a=Z;a<n;a++)if((G=W[X=a-(a<u?0:u)].first)>0)if(x=[G,X],G<=K)for(S=W[X].second<<K-G,H=1<<K-G,s=0;s<H;s++)A[S|s]=x;else for(S=W[X].second,g=r,Y=G-1;Y>=0;Y--)S>>>Y&1?(g.right||(g.right=new m),g=g.right):(g.left||(g.left=new m),g=g.left),0!==Y||g.val||(g.val=x[1]);return{decodeLut:A,numBitsLUTQick:K,numBitsLUT:L,tree:r,stuffedData:y,srcPtr:R,bitPos:V}},readHuffman:function(l,d,b,c){var u,Z,m,n,i,a,X,s,G,W=d.headerInfo.numDims,h=d.headerInfo.height,e=d.headerInfo.width,o=e*h,p=this.readHuffmanTree(l,d),y=p.decodeLut,V=p.tree,R=p.stuffedData,L=p.srcPtr,K=p.bitPos,r=p.numBitsLUTQick,x=p.numBitsLUT,S=0===d.headerInfo.imageType?128:0,H=d.pixels.resultMask,Y=0;K>0&&(L++,K=0);var g,A=R[L],C=1===d.encodeMode,I=new b(o*W),J=I;if(W<2||C){for(g=0;g<W;g++)if(W>1&&(J=new b(I.buffer,o*g,o),Y=0),d.headerInfo.numValidPixel===e*h)for(s=0,a=0;a<h;a++)for(X=0;X<e;X++,s++){if(Z=0,i=n=A<<K>>>32-r,32-K<r&&(i=n|=R[L+1]>>>64-K-r),y[i])Z=y[i][1],K+=y[i][0];else for(i=n=A<<K>>>32-x,32-K<x&&(i=n|=R[L+1]>>>64-K-x),u=V,G=0;G<x;G++)if(!(u=n>>>x-G-1&1?u.right:u.left).left&&!u.right){Z=u.val,K=K+G+1;break}K>=32&&(K-=32,A=R[++L]),m=Z-S,C?(m+=X>0?Y:a>0?J[s-e]:Y,m&=255,J[s]=m,Y=m):J[s]=m}else for(s=0,a=0;a<h;a++)for(X=0;X<e;X++,s++)if(H[s]){if(Z=0,i=n=A<<K>>>32-r,32-K<r&&(i=n|=R[L+1]>>>64-K-r),y[i])Z=y[i][1],K+=y[i][0];else for(i=n=A<<K>>>32-x,32-K<x&&(i=n|=R[L+1]>>>64-K-x),u=V,G=0;G<x;G++)if(!(u=n>>>x-G-1&1?u.right:u.left).left&&!u.right){Z=u.val,K=K+G+1;break}K>=32&&(K-=32,A=R[++L]),m=Z-S,C?(X>0&&H[s-1]?m+=Y:a>0&&H[s-e]?m+=J[s-e]:m+=Y,m&=255,J[s]=m,Y=m):J[s]=m}}else for(s=0,a=0;a<h;a++)for(X=0;X<e;X++)if(s=a*e+X,!H||H[s])for(g=0;g<W;g++,s+=o){if(Z=0,i=n=A<<K>>>32-r,32-K<r&&(i=n|=R[L+1]>>>64-K-r),y[i])Z=y[i][1],K+=y[i][0];else for(i=n=A<<K>>>32-x,32-K<x&&(i=n|=R[L+1]>>>64-K-x),u=V,G=0;G<x;G++)if(!(u=n>>>x-G-1&1?u.right:u.left).left&&!u.right){Z=u.val,K=K+G+1;break}K>=32&&(K-=32,A=R[++L]),m=Z-S,J[s]=m}d.ptr=d.ptr+4*(L+1)+(K>0?4:0),d.pixels.resultPixels=I,W>1&&!c&&(d.pixels.resultPixels=t.swapDimensionOrder(I,o,W,b))},decodeBits:function(t,m,n,i,a){var X=m.headerInfo,s=X.fileVersion,G=0,W=t.byteLength-m.ptr>=5?5:t.byteLength-m.ptr,h=new DataView(t,m.ptr,W),e=h.getUint8(0);G++;var o=e>>6,p=0===o?4:3-o,y=(32&e)>0,V=31&e,R=0;if(1===p)R=h.getUint8(G),G++;else if(2===p)R=h.getUint16(G,!0),G+=2;else{if(4!==p)throw"Invalid valid pixel count type";R=h.getUint32(G,!0),G+=4}var L,K,r,x,S,H,Y,g,A,C=2*X.maxZError,I=X.numDims>1?X.maxValues[a]:X.zMax;if(y){for(m.counter.lut++,g=h.getUint8(G),G++,x=Math.ceil((g-1)*V/8),S=Math.ceil(x/4),K=new ArrayBuffer(4*S),r=new Uint8Array(K),m.ptr+=G,r.set(new Uint8Array(t,m.ptr,x)),Y=new Uint32Array(K),m.ptr+=x,A=0;g-1>>>A;)A++;x=Math.ceil(R*A/8),S=Math.ceil(x/4),K=new ArrayBuffer(4*S),(r=new Uint8Array(K)).set(new Uint8Array(t,m.ptr,x)),L=new Uint32Array(K),m.ptr+=x,H=s>=3?c(Y,V,g-1,i,C,I):d(Y,V,g-1,i,C,I),s>=3?b(L,n,A,R,H):l(L,n,A,R,H)}else m.counter.bitstuffer++,A=V,m.ptr+=G,A>0&&(x=Math.ceil(R*A/8),S=Math.ceil(x/4),K=new ArrayBuffer(4*S),(r=new Uint8Array(K)).set(new Uint8Array(t,m.ptr,x)),L=new Uint32Array(K),m.ptr+=x,s>=3?null==i?Z(L,n,A,R):b(L,n,A,R,!1,i,C,I):null==i?u(L,n,A,R):l(L,n,A,R,!1,i,C,I))},readTiles:function(l,d,b,c){var u=d.headerInfo,Z=u.width,m=u.height,n=Z*m,i=u.microBlockSize,a=u.imageType,X=t.getDataTypeSize(a),s=Math.ceil(Z/i),G=Math.ceil(m/i);d.pixels.numBlocksY=G,d.pixels.numBlocksX=s,d.pixels.ptr=0;var W,h,e,o,p,y,V,R,L,K,r=0,x=0,S=0,H=0,Y=0,g=0,A=0,C=0,I=0,J=0,F=0,B=0,v=0,M=0,z=0,T=new b(i*i),k=m%i||i,w=Z%i||i,N=u.numDims,f=d.pixels.resultMask,P=d.pixels.resultPixels,U=u.fileVersion>=5?14:15,Q=u.zMax;for(S=0;S<G;S++)for(Y=S!==G-1?i:k,H=0;H<s;H++)for(J=S*Z*i+H*i,F=Z-(g=H!==s-1?i:w),R=0;R<N;R++){if(N>1?(K=P,J=S*Z*i+H*i,P=new b(d.pixels.resultPixels.buffer,n*R*X,n),Q=u.maxValues[R]):K=null,A=l.byteLength-d.ptr,h={},z=0,C=(W=new DataView(l,d.ptr,Math.min(10,A))).getUint8(0),z++,L=u.fileVersion>=5?4&C:0,I=C>>6&255,(C>>2&U)!==(H*i>>3&U))throw"integrity issue";if(L&&0===R)throw"integrity issue";if((p=3&C)>3)throw d.ptr+=z,"Invalid block encoding ("+p+")";if(2!==p)if(0===p){if(L)throw"integrity issue";if(d.counter.uncompressed++,d.ptr+=z,B=(B=Y*g*X)<(v=l.byteLength-d.ptr)?B:v,e=new ArrayBuffer(B%X==0?B:B+X-B%X),new Uint8Array(e).set(new Uint8Array(l,d.ptr,B)),o=new b(e),M=0,f)for(r=0;r<Y;r++){for(x=0;x<g;x++)f[J]&&(P[J]=o[M++]),J++;J+=F}else for(r=0;r<Y;r++){for(x=0;x<g;x++)P[J++]=o[M++];J+=F}d.ptr+=M*X}else if(y=t.getDataTypeUsed(L&&a<6?4:a,I),V=t.getOnePixel(h,z,y,W),z+=t.getDataTypeSize(y),3===p)if(d.ptr+=z,d.counter.constantoffset++,f)for(r=0;r<Y;r++){for(x=0;x<g;x++)f[J]&&(P[J]=L?Math.min(Q,K[J]+V):V),J++;J+=F}else for(r=0;r<Y;r++){for(x=0;x<g;x++)P[J]=L?Math.min(Q,K[J]+V):V,J++;J+=F}else if(d.ptr+=z,t.decodeBits(l,d,T,V,R),z=0,L)if(f)for(r=0;r<Y;r++){for(x=0;x<g;x++)f[J]&&(P[J]=T[z++]+K[J]),J++;J+=F}else for(r=0;r<Y;r++){for(x=0;x<g;x++)P[J]=T[z++]+K[J],J++;J+=F}else if(f)for(r=0;r<Y;r++){for(x=0;x<g;x++)f[J]&&(P[J]=T[z++]),J++;J+=F}else for(r=0;r<Y;r++){for(x=0;x<g;x++)P[J++]=T[z++];J+=F}else{if(L)if(f)for(r=0;r<Y;r++)for(x=0;x<g;x++)f[J]&&(P[J]=K[J]),J++;else for(r=0;r<Y;r++)for(x=0;x<g;x++)P[J]=K[J],J++;d.counter.constant++,d.ptr+=z}}N>1&&!c&&(d.pixels.resultPixels=t.swapDimensionOrder(d.pixels.resultPixels,n,N,b))},formatFileInfo:function(l){return{fileIdentifierString:l.headerInfo.fileIdentifierString,fileVersion:l.headerInfo.fileVersion,imageType:l.headerInfo.imageType,height:l.headerInfo.height,width:l.headerInfo.width,numValidPixel:l.headerInfo.numValidPixel,microBlockSize:l.headerInfo.microBlockSize,blobSize:l.headerInfo.blobSize,maxZError:l.headerInfo.maxZError,pixelType:t.getPixelType(l.headerInfo.imageType),eofOffset:l.eofOffset,mask:l.mask?{numBytes:l.mask.numBytes}:null,pixels:{numBlocksX:l.pixels.numBlocksX,numBlocksY:l.pixels.numBlocksY,maxValue:l.headerInfo.zMax,minValue:l.headerInfo.zMin,noDataValue:l.noDataValue}}},constructConstantSurface:function(l,d){var b=l.headerInfo.zMax,c=l.headerInfo.zMin,u=l.headerInfo.maxValues,Z=l.headerInfo.numDims,t=l.headerInfo.height*l.headerInfo.width,m=0,n=0,i=0,a=l.pixels.resultMask,X=l.pixels.resultPixels;if(a)if(Z>1){if(d)for(m=0;m<Z;m++)for(i=m*t,b=u[m],n=0;n<t;n++)a[n]&&(X[i+n]=b);else for(n=0;n<t;n++)if(a[n])for(i=n*Z,m=0;m<Z;m++)X[i+Z]=u[m]}else for(n=0;n<t;n++)a[n]&&(X[n]=b);else if(Z>1&&c!==b)if(d)for(m=0;m<Z;m++)for(i=m*t,b=u[m],n=0;n<t;n++)X[i+n]=b;else for(n=0;n<t;n++)for(i=n*Z,m=0;m<Z;m++)X[i+m]=u[m];else for(n=0;n<t*Z;n++)X[n]=b},getDataTypeArray:function(l){var d;switch(l){case 0:d=Int8Array;break;case 1:d=Uint8Array;break;case 2:d=Int16Array;break;case 3:d=Uint16Array;break;case 4:d=Int32Array;break;case 5:d=Uint32Array;break;case 6:default:d=Float32Array;break;case 7:d=Float64Array}return d},getPixelType:function(l){var d;switch(l){case 0:d="S8";break;case 1:d="U8";break;case 2:d="S16";break;case 3:d="U16";break;case 4:d="S32";break;case 5:d="U32";break;case 6:default:d="F32";break;case 7:d="F64"}return d},isValidPixelValue:function(l,d){if(null==d)return!1;var b;switch(l){case 0:b=d>=-128&&d<=127;break;case 1:b=d>=0&&d<=255;break;case 2:b=d>=-32768&&d<=32767;break;case 3:b=d>=0&&d<=65536;break;case 4:b=d>=-2147483648&&d<=2147483647;break;case 5:b=d>=0&&d<=4294967296;break;case 6:b=d>=-34027999387901484e22&&d<=34027999387901484e22;break;case 7:b=d>=-17976931348623157e292&&d<=17976931348623157e292;break;default:b=!1}return b},getDataTypeSize:function(l){var d=0;switch(l){case 0:case 1:d=1;break;case 2:case 3:d=2;break;case 4:case 5:case 6:d=4;break;case 7:d=8;break;default:d=l}return d},getDataTypeUsed:function(l,d){var b=l;switch(l){case 2:case 4:b=l-d;break;case 3:case 5:b=l-2*d;break;case 6:b=0===d?l:1===d?2:1;break;case 7:b=0===d?l:l-2*d+1;break;default:b=l}return b},getOnePixel:function(l,d,b,c){var u=0;switch(b){case 0:u=c.getInt8(d);break;case 1:u=c.getUint8(d);break;case 2:u=c.getInt16(d,!0);break;case 3:u=c.getUint16(d,!0);break;case 4:u=c.getInt32(d,!0);break;case 5:u=c.getUInt32(d,!0);break;case 6:u=c.getFloat32(d,!0);break;case 7:u=c.getFloat64(d,!0);break;default:throw"the decoder does not understand this pixel type"}return u},swapDimensionOrder:function(l,d,b,c,u){var Z=0,t=0,m=0,n=0,i=l;if(b>1)if(i=new c(d*b),u)for(Z=0;Z<d;Z++)for(n=Z,m=0;m<b;m++,n+=d)i[n]=l[t++];else for(Z=0;Z<d;Z++)for(n=Z,m=0;m<b;m++,n+=d)i[t++]=l[n];return i}},m=function(l,d,b){this.val=l,this.left=d,this.right=b},n={decode:function(l,d){var b=(d=d||{}).noDataValue,c=0,u={};if(u.ptr=d.inputOffset||0,u.pixels={},t.readHeaderInfo(l,u)){var Z=u.headerInfo,m=Z.fileVersion,n=t.getDataTypeArray(Z.imageType);if(m>5)throw"unsupported lerc version 2."+m;t.readMask(l,u),Z.numValidPixel===Z.width*Z.height||u.pixels.resultMask||(u.pixels.resultMask=d.maskData);var i=Z.width*Z.height;u.pixels.resultPixels=new n(i*Z.numDims),u.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var a,X=!d.returnPixelInterleavedDims;if(0!==Z.numValidPixel)if(Z.zMax===Z.zMin)t.constructConstantSurface(u,X);else if(m>=4&&t.checkMinMaxRanges(l,u))t.constructConstantSurface(u,X);else{var s=new DataView(l,u.ptr,2),G=s.getUint8(0);if(u.ptr++,G)t.readDataOneSweep(l,u,n,X);else if(m>1&&Z.imageType<=1&&Math.abs(Z.maxZError-.5)<1e-5){var W=s.getUint8(1);if(u.ptr++,u.encodeMode=W,W>2||m<4&&W>1)throw"Invalid Huffman flag "+W;W?t.readHuffman(l,u,n,X):t.readTiles(l,u,n,X)}else t.readTiles(l,u,n,X)}u.eofOffset=u.ptr,d.inputOffset?(a=u.headerInfo.blobSize+d.inputOffset-u.ptr,Math.abs(a)>=1&&(u.eofOffset=d.inputOffset+u.headerInfo.blobSize)):(a=u.headerInfo.blobSize-u.ptr,Math.abs(a)>=1&&(u.eofOffset=u.headerInfo.blobSize));var h={width:Z.width,height:Z.height,pixelData:u.pixels.resultPixels,minValue:Z.zMin,maxValue:Z.zMax,validPixelCount:Z.numValidPixel,dimCount:Z.numDims,dimStats:{minValues:Z.minValues,maxValues:Z.maxValues},maskData:u.pixels.resultMask};if(u.pixels.resultMask&&t.isValidPixelValue(Z.imageType,b)){var e=u.pixels.resultMask;for(c=0;c<i;c++)e[c]||(h.pixelData[c]=b);h.noDataValue=b}return u.noDataValue=b,d.returnFileInfo&&(h.fileInfo=t.formatFileInfo(u)),h}},getBandCount:function(l){for(var d=0,b=0,c={ptr:0,pixels:{}};b<l.byteLength-58;)t.readHeaderInfo(l,c),b+=c.headerInfo.blobSize,d++,c.ptr=b;return d}};return n}(),Z=(d=new ArrayBuffer(4),b=new Uint8Array(d),new Uint32Array(d)[0]=1,1===b[0]),t={decode:function(l,d){if(!Z)throw"Big endian system is not supported.";var b,t,m=(d=d||{}).inputOffset||0,n=new Uint8Array(l,m,10),i=String.fromCharCode.apply(null,n);if("CntZImage"===i.trim())b=c,t=1;else{if("Lerc2"!==i.substring(0,5))throw"Unexpected file identifier string: "+i;b=u,t=2}for(var a,X,s,G,W,h,e=0,o=l.byteLength-10,p=[],y={width:0,height:0,pixels:[],pixelType:d.pixelType,mask:null,statistics:[]},V=0;m<o;){var R=b.decode(l,{inputOffset:m,encodedMaskData:a,maskData:s,returnMask:0===e,returnEncodedMask:0===e,returnFileInfo:!0,returnPixelInterleavedDims:d.returnPixelInterleavedDims,pixelType:d.pixelType||null,noDataValue:d.noDataValue||null});m=R.fileInfo.eofOffset,s=R.maskData,0===e&&(a=R.encodedMaskData,y.width=R.width,y.height=R.height,y.dimCount=R.dimCount||1,y.pixelType=R.pixelType||R.fileInfo.pixelType,y.mask=s),t>1&&(s&&p.push(s),R.fileInfo.mask&&R.fileInfo.mask.numBytes>0&&V++),e++,y.pixels.push(R.pixelData),y.statistics.push({minValue:R.minValue,maxValue:R.maxValue,noDataValue:R.noDataValue,dimStats:R.dimStats})}if(t>1&&V>1){for(h=y.width*y.height,y.bandMasks=p,(s=new Uint8Array(h)).set(p[0]),G=1;G<p.length;G++)for(X=p[G],W=0;W<h;W++)s[W]=s[W]&X[W];y.maskData=s}return y}};l.exports?l.exports=t:this.Lerc=t}()}({get exports(){return TV},set exports(l){TV=l}});const fV={env:{emscripten_notify_memory_growth:function(l){NV=new Uint8Array(wV.exports.memory.buffer)}}};const PV="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",UV=new class{init(){return kV||(kV="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+PV).then((l=>l.arrayBuffer())).then((l=>WebAssembly.instantiate(l,fV))).then(this._init):WebAssembly.instantiate(Buffer.from(PV,"base64"),fV).then(this._init),kV)}_init(l){wV=l.instance,fV.env.emscripten_notify_memory_growth(0)}decode(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!wV)throw new Error("ZSTDDecoder: Await .init() before decoding.");const b=l.byteLength,c=wV.exports.malloc(b);NV.set(l,c),d=d||Number(wV.exports.ZSTD_findDecompressedSize(c,b));const u=wV.exports.malloc(d),Z=wV.exports.ZSTD_decompress(u,d,c,b),t=NV.slice(u,u+Z);return wV.exports.free(c),wV.exports.free(u),t}};var QV=Object.freeze({__proto__:null,default:class extends ut{constructor(l){super(),this.planarConfiguration=void 0!==l.PlanarConfiguration?l.PlanarConfiguration:1,this.samplesPerPixel=void 0!==l.SamplesPerPixel?l.SamplesPerPixel:1,this.addCompression=l.LercParameters[vZ]}decodeBlock(l){switch(this.addCompression){case MZ:break;case zZ:l=vV(new Uint8Array(l)).buffer;break;case TZ:l=UV.decode(new Uint8Array(l)).buffer;break;default:throw new Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`)}return TV.decode(l,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}},zstd:UV});var EV=Object.freeze({__proto__:null,default:class extends ut{constructor(){if(super(),"undefined"==typeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"==typeof document&&"undefined"==typeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available")}async decode(l,d){const b=new Blob([d]),c=await createImageBitmap(b);let u;"undefined"!=typeof document?(u=document.createElement("canvas"),u.width=c.width,u.height=c.height):u=new OffscreenCanvas(c.width,c.height);const Z=u.getContext("2d");return Z.drawImage(c,0,0),Z.getImageData(0,0,c.width,c.height).data.buffer}}}),jV={};!function(l,d){var b=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==gl)return gl;throw new Error("unable to locate global object")}();l.exports=d=b.fetch,b.fetch&&(d.default=b.fetch.bind(b)),d.Headers=b.Headers,d.Request=b.Request,d.Response=b.Response}({get exports(){return jV},set exports(l){jV=l}},jV);var DV=c({__proto__:null,default:jV},[jV]);l.bufferMultiPolygon=function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Sl(l))return null;let c=Vl(b,"units","");return Hl(c)||(c="degrees"),l=Lc(l=Vc(l,b)),l=jl.helpers.multiPolygon(l),Sc(jl.buffer(l,d,{units:c}))},l.buildFindPointInGeojson=function(){let l=!1,d=null;return{init:async function(b){d=gc(b,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),l=!0},isInit:function(){return l},getPoint:async function(b){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l)throw new Error("no init");return Uc(b,d,c)}}},l.buildFindPointInKpBoxPolygons=function(){let l={};return{add:function(d,b){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Hl(d))throw new Error("name is not an effectiv string");let u=Vl(c,"toTurfMultiPolygon");if(Oc(u)||(u=!0),Pl(l,d))throw new Error("name has existed");u&&(Sl(b)&&(b=Vc(b,c)),b=jl.helpers.multiPolygon(b));let Z=jl.bbox(b);l[d]={box:{xmin:Z[0],xmax:Z[2],ymin:Z[1],ymax:Z[3]},pgs:b}},getPoint:async function(d){return _c(d,l,$c($c({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{},{toTurfMultiPolygon:!1}))}}},l.buildFindPointInKpPolygons=function(){let l=!1,d=null;return{init:async function(b){d=b,l=!0},isInit:function(){return l},getPoint:async function(b){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l)throw new Error("no init");return lu(b,d,c)}}},l.buildFindPointInTif=function(){let l=!1,d=null,b=null,c=null,u=null,Z=null;return{init:async function(t){let m=Vl(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"type",""),n=async l=>await Gt(l),i=async l=>await Wt(l),a=async l=>{let d=l.buffer;return await Gt(d)},X=null;if(Hl(m))if("ab"===m)X=await n(t);else if("u8a"===m)X=await a(t);else{if("blob"!==m)throw new Error(`invalid type[${m}]`);X=await i(t)}else if(s=t,"[object ArrayBuffer]"===Object.prototype.toString.call(s))X=await n(t);else if(function(l){return"[object Uint8Array]"===Object.prototype.toString.call(l)}(t))X=await a(t);else{if(!function(l){return"[object Blob]"===Object.prototype.toString.call(l)}(t))throw new Error("inp is not an ArrayBuffer or a Blob");X=await i(t)}var s;Z=await X.getImage(),d=Z.getWidth(),b=Z.getHeight(),c=Z.getOrigin(),u=Z.getResolution(),l=!0},isInit:function(){return l},getPoint:async function(t){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!l)throw new Error("no init");let n=Pc(t,m);if(!fc(n))throw new Error("p need to be [x,y] or {x,y}");let i=Vl(n,"x","");if(!fl(i))throw new Error("p[0] or p.x is not an effective number");i=Nc(i);let a=Vl(n,"y","");if(!fl(a))throw new Error("p[1] or p.y is not an effective number");a=Nc(a);let X=Vl(m,"def","");Hl(X)||(X="unknow");let s=i-c[0],G=a-c[1],W=s/u[0],h=G/u[1],e=Zu(W),o=Zu(h);if(e<0||o<0||e>d-1||o>b-1)return X;let p=X,y=Vl(await Z.readRasters({window:[e,o,e+1,o+1]}),"0.0","");return fl(y)&&(p=Nc(y)),p}}},l.calcContours=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Sl(l))return{err:"points is not an effective array"};let b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyY");Hl(c)||(c="y");let u=Vl(d,"keyZ");Hl(u)||(u="z");let Z=Vl(d,"withStyle");Oc(Z)||(Z=!1);let t=Vl(d,"returnGeojson");Oc(t)||(t=!1);let m=Vl(d,"inverseCoordinate");Oc(m)||(m=!1),l=MX(l,UX(UX({},d),{},{returnObjArray:!1}));let n=Vl(d,"containInner",null),i=Vl(d,"clipInner",null),a=Vl(d,"clipOuter",null),X=Vl(d,"thresholds",null),s=Sl(X),G=l[0][2],W=l[0][2];for(let d=1;d<pc(l);d++){let b=l[d][2];G>b&&(G=b),W<b&&(W=b)}let h=QX(l,X);if(!Sl(h))return console.log("points",l),console.log("thresholds",X),{err:"can not calculate contours"};let e=qb(h,((l,d)=>({sepZone:Vl(l,"sepZone",""),latLngs:l.coordinates,level:l.value,effectArea:zX(l.coordinates),effectAreaCentroid:TX(l.coordinates)})));if(!s){let l=qb(e,"level"),d=ot(l),b=yt(l);if(b<W&&(console.log("非預期: pmax < valueMax",b<W,b,W),e.push({mode:"virtualEnd",sepZone:"",latLngs:[],level:W,effectArea:0,effectAreaCentroid:null})),d>G){console.log("非預期: pmin > valueMin",d>G,d,G),e=[{mode:"virtualStart",sepZone:"",latLngs:[],level:G,effectArea:0,effectAreaCentroid:null},...e]}}s||rc(e,((l,d)=>{l.level=Math.min(l.level,W),l.level=Math.max(l.level,G)}));let o=[];for(let l=0;l<=e.length-2;l++){let d=e[l],b=e[l+1],c=d.latLngs,u=b.latLngs,Z={text:`${e[l].level} - ${e[l+1].level}`,low:e[l].level,up:e[l+1].level},t=[];if("virtualStart"===d.mode)t=u;else if("top"===b.sepZone)t=c;else try{t=kX(c,u)}catch(l){throw console.log("latLngs0",c),console.log("latLngs1",u),new Error(l)}let m=Hm(d);delete m.level;let n=UX(UX({},m),{},{sepZone:Vl(b,"sepZone",""),latLngs:t,range:Z});o.push(n)}{let l=[];rc(o,((d,b)=>{let c=null;c=Sl(n)?wX(d.latLngs,n):d.latLngs,pc(c)>0&&l.push(UX(UX({},d),{},{latLngs:c}))})),o=l}{let l=[];rc(o,((d,b)=>{let c=null;if(Sl(i))try{c=kX(d.latLngs,i)}catch(l){throw console.log("polygonSet.latLngs",d.latLngs),console.log("clipInner",i),new Error(l)}else c=d.latLngs;pc(c)>0&&l.push(UX(UX({},d),{},{latLngs:c}))})),o=l}{let l=[];rc(o,(d=>{let b=null;b=Sl(a)?wX(d.latLngs,a):d.latLngs,pc(b)>0&&l.push(UX(UX({},d),{},{latLngs:b}))})),o=l}{let l=0,d=null,b=null;if(rc(o,((c,u)=>{l<c.effectArea&&(d=u,l=c.effectArea,b=c.effectAreaCentroid)})),null===d)return console.log("polygonSets",o),{err:"can not calculate centroid of contour"};rc(o,((l,d)=>{o[d].center=b}))}if(Z||t){let l=Vl(d,"kpGradientColor",null);fc(l)||(l={0:"rgb(255, 255, 255)",.2:"rgb(254, 178, 76)",.4:"rgb(252, 78, 42)",.6:"rgb(220, 58, 38)",.8:"rgb(200, 40, 23)",1:"rgb(180, 30, 60)"});let b=Vl(d,"funGetFillColor",null);if(!Ym(b)){let d=Li.interp(l);b=(l,b)=>{let c="";return c=d(b>0?l/b:1),c}}let c=Vl(d,"fillOpacity",null);gm(c)||(c=.2),c=Nc(c);let u=Vl(d,"lineColor",null);Hl(u)||(u="");let Z=Vl(d,"funGetLineColor",null),t=Vl(d,"lineOpacity",null);gm(t)||(t=1),t=Nc(t);let m=Vl(d,"lineWidth",null);gm(m)||(m=1),m=Nc(m);let n=o.length-1;o=qb(o,((l,d)=>{let i=b(d,n),a="";a=Ym(Z)?Z(d,n):Hl(u)?u:i;let X={color:a,weight:m,fillColor:i,fillOpacity:c,stroke:a,"stroke-width":m,"stroke-opacity":t,fill:i,"fill-opacity":c};return UX(UX({},l),{},{style:X})}))}let p=o;if(t){p={type:"FeatureCollection",features:qb(o,(l=>{let d=l.latLngs;return m&&(d=fX(l.latLngs)),{type:"Feature",properties:{range:l.range.text,style:l.style},geometry:{type:"MultiPolygon",coordinates:d}}}))}}return p},l.calcDelaunay=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Sl(l))return{err:"points is not an effective array"};let b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyY");Hl(c)||(c="y");let u=Vl(d,"withFinder");Oc(u)||(u=!1);let Z=Vl(d,"withInst");Oc(Z)||(Z=!1);let t=Hm(l);if(0===pc(l=EX(l,{keyX:b,keyY:c,keyInd:"ind"})))return{err:"points has no effective data"};let m=la.from(l,(l=>l.x),(l=>l.y)),n=[];for(let d=0;d<pc(l);d++){let l=m.triangles[3*d+0],b=m.triangles[3*d+1],c=m.triangles[3*d+2];n.push({n0:l,n1:b,n2:c})}let i=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!fc(l))throw new Error(`p[${l}] is not an effective object`);let b=Vl(l,"x");if(!fl(b))throw new Error(`x[${b}] is not a number`);let c=Vl(l,"y");if(!fl(c))throw new Error(`y[${c}] is not a number`);let u=Vl(d,"returnPoint");Oc(u)||(u=!1);let Z=m.find(b,c);return u&&(Z=Vl(t,Z)),Z},a={triangles:n};return u&&(a.funFindIn=i),Z&&(a.inst=m),a},l.calcVoronoi=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Sl(l))return{err:"points is not an effective array"};let b=Vl(d,"keyX");Hl(b)||(b="x");let c=Vl(d,"keyY");Hl(c)||(c="y");let u=Vl(d,"scaleBox");fl(u)||(u=1.1),u=Nc(u);let Z=Vl(d,"box",{}),t=Vl(Z,"xb0",""),m=Vl(Z,"yb0",""),n=Vl(Z,"xb1",""),i=Vl(Z,"yb1","");if(fc(Z)){if(!fl(t))throw new Error(`xb0[${t}] is not a number`);if(!fl(m))throw new Error(`yb0[${m}] is not a number`);if(!fl(n))throw new Error(`xb1[${n}] is not a number`);if(!fl(i))throw new Error(`yb1[${i}] is not a number`)}let a=Vl(d,"withFinder");Oc(a)||(a=!1);let X=Vl(d,"withInst");Oc(X)||(X=!1);let s=Hm(l);if(0===pc(l=EX(l,{keyX:b,keyY:c,keyInd:"ind"})))return{err:"points has no effective data"};let G=d=>{let b=qb(l,d);return{min:ot(b),max:yt(b)}},W=G("x"),h=W.min,e=W.max,o=(h+e)/2,p=e-h,y=G("y"),V=y.min,R=y.max,L=(V+R)/2,K=R-V;fc(Z)||(t=o-p/2*u,n=o+p/2*u,m=L-K/2*u,i=L+K/2*u);let r=la.from(l,(l=>l.x),(l=>l.y)),x=[t,m,n,i],S=r.voronoi(x),H=[];{let l=-1;for(;;){l++;let d=S.cellPolygon(l);if(!fl(Vl(d,"0.0")))break;H.push(d)}}let Y=[];{let l={};rc(H,(d=>{rc(d,(d=>{let b=d[0],c=d[1];l[`${b}:${c}`]={x:b,y:c}}))})),Y=jX(l)}let g={};rc(Y,((l,d)=>{let b=`${l.x}:${l.y}`;g[b]=d}));let A=[];rc(H,(l=>{let d=[];rc(l,(l=>{let b=l[0],c=l[1],u=g[`${b}:${c}`];d.push(u)})),A.push(d)}));let C=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!fc(l))throw new Error(`p[${l}] is not an effective object`);let b=Vl(l,"x");if(!fl(b))throw new Error(`x[${b}] is not a number`);let c=Vl(l,"y");if(!fl(c))throw new Error(`y[${c}] is not a number`);let u=Vl(d,"returnPoint");Oc(u)||(u=!1);let Z=r.find(b,c);return u&&(Z=Vl(s,Z)),Z},I={nodes:Y,polygons:A};return a&&(I.funFindIn=C),X&&(I.inst=S),I},l.clipMultiPolygon=kX,l.clipPolygon=function(l,d){let b=Vl(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"epsilon",1e-12);return Sl(l)&&Sl(d)?(l=Gs(l),d=Gs(d),Xs.epsilon(b),Vl(Xs.difference({regions:l},{regions:d}),"regions",[])):null},l.convertCoordinate=function(l,d,b){if(!Sl(b)&&2!==pc(b))throw new Error("ps is not an array(length=2)");let c={TWD97:"EPSG:3824",TWD97TM2:"EPSG:3826",TWD67:"EPSG:3821",TWD67TM2:"EPSG:3828","TWD97:121":"EPSG:3824","TWD97TM2:121":"EPSG:3826","TWD67:121":"EPSG:3821","TWD67TM2:121":"EPSG:3828","TWD97TM2:119":"EPSG:3825","TWD67TM2:119":"EPSG:3827",UTMTM6:"EPSG:3829","UTMTM6:51N":"EPSG:3829",WGS84:"EPSG:4326"};Pl(c,l)&&(l=c[l]),Pl(c,d)&&(d=c[d]);let u=new MG.Proj(l),Z=new MG.Proj(d);return MG(u,Z,b)},l.distilMultiPolygon=Sc,l.findPointInKpBoxPolygons=_c,l.findPointInKpFeature=Uc,l.findPointInKpPolygons=lu,l.fixCloseMultiPolygon=Lc,l.fixGeometryMultiPolygon=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=Vl(d,"w","");fl(b)||(b=.001),b=Nc(b);let c=Vl(d,"units","");Hl(c)||(c="degrees"),l=Hm(l);let u=[];return rc(l,(l=>{let d=function(l){let d=jl.polygon(l);return Sc(jl.buffer(d,b,{units:c}))}(l);rc(d,(l=>{u.push(l)}))})),u=$h(u,le),u},l.fixNoCloseMultiPolygon=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sl(l)?l=qb(l=Vc(l,d),(l=>l=qb(l,(l=>{let d=pc(l)-1;var b,c,u,Z;return Rc(l[0],l[d])&&(l=(Z=null==(b=l)?0:b.length)?Vt(b,0,(c=Z-(c=u||void 0===c?1:du(c)))<0?0:c):[]),l})))):null},l.getAreaMultiPolygon=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Sl(l))return null;l=Vc(l,d);let b=0;return rc(l,(l=>{b+=be(l)})),b},l.getAreaMultiPolygonSm=zX,l.getAreaPolygon=be,l.getAreaRingString=de,l.getBoxPolygon=function(l){let d=ce(l);return jl.bbox(d)},l.getCenterOfMassMultiPolygon=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sl(l)?(l=Vc(l,d),l=jl.helpers.multiPolygon(l),Vl(jl.centerOfMass(l),"geometry.coordinates",[])):null},l.getCentroidMultiPolygon=TX,l.getKpFeatureFromGeojson=gc,l.getPointDepth=yc,l.importTurf=jl,l.interp1=function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Sl(l))return{err:"psSrc is not an effective array"};if(!fl(d)&&!fc(d)&&!Sl(d))return{err:"psTar is not a number or an effective object or array"};let c=fl(d)||fc(d);fl(d)?d=[Nc(d)]:fc(d)&&(d=[d]);let u=Vl(b,"keyX");Hl(u)||(u="x");let Z=Vl(b,"keyY");Hl(Z)||(Z="y");let t=Vl(b,"method");"linear"!==t&&"stairs"!==t&&"blocks"!==t&&(t="linear");let m=Vl(b,"useSync");if(Oc(m)||(m=!1),0===pc(l=EX(l,{keyX:u,keyY:Z,keyInd:"ind"})))return{err:"psSrc has no effective data"};if(l=tn(l,"x"),0===pc(d=Ge(d,{keyX:u,keyInd:"ind"})))return{err:"psTar has no effective data"};let n=()=>{let m,n=se(l,d,he(he({},b),{},{mode:t,keyX:"x",keyY:"y"})),i=[];return rc(d,((l,d)=>{let b=n[d];b=fl(b)?Nc(b):null;let c={[u]:l.x,[Z]:b};i.push(c)})),m=c?i[0]:i,m};return m?n():(async()=>{let l=null;try{l=n();let d=Vl(l,"err");return Hl(d)?Promise.reject(d):l}catch(l){return console.log(l),Promise.reject(l.toString())}})()},l.interp2=function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Vl(b,"method");"naturalNeighbor"!==c&&"kriging"!==c&&(c="naturalNeighbor");let u=Vl(b,"useSync");Oc(u)||(u=!1);let Z=()=>{let u=null;try{"naturalNeighbor"===c?u=Ye(l,d,b):"kriging"===c&&(u=ke(l,d,b))}catch(l){u={err:l.toString()}}return u};return u?Z():(async()=>{let l=null;try{l=Z();let d=Vl(l,"err");return Hl(d)?Promise.reject(d):l}catch(l){return console.log(l),Promise.reject(l.toString())}})()},l.interp2Kriging=ke,l.interp2NaturalNeighbor=Ye,l.interp2Normalize=Se,l.interp3=async function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Sl(l))return{err:"psSrc is not an effective array"};if(!fc(d)&&!Sl(d))return{err:"psTar is not an effective object or array"};let c=fc(d);c&&(d=[d]);let u=Vl(b,"keyX");Hl(u)||(u="x");let Z=Vl(b,"keyY");Hl(Z)||(Z="y");let t=Vl(b,"keyZ");Hl(t)||(t="z");let m=Vl(b,"keyV");if(Hl(m)||(m="v"),0===pc(l=bo(l,{keyX:u,keyY:Z,keyZ:t,keyV:m,keyInd:"ind"})))return{err:"psSrc has no effective data"};if(0===pc(d=MX(d,{keyX:u,keyY:Z,keyZ:t,keyInd:"ind"})))return{err:"psTar has no effective data"};let n=[],i=[];for(let d=0;d<l.length;d++){let b=l[d];n.push([b.x,b.y,b.z]),i.push(b.v)}let a=[];for(let l=0;l<d.length;l++){let b=d[l];a.push([b.x,b.y,b.z])}let X,s=[n,i,a],G=await async function(){let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=Vl(l,"pkgs",[]);Rl(d)||(d=[]);let b=Vl(l,"imps",[]);Rl(b)||(b=[]);let c=Vl(l,"inps",[]);Rl(c)||(c=[]);let u=Vl(l,"content","");await _e(),await lo(d);let Z="";rc(b,(l=>{Z+=l+"\n"}));let t="";rc(c,((l,d)=>{t+=`rIn${d+1} = ${JSON.stringify(l)}\n`}));let m=`\n${Z}\n\n${t}\n\nret = ''\n\n${u}\n\n# print(ret)\n    `;return await De.runPython(m),De.globals.get("ret").toJs()}({pkgs:["scipy"],imps:["from scipy.interpolate import griddata"],inps:s,content:"\nret = griddata(rIn1, rIn2, rIn3, method='linear')\n    "}),W=[];return rc(d,((l,d)=>{let b=G[d];b=fl(b)?Nc(b):null;let c={[u]:l.x,[Z]:l.y,[t]:l.z,[m]:b};W.push(c)})),X=c?W[0]:W,X},l.intersectMultiPolygon=wX,l.intersectPolygon=He,l.invCoordMultiPolygon=fX,l.invCoordPolygon=NX,l.isPointInPolygons=function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Pc(l,b);if(!fc(c))throw new Error("p needs to be [x,y] or {x,y}");let u=Vl(c,"x","");if(!fl(u))throw new Error("p[0] or p.x is not an effective number");u=Nc(u);let Z=Vl(c,"y","");if(!fl(Z))throw new Error("p[1] or p.y is not an effective number");if(Z=Nc(Z),!Sl(d))return!1;let t=Vl(b,"toTurfMultiPolygon");return Oc(t)||(t=!0),l=jl.point([u,Z]),!!Sl(d)&&(t&&(d=Vc(d,b),d=jl.helpers.multiPolygon(d)),jl.booleanPointInPolygon(l,d))},l.kriging=ge,l.maskMultiPolygon=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sl(l)?(l=Vc(l,d),l=jl.helpers.multiPolygon(l),Sc(jl.mask(l))):null},l.normalizeArray=xe,l.parseGeometryCollection=xc,l.ptXYtoObj=Pc,l.ptsXYZVtoArr=bo,l.ptsXYZtoArr=MX,l.ptsXYtoArr=EX,l.ptsXtoArr=Ge,l.simplifyMultiPolygon=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Sl(l))return null;let b=Vl(d,"tolerance");fl(b)||(b=.005),b=Nc(b);let c=Vl(d,"highQuality");Oc(c)||(c=!0),l=Vc(l,d),l=jl.helpers.multiPolygon(l);let u=jl.simplify(l,{tolerance:b,highQuality:c});return u=Vl(u,"geometry.coordinates",[]),u},l.splineMultiPolygon=function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l=qb(l=Hm(l),(l=>function(l){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return qb(l=Hm(l),((l,b)=>{let c=jl.helpers.lineString(l);return Vl(jl.bezierSpline(c,d),"geometry.coordinates")}))}(l,d))),l},l.toMultiPoint=ce,l.toMultiPolygon=Vc,l.toPolygon=Gs,l.unionMultiPolygon=function(l,d){let b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Sl(l)&&Sl(d)?(l=Vc(l,b),d=Vc(d,b),l=jl.helpers.multiPolygon(l),d=jl.helpers.multiPolygon(d),Sc(jl.union(l,d))):null},l.unionPolygon=function(l,d){let b=Vl(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"epsilon",1e-12);return Sl(l)&&Sl(d)?(l=Gs(l),d=Gs(d),Xs.epsilon(b),Vl(Xs.union({regions:l},{regions:d}),"regions",[])):null}}));
//# sourceMappingURL=w-gis.umd.js.map
