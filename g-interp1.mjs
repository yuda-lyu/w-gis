import interp1 from './src/interp1.mjs'


async function test() {

    let ps
    let p
    let r

    ps = [{ x: 243, y: 206 }, { x: 233, y: 225 }, { x: 21, y: 325 }, { x: 953, y: 28 }, { x: 1092, y: 290 }, { x: 744, y: 200 }, { x: 174, y: 3 }, { x: 537, y: 368 }, { x: 1151, y: 371 }, { x: 814, y: 252 }]
    p = {
        x: 243,
    }
    r = await interp1(ps, p)
    console.log(r)
    // => { x: 243, y: 206 }

    ps = [{ x: 243, y: 206 }, { x: 233, y: 225 }, { x: 21, y: 325 }, { x: 953, y: 28 }, { x: 1092, y: 290 }, { x: 744, y: 200 }, { x: 174, y: 3 }, { x: 537, y: 368 }, { x: 1151, y: 371 }, { x: 814, y: 252 }]
    p = {
        x: 283,
    }
    r = await interp1(ps, p)
    console.log(r)
    // => { x: 283, y: 228.0408163265306 }

    ps = [{ x: 243, y: 206 }, { x: 233, y: 225 }, { x: 21, y: 325 }, { x: 953, y: 28 }, { x: 1092, y: 290 }, { x: 744, y: 200 }, { x: 174, y: 3 }, { x: 537, y: 368 }, { x: 1151, y: 371 }, { x: 814, y: 252 }]
    p = {
        x: 1160,
    }
    r = await interp1(ps, p)
    console.log(r)
    // => { x: 1160, y: null }

    ps = [{ a: 243, b: 206 }, { a: 233, b: 225 }, { a: 21, b: 325 }, { a: 953, b: 28 }, { a: 1092, b: 290 }, { a: 744, b: 200 }, { a: 174, b: 3 }, { a: 537, b: 368 }, { a: 1151, b: 371 }, { a: 814, b: 252 }]
    p = {
        a: 243,
    }
    r = await interp1(ps, p, { keyX: 'a', keyY: 'b' })
    console.log(r)
    // => { a: 243, b: 206 }

    ps = [{ x: 243, y: 206 }, { x: 233, y: 225 }, { x: 21, y: 325 }, { x: 953, y: 28 }, { x: 1092, y: 290 }, { x: 744, y: 200 }, { x: 174, y: 3 }, { x: 537, y: 368 }, { x: 1151, y: 371 }, { x: 814, y: 252 }]
    p = [
        {
            x: 243,
        },
        {
            x: 283,
        },
    ]
    r = await interp1(ps, p)
    console.log(r)
    // => [ { x: 243, y: 206 }, { x: 283, y: 228.0408163265306 } ]

    ps = [{ x: 0.000243, y: 0.000206 }, { x: 0.000233, y: 0.000225 }, { x: 0.000021, y: 0.000325 }, { x: 0.000953, y: 0.000028 }, { x: 0.001092, y: 0.00029 }, { x: 0.000744, y: 0.000200 }, { x: 0.000174, y: 0.000003 }, { x: 0.000537, y: 0.000368 }, { x: 0.001151, y: 0.000371 }, { x: 0.000814, y: 0.000252 }]
    p = {
        x: 0.000243,
    }
    r = await interp1(ps, p)
    console.log(r)
    // => { x: 0.000243, y: 0.00020600000000000002 }

    ps = [{ x: 243, y: 206 }, { x: 233, y: 225 }, { x: 21, y: 325 }, { x: 953, y: 28 }, { x: 1092, y: 290 }, { x: 744, y: 200 }, { x: 174, y: 3 }, { x: 537, y: 368 }, { x: 1151, y: 371 }, { x: 814, y: 252 }]
    p = {
        x: 243,
    }
    r = interp1(ps, p, { useSync: true }) //使用interp2.wk.umd.js則不支援sync模式
    console.log(r)
    // => { x: 243, y: 206 }

}
test()
    .catch((err) => {
        console.log(err)
    })


//node --experimental-modules g-interp1.mjs
